<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="23">
  <HTTPTask id="2557" hostname="www.cnmooc.org" path="http://www.cnmooc.org/js/umeditor/editor.min.js?dcd1e635ed" url="http://www.cnmooc.org/js/umeditor/editor.min.js?dcd1e635ed" ip="180.76.151.202" port="80" connectionId="27" origin="Primary" frame="1" startDateTime="2018-07-24T16:05:48.917+08:00" startTime="161491468" endTime="161491468">
    <QueryString>
      <HTTPDataSet>
        <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
          <ActualData>ZGNkMWU2MzVlZA==</ActualData>
        </HTTPData>
      </HTTPDataSet>
      <IsExternalData>false</IsExternalData>
    </QueryString>
    <HTTPSplittedQueryStrings>
      <HTTPHeaderEntity name="" index="0">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>ZGNkMWU2MzVlZA==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
    </HTTPSplittedQueryStrings>
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL3d3dy5jbm1vb2Mub3JnL2hvbWUvaW5kZXgubW9vYw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>emgtSGFucy1DTix6aC1IYW5zO3E9MC44LGVuLVVTO3E9MC41LGVuO3E9MC4z</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzUxLjAuMjcwNC43OSBTYWZhcmkvNTM3LjM2IEVkZ2UvMTQuMTQzOTM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MTEtSnVsLTIwNjggMDg6MDU6NDAgR01UOyBKU0VTU0lPTklEPUY3MzYzQ0FGRDFCNzM5MDVCMDFCNThFQkJGOURERjVGLnRvbWNhdC1ob3N0MS0yOyBCRUM9ZjZjNDJjMjRkMGM3NmU3YWNlYTI0Mjc5MWFiODdlMzR8MTUzMjQxOTUzNnwxNTMyNDE5NTM2</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>d3d3LmNubW9vYy5vcmc=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIGh0dHA6Ly93d3cuY25tb29jLm9yZy9qcy91bWVkaXRvci9lZGl0b3IubWluLmpzP2RjZDFlNjM1ZWQgSFRUUC8xLjENCkFjY2VwdDogYXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44DQpSZWZlcmVyOiBodHRwOi8vd3d3LmNubW9vYy5vcmcvaG9tZS9pbmRleC5tb29jDQpBY2NlcHQtTGFuZ3VhZ2U6IHpoLUhhbnMtQ04semgtSGFucztxPTAuOCxlbi1VUztxPTAuNSxlbjtxPTAuMw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzUxLjAuMjcwNC43OSBTYWZhcmkvNTM3LjM2IEVkZ2UvMTQuMTQzOTMNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZQ0KQ29va2llOiAxMS1KdWwtMjA2OCAwODowNTo0MCBHTVQ7IEpTRVNTSU9OSUQ9RjczNjNDQUZEMUI3MzkwNUIwMUI1OEVCQkY5RERGNUYudG9tY2F0LWhvc3QxLTI7IEJFQz1mNmM0MmMyNGQwYzc2ZTdhY2VhMjQyNzkxYWI4N2UzNHwxNTMyNDE5NTM2fDE1MzI0MTk1MzYNCkhvc3Q6IHd3dy5jbm1vb2Mub3JnDQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="11-Jul-2068 08:05:40 GMT; JSESSIONID" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>RjczNjNDQUZEMUI3MzkwNUIwMUI1OEVCQkY5RERGNUYudG9tY2F0LWhvc3QxLTI=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="BEC" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZjZjNDJjMjRkMGM3NmU3YWNlYTI0Mjc5MWFiODdlMzR8MTUzMjQxOTUzNnwxNTMyNDE5NTM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>254357</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Server" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QkxCLw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAyNCBKdWwgMjAxOCAwODowNTozOSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MjU0MzU3</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW9uLCAyMyBKdWwgMjAxOCAxMDo0Nzo0MiBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjViNTViMjRlLTNlMTk1Ig==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAyMyBBdWcgMjAxOCAwODowNTo0MyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0yNTkyMDAw</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Frame-Options" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U0FNRU9SSUdJTg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Set-Cookie" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QkVDPWY2YzQyYzI0ZDBjNzZlN2FjZWEyNDI3OTFhYjg3ZTM0fDE1MzI0MTk1Mzl8MTUzMjQxOTUzNjtQYXRoPS8=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpTZXJ2ZXI6IEJMQi8NCkRhdGU6IFR1ZSwgMjQgSnVsIDIwMTggMDg6MDU6MzkgR01UDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQNCkNvbnRlbnQtTGVuZ3RoOiAyNTQzNTcNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkxhc3QtTW9kaWZpZWQ6IE1vbiwgMjMgSnVsIDIwMTggMTA6NDc6NDIgR01UDQpFVGFnOiAiNWI1NWIyNGUtM2UxOTUiDQpFeHBpcmVzOiBUaHUsIDIzIEF1ZyAyMDE4IDA4OjA1OjQzIEdNVA0KQ2FjaGUtQ29udHJvbDogbWF4LWFnZT0yNTkyMDAwDQpYLUZyYW1lLU9wdGlvbnM6IFNBTUVPUklHSU4NCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpTZXQtQ29va2llOiBCRUM9ZjZjNDJjMjRkMGM3NmU3YWNlYTI0Mjc5MWFiODdlMzR8MTUzMjQxOTUzOXwxNTMyNDE5NTM2O1BhdGg9Lw0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>KGZ1bmN0aW9uKCl7d2luZG93LlVNRURJVE9SX0hPTUVfVVJMPUNPTlRFWFRQQVRIKyIvanMvdW1lZGl0b3IvIjt2YXIgVVJMPXdpbmRvdy5VTUVESVRPUl9IT01FX1VSTDt3aW5kb3cuVU1FRElUT1JfQ09ORklHPXtVTUVESVRPUl9IT01FX1VSTDpVUkwsaW1hZ2VVcmw6Q09OVEVYVFBBVEgrIi91cGxvYWQvdW1lZGl0b3IubW9vYyIsaW1hZ2VQYXRoOiIiLGltYWdlRmllbGROYW1lOiJ1cGZpbGUiLHRvb2xiYXI6WyJ1bmRvIHJlZG8gfCBib2xkIGl0YWxpYyB1bmRlcmxpbmUgc3RyaWtldGhyb3VnaCB8IHN1cGVyc2NyaXB0IHN1YnNjcmlwdCB8IGZvcmVjb2xvciBiYWNrY29sb3IgfCByZW1vdmVmb3JtYXQgfCIsImluc2VydG9yZGVyZWRsaXN0IGluc2VydHVub3JkZXJlZGxpc3QgfCBzZWxlY3RhbGwgY2xlYXJkb2MgcGFyYWdyYXBoIHwgZm9udGZhbWlseSBmb250c2l6ZSIsInwganVzdGlmeWxlZnQganVzdGlmeWNlbnRlciBqdXN0aWZ5cmlnaHQganVzdGlmeWp1c3RpZnkgfCIsImxpbmsgdW5saW5rIHwgZW1vdGlvbiBpbWFnZSIsInwgaG9yaXpvbnRhbCBwcmV2aWV3IiwiZm9ybXVsYSJdLHJldGFpbk9ubHlMYWJlbFBhc3RlZDpmYWxzZSxhdXRvQ2xlYXJFbXB0eU5vZGU6dHJ1ZSxhdXRvSGVpZ2h0RW5hYmxlZDpmYWxzZSxhdXRvRmxvYXRFbmFibGVkOmZhbHNlfX0pKCk7LyohCiAqIFVFZGl0b3IgTWluaeeJiOacrAogKiB2ZXJzaW9uOiAxLjIuMgogKiBidWlsZDogV2VkIE1hciAxOSAyMDE0IDE3OjE0OjI1IEdNVCswODAwICjkuK3lm73moIflh4bml7bpl7QpCiAqLwooZnVuY3Rpb24oJCl7VU1FRElUT1JfQ09ORklHPXdpbmRvdy5VTUVESVRPUl9DT05GSUd8fHt9O3dpbmRvdy5VTT17cGx1Z2luczp7fSxjb21tYW5kczp7fSxJMThOOnt9LHZlcnNpb246IjEuMi4yIn07dmFyIGRvbT1VTS5kb209e307dmFyIGJyb3dzZXI9VU0uYnJvd3Nlcj1mdW5jdGlvbigpe3ZhciBhZ2VudD1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCksb3BlcmE9d2luZG93Lm9wZXJhLGJyb3dzZXI9e2llOi8obXNpZVxzfHRyaWRlbnQuKnJ2OikoW1x3Ll0rKS8udGVzdChhZ2VudCksb3BlcmE6KCEhb3BlcmEmJm9wZXJhLnZlcnNpb24pLHdlYmtpdDooYWdlbnQuaW5kZXhPZigiIGFwcGxld2Via2l0LyIpPi0xKSxtYWM6KGFnZW50LmluZGV4T2YoIm1hY2ludG9zaCIpPi0xKSxxdWlya3M6KGRvY3VtZW50LmNvbXBhdE1vZGU9PSJCYWNrQ29tcGF0Iil9O2Jyb3dzZXIuZ2Vja289KG5hdmlnYXRvci5wcm9kdWN0PT0iR2Vja28iJiYhYnJvd3Nlci53ZWJraXQmJiFicm93c2VyLm9wZXJhJiYhYnJvd3Nlci5pZSk7dmFyIHZlcnNpb249MDtpZihicm93c2VyLmllKXt2YXIgdjE9YWdlbnQubWF0Y2goLyg/Om1zaWVccyhbXHcuXSspKS8pO3ZhciB2Mj1hZ2VudC5tYXRjaCgvKD86dHJpZGVudC4qcnY6KFtcdy5dKykpLyk7aWYodjEmJnYyJiZ2MVsxXSYmdjJbMV0pe3ZlcnNpb249TWF0aC5tYXgodjFbMV0qMSx2MlsxXSoxKX1lbHNle2lmKHYxJiZ2MVsxXSl7dmVyc2lvbj12MVsxXSoxfWVsc2V7aWYodjImJnYyWzFdKXt2ZXJzaW9uPXYyWzFdKjF9ZWxzZXt2ZXJzaW9uPTB9fX1icm93c2VyLmllMTFDb21wYXQ9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPT0xMTticm93c2VyLmllOUNvbXBhdD1kb2N1bWVudC5kb2N1bWVudE1vZGU9PTk7YnJvd3Nlci5pZTg9ISFkb2N1bWVudC5kb2N1bWVudE1vZGU7YnJvd3Nlci5pZThDb21wYXQ9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPT04O2Jyb3dzZXIuaWU3Q29tcGF0PSgodmVyc2lvbj09NyYmIWRvY3VtZW50LmRvY3VtZW50TW9kZSl8fGRvY3VtZW50LmRvY3VtZW50TW9kZT09Nyk7YnJvd3Nlci5pZTZDb21wYXQ9KHZlcnNpb248N3x8YnJvd3Nlci5xdWlya3MpO2Jyb3dzZXIuaWU5YWJvdmU9dmVyc2lvbj44O2Jyb3dzZXIuaWU5YmVsb3c9dmVyc2lvbjw5fWlmKGJyb3dzZXIuZ2Vja28pe3ZhciBnZWNrb1JlbGVhc2U9YWdlbnQubWF0Y2goL3J2OihbXGRcLl0rKS8pO2lmKGdlY2tvUmVsZWFzZSl7Z2Vja29SZWxlYXNlPWdlY2tvUmVsZWFzZVsxXS5zcGxpdCgiLiIpO3ZlcnNpb249Z2Vja29SZWxlYXNlWzBdKjEwMDAwKyhnZWNrb1JlbGVhc2VbMV18fDApKjEwMCsoZ2Vja29SZWxlYXNlWzJdfHwwKSoxfX1pZigvY2hyb21lXC8oXGQrXC5cZCkvaS50ZXN0KGFnZW50KSl7YnJvd3Nlci5jaHJvbWU9K1JlZ0V4cFsiXHgyNDEiXX1pZigvKFxkK1wuXGQpPyg/OlwuXGQpP1xzK3NhZmFyaVwvPyhcZCtcLlxkKyk/L2kudGVzdChhZ2VudCkmJiEvY2hyb21lL2kudGVzdChhZ2VudCkpe2Jyb3dzZXIuc2FmYXJpPSsoUmVnRXhwWyJceDI0MSJdfHxSZWdFeHBbIlx4MjQyIl0pfWlmKGJyb3dzZXIub3BlcmEpe3ZlcnNpb249cGFyc2VGbG9hdChvcGVyYS52ZXJzaW9uKCkpfWlmKGJyb3dzZXIud2Via2l0KXt2ZXJzaW9uPXBhcnNlRmxvYXQoYWdlbnQubWF0Y2goLyBhcHBsZXdlYmtpdFwvKFxkKykvKVsxXSl9YnJvd3Nlci52ZXJzaW9uPXZlcnNpb247YnJvd3Nlci5pc0NvbXBhdGlibGU9IWJyb3dzZXIubW9iaWxlJiYoKGJyb3dzZXIuaWUmJnZlcnNpb24+PTYpfHwoYnJvd3Nlci5nZWNrbyYmdmVyc2lvbj49MTA4MDEpfHwoYnJvd3Nlci5vcGVyYSYmdmVyc2lvbj49OS41KXx8KGJyb3dzZXIuYWlyJiZ2ZXJzaW9uPj0xKXx8KGJyb3dzZXIud2Via2l0JiZ2ZXJzaW9uPj01MjIpfHxmYWxzZSk7cmV0dXJuIGJyb3dzZXJ9KCk7dmFyIGllPWJyb3dzZXIuaWUsd2Via2l0PWJyb3dzZXIud2Via2l0LGdlY2tvPWJyb3dzZXIuZ2Vja28sb3BlcmE9YnJvd3Nlci5vcGVyYTt2YXIgdXRpbHM9VU0udXRpbHM9e2VhY2g6ZnVuY3Rpb24ob2JqLGl0ZXJhdG9yLGNvbnRleHQpe2lmKG9iaj09bnVsbCl7cmV0dXJufWlmKG9iai5sZW5ndGg9PT0rb2JqLmxlbmd0aCl7Zm9yKHZhciBpPTAsbD1vYmoubGVuZ3RoO2k8bDtpKyspe2lmKGl0ZXJhdG9yLmNhbGwoY29udGV4dCxvYmpbaV0saSxvYmopPT09ZmFsc2Upe3JldHVybiBmYWxzZX19fWVsc2V7Zm9yKHZhciBrZXkgaW4gb2JqKXtpZihvYmouaGFzT3duUHJvcGVydHkoa2V5KSl7aWYoaXRlcmF0b3IuY2FsbChjb250ZXh0LG9ialtrZXldLGtleSxvYmopPT09ZmFsc2Upe3JldHVybiBmYWxzZX19fX19LG1ha2VJbnN0YW5jZTpmdW5jdGlvbihvYmope3ZhciBub29wPW5ldyBGdW5jdGlvbigpO25vb3AucHJvdG90eXBlPW9iajtvYmo9bmV3IG5vb3A7bm9vcC5wcm90b3R5cGU9bnVsbDtyZXR1cm4gb2JqfSxleHRlbmQ6ZnVuY3Rpb24odCxzLGIpe2lmKHMpe2Zvcih2YXIgayBpbiBzKXtpZighYnx8IXQuaGFzT3duUHJvcGVydHkoaykpe3Rba109c1trXX19fXJldHVybiB0fSxleHRlbmQyOmZ1bmN0aW9uKHQpe3ZhciBhPWFyZ3VtZW50cztmb3IodmFyIGk9MTtpPGEubGVuZ3RoO2krKyl7dmFyIHg9YVtpXTtmb3IodmFyIGsgaW4geCl7aWYoIXQuaGFzT3duUHJvcGVydHkoaykpe3Rba109eFtrXX19fXJldHVybiB0fSxpbmhlcml0czpmdW5jdGlvbihzdWJDbGFzcyxzdXBlckNsYXNzKXt2YXIgb2xkUD1zdWJDbGFzcy5wcm90b3R5cGUsbmV3UD11dGlscy5tYWtlSW5zdGFuY2Uoc3VwZXJDbGFzcy5wcm90b3R5cGUpO3V0aWxzLmV4dGVuZChuZXdQLG9sZFAsdHJ1ZSk7c3ViQ2xhc3MucHJvdG90eXBlPW5ld1A7cmV0dXJuKG5ld1AuY29uc3RydWN0b3I9c3ViQ2xhc3MpfSxiaW5kOmZ1bmN0aW9uKGZuLGNvbnRleHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBmbi5hcHBseShjb250ZXh0LGFyZ3VtZW50cyl9fSxkZWZlcjpmdW5jdGlvbihmbixkZWxheSxleGNsdXNpb24pe3ZhciB0aW1lcklEO3JldHVybiBmdW5jdGlvbigpe2lmKGV4Y2x1c2lvbil7Y2xlYXJUaW1lb3V0KHRpbWVySUQpfXRpbWVySUQ9c2V0VGltZW91dChmbixkZWxheSl9fSxpbmRleE9mOmZ1bmN0aW9uKGFycmF5LGl0ZW0sc3RhcnQpe3ZhciBpbmRleD0tMTtzdGFydD10aGlzLmlzTnVtYmVyKHN0YXJ0KT9zdGFydDowO3RoaXMuZWFjaChhcnJheSxmdW5jdGlvbih2LGkpe2lmKGk+PXN0YXJ0JiZ2PT09aXRlbSl7aW5kZXg9aTtyZXR1cm4gZmFsc2V9fSk7cmV0dXJuIGluZGV4fSxyZW1vdmVJdGVtOmZ1bmN0aW9uKGFycmF5LGl0ZW0pe2Zvcih2YXIgaT0wLGw9YXJyYXkubGVuZ3RoO2k8bDtpKyspe2lmKGFycmF5W2ldPT09aXRlbSl7YXJyYXkuc3BsaWNlKGksMSk7aS0tfX19LHRyaW06ZnVuY3Rpb24oc3RyKXtyZXR1cm4gc3RyLnJlcGxhY2UoLyheWyBcdFxuXHJdKyl8KFsgXHRcblxyXSskKS9nLCIiKX0sbGlzdFRvTWFwOmZ1bmN0aW9uKGxpc3Qpe2lmKCFsaXN0KXtyZXR1cm57fX1saXN0PXV0aWxzLmlzQXJyYXkobGlzdCk/bGlzdDpsaXN0LnNwbGl0KCIsIik7Zm9yKHZhciBpPTAsY2ksb2JqPXt9O2NpPWxpc3RbaSsrXTspe29ialtjaS50b1VwcGVyQ2FzZSgpXT1vYmpbY2ldPTF9cmV0dXJuIG9ian0sdW5odG1sOmZ1bmN0aW9uKHN0cixyZWcpe3JldHVybiBzdHI/c3RyLnJlcGxhY2UocmVnfHwvWyY8Ij4nXSg/OihhbXB8bHR8cXVvdHxndHwjMzl8bmJzcCk7KT8vZyxmdW5jdGlvbihhLGIpe2lmKGIpe3JldHVybiBhfWVsc2V7cmV0dXJueyI8IjoiJmx0OyIsIiYiOiImYW1wOyIsJyInOiImcXVvdDsiLCI+IjoiJmd0OyIsIiciOiImIzM5OyJ9W2FdfX0pOiIifSxodG1sOmZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0cj9zdHIucmVwbGFjZSgvJigoZ3xsfHF1byl0fGFtcHwjMzkpOy9nLGZ1bmN0aW9uKG0pe3JldHVybnsiJmx0OyI6IjwiLCImYW1wOyI6IiYiLCImcXVvdDsiOiciJywiJmd0OyI6Ij4iLCImIzM5OyI6IicifVttXX0pOiIifSxjc3NTdHlsZVRvRG9tU3R5bGU6ZnVuY3Rpb24oKXt2YXIgdGVzdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKS5zdHlsZSxjYWNoZT17ImZsb2F0Ijp0ZXN0LmNzc0Zsb2F0IT11bmRlZmluZWQ/ImNzc0Zsb2F0Ijp0ZXN0LnN0eWxlRmxvYXQhPXVuZGVmaW5lZD8ic3R5bGVGbG9hdCI6ImZsb2F0In07cmV0dXJuIGZ1bmN0aW9uKGNzc05hbWUpe3JldHVybiBjYWNoZVtjc3NOYW1lXXx8KGNhY2hlW2Nzc05hbWVdPWNzc05hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8tLi9nLGZ1bmN0aW9uKG1hdGNoKXtyZXR1cm4gbWF0Y2guY2hhckF0KDEpLnRvVXBwZXJDYXNlKCl9KSl9fSgpLGxvYWRGaWxlOmZ1bmN0aW9uKCl7dmFyIHRtcExpc3Q9W107ZnVuY3Rpb24gZ2V0SXRlbShkb2Msb2JqKXt0cnl7Zm9yKHZhciBpPTAsY2k7Y2k9dG1wTGlzdFtpKytdOyl7aWYoY2kuZG9jPT09ZG9jJiZjaS51cmw9PShvYmouc3JjfHxvYmouaHJlZikpe3JldHVybiBjaX19fWNhdGNoKGUpe3JldHVybiBudWxsfX1yZXR1cm4gZnVuY3Rpb24oZG9jLG9iaixmbil7dmFyIGl0ZW09Z2V0SXRlbShkb2Msb2JqKTtpZihpdGVtKXtpZihpdGVtLnJlYWR5KXtmbiYmZm4oKX1lbHNle2l0ZW0uZnVucy5wdXNoKGZuKX1yZXR1cm59dG1wTGlzdC5wdXNoKHtkb2M6ZG9jLHVybDpvYmouc3JjfHxvYmouaHJlZixmdW5zOltmbl19KTtpZighZG9jLmJvZHkpe3ZhciBodG1sPVtdO2Zvcih2YXIgcCBpbiBvYmope2lmKHA9PSJ0YWciKXtjb250aW51ZX1odG1sLnB1c2gocCsnPSInK29ialtwXSsnIicpfWRvYy53cml0ZSgiPCIrb2JqLnRhZysiICIraHRtbC5qb2luKCIgIikrIiA+PC8iK29iai50YWcrIj4iKTtyZXR1cm59aWYob2JqLmlkJiZkb2MuZ2V0RWxlbWVudEJ5SWQob2JqLmlkKSl7cmV0dXJufXZhciBlbGVtZW50PWRvYy5jcmVhdGVFbGVtZW50KG9iai50YWcpO2RlbGV0ZSBvYmoudGFnO2Zvcih2YXIgcCBpbiBvYmope2VsZW1lbnQuc2V0QXR0cmlidXRlKHAsb2JqW3BdKX1lbGVtZW50Lm9ubG9hZD1lbGVtZW50Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKCF0aGlzLnJlYWR5U3RhdGV8fC9sb2FkZWR8Y29tcGxldGUvLnRlc3QodGhpcy5yZWFkeVN0YXRlKSl7aXRlbT1nZXRJdGVtKGRvYyxvYmopO2lmKGl0ZW0uZnVucy5sZW5ndGg+MCl7aXRlbS5yZWFkeT0xO2Zvcih2YXIgZmk7Zmk9aXRlbS5mdW5zLnBvcCgpOyl7ZmkoKX19ZWxlbWVudC5vbmxvYWQ9ZWxlbWVudC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbH19O2VsZW1lbnQub25lcnJvcj1mdW5jdGlvbigpe3Rocm93IEVycm9yKCJUaGUgbG9hZCAiKyhvYmouaHJlZnx8b2JqLnNyYykrIiBmYWlscyxjaGVjayB0aGUgdXJsIHNldHRpbmdzIG9mIGZpbGUgdW1lZGl0b3IuY29uZmlnLmpzICIpfTtkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChlbGVtZW50KX19KCksaXNFbXB0eU9iamVjdDpmdW5jdGlvbihvYmope2lmKG9iaj09bnVsbCl7cmV0dXJuIHRydWV9aWYodGhpcy5pc0FycmF5KG9iail8fHRoaXMuaXNTdHJpbmcob2JqKSl7cmV0dXJuIG9iai5sZW5ndGg9PT0wfWZvcih2YXIga2V5IGluIG9iail7aWYob2JqLmhhc093blByb3BlcnR5KGtleSkpe3JldHVybiBmYWxzZX19cmV0dXJuIHRydWV9LGZpeENvbG9yOmZ1bmN0aW9uKG5hbWUsdmFsdWUpe2lmKC9jb2xvci9pLnRlc3QobmFtZSkmJi9yZ2JhPy8udGVzdCh2YWx1ZSkpe3ZhciBhcnJheT12YWx1ZS5zcGxpdCgiLCIpO2lmKGFycmF5Lmxlbmd0aD4zKXtyZXR1cm4iIn12YWx1ZT0iIyI7Zm9yKHZhciBpPTAsY29sb3I7Y29sb3I9YXJyYXlbaSsrXTspe2NvbG9yPXBhcnNlSW50KGNvbG9yLnJlcGxhY2UoL1teXGRdL2dpLCIiKSwxMCkudG9TdHJpbmcoMTYpO3ZhbHVlKz1jb2xvci5sZW5ndGg9PTE/IjAiK2NvbG9yOmNvbG9yfXZhbHVlPXZhbHVlLnRvVXBwZXJDYXNlKCl9cmV0dXJuIHZhbHVlfSxjbG9uZTpmdW5jdGlvbihzb3VyY2UsdGFyZ2V0KXt2YXIgdG1wO3RhcmdldD10YXJnZXR8fHt9O2Zvcih2YXIgaSBpbiBzb3VyY2Upe2lmKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShpKSl7dG1wPXNvdXJjZVtpXTtpZih0eXBlb2YgdG1wPT0ib2JqZWN0Iil7dGFyZ2V0W2ldPXV0aWxzLmlzQXJyYXkodG1wKT9bXTp7fTt1dGlscy5jbG9uZShzb3VyY2VbaV0sdGFyZ2V0W2ldKX1lbHNle3RhcmdldFtpXT10bXB9fX1yZXR1cm4gdGFyZ2V0fSx0cmFuc1VuaXRUb1B4OmZ1bmN0aW9uKHZhbCl7aWYoIS8ocHR8Y20pLy50ZXN0KHZhbCkpe3JldHVybiB2YWx9dmFyIHVuaXQ7dmFsLnJlcGxhY2UoLyhbXGQuXSspKFx3KykvLGZ1bmN0aW9uKHN0cix2LHUpe3ZhbD12O3VuaXQ9dX0pO3N3aXRjaCh1bml0KXtjYXNlImNtIjp2YWw9cGFyc2VGbG9hdCh2YWwpKjI1O2JyZWFrO2Nhc2UicHQiOnZhbD1NYXRoLnJvdW5kKHBhcnNlRmxvYXQodmFsKSo5Ni83Mil9cmV0dXJuIHZhbCsodmFsPyJweCI6IiIpfSxjc3NSdWxlOmJyb3dzZXIuaWUmJmJyb3dzZXIudmVyc2lvbiE9MTE/ZnVuY3Rpb24oa2V5LHN0eWxlLGRvYyl7dmFyIGluZGV4TGlzdCxpbmRleDtkb2M9ZG9jfHxkb2N1bWVudDtpZihkb2MuaW5kZXhMaXN0KXtpbmRleExpc3Q9ZG9jLmluZGV4TGlzdH1lbHNle2luZGV4TGlzdD1kb2MuaW5kZXhMaXN0PXt9fXZhciBzaGVldFN0eWxlO2lmKCFpbmRleExpc3Rba2V5XSl7aWYoc3R5bGU9PT11bmRlZmluZWQpe3JldHVybiIifXNoZWV0U3R5bGU9ZG9jLmNyZWF0ZVN0eWxlU2hlZXQoIiIsaW5kZXg9ZG9jLnN0eWxlU2hlZXRzLmxlbmd0aCk7aW5kZXhMaXN0W2tleV09aW5kZXh9ZWxzZXtzaGVldFN0eWxlPWRvYy5zdHlsZVNoZWV0c1tpbmRleExpc3Rba2V5XV19aWYoc3R5bGU9PT11bmRlZmluZWQpe3JldHVybiBzaGVldFN0eWxlLmNzc1RleHR9c2hlZXRTdHlsZS5jc3NUZXh0PXN0eWxlfHwiIn06ZnVuY3Rpb24oa2V5LHN0eWxlLGRvYyl7ZG9jPWRvY3x8ZG9jdW1lbnQ7dmFyIGhlYWQ9ZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0sbm9kZTtpZighKG5vZGU9ZG9jLmdldEVsZW1lbnRCeUlkKGtleSkpKXtpZihzdHlsZT09PXVuZGVmaW5lZCl7cmV0dXJuIiJ9bm9kZT1kb2MuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtub2RlLmlkPWtleTtoZWFkLmFwcGVuZENoaWxkKG5vZGUpfWlmKHN0eWxlPT09dW5kZWZpbmVkKXtyZXR1cm4gbm9kZS5pbm5lckhUTUx9aWYoc3R5bGUhPT0iIil7bm9kZS5pbm5lckhUTUw9c3R5bGV9ZWxzZXtoZWFkLnJlbW92ZUNoaWxkKG5vZGUpfX19O3V0aWxzLmVhY2goWyJTdHJpbmciLCJGdW5jdGlvbiIsIkFycmF5IiwiTnVtYmVyIiwiUmVnRXhwIiwiT2JqZWN0Il0sZnVuY3Rpb24odil7VU0udXRpbHNbImlzIit2XT1mdW5jdGlvbihvYmope3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KG9iaik9PSJbb2JqZWN0ICIrdisiXSJ9fSk7dmFyIEV2ZW50QmFzZT1VTS5FdmVudEJhc2U9ZnVuY3Rpb24oKXt9O0V2ZW50QmFzZS5wcm90b3R5cGU9e2FkZExpc3RlbmVyOmZ1bmN0aW9uKHR5cGVzLGxpc3RlbmVyKXt0eXBlcz11dGlscy50cmltKHR5cGVzKS5zcGxpdCgiICIpO2Zvcih2YXIgaT0wLHRpO3RpPXR5cGVzW2krK107KXtnZXRMaXN0ZW5lcih0aGlzLHRpLHRydWUpLnB1c2gobGlzdGVuZXIpfX0scmVtb3ZlTGlzdGVuZXI6ZnVuY3Rpb24odHlwZXMsbGlzdGVuZXIpe3R5cGVzPXV0aWxzLnRyaW0odHlwZXMpLnNwbGl0KCIgIik7Zm9yKHZhciBpPTAsdGk7dGk9dHlwZXNbaSsrXTspe3V0aWxzLnJlbW92ZUl0ZW0oZ2V0TGlzdGVuZXIodGhpcyx0aSl8fFtdLGxpc3RlbmVyKX19LGZpcmVFdmVudDpmdW5jdGlvbigpe3ZhciB0eXBlcz1hcmd1bWVudHNbMF07dHlwZXM9dXRpbHMudHJpbSh0eXBlcykuc3BsaXQoIiAiKTtmb3IodmFyIGk9MCx0aTt0aT10eXBlc1tpKytdOyl7dmFyIGxpc3RlbmVycz1nZXRMaXN0ZW5lcih0aGlzLHRpKSxyLHQsaztpZihsaXN0ZW5lcnMpe2s9bGlzdGVuZXJzLmxlbmd0aDt3aGlsZShrLS0pe2lmKCFsaXN0ZW5lcnNba10pe2NvbnRpbnVlfXQ9bGlzdGVuZXJzW2tdLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZih0PT09dHJ1ZSl7cmV0dXJuIHR9aWYodCE9PXVuZGVmaW5lZCl7cj10fX19aWYodD10aGlzWyJvbiIrdGkudG9Mb3dlckNhc2UoKV0pe3I9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fXJldHVybiByfX07ZnVuY3Rpb24gZ2V0TGlzdGVuZXIob2JqLHR5cGUsZm9yY2Upe3ZhciBhbGxMaXN0ZW5lcnM7dHlwZT10eXBlLnRvTG93ZXJDYXNlKCk7cmV0dXJuKChhbGxMaXN0ZW5lcnM9KG9iai5fX2FsbExpc3RlbmVyc3x8Zm9yY2UmJihvYmouX19hbGxMaXN0ZW5lcnM9e30pKSkmJihhbGxMaXN0ZW5lcnNbdHlwZV18fGZvcmNlJiYoYWxsTGlzdGVuZXJzW3R5cGVdPVtdKSkpfXZhciBkdGQ9ZG9tLmR0ZD0oZnVuY3Rpb24oKXtmdW5jdGlvbiBfKHMpe2Zvcih2YXIgayBpbiBzKXtzW2sudG9VcHBlckNhc2UoKV09c1trXX1yZXR1cm4gc312YXIgWD11dGlscy5leHRlbmQyO3ZhciBBPV8oe2lzaW5kZXg6MSxmaWVsZHNldDoxfSksQj1fKHtpbnB1dDoxLGJ1dHRvbjoxLHNlbGVjdDoxLHRleHRhcmVhOjEsbGFiZWw6MX0pLEM9WChfKHthOjF9KSxCKSxEPVgoe2lmcmFtZToxfSxDKSxFPV8oe2hyOjEsdWw6MSxtZW51OjEsZGl2OjEsYmxvY2txdW90ZToxLG5vc2NyaXB0OjEsdGFibGU6MSxjZW50ZXI6MSxhZGRyZXNzOjEsZGlyOjEscHJlOjEsaDU6MSxkbDoxLGg0OjEsbm9mcmFtZXM6MSxoNjoxLG9sOjEsaDE6MSxoMzoxLGgyOjF9KSxGPV8oe2luczoxLGRlbDoxLHNjcmlwdDoxLHN0eWxlOjF9KSxHPVgoXyh7YjoxLGFjcm9ueW06MSxiZG86MSwidmFyIjoxLCIjIjoxLGFiYnI6MSxjb2RlOjEsYnI6MSxpOjEsY2l0ZToxLGtiZDoxLHU6MSxzdHJpa2U6MSxzOjEsdHQ6MSxzdHJvbmc6MSxxOjEsc2FtcDoxLGVtOjEsZGZuOjEsc3BhbjoxfSksRiksSD1YKF8oe3N1YjoxLGltZzoxLGVtYmVkOjEsb2JqZWN0OjEsc3VwOjEsYmFzZWZvbnQ6MSxtYXA6MSxhcHBsZXQ6MSxmb250OjEsYmlnOjEsc21hbGw6MX0pLEcpLEk9WChfKHtwOjF9KSxIKSxKPVgoXyh7aWZyYW1lOjF9KSxILEIpLEs9Xyh7aW1nOjEsZW1iZWQ6MSxub3NjcmlwdDoxLGJyOjEsa2JkOjEsY2VudGVyOjEsYnV0dG9uOjEsYmFzZWZvbnQ6MSxoNToxLGg0OjEsc2FtcDoxLGg2OjEsb2w6MSxoMToxLGgzOjEsaDI6MSxmb3JtOjEsZm9udDoxLCIjIjoxLHNlbGVjdDoxLG1lbnU6MSxpbnM6MSxhYmJyOjEsbGFiZWw6MSxjb2RlOjEsdGFibGU6MSxzY3JpcHQ6MSxjaXRlOjEsaW5wdXQ6MSxpZnJhbWU6MSxzdHJvbmc6MSx0ZXh0YXJlYToxLG5vZnJhbWVzOjEsYmlnOjEsc21hbGw6MSxzcGFuOjEsaHI6MSxzdWI6MSxiZG86MSwidmFyIjoxLGRpdjoxLG9iamVjdDoxLHN1cDoxLHN0cmlrZToxLGRpcjoxLG1hcDoxLGRsOjEsYXBwbGV0OjEsZGVsOjEsaXNpbmRleDoxLGZpZWxkc2V0OjEsdWw6MSxiOjEsYWNyb255bToxLGE6MSxibG9ja3F1b3RlOjEsaToxLHU6MSxzOjEsdHQ6MSxhZGRyZXNzOjEscToxLHByZToxLHA6MSxlbToxLGRmbjoxfSksTD1YKF8oe2E6MH0pLEopLE09Xyh7dHI6MX0pLE49Xyh7IiMiOjF9KSxPPVgoXyh7cGFyYW06MX0pLEspLFA9WChfKHtmb3JtOjF9KSxBLEQsRSxJKSxRPV8oe2xpOjEsb2w6MSx1bDoxfSksUj1fKHtzdHlsZToxLHNjcmlwdDoxfSksUz1fKHtiYXNlOjEsbGluazoxLG1ldGE6MSx0aXRsZToxfSksVD1YKFMsUiksVT1fKHtoZWFkOjEsYm9keToxfSksVj1fKHtodG1sOjF9KTt2YXIgYmxvY2s9Xyh7YWRkcmVzczoxLGJsb2NrcXVvdGU6MSxjZW50ZXI6MSxkaXI6MSxkaXY6MSxkbDoxLGZpZWxkc2V0OjEsZm9ybToxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLGhyOjEsaXNpbmRleDoxLG1lbnU6MSxub2ZyYW1lczoxLG9sOjEscDoxLHByZToxLHRhYmxlOjEsdWw6MX0pLGVtcHR5PV8oe2FyZWE6MSxiYXNlOjEsYmFzZWZvbnQ6MSxicjoxLGNvbDoxLGNvbW1hbmQ6MSxkaWFsb2c6MSxlbWJlZDoxLGhyOjEsaW1nOjEsaW5wdXQ6MSxpc2luZGV4OjEsa2V5Z2VuOjEsbGluazoxLG1ldGE6MSxwYXJhbToxLHNvdXJjZToxLHRyYWNrOjEsd2JyOjF9KTtyZXR1cm4gXyh7JG5vbkJvZHlDb250ZW50OlgoVixVLFMpLCRibG9jazpibG9jaywkaW5saW5lOkwsJGlubGluZVdpdGhBOlgoXyh7YToxfSksTCksJGJvZHk6WChfKHtzY3JpcHQ6MSxzdHlsZToxfSksYmxvY2spLCRjZGF0YTpfKHtzY3JpcHQ6MSxzdHlsZToxfSksJGVtcHR5OmVtcHR5LCRub25DaGlsZDpfKHtpZnJhbWU6MSx0ZXh0YXJlYToxfSksJGxpc3RJdGVtOl8oe2RkOjEsZHQ6MSxsaToxfSksJGxpc3Q6Xyh7dWw6MSxvbDoxLGRsOjF9KSwkaXNOb3RFbXB0eTpfKHt0YWJsZToxLHVsOjEsb2w6MSxkbDoxLGlmcmFtZToxLGFyZWE6MSxiYXNlOjEsY29sOjEsaHI6MSxpbWc6MSxlbWJlZDoxLGlucHV0OjEsbGluazoxLG1ldGE6MSxwYXJhbToxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxfSksJHJlbW92ZUVtcHR5Ol8oe2E6MSxhYmJyOjEsYWNyb255bToxLGFkZHJlc3M6MSxiOjEsYmRvOjEsYmlnOjEsY2l0ZToxLGNvZGU6MSxkZWw6MSxkZm46MSxlbToxLGZvbnQ6MSxpOjEsaW5zOjEsbGFiZWw6MSxrYmQ6MSxxOjEsczoxLHNhbXA6MSxzbWFsbDoxLHNwYW46MSxzdHJpa2U6MSxzdHJvbmc6MSxzdWI6MSxzdXA6MSx0dDoxLHU6MSwidmFyIjoxfSksJHJlbW92ZUVtcHR5QmxvY2s6Xyh7cDoxLGRpdjoxfSksJHRhYmxlQ29udGVudDpfKHtjYXB0aW9uOjEsY29sOjEsY29sZ3JvdXA6MSx0Ym9keToxLHRkOjEsdGZvb3Q6MSx0aDoxLHRoZWFkOjEsdHI6MSx0YWJsZToxfSksJG5vdFRyYW5zQ29udGVudDpfKHtwcmU6MSxzY3JpcHQ6MSxzdHlsZToxLHRleHRhcmVhOjF9KSxodG1sOlUsaGVhZDpULHN0eWxlOk4sc2NyaXB0Ok4sYm9keTpQLGJhc2U6e30sbGluazp7fSxtZXRhOnt9LHRpdGxlOk4sY29sOnt9LHRyOl8oe3RkOjEsdGg6MX0pLGltZzp7fSxlbWJlZDp7fSxjb2xncm91cDpfKHt0aGVhZDoxLGNvbDoxLHRib2R5OjEsdHI6MSx0Zm9vdDoxfSksbm9zY3JpcHQ6UCx0ZDpQLGJyOnt9LHRoOlAsY2VudGVyOlAsa2JkOkwsYnV0dG9uOlgoSSxFKSxiYXNlZm9udDp7fSxoNTpMLGg0Okwsc2FtcDpMLGg2Okwsb2w6USxoMTpMLGgzOkwsb3B0aW9uOk4saDI6TCxmb3JtOlgoQSxELEUsSSksc2VsZWN0Ol8oe29wdGdyb3VwOjEsb3B0aW9uOjF9KSxmb250OkwsaW5zOkwsbWVudTpRLGFiYnI6TCxsYWJlbDpMLHRhYmxlOl8oe3RoZWFkOjEsY29sOjEsdGJvZHk6MSx0cjoxLGNvbGdyb3VwOjEsY2FwdGlvbjoxLHRmb290OjF9KSxjb2RlOkwsdGZvb3Q6TSxjaXRlOkwsbGk6UCxpbnB1dDp7fSxpZnJhbWU6UCxzdHJvbmc6TCx0ZXh0YXJlYTpOLG5vZnJhbWVzOlAsYmlnOkwsc21hbGw6TCxzcGFuOl8oeyIjIjoxLGJyOjEsYjoxLHN0cm9uZzoxLHU6MSxpOjEsZW06MSxzdWI6MSxzdXA6MSxzdHJpa2U6MSxzcGFuOjF9KSxocjpMLGR0Okwsc3ViOkwsb3B0Z3JvdXA6Xyh7b3B0aW9uOjF9KSxwYXJhbTp7fSxiZG86TCwidmFyIjpMLGRpdjpQLG9iamVjdDpPLHN1cDpMLGRkOlAsc3RyaWtlOkwsYXJlYTp7fSxkaXI6USxtYXA6WChfKHthcmVhOjEsZm9ybToxLHA6MX0pLEEsRixFKSxhcHBsZXQ6TyxkbDpfKHtkdDoxLGRkOjF9KSxkZWw6TCxpc2luZGV4Ont9LGZpZWxkc2V0OlgoXyh7bGVnZW5kOjF9KSxLKSx0aGVhZDpNLHVsOlEsYWNyb255bTpMLGI6TCxhOlgoXyh7YToxfSksSiksYmxvY2txdW90ZTpYKF8oe3RkOjEsdHI6MSx0Ym9keToxLGxpOjF9KSxQKSxjYXB0aW9uOkwsaTpMLHU6TCx0Ym9keTpNLHM6TCxhZGRyZXNzOlgoRCxJKSx0dDpMLGxlZ2VuZDpMLHE6TCxwcmU6WChHLEMpLHA6WChfKHthOjF9KSxMKSxlbTpMLGRmbjpMfSl9KSgpO2Z1bmN0aW9uIGdldERvbU5vZGUobm9kZSxzdGFydCxsdHIsc3RhcnRGcm9tQ2hpbGQsZm4sZ3VhcmQpe3ZhciB0bXBOb2RlPXN0YXJ0RnJvbUNoaWxkJiZub2RlW3N0YXJ0XSxwYXJlbnQ7IXRtcE5vZGUmJih0bXBOb2RlPW5vZGVbbHRyXSk7d2hpbGUoIXRtcE5vZGUmJihwYXJlbnQ9KHBhcmVudHx8bm9kZSkucGFyZW50Tm9kZSkpe2lmKHBhcmVudC50YWdOYW1lPT0iQk9EWSJ8fGd1YXJkJiYhZ3VhcmQocGFyZW50KSl7cmV0dXJuIG51bGx9dG1wTm9kZT1wYXJlbnRbbHRyXX1pZih0bXBOb2RlJiZmbiYmIWZuKHRtcE5vZGUpKXtyZXR1cm4gZ2V0RG9tTm9kZSh0bXBOb2RlLHN0YXJ0LGx0cixmYWxzZSxmbil9cmV0dXJuIHRtcE5vZGV9dmFyIGF0dHJGaXg9aWUmJmJyb3dzZXIudmVyc2lvbjw5P3t0YWJpbmRleDoidGFiSW5kZXgiLHJlYWRvbmx5OiJyZWFkT25seSIsImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSIsbWF4bGVuZ3RoOiJtYXhMZW5ndGgiLGNlbGxzcGFjaW5nOiJjZWxsU3BhY2luZyIsY2VsbHBhZGRpbmc6ImNlbGxQYWRkaW5nIixyb3dzcGFuOiJyb3dTcGFuIixjb2xzcGFuOiJjb2xTcGFuIix1c2VtYXA6InVzZU1hcCIsZnJhbWVib3JkZXI6ImZyYW1lQm9yZGVyIn06e3RhYmluZGV4OiJ0YWJJbmRleCIscmVhZG9ubHk6InJlYWRPbmx5In0sc3R5bGVCbG9jaz11dGlscy5saXN0VG9NYXAoWyItd2Via2l0LWJveCIsIi1tb3otYm94IiwiYmxvY2siLCJsaXN0LWl0ZW0iLCJ0YWJsZSIsInRhYmxlLXJvdy1ncm91cCIsInRhYmxlLWhlYWRlci1ncm91cCIsInRhYmxlLWZvb3Rlci1ncm91cCIsInRhYmxlLXJvdyIsInRhYmxlLWNvbHVtbi1ncm91cCIsInRhYmxlLWNvbHVtbiIsInRhYmxlLWNlbGwiLCJ0YWJsZS1jYXB0aW9uIl0pO3ZhciBkb21VdGlscz1kb20uZG9tVXRpbHM9e05PREVfRUxFTUVOVDoxLE5PREVfRE9DVU1FTlQ6OSxOT0RFX1RFWFQ6MyxOT0RFX0NPTU1FTlQ6OCxOT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UOjExLFBPU0lUSU9OX0lERU5USUNBTDowLFBPU0lUSU9OX0RJU0NPTk5FQ1RFRDoxLFBPU0lUSU9OX0ZPTExPV0lORzoyLFBPU0lUSU9OX1BSRUNFRElORzo0LFBPU0lUSU9OX0lTX0NPTlRBSU5FRDo4LFBPU0lUSU9OX0NPTlRBSU5TOjE2LGZpbGxDaGFyOmllJiZicm93c2VyLnZlcnNpb249PSI2Ij8iXHVmZWZmIjoiXHUyMDBCIixrZXlzOns4OjEsNDY6MSwxNjoxLDE3OjEsMTg6MSwzNzoxLDM4OjEsMzk6MSw0MDoxLDEzOjF9LGJyZWFrUGFyZW50OmZ1bmN0aW9uKG5vZGUscGFyZW50KXt2YXIgdG1wTm9kZSxwYXJlbnRDbG9uZT1ub2RlLGNsb25lPW5vZGUsbGVmdE5vZGVzLHJpZ2h0Tm9kZXM7ZG97cGFyZW50Q2xvbmU9cGFyZW50Q2xvbmUucGFyZW50Tm9kZTtpZihsZWZ0Tm9kZXMpe3RtcE5vZGU9cGFyZW50Q2xvbmUuY2xvbmVOb2RlKGZhbHNlKTt0bXBOb2RlLmFwcGVuZENoaWxkKGxlZnROb2Rlcyk7bGVmdE5vZGVzPXRtcE5vZGU7dG1wTm9kZT1wYXJlbnRDbG9uZS5jbG9uZU5vZGUoZmFsc2UpO3RtcE5vZGUuYXBwZW5kQ2hpbGQocmlnaHROb2Rlcyk7cmlnaHROb2Rlcz10bXBOb2RlfWVsc2V7bGVmdE5vZGVzPXBhcmVudENsb25lLmNsb25lTm9kZShmYWxzZSk7cmlnaHROb2Rlcz1sZWZ0Tm9kZXMuY2xvbmVOb2RlKGZhbHNlKX13aGlsZSh0bXBOb2RlPWNsb25lLnByZXZpb3VzU2libGluZyl7bGVmdE5vZGVzLmluc2VydEJlZm9yZSh0bXBOb2RlLGxlZnROb2Rlcy5maXJzdENoaWxkKX13aGlsZSh0bXBOb2RlPWNsb25lLm5leHRTaWJsaW5nKXtyaWdodE5vZGVzLmFwcGVuZENoaWxkKHRtcE5vZGUpfWNsb25lPXBhcmVudENsb25lfXdoaWxlKHBhcmVudCE9PXBhcmVudENsb25lKTt0bXBOb2RlPXBhcmVudC5wYXJlbnROb2RlO3RtcE5vZGUuaW5zZXJ0QmVmb3JlKGxlZnROb2RlcyxwYXJlbnQpO3RtcE5vZGUuaW5zZXJ0QmVmb3JlKHJpZ2h0Tm9kZXMscGFyZW50KTt0bXBOb2RlLmluc2VydEJlZm9yZShub2RlLHJpZ2h0Tm9kZXMpO2RvbVV0aWxzLnJlbW92ZShwYXJlbnQpO3JldHVybiBub2RlfSx0cmltV2hpdGVUZXh0Tm9kZTpmdW5jdGlvbihub2RlKXtmdW5jdGlvbiByZW1vdmUoZGlyKXt2YXIgY2hpbGQ7d2hpbGUoKGNoaWxkPW5vZGVbZGlyXSkmJmNoaWxkLm5vZGVUeXBlPT0zJiZkb21VdGlscy5pc1doaXRlc3BhY2UoY2hpbGQpKXtub2RlLnJlbW92ZUNoaWxkKGNoaWxkKX19cmVtb3ZlKCJmaXJzdENoaWxkIik7cmVtb3ZlKCJsYXN0Q2hpbGQiKX0sZ2V0UG9zaXRpb246ZnVuY3Rpb24obm9kZUEsbm9kZUIpe2lmKG5vZGVBPT09bm9kZUIpe3JldHVybiAwfXZhciBub2RlLHBhcmVudHNBPVtub2RlQV0scGFyZW50c0I9W25vZGVCXTtub2RlPW5vZGVBO3doaWxlKG5vZGU9bm9kZS5wYXJlbnROb2RlKXtpZihub2RlPT09bm9kZUIpe3JldHVybiAxMH1wYXJlbnRzQS5wdXNoKG5vZGUpfW5vZGU9bm9kZUI7d2hpbGUobm9kZT1ub2RlLnBhcmVudE5vZGUpe2lmKG5vZGU9PT1ub2RlQSl7cmV0dXJuIDIwfXBhcmVudHNCLnB1c2gobm9kZSl9cGFyZW50c0EucmV2ZXJzZSgpO3BhcmVudHNCLnJldmVyc2UoKTtpZihwYXJlbnRzQVswXSE9PXBhcmVudHNCWzBdKXtyZXR1cm4gMX12YXIgaT0tMTt3aGlsZShpKysscGFyZW50c0FbaV09PT1wYXJlbnRzQltpXSl7fW5vZGVBPXBhcmVudHNBW2ldO25vZGVCPXBhcmVudHNCW2ldO3doaWxlKG5vZGVBPW5vZGVBLm5leHRTaWJsaW5nKXtpZihub2RlQT09PW5vZGVCKXtyZXR1cm4gNH19cmV0dXJuIDJ9LGdldE5vZGVJbmRleDpmdW5jdGlvbihub2RlLGlnbm9yZVRleHROb2RlKXt2YXIgcHJlTm9kZT1ub2RlLGk9MDt3aGlsZShwcmVOb2RlPXByZU5vZGUucHJldmlvdXNTaWJsaW5nKXtpZihpZ25vcmVUZXh0Tm9kZSYmcHJlTm9kZS5ub2RlVHlwZT09Myl7aWYocHJlTm9kZS5ub2RlVHlwZSE9cHJlTm9kZS5uZXh0U2libGluZy5ub2RlVHlwZSl7aSsrfWNvbnRpbnVlfWkrK31yZXR1cm4gaX0saW5Eb2M6ZnVuY3Rpb24obm9kZSxkb2Mpe3JldHVybiBkb21VdGlscy5nZXRQb3NpdGlvbihub2RlLGRvYyk9PTEwfSxmaW5kUGFyZW50OmZ1bmN0aW9uKG5vZGUsZmlsdGVyRm4saW5jbHVkZVNlbGYpe2lmKG5vZGUmJiFkb21VdGlscy5pc0JvZHkobm9kZSkpe25vZGU9aW5jbHVkZVNlbGY/bm9kZTpub2RlLnBhcmVudE5vZGU7d2hpbGUobm9kZSl7aWYoIWZpbHRlckZufHxmaWx0ZXJGbihub2RlKXx8ZG9tVXRpbHMuaXNCb2R5KG5vZGUpKXtyZXR1cm4gZmlsdGVyRm4mJiFmaWx0ZXJGbihub2RlKSYmZG9tVXRpbHMuaXNCb2R5KG5vZGUpP251bGw6bm9kZX1ub2RlPW5vZGUucGFyZW50Tm9kZX19cmV0dXJuIG51bGx9LGZpbmRQYXJlbnRCeVRhZ05hbWU6ZnVuY3Rpb24obm9kZSx0YWdOYW1lcyxpbmNsdWRlU2VsZixleGNsdWRlRm4pe3RhZ05hbWVzPXV0aWxzLmxpc3RUb01hcCh1dGlscy5pc0FycmF5KHRhZ05hbWVzKT90YWdOYW1lczpbdGFnTmFtZXNdKTtyZXR1cm4gZG9tVXRpbHMuZmluZFBhcmVudChub2RlLGZ1bmN0aW9uKG5vZGUpe3JldHVybiB0YWdOYW1lc1tub2RlLnRhZ05hbWVdJiYhKGV4Y2x1ZGVGbiYmZXhjbHVkZUZuKG5vZGUpKX0saW5jbHVkZVNlbGYpfSxmaW5kUGFyZW50czpmdW5jdGlvbihub2RlLGluY2x1ZGVTZWxmLGZpbHRlckZuLGNsb3NlckZpcnN0KXt2YXIgcGFyZW50cz1pbmNsdWRlU2VsZiYmKGZpbHRlckZuJiZmaWx0ZXJGbihub2RlKXx8IWZpbHRlckZuKT9bbm9kZV06W107d2hpbGUobm9kZT1kb21VdGlscy5maW5kUGFyZW50KG5vZGUsZmlsdGVyRm4pKXtwYXJlbnRzLnB1c2gobm9kZSl9cmV0dXJuIGNsb3NlckZpcnN0P3BhcmVudHM6cGFyZW50cy5yZXZlcnNlKCl9LGluc2VydEFmdGVyOmZ1bmN0aW9uKG5vZGUsbmV3Tm9kZSl7cmV0dXJuIG5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSxub2RlLm5leHRTaWJsaW5nKX0scmVtb3ZlOmZ1bmN0aW9uKG5vZGUsa2VlcENoaWxkcmVuKXt2YXIgcGFyZW50PW5vZGUucGFyZW50Tm9kZSxjaGlsZDtpZihwYXJlbnQpe2lmKGtlZXBDaGlsZHJlbiYmbm9kZS5oYXNDaGlsZE5vZGVzKCkpe3doaWxlKGNoaWxkPW5vZGUuZmlyc3RDaGlsZCl7cGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCxub2RlKX19cGFyZW50LnJlbW92ZUNoaWxkKG5vZGUpfXJldHVybiBub2RlfSxnZXROZXh0RG9tTm9kZTpmdW5jdGlvbihub2RlLHN0YXJ0RnJvbUNoaWxkLGZpbHRlckZuLGd1YXJkKXtyZXR1cm4gZ2V0RG9tTm9kZShub2RlLCJmaXJzdENoaWxkIiwibmV4dFNpYmxpbmciLHN0YXJ0RnJvbUNoaWxkLGZpbHRlckZuLGd1YXJkKX0sZ2V0UHJlRG9tTm9kZTpmdW5jdGlvbihub2RlLHN0YXJ0RnJvbUNoaWxkLGZpbHRlckZuLGd1YXJkKXtyZXR1cm4gZ2V0RG9tTm9kZShub2RlLCJsYXN0Q2hpbGQiLCJwcmV2aW91c1NpYmxpbmciLHN0YXJ0RnJvbUNoaWxkLGZpbHRlckZuLGd1YXJkKX0saXNCb29rbWFya05vZGU6ZnVuY3Rpb24obm9kZSl7cmV0dXJuIG5vZGUubm9kZVR5cGU9PTEmJm5vZGUuaWQmJi9eX2JhaWR1X2Jvb2ttYXJrXy9pLnRlc3Qobm9kZS5pZCl9LGdldFdpbmRvdzpmdW5jdGlvbihub2RlKXt2YXIgZG9jPW5vZGUub3duZXJEb2N1bWVudHx8bm9kZTtyZXR1cm4gZG9jLmRlZmF1bHRWaWV3fHxkb2MucGFyZW50V2luZG93fSxnZXRDb21tb25BbmNlc3RvcjpmdW5jdGlvbihub2RlQSxub2RlQil7aWYobm9kZUE9PT1ub2RlQil7cmV0dXJuIG5vZGVBfXZhciBwYXJlbnRzQT1bbm9kZUFdLHBhcmVudHNCPVtub2RlQl0scGFyZW50PW5vZGVBLGk9LTE7d2hpbGUocGFyZW50PXBhcmVudC5wYXJlbnROb2RlKXtpZihwYXJlbnQ9PT1ub2RlQil7cmV0dXJuIHBhcmVudH1wYXJlbnRzQS5wdXNoKHBhcmVudCl9cGFyZW50PW5vZGVCO3doaWxlKHBhcmVudD1wYXJlbnQucGFyZW50Tm9kZSl7aWYocGFyZW50PT09bm9kZUEpe3JldHVybiBwYXJlbnR9cGFyZW50c0IucHVzaChwYXJlbnQpfXBhcmVudHNBLnJldmVyc2UoKTtwYXJlbnRzQi5yZXZlcnNlKCk7d2hpbGUoaSsrLHBhcmVudHNBW2ldPT09cGFyZW50c0JbaV0pe31yZXR1cm4gaT09MD9udWxsOnBhcmVudHNBW2ktMV19LGNsZWFyRW1wdHlTaWJsaW5nOmZ1bmN0aW9uKG5vZGUsaWdub3JlTmV4dCxpZ25vcmVQcmUpe2Z1bmN0aW9uIGNsZWFyKG5leHQsZGlyKXt2YXIgdG1wTm9kZTt3aGlsZShuZXh0JiYhZG9tVXRpbHMuaXNCb29rbWFya05vZGUobmV4dCkmJihkb21VdGlscy5pc0VtcHR5SW5saW5lRWxlbWVudChuZXh0KXx8IW5ldyBSZWdFeHAoIlteXHRcblxyIitkb21VdGlscy5maWxsQ2hhcisiXSIpLnRlc3QobmV4dC5ub2RlVmFsdWUpKSl7dG1wTm9kZT1uZXh0W2Rpcl07ZG9tVXRpbHMucmVtb3ZlKG5leHQpO25leHQ9dG1wTm9kZX19IWlnbm9yZU5leHQmJmNsZWFyKG5vZGUubmV4dFNpYmxpbmcsIm5leHRTaWJsaW5nIik7IWlnbm9yZVByZSYmY2xlYXIobm9kZS5wcmV2aW91c1NpYmxpbmcsInByZXZpb3VzU2libGluZyIpfSxzcGxpdDpmdW5jdGlvbihub2RlLG9mZnNldCl7dmFyIGRvYz1ub2RlLm93bmVyRG9jdW1lbnQ7aWYoYnJvd3Nlci5pZSYmb2Zmc2V0PT1ub2RlLm5vZGVWYWx1ZS5sZW5ndGgpe3ZhciBuZXh0PWRvYy5jcmVhdGVUZXh0Tm9kZSgiIik7cmV0dXJuIGRvbVV0aWxzLmluc2VydEFmdGVyKG5vZGUsbmV4dCl9dmFyIHJldHZhbD1ub2RlLnNwbGl0VGV4dChvZmZzZXQpO2lmKGJyb3dzZXIuaWU4KXt2YXIgdG1wTm9kZT1kb2MuY3JlYXRlVGV4dE5vZGUoIiIpO2RvbVV0aWxzLmluc2VydEFmdGVyKHJldHZhbCx0bXBOb2RlKTtkb21VdGlscy5yZW1vdmUodG1wTm9kZSl9cmV0dXJuIHJldHZhbH0saXNXaGl0ZXNwYWNlOmZ1bmN0aW9uKG5vZGUpe3JldHVybiAhbmV3IFJlZ0V4cCgiW14gXHRcblxyIitkb21VdGlscy5maWxsQ2hhcisiXSIpLnRlc3Qobm9kZS5ub2RlVmFsdWUpfSxnZXRYWTpmdW5jdGlvbihlbGVtZW50KXt2YXIgeD0wLHk9MDt3aGlsZShlbGVtZW50Lm9mZnNldFBhcmVudCl7eSs9ZWxlbWVudC5vZmZzZXRUb3A7eCs9ZWxlbWVudC5vZmZzZXRMZWZ0O2VsZW1lbnQ9ZWxlbWVudC5vZmZzZXRQYXJlbnR9cmV0dXJue3g6eCx5Onl9fSxpc0VtcHR5SW5saW5lRWxlbWVudDpmdW5jdGlvbihub2RlKXtpZihub2RlLm5vZGVUeXBlIT0xfHwhZHRkLiRyZW1vdmVFbXB0eVtub2RlLnRhZ05hbWVdKXtyZXR1cm4gMH1ub2RlPW5vZGUuZmlyc3RDaGlsZDt3aGlsZShub2RlKXtpZihkb21VdGlscy5pc0Jvb2ttYXJrTm9kZShub2RlKSl7cmV0dXJuIDB9aWYobm9kZS5ub2RlVHlwZT09MSYmIWRvbVV0aWxzLmlzRW1wdHlJbmxpbmVFbGVtZW50KG5vZGUpfHxub2RlLm5vZGVUeXBlPT0zJiYhZG9tVXRpbHMuaXNXaGl0ZXNwYWNlKG5vZGUpKXtyZXR1cm4gMH1ub2RlPW5vZGUubmV4dFNpYmxpbmd9cmV0dXJuIDF9LGlzQmxvY2tFbG06ZnVuY3Rpb24obm9kZSl7cmV0dXJuIG5vZGUubm9kZVR5cGU9PTEmJihkdGQuJGJsb2NrW25vZGUudGFnTmFtZV18fHN0eWxlQmxvY2tbZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCJkaXNwbGF5IildKSYmIWR0ZC4kbm9uQ2hpbGRbbm9kZS50YWdOYW1lXX0sZ2V0RWxlbWVudHNCeVRhZ05hbWU6ZnVuY3Rpb24obm9kZSxuYW1lLGZpbHRlcil7aWYoZmlsdGVyJiZ1dGlscy5pc1N0cmluZyhmaWx0ZXIpKXt2YXIgY2xhc3NOYW1lPWZpbHRlcjtmaWx0ZXI9ZnVuY3Rpb24obm9kZSl7dmFyIHJlc3VsdD1mYWxzZTskLmVhY2godXRpbHMudHJpbShjbGFzc05hbWUpLnJlcGxhY2UoL1sgXXsyLH0vZywiICIpLnNwbGl0KCIgIiksZnVuY3Rpb24oaSx2KXtpZigkKG5vZGUpLmhhc0NsYXNzKHYpKXtyZXN1bHQ9dHJ1ZTtyZXR1cm4gZmFsc2V9fSk7cmV0dXJuIHJlc3VsdH19bmFtZT11dGlscy50cmltKG5hbWUpLnJlcGxhY2UoL1sgXXsyLH0vZywiICIpLnNwbGl0KCIgIik7dmFyIGFycj1bXTtmb3IodmFyIG49MCxuaTtuaT1uYW1lW24rK107KXt2YXIgbGlzdD1ub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKG5pKTtmb3IodmFyIGk9MCxjaTtjaT1saXN0W2krK107KXtpZighZmlsdGVyfHxmaWx0ZXIoY2kpKXthcnIucHVzaChjaSl9fX1yZXR1cm4gYXJyfSx1blNlbGVjdGFibGU6aWUmJmJyb3dzZXIuaWU5YmVsb3d8fGJyb3dzZXIub3BlcmE/ZnVuY3Rpb24obm9kZSl7bm9kZS5vbnNlbGVjdHN0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlfTtub2RlLm9uY2xpY2s9bm9kZS5vbmtleXVwPW5vZGUub25rZXlkb3duPWZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlfTtub2RlLnVuc2VsZWN0YWJsZT0ib24iO25vZGUuc2V0QXR0cmlidXRlKCJ1bnNlbGVjdGFibGUiLCJvbiIpO2Zvcih2YXIgaT0wLGNpO2NpPW5vZGUuYWxsW2krK107KXtzd2l0Y2goY2kudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXtjYXNlImlmcmFtZSI6Y2FzZSJ0ZXh0YXJlYSI6Y2FzZSJpbnB1dCI6Y2FzZSJzZWxlY3QiOmJyZWFrO2RlZmF1bHQ6Y2kudW5zZWxlY3RhYmxlPSJvbiI7bm9kZS5zZXRBdHRyaWJ1dGUoInVuc2VsZWN0YWJsZSIsIm9uIil9fX06ZnVuY3Rpb24obm9kZSl7bm9kZS5zdHlsZS5Nb3pVc2VyU2VsZWN0PW5vZGUuc3R5bGUud2Via2l0VXNlclNlbGVjdD1ub2RlLnN0eWxlLm1zVXNlclNlbGVjdD1ub2RlLnN0eWxlLktodG1sVXNlclNlbGVjdD0ibm9uZSJ9LHJlbW92ZUF0dHJpYnV0ZXM6ZnVuY3Rpb24obm9kZSxhdHRyTmFtZXMpe2F0dHJOYW1lcz11dGlscy5pc0FycmF5KGF0dHJOYW1lcyk/YXR0ck5hbWVzOnV0aWxzLnRyaW0oYXR0ck5hbWVzKS5yZXBsYWNlKC9bIF17Mix9L2csIiAiKS5zcGxpdCgiICIpO2Zvcih2YXIgaT0wLGNpO2NpPWF0dHJOYW1lc1tpKytdOyl7Y2k9YXR0ckZpeFtjaV18fGNpO3N3aXRjaChjaSl7Y2FzZSJjbGFzc05hbWUiOm5vZGVbY2ldPSIiO2JyZWFrO2Nhc2Uic3R5bGUiOm5vZGUuc3R5bGUuY3NzVGV4dD0iIjshYnJvd3Nlci5pZSYmbm9kZS5nZXRBdHRyaWJ1dGVOb2RlKCJzdHlsZSIpJiZub2RlLnJlbW92ZUF0dHJpYnV0ZU5vZGUobm9kZS5nZXRBdHRyaWJ1dGVOb2RlKCJzdHlsZSIpKX1ub2RlLnJlbW92ZUF0dHJpYnV0ZShjaSl9fSxjcmVhdGVFbGVtZW50OmZ1bmN0aW9uKGRvYyx0YWcsYXR0cnMpe3JldHVybiBkb21VdGlscy5zZXRBdHRyaWJ1dGVzKGRvYy5jcmVhdGVFbGVtZW50KHRhZyksYXR0cnMpfSxzZXRBdHRyaWJ1dGVzOmZ1bmN0aW9uKG5vZGUsYXR0cnMpe2Zvcih2YXIgYXR0ciBpbiBhdHRycyl7aWYoYXR0cnMuaGFzT3duUHJvcGVydHkoYXR0cikpe3ZhciB2YWx1ZT1hdHRyc1thdHRyXTtzd2l0Y2goYXR0cil7Y2FzZSJjbGFzcyI6bm9kZS5jbGFzc05hbWU9dmFsdWU7YnJlYWs7Y2FzZSJzdHlsZSI6bm9kZS5zdHlsZS5jc3NUZXh0PW5vZGUuc3R5bGUuY3NzVGV4dCsiOyIrdmFsdWU7YnJlYWs7Y2FzZSJpbm5lckhUTUwiOm5vZGVbYXR0cl09dmFsdWU7YnJlYWs7Y2FzZSJ2YWx1ZSI6bm9kZS52YWx1ZT12YWx1ZTticmVhaztkZWZhdWx0Om5vZGUuc2V0QXR0cmlidXRlKGF0dHJGaXhbYXR0cl18fGF0dHIsdmFsdWUpfX19cmV0dXJuIG5vZGV9LGdldENvbXB1dGVkU3R5bGU6ZnVuY3Rpb24oZWxlbWVudCxzdHlsZU5hbWUpe3JldHVybiB1dGlscy50cmFuc1VuaXRUb1B4KHV0aWxzLmZpeENvbG9yKHN0eWxlTmFtZSwkKGVsZW1lbnQpLmNzcyhzdHlsZU5hbWUpKSl9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKGV2dCl7ZXZ0LnByZXZlbnREZWZhdWx0P2V2dC5wcmV2ZW50RGVmYXVsdCgpOihldnQucmV0dXJuVmFsdWU9ZmFsc2UpfSxyZW1vdmVTdHlsZTpmdW5jdGlvbihlbGVtZW50LG5hbWUpe2lmKGJyb3dzZXIuaWUpe2lmKG5hbWU9PSJjb2xvciIpe25hbWU9IihefDspIituYW1lfWVsZW1lbnQuc3R5bGUuY3NzVGV4dD1lbGVtZW50LnN0eWxlLmNzc1RleHQucmVwbGFjZShuZXcgUmVnRXhwKG5hbWUrIlteOl0qOlteO10rOz8iLCJpZyIpLCIiKX1lbHNle2lmKGVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkpe2VsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSl9ZWxzZXtlbGVtZW50LnN0eWxlLnJlbW92ZUF0dHJpYnV0ZSh1dGlscy5jc3NTdHlsZVRvRG9tU3R5bGUobmFtZSkpfX1pZighZWxlbWVudC5zdHlsZS5jc3NUZXh0KXtkb21VdGlscy5yZW1vdmVBdHRyaWJ1dGVzKGVsZW1lbnQsWyJzdHlsZSJdKX19LGdldFN0eWxlOmZ1bmN0aW9uKGVsZW1lbnQsbmFtZSl7dmFyIHZhbHVlPWVsZW1lbnQuc3R5bGVbdXRpbHMuY3NzU3R5bGVUb0RvbVN0eWxlKG5hbWUpXTtyZXR1cm4gdXRpbHMuZml4Q29sb3IobmFtZSx2YWx1ZSl9LHNldFN0eWxlOmZ1bmN0aW9uKGVsZW1lbnQsbmFtZSx2YWx1ZSl7ZWxlbWVudC5zdHlsZVt1dGlscy5jc3NTdHlsZVRvRG9tU3R5bGUobmFtZSldPXZhbHVlO2lmKCF1dGlscy50cmltKGVsZW1lbnQuc3R5bGUuY3NzVGV4dCkpe3RoaXMucmVtb3ZlQXR0cmlidXRlcyhlbGVtZW50LCJzdHlsZSIpfX0scmVtb3ZlRGlydHlBdHRyOmZ1bmN0aW9uKG5vZGUpe2Zvcih2YXIgaT0wLGNpLG5vZGVzPW5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKTtjaT1ub2Rlc1tpKytdOyl7Y2kucmVtb3ZlQXR0cmlidXRlKCJfbW96X2RpcnR5Iil9bm9kZS5yZW1vdmVBdHRyaWJ1dGUoIl9tb3pfZGlydHkiKX0sZ2V0Q2hpbGRDb3VudDpmdW5jdGlvbihub2RlLGZuKXt2YXIgY291bnQ9MCxmaXJzdD1ub2RlLmZpcnN0Q2hpbGQ7Zm49Zm58fGZ1bmN0aW9uKCl7cmV0dXJuIDF9O3doaWxlKGZpcnN0KXtpZihmbihmaXJzdCkpe2NvdW50Kyt9Zmlyc3Q9Zmlyc3QubmV4dFNpYmxpbmd9cmV0dXJuIGNvdW50fSxpc0VtcHR5Tm9kZTpmdW5jdGlvbihub2RlKXtyZXR1cm4gIW5vZGUuZmlyc3RDaGlsZHx8ZG9tVXRpbHMuZ2V0Q2hpbGRDb3VudChub2RlLGZ1bmN0aW9uKG5vZGUpe3JldHVybiAhZG9tVXRpbHMuaXNCcihub2RlKSYmIWRvbVV0aWxzLmlzQm9va21hcmtOb2RlKG5vZGUpJiYhZG9tVXRpbHMuaXNXaGl0ZXNwYWNlKG5vZGUpfSk9PTB9LGlzQnI6ZnVuY3Rpb24obm9kZSl7cmV0dXJuIG5vZGUubm9kZVR5cGU9PTEmJm5vZGUudGFnTmFtZT09IkJSIn0saXNGaWxsQ2hhcjpmdW5jdGlvbihub2RlLGlzSW5TdGFydCl7cmV0dXJuIG5vZGUubm9kZVR5cGU9PTMmJiFub2RlLm5vZGVWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoKGlzSW5TdGFydD8iXiI6IiIpK2RvbVV0aWxzLmZpbGxDaGFyKSwiIikubGVuZ3RofSxpc0VtcHR5QmxvY2s6ZnVuY3Rpb24obm9kZSxyZWcpe2lmKG5vZGUubm9kZVR5cGUhPTEpe3JldHVybiAwfXJlZz1yZWd8fG5ldyBSZWdFeHAoIlsgXHRcclxuIitkb21VdGlscy5maWxsQ2hhcisiXSIsImciKTtpZihub2RlW2Jyb3dzZXIuaWU/ImlubmVyVGV4dCI6InRleHRDb250ZW50Il0ucmVwbGFjZShyZWcsIiIpLmxlbmd0aD4wKXtyZXR1cm4gMH1mb3IodmFyIG4gaW4gZHRkLiRpc05vdEVtcHR5KXtpZihub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKG4pLmxlbmd0aCl7cmV0dXJuIDB9fXJldHVybiAxfSxpc0N1c3RvbWVOb2RlOmZ1bmN0aW9uKG5vZGUpe3JldHVybiBub2RlLm5vZGVUeXBlPT0xJiZub2RlLmdldEF0dHJpYnV0ZSgiX3VlX2N1c3RvbV9ub2RlXyIpfSxmaWxsTm9kZTpmdW5jdGlvbihkb2Msbm9kZSl7dmFyIHRtcE5vZGU9YnJvd3Nlci5pZT9kb2MuY3JlYXRlVGV4dE5vZGUoZG9tVXRpbHMuZmlsbENoYXIpOmRvYy5jcmVhdGVFbGVtZW50KCJiciIpO25vZGUuaW5uZXJIVE1MPSIiO25vZGUuYXBwZW5kQ2hpbGQodG1wTm9kZSl9LGlzQm91bmRhcnlOb2RlOmZ1bmN0aW9uKG5vZGUsZGlyKXt2YXIgdG1wO3doaWxlKCFkb21VdGlscy5pc0JvZHkobm9kZSkpe3RtcD1ub2RlO25vZGU9bm9kZS5wYXJlbnROb2RlO2lmKHRtcCE9PW5vZGVbZGlyXSl7cmV0dXJuIGZhbHNlfX1yZXR1cm4gdHJ1ZX0saXNGaWxsQ2hhcjpmdW5jdGlvbihub2RlLGlzSW5TdGFydCl7cmV0dXJuIG5vZGUubm9kZVR5cGU9PTMmJiFub2RlLm5vZGVWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoKGlzSW5TdGFydD8iXiI6IiIpK2RvbVV0aWxzLmZpbGxDaGFyKSwiIikubGVuZ3RofSxpc0JvZHk6ZnVuY3Rpb24obm9kZSl7cmV0dXJuICQobm9kZSkuaGFzQ2xhc3MoImVkdWktYm9keS1jb250YWluZXIiKX19O3ZhciBmaWxsQ2hhclJlZz1uZXcgUmVnRXhwKGRvbVV0aWxzLmZpbGxDaGFyLCJnIik7KGZ1bmN0aW9uKCl7dmFyIGd1aWQ9MCxmaWxsQ2hhcj1kb21VdGlscy5maWxsQ2hhcixmaWxsRGF0YTtmdW5jdGlvbiB1cGRhdGVDb2xsYXBzZShyYW5nZSl7cmFuZ2UuY29sbGFwc2VkPXJhbmdlLnN0YXJ0Q29udGFpbmVyJiZyYW5nZS5lbmRDb250YWluZXImJnJhbmdlLnN0YXJ0Q29udGFpbmVyPT09cmFuZ2UuZW5kQ29udGFpbmVyJiZyYW5nZS5zdGFydE9mZnNldD09cmFuZ2UuZW5kT2Zmc2V0fWZ1bmN0aW9uIHNlbGVjdE9uZU5vZGUocm5nKXtyZXR1cm4gIXJuZy5jb2xsYXBzZWQmJnJuZy5zdGFydENvbnRhaW5lci5ub2RlVHlwZT09MSYmcm5nLnN0YXJ0Q29udGFpbmVyPT09cm5nLmVuZENvbnRhaW5lciYmcm5nLmVuZE9mZnNldC1ybmcuc3RhcnRPZmZzZXQ9PTF9ZnVuY3Rpb24gc2V0RW5kUG9pbnQodG9TdGFydCxub2RlLG9mZnNldCxyYW5nZSl7aWYobm9kZS5ub2RlVHlwZT09MSYmKGR0ZC4kZW1wdHlbbm9kZS50YWdOYW1lXXx8ZHRkLiRub25DaGlsZFtub2RlLnRhZ05hbWVdKSl7b2Zmc2V0PWRvbVV0aWxzLmdldE5vZGVJbmRleChub2RlKSsodG9TdGFydD8wOjEpO25vZGU9bm9kZS5wYXJlbnROb2RlfWlmKHRvU3RhcnQpe3JhbmdlLnN0YXJ0Q29udGFpbmVyPW5vZGU7cmFuZ2Uuc3RhcnRPZmZzZXQ9b2Zmc2V0O2lmKCFyYW5nZS5lbmRDb250YWluZXIpe3JhbmdlLmNvbGxhcHNlKHRydWUpfX1lbHNle3JhbmdlLmVuZENvbnRhaW5lcj1ub2RlO3JhbmdlLmVuZE9mZnNldD1vZmZzZXQ7aWYoIXJhbmdlLnN0YXJ0Q29udGFpbmVyKXtyYW5nZS5jb2xsYXBzZShmYWxzZSl9fXVwZGF0ZUNvbGxhcHNlKHJhbmdlKTtyZXR1cm4gcmFuZ2V9dmFyIFJhbmdlPWRvbS5SYW5nZT1mdW5jdGlvbihkb2N1bWVudCxib2R5KXt2YXIgbWU9dGhpczttZS5zdGFydENvbnRhaW5lcj1tZS5zdGFydE9mZnNldD1tZS5lbmRDb250YWluZXI9bWUuZW5kT2Zmc2V0PW51bGw7bWUuZG9jdW1lbnQ9ZG9jdW1lbnQ7bWUuY29sbGFwc2VkPXRydWU7bWUuYm9keT1ib2R5fTtmdW5jdGlvbiByZW1vdmVGaWxsRGF0YShkb2MsZXhjbHVkZU5vZGUpe3RyeXtpZihmaWxsRGF0YSYmZG9tVXRpbHMuaW5Eb2MoZmlsbERhdGEsZG9jKSl7aWYoIWZpbGxEYXRhLm5vZGVWYWx1ZS5yZXBsYWNlKGZpbGxDaGFyUmVnLCIiKS5sZW5ndGgpe3ZhciB0bXBOb2RlPWZpbGxEYXRhLnBhcmVudE5vZGU7ZG9tVXRpbHMucmVtb3ZlKGZpbGxEYXRhKTt3aGlsZSh0bXBOb2RlJiZkb21VdGlscy5pc0VtcHR5SW5saW5lRWxlbWVudCh0bXBOb2RlKSYmKGJyb3dzZXIuc2FmYXJpPyEoZG9tVXRpbHMuZ2V0UG9zaXRpb24odG1wTm9kZSxleGNsdWRlTm9kZSkmZG9tVXRpbHMuUE9TSVRJT05fQ09OVEFJTlMpOiF0bXBOb2RlLmNvbnRhaW5zKGV4Y2x1ZGVOb2RlKSkpe2ZpbGxEYXRhPXRtcE5vZGUucGFyZW50Tm9kZTtkb21VdGlscy5yZW1vdmUodG1wTm9kZSk7dG1wTm9kZT1maWxsRGF0YX19ZWxzZXtmaWxsRGF0YS5ub2RlVmFsdWU9ZmlsbERhdGEubm9kZVZhbHVlLnJlcGxhY2UoZmlsbENoYXJSZWcsIiIpfX19Y2F0Y2goZSl7fX1mdW5jdGlvbiBtZXJnZVNpYmxpbmcobm9kZSxkaXIpe3ZhciB0bXBOb2RlO25vZGU9bm9kZVtkaXJdO3doaWxlKG5vZGUmJmRvbVV0aWxzLmlzRmlsbENoYXIobm9kZSkpe3RtcE5vZGU9bm9kZVtkaXJdO2RvbVV0aWxzLnJlbW92ZShub2RlKTtub2RlPXRtcE5vZGV9fWZ1bmN0aW9uIGV4ZWNDb250ZW50c0FjdGlvbihyYW5nZSxhY3Rpb24pe3ZhciBzdGFydD1yYW5nZS5zdGFydENvbnRhaW5lcixlbmQ9cmFuZ2UuZW5kQ29udGFpbmVyLHN0YXJ0T2Zmc2V0PXJhbmdlLnN0YXJ0T2Zmc2V0LGVuZE9mZnNldD1yYW5nZS5lbmRPZmZzZXQsZG9jPXJhbmdlLmRvY3VtZW50LGZyYWc9ZG9jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSx0bXBTdGFydCx0bXBFbmQ7aWYoc3RhcnQubm9kZVR5cGU9PTEpe3N0YXJ0PXN0YXJ0LmNoaWxkTm9kZXNbc3RhcnRPZmZzZXRdfHwodG1wU3RhcnQ9c3RhcnQuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKCIiKSkpfWlmKGVuZC5ub2RlVHlwZT09MSl7ZW5kPWVuZC5jaGlsZE5vZGVzW2VuZE9mZnNldF18fCh0bXBFbmQ9ZW5kLmFwcGVuZENoaWxkKGRvYy5jcmVhdGVUZXh0Tm9kZSgiIikpKX1pZihzdGFydD09PWVuZCYmc3RhcnQubm9kZVR5cGU9PTMpe2ZyYWcuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKHN0YXJ0LnN1YnN0cmluZ0RhdGEoc3RhcnRPZmZzZXQsZW5kT2Zmc2V0LXN0YXJ0T2Zmc2V0KSkpO2lmKGFjdGlvbil7c3RhcnQuZGVsZXRlRGF0YShzdGFydE9mZnNldCxlbmRPZmZzZXQtc3RhcnRPZmZzZXQpO3JhbmdlLmNvbGxhcHNlKHRydWUpfXJldHVybiBmcmFnfXZhciBjdXJyZW50LGN1cnJlbnRMZXZlbCxjbG9uZT1mcmFnLHN0YXJ0UGFyZW50cz1kb21VdGlscy5maW5kUGFyZW50cyhzdGFydCx0cnVlKSxlbmRQYXJlbnRzPWRvbVV0aWxzLmZpbmRQYXJlbnRzKGVuZCx0cnVlKTtmb3IodmFyIGk9MDtzdGFydFBhcmVudHNbaV09PWVuZFBhcmVudHNbaV07KXtpKyt9Zm9yKHZhciBqPWksc2k7c2k9c3RhcnRQYXJlbnRzW2pdO2orKyl7Y3VycmVudD1zaS5uZXh0U2libGluZztpZihzaT09c3RhcnQpe2lmKCF0bXBTdGFydCl7aWYocmFuZ2Uuc3RhcnRDb250YWluZXIubm9kZVR5cGU9PTMpe2Nsb25lLmFwcGVuZENoaWxkKGRvYy5jcmVhdGVUZXh0Tm9kZShzdGFydC5ub2RlVmFsdWUuc2xpY2Uoc3RhcnRPZmZzZXQpKSk7aWYoYWN0aW9uKXtzdGFydC5kZWxldGVEYXRhKHN0YXJ0T2Zmc2V0LHN0YXJ0Lm5vZGVWYWx1ZS5sZW5ndGgtc3RhcnRPZmZzZXQpfX1lbHNle2Nsb25lLmFwcGVuZENoaWxkKCFhY3Rpb24/c3RhcnQuY2xvbmVOb2RlKHRydWUpOnN0YXJ0KX19fWVsc2V7Y3VycmVudExldmVsPXNpLmNsb25lTm9kZShmYWxzZSk7Y2xvbmUuYXBwZW5kQ2hpbGQoY3VycmVudExldmVsKX13aGlsZShjdXJyZW50KXtpZihjdXJyZW50PT09ZW5kfHxjdXJyZW50PT09ZW5kUGFyZW50c1tqXSl7YnJlYWt9c2k9Y3VycmVudC5uZXh0U2libGluZztjbG9uZS5hcHBlbmRDaGlsZCghYWN0aW9uP2N1cnJlbnQuY2xvbmVOb2RlKHRydWUpOmN1cnJlbnQpO2N1cnJlbnQ9c2l9Y2xvbmU9Y3VycmVudExldmVsfWNsb25lPWZyYWc7aWYoIXN0YXJ0UGFyZW50c1tpXSl7Y2xvbmUuYXBwZW5kQ2hpbGQoc3RhcnRQYXJlbnRzW2ktMV0uY2xvbmVOb2RlKGZhbHNlKSk7Y2xvbmU9Y2xvbmUuZmlyc3RDaGlsZH1mb3IodmFyIGo9aSxlaTtlaT1lbmRQYXJlbnRzW2pdO2orKyl7Y3VycmVudD1laS5wcmV2aW91c1NpYmxpbmc7aWYoZWk9PWVuZCl7aWYoIXRtcEVuZCYmcmFuZ2UuZW5kQ29udGFpbmVyLm5vZGVUeXBlPT0zKXtjbG9uZS5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUoZW5kLnN1YnN0cmluZ0RhdGEoMCxlbmRPZmZzZXQpKSk7aWYoYWN0aW9uKXtlbmQuZGVsZXRlRGF0YSgwLGVuZE9mZnNldCl9fX1lbHNle2N1cnJlbnRMZXZlbD1laS5jbG9uZU5vZGUoZmFsc2UpO2Nsb25lLmFwcGVuZENoaWxkKGN1cnJlbnRMZXZlbCl9aWYoaiE9aXx8IXN0YXJ0UGFyZW50c1tpXSl7d2hpbGUoY3VycmVudCl7aWYoY3VycmVudD09PXN0YXJ0KXticmVha31laT1jdXJyZW50LnByZXZpb3VzU2libGluZztjbG9uZS5pbnNlcnRCZWZvcmUoIWFjdGlvbj9jdXJyZW50LmNsb25lTm9kZSh0cnVlKTpjdXJyZW50LGNsb25lLmZpcnN0Q2hpbGQpO2N1cnJlbnQ9ZWl9fWNsb25lPWN1cnJlbnRMZXZlbH1pZihhY3Rpb24pe3JhbmdlLnNldFN0YXJ0QmVmb3JlKCFlbmRQYXJlbnRzW2ldP2VuZFBhcmVudHNbaS0xXTohc3RhcnRQYXJlbnRzW2ldP3N0YXJ0UGFyZW50c1tpLTFdOmVuZFBhcmVudHNbaV0pLmNvbGxhcHNlKHRydWUpfXRtcFN0YXJ0JiZkb21VdGlscy5yZW1vdmUodG1wU3RhcnQpO3RtcEVuZCYmZG9tVXRpbHMucmVtb3ZlKHRtcEVuZCk7cmV0dXJuIGZyYWd9UmFuZ2UucHJvdG90eXBlPXtkZWxldGVDb250ZW50czpmdW5jdGlvbigpe3ZhciB0eHQ7aWYoIXRoaXMuY29sbGFwc2VkKXtleGVjQ29udGVudHNBY3Rpb24odGhpcywxKX1pZihicm93c2VyLndlYmtpdCl7dHh0PXRoaXMuc3RhcnRDb250YWluZXI7aWYodHh0Lm5vZGVUeXBlPT0zJiYhdHh0Lm5vZGVWYWx1ZS5sZW5ndGgpe3RoaXMuc2V0U3RhcnRCZWZvcmUodHh0KS5jb2xsYXBzZSh0cnVlKTtkb21VdGlscy5yZW1vdmUodHh0KX19cmV0dXJuIHRoaXN9LGluRmlsbENoYXI6ZnVuY3Rpb24oKXt2YXIgc3RhcnQ9dGhpcy5zdGFydENvbnRhaW5lcjtpZih0aGlzLmNvbGxhcHNlZCYmc3RhcnQubm9kZVR5cGU9PTMmJnN0YXJ0Lm5vZGVWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoIl4iK2RvbVV0aWxzLmZpbGxDaGFyKSwiIikubGVuZ3RoKzE9PXN0YXJ0Lm5vZGVWYWx1ZS5sZW5ndGgpe3JldHVybiB0cnVlfXJldHVybiBmYWxzZX0sc2V0U3RhcnQ6ZnVuY3Rpb24obm9kZSxvZmZzZXQpe3JldHVybiBzZXRFbmRQb2ludCh0cnVlLG5vZGUsb2Zmc2V0LHRoaXMpfSxzZXRFbmQ6ZnVuY3Rpb24obm9kZSxvZmZzZXQpe3JldHVybiBzZXRFbmRQb2ludChmYWxzZSxub2RlLG9mZnNldCx0aGlzKX0sc2V0U3RhcnRBZnRlcjpmdW5jdGlvbihub2RlKXtyZXR1cm4gdGhpcy5zZXRTdGFydChub2RlLnBhcmVudE5vZGUsZG9tVXRpbHMuZ2V0Tm9kZUluZGV4KG5vZGUpKzEpfSxzZXRTdGFydEJlZm9yZTpmdW5jdGlvbihub2RlKXtyZXR1cm4gdGhpcy5zZXRTdGFydChub2RlLnBhcmVudE5vZGUsZG9tVXRpbHMuZ2V0Tm9kZUluZGV4KG5vZGUpKX0sc2V0RW5kQWZ0ZXI6ZnVuY3Rpb24obm9kZSl7cmV0dXJuIHRoaXMuc2V0RW5kKG5vZGUucGFyZW50Tm9kZSxkb21VdGlscy5nZXROb2RlSW5kZXgobm9kZSkrMSl9LHNldEVuZEJlZm9yZTpmdW5jdGlvbihub2RlKXtyZXR1cm4gdGhpcy5zZXRFbmQobm9kZS5wYXJlbnROb2RlLGRvbVV0aWxzLmdldE5vZGVJbmRleChub2RlKSl9LHNldFN0YXJ0QXRGaXJzdDpmdW5jdGlvbihub2RlKXtyZXR1cm4gdGhpcy5zZXRTdGFydChub2RlLDApfSxzZXRTdGFydEF0TGFzdDpmdW5jdGlvbihub2RlKXtyZXR1cm4gdGhpcy5zZXRTdGFydChub2RlLG5vZGUubm9kZVR5cGU9PTM/bm9kZS5ub2RlVmFsdWUubGVuZ3RoOm5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpfSxzZXRFbmRBdEZpcnN0OmZ1bmN0aW9uKG5vZGUpe3JldHVybiB0aGlzLnNldEVuZChub2RlLDApfSxzZXRFbmRBdExhc3Q6ZnVuY3Rpb24obm9kZSl7cmV0dXJuIHRoaXMuc2V0RW5kKG5vZGUsbm9kZS5ub2RlVHlwZT09Mz9ub2RlLm5vZGVWYWx1ZS5sZW5ndGg6bm9kZS5jaGlsZE5vZGVzLmxlbmd0aCl9LHNlbGVjdE5vZGU6ZnVuY3Rpb24obm9kZSl7cmV0dXJuIHRoaXMuc2V0U3RhcnRCZWZvcmUobm9kZSkuc2V0RW5kQWZ0ZXIobm9kZSl9LHNlbGVjdE5vZGVDb250ZW50czpmdW5jdGlvbihub2RlKXtyZXR1cm4gdGhpcy5zZXRTdGFydChub2RlLDApLnNldEVuZEF0TGFzdChub2RlKX0sY2xvbmVSYW5nZTpmdW5jdGlvbigpe3ZhciBtZT10aGlzO3JldHVybiBuZXcgUmFuZ2UobWUuZG9jdW1lbnQpLnNldFN0YXJ0KG1lLnN0YXJ0Q29udGFpbmVyLG1lLnN0YXJ0T2Zmc2V0KS5zZXRFbmQobWUuZW5kQ29udGFpbmVyLG1lLmVuZE9mZnNldCl9LGNvbGxhcHNlOmZ1bmN0aW9uKHRvU3RhcnQpe3ZhciBtZT10aGlzO2lmKHRvU3RhcnQpe21lLmVuZENvbnRhaW5lcj1tZS5zdGFydENvbnRhaW5lcjttZS5lbmRPZmZzZXQ9bWUuc3RhcnRPZmZzZXR9ZWxzZXttZS5zdGFydENvbnRhaW5lcj1tZS5lbmRDb250YWluZXI7bWUuc3RhcnRPZmZzZXQ9bWUuZW5kT2Zmc2V0fW1lLmNvbGxhcHNlZD10cnVlO3JldHVybiBtZX0sc2hyaW5rQm91bmRhcnk6ZnVuY3Rpb24oaWdub3JlRW5kKXt2YXIgbWU9dGhpcyxjaGlsZCxjb2xsYXBzZWQ9bWUuY29sbGFwc2VkO2Z1bmN0aW9uIGNoZWNrKG5vZGUpe3JldHVybiBub2RlLm5vZGVUeXBlPT0xJiYhZG9tVXRpbHMuaXNCb29rbWFya05vZGUobm9kZSkmJiFkdGQuJGVtcHR5W25vZGUudGFnTmFtZV0mJiFkdGQuJG5vbkNoaWxkW25vZGUudGFnTmFtZV19d2hpbGUobWUuc3RhcnRDb250YWluZXIubm9kZVR5cGU9PTEmJihjaGlsZD1tZS5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW21lLnN0YXJ0T2Zmc2V0XSkmJmNoZWNrKGNoaWxkKSl7bWUuc2V0U3RhcnQoY2hpbGQsMCl9aWYoY29sbGFwc2VkKXtyZXR1cm4gbWUuY29sbGFwc2UodHJ1ZSl9aWYoIWlnbm9yZUVuZCl7d2hpbGUobWUuZW5kQ29udGFpbmVyLm5vZGVUeXBlPT0xJiZtZS5lbmRPZmZzZXQ+MCYmKGNoaWxkPW1lLmVuZENvbnRhaW5lci5jaGlsZE5vZGVzW21lLmVuZE9mZnNldC0xXSkmJmNoZWNrKGNoaWxkKSl7bWUuc2V0RW5kKGNoaWxkLGNoaWxkLmNoaWxkTm9kZXMubGVuZ3RoKX19cmV0dXJuIG1lfSx0cmltQm91bmRhcnk6ZnVuY3Rpb24oaWdub3JlRW5kKXt0aGlzLnR4dFRvRWxtQm91bmRhcnkoKTt2YXIgc3RhcnQ9dGhpcy5zdGFydENvbnRhaW5lcixvZmZzZXQ9dGhpcy5zdGFydE9mZnNldCxjb2xsYXBzZWQ9dGhpcy5jb2xsYXBzZWQsZW5kPXRoaXMuZW5kQ29udGFpbmVyO2lmKHN0YXJ0Lm5vZGVUeXBlPT0zKXtpZihvZmZzZXQ9PTApe3RoaXMuc2V0U3RhcnRCZWZvcmUoc3RhcnQpfWVsc2V7aWYob2Zmc2V0Pj1zdGFydC5ub2RlVmFsdWUubGVuZ3RoKXt0aGlzLnNldFN0YXJ0QWZ0ZXIoc3RhcnQpfWVsc2V7dmFyIHRleHROb2RlPWRvbVV0aWxzLnNwbGl0KHN0YXJ0LG9mZnNldCk7aWYoc3RhcnQ9PT1lbmQpe3RoaXMuc2V0RW5kKHRleHROb2RlLHRoaXMuZW5kT2Zmc2V0LW9mZnNldCl9ZWxzZXtpZihzdGFydC5wYXJlbnROb2RlPT09ZW5kKXt0aGlzLmVuZE9mZnNldCs9MX19dGhpcy5zZXRTdGFydEJlZm9yZSh0ZXh0Tm9kZSl9fWlmKGNvbGxhcHNlZCl7cmV0dXJuIHRoaXMuY29sbGFwc2UodHJ1ZSl9fWlmKCFpZ25vcmVFbmQpe29mZnNldD10aGlzLmVuZE9mZnNldDtlbmQ9dGhpcy5lbmRDb250YWluZXI7aWYoZW5kLm5vZGVUeXBlPT0zKXtpZihvZmZzZXQ9PTApe3RoaXMuc2V0RW5kQmVmb3JlKGVuZCl9ZWxzZXtvZmZzZXQ8ZW5kLm5vZGVWYWx1ZS5sZW5ndGgmJmRvbVV0aWxzLnNwbGl0KGVuZCxvZmZzZXQpO3RoaXMuc2V0RW5kQWZ0ZXIoZW5kKX19fXJldHVybiB0aGlzfSx0eHRUb0VsbUJvdW5kYXJ5OmZ1bmN0aW9uKGlnbm9yZUNvbGxhcHNlZCl7ZnVuY3Rpb24gYWRqdXN0KHIsYyl7dmFyIGNvbnRhaW5lcj1yW2MrIkNvbnRhaW5lciJdLG9mZnNldD1yW2MrIk9mZnNldCJdO2lmKGNvbnRhaW5lci5ub2RlVHlwZT09Myl7aWYoIW9mZnNldCl7clsic2V0IitjLnJlcGxhY2UoLyhcdykvLGZ1bmN0aW9uKGEpe3JldHVybiBhLnRvVXBwZXJDYXNlKCl9KSsiQmVmb3JlIl0oY29udGFpbmVyKX1lbHNle2lmKG9mZnNldD49Y29udGFpbmVyLm5vZGVWYWx1ZS5sZW5ndGgpe3JbInNldCIrYy5yZXBsYWNlKC8oXHcpLyxmdW5jdGlvbihhKXtyZXR1cm4gYS50b1VwcGVyQ2FzZSgpfSkrIkFmdGVyIl0oY29udGFpbmVyKX19fX1pZihpZ25vcmVDb2xsYXBzZWR8fCF0aGlzLmNvbGxhcHNlZCl7YWRqdXN0KHRoaXMsInN0YXJ0Iik7YWRqdXN0KHRoaXMsImVuZCIpfXJldHVybiB0aGlzfSxpbnNlcnROb2RlOmZ1bmN0aW9uKG5vZGUpe3ZhciBmaXJzdD1ub2RlLGxlbmd0aD0xO2lmKG5vZGUubm9kZVR5cGU9PTExKXtmaXJzdD1ub2RlLmZpcnN0Q2hpbGQ7bGVuZ3RoPW5vZGUuY2hpbGROb2Rlcy5sZW5ndGh9dGhpcy50cmltQm91bmRhcnkodHJ1ZSk7dmFyIHN0YXJ0PXRoaXMuc3RhcnRDb250YWluZXIsb2Zmc2V0PXRoaXMuc3RhcnRPZmZzZXQ7dmFyIG5leHROb2RlPXN0YXJ0LmNoaWxkTm9kZXNbb2Zmc2V0XTtpZihuZXh0Tm9kZSl7c3RhcnQuaW5zZXJ0QmVmb3JlKG5vZGUsbmV4dE5vZGUpfWVsc2V7c3RhcnQuYXBwZW5kQ2hpbGQobm9kZSl9aWYoZmlyc3QucGFyZW50Tm9kZT09PXRoaXMuZW5kQ29udGFpbmVyKXt0aGlzLmVuZE9mZnNldD10aGlzLmVuZE9mZnNldCtsZW5ndGh9cmV0dXJuIHRoaXMuc2V0U3RhcnRCZWZvcmUoZmlyc3QpfSxzZXRDdXJzb3I6ZnVuY3Rpb24odG9FbmQsbm9GaWxsRGF0YSl7cmV0dXJuIHRoaXMuY29sbGFwc2UoIXRvRW5kKS5zZWxlY3Qobm9GaWxsRGF0YSl9LGNyZWF0ZUJvb2ttYXJrOmZ1bmN0aW9uKHNlcmlhbGl6ZSxzYW1lKXt2YXIgZW5kTm9kZSxzdGFydE5vZGU9dGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7c3RhcnROb2RlLnN0eWxlLmNzc1RleHQ9ImRpc3BsYXk6bm9uZTtsaW5lLWhlaWdodDowcHg7IjtzdGFydE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiXHUyMDBEIikpO3N0YXJ0Tm9kZS5pZD0iX2JhaWR1X2Jvb2ttYXJrX3N0YXJ0XyIrKHNhbWU/IiI6Z3VpZCsrKTtpZighdGhpcy5jb2xsYXBzZWQpe2VuZE5vZGU9c3RhcnROb2RlLmNsb25lTm9kZSh0cnVlKTtlbmROb2RlLmlkPSJfYmFpZHVfYm9va21hcmtfZW5kXyIrKHNhbWU/IiI6Z3VpZCsrKX10aGlzLmluc2VydE5vZGUoc3RhcnROb2RlKTtpZihlbmROb2RlKXt0aGlzLmNvbGxhcHNlKCkuaW5zZXJ0Tm9kZShlbmROb2RlKS5zZXRFbmRCZWZvcmUoZW5kTm9kZSl9dGhpcy5zZXRTdGFydEFmdGVyKHN0YXJ0Tm9kZSk7cmV0dXJue3N0YXJ0OnNlcmlhbGl6ZT9zdGFydE5vZGUuaWQ6c3RhcnROb2RlLGVuZDplbmROb2RlP3NlcmlhbGl6ZT9lbmROb2RlLmlkOmVuZE5vZGU6bnVsbCxpZDpzZXJpYWxpemV9fSxtb3ZlVG9Cb29rbWFyazpmdW5jdGlvbihib29rbWFyayl7dmFyIHN0YXJ0PWJvb2ttYXJrLmlkP3RoaXMuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYm9va21hcmsuc3RhcnQpOmJvb2ttYXJrLnN0YXJ0LGVuZD1ib29rbWFyay5lbmQmJmJvb2ttYXJrLmlkP3RoaXMuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYm9va21hcmsuZW5kKTpib29rbWFyay5lbmQ7dGhpcy5zZXRTdGFydEJlZm9yZShzdGFydCk7ZG9tVXRpbHMucmVtb3ZlKHN0YXJ0KTtpZihlbmQpe3RoaXMuc2V0RW5kQmVmb3JlKGVuZCk7ZG9tVXRpbHMucmVtb3ZlKGVuZCl9ZWxzZXt0aGlzLmNvbGxhcHNlKHRydWUpfXJldHVybiB0aGlzfSxhZGp1c3RtZW50Qm91bmRhcnk6ZnVuY3Rpb24oKXtpZighdGhpcy5jb2xsYXBzZWQpe3doaWxlKCFkb21VdGlscy5pc0JvZHkodGhpcy5zdGFydENvbnRhaW5lcikmJnRoaXMuc3RhcnRPZmZzZXQ9PXRoaXMuc3RhcnRDb250YWluZXJbdGhpcy5zdGFydENvbnRhaW5lci5ub2RlVHlwZT09Mz8ibm9kZVZhbHVlIjoiY2hpbGROb2RlcyJdLmxlbmd0aCYmdGhpcy5zdGFydENvbnRhaW5lclt0aGlzLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlPT0zPyJub2RlVmFsdWUiOiJjaGlsZE5vZGVzIl0ubGVuZ3RoKXt0aGlzLnNldFN0YXJ0QWZ0ZXIodGhpcy5zdGFydENvbnRhaW5lcil9d2hpbGUoIWRvbVV0aWxzLmlzQm9keSh0aGlzLmVuZENvbnRhaW5lcikmJiF0aGlzLmVuZE9mZnNldCYmdGhpcy5lbmRDb250YWluZXJbdGhpcy5lbmRDb250YWluZXIubm9kZVR5cGU9PTM/Im5vZGVWYWx1ZSI6ImNoaWxkTm9kZXMiXS5sZW5ndGgpe3RoaXMuc2V0RW5kQmVmb3JlKHRoaXMuZW5kQ29udGFpbmVyKX19cmV0dXJuIHRoaXN9LGdldENsb3NlZE5vZGU6ZnVuY3Rpb24oKXt2YXIgbm9kZTtpZighdGhpcy5jb2xsYXBzZWQpe3ZhciByYW5nZT10aGlzLmNsb25lUmFuZ2UoKS5hZGp1c3RtZW50Qm91bmRhcnkoKS5zaHJpbmtCb3VuZGFyeSgpO2lmKHNlbGVjdE9uZU5vZGUocmFuZ2UpKXt2YXIgY2hpbGQ9cmFuZ2Uuc3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1tyYW5nZS5zdGFydE9mZnNldF07aWYoY2hpbGQmJmNoaWxkLm5vZGVUeXBlPT0xJiYoZHRkLiRlbXB0eVtjaGlsZC50YWdOYW1lXXx8ZHRkLiRub25DaGlsZFtjaGlsZC50YWdOYW1lXSkpe25vZGU9Y2hpbGR9fX1yZXR1cm4gbm9kZX0sc2VsZWN0OmJyb3dzZXIuaWU/ZnVuY3Rpb24obm9GaWxsRGF0YSx0ZXh0UmFuZ2Upe3ZhciBuYXRpdmVSYW5nZTtpZighdGhpcy5jb2xsYXBzZWQpe3RoaXMuc2hyaW5rQm91bmRhcnkoKX12YXIgbm9kZT10aGlzLmdldENsb3NlZE5vZGUoKTtpZihub2RlJiYhdGV4dFJhbmdlKXt0cnl7bmF0aXZlUmFuZ2U9dGhpcy5kb2N1bWVudC5ib2R5LmNyZWF0ZUNvbnRyb2xSYW5nZSgpO25hdGl2ZVJhbmdlLmFkZEVsZW1lbnQobm9kZSk7bmF0aXZlUmFuZ2Uuc2VsZWN0KCl9Y2F0Y2goZSl7fXJldHVybiB0aGlzfXZhciBib29rbWFyaz10aGlzLmNyZWF0ZUJvb2ttYXJrKCksc3RhcnQ9Ym9va21hcmsuc3RhcnQsZW5kO25hdGl2ZVJhbmdlPXRoaXMuZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTtuYXRpdmVSYW5nZS5tb3ZlVG9FbGVtZW50VGV4dChzdGFydCk7bmF0aXZlUmFuZ2UubW92ZVN0YXJ0KCJjaGFyYWN0ZXIiLDEpO2lmKCF0aGlzLmNvbGxhcHNlZCl7dmFyIG5hdGl2ZVJhbmdlRW5kPXRoaXMuZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTtlbmQ9Ym9va21hcmsuZW5kO25hdGl2ZVJhbmdlRW5kLm1vdmVUb0VsZW1lbnRUZXh0KGVuZCk7bmF0aXZlUmFuZ2Uuc2V0RW5kUG9pbnQoIkVuZFRvRW5kIixuYXRpdmVSYW5nZUVuZCl9ZWxzZXtpZighbm9GaWxsRGF0YSYmdGhpcy5zdGFydENvbnRhaW5lci5ub2RlVHlwZSE9Myl7dmFyIHRtcFRleHQ9dGhpcy5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShmaWxsQ2hhciksdG1wPXRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO3RtcC5hcHBlbmRDaGlsZCh0aGlzLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGZpbGxDaGFyKSk7c3RhcnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodG1wLHN0YXJ0KTtzdGFydC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0bXBUZXh0LHN0YXJ0KTtyZW1vdmVGaWxsRGF0YSh0aGlzLmRvY3VtZW50LHRtcFRleHQpO2ZpbGxEYXRhPXRtcFRleHQ7bWVyZ2VTaWJsaW5nKHRtcCwicHJldmlvdXNTaWJsaW5nIik7bWVyZ2VTaWJsaW5nKHN0YXJ0LCJuZXh0U2libGluZyIpO25hdGl2ZVJhbmdlLm1vdmVTdGFydCgiY2hhcmFjdGVyIiwtMSk7bmF0aXZlUmFuZ2UuY29sbGFwc2UodHJ1ZSl9fXRoaXMubW92ZVRvQm9va21hcmsoYm9va21hcmspO3RtcCYmZG9tVXRpbHMucmVtb3ZlKHRtcCk7dHJ5e25hdGl2ZVJhbmdlLnNlbGVjdCgpfWNhdGNoKGUpe31yZXR1cm4gdGhpc306ZnVuY3Rpb24obm90SW5zZXJ0RmlsbERhdGEpe2Z1bmN0aW9uIGNoZWNrT2Zmc2V0KHJuZyl7ZnVuY3Rpb24gY2hlY2sobm9kZSxvZmZzZXQsZGlyKXtpZihub2RlLm5vZGVUeXBlPT0zJiZub2RlLm5vZGVWYWx1ZS5sZW5ndGg8b2Zmc2V0KXtybmdbZGlyKyJPZmZzZXQiXT1ub2RlLm5vZGVWYWx1ZS5sZW5ndGh9fWNoZWNrKHJuZy5zdGFydENvbnRhaW5lcixybmcuc3RhcnRPZmZzZXQsInN0YXJ0Iik7Y2hlY2socm5nLmVuZENvbnRhaW5lcixybmcuZW5kT2Zmc2V0LCJlbmQiKX12YXIgd2luPWRvbVV0aWxzLmdldFdpbmRvdyh0aGlzLmRvY3VtZW50KSxzZWw9d2luLmdldFNlbGVjdGlvbigpLHR4dE5vZGU7YnJvd3Nlci5nZWNrbz90aGlzLmJvZHkuZm9jdXMoKTp3aW4uZm9jdXMoKTtpZihzZWwpe3NlbC5yZW1vdmVBbGxSYW5nZXMoKTtpZih0aGlzLmNvbGxhcHNlZCYmIW5vdEluc2VydEZpbGxEYXRhKXt2YXIgc3RhcnQ9dGhpcy5zdGFydENvbnRhaW5lcixjaGlsZD1zdGFydDtpZihzdGFydC5ub2RlVHlwZT09MSl7Y2hpbGQ9c3RhcnQuY2hpbGROb2Rlc1t0aGlzLnN0YXJ0T2Zmc2V0XX1pZighKHN0YXJ0Lm5vZGVUeXBlPT0zJiZ0aGlzLnN0YXJ0T2Zmc2V0KSYmKGNoaWxkPyghY2hpbGQucHJldmlvdXNTaWJsaW5nfHxjaGlsZC5wcmV2aW91c1NpYmxpbmcubm9kZVR5cGUhPTMpOighc3RhcnQubGFzdENoaWxkfHxzdGFydC5sYXN0Q2hpbGQubm9kZVR5cGUhPTMpKSl7dHh0Tm9kZT10aGlzLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGZpbGxDaGFyKTt0aGlzLmluc2VydE5vZGUodHh0Tm9kZSk7cmVtb3ZlRmlsbERhdGEodGhpcy5kb2N1bWVudCx0eHROb2RlKTttZXJnZVNpYmxpbmcodHh0Tm9kZSwicHJldmlvdXNTaWJsaW5nIik7bWVyZ2VTaWJsaW5nKHR4dE5vZGUsIm5leHRTaWJsaW5nIik7ZmlsbERhdGE9dHh0Tm9kZTt0aGlzLnNldFN0YXJ0KHR4dE5vZGUsYnJvd3Nlci53ZWJraXQ/MTowKS5jb2xsYXBzZSh0cnVlKX19dmFyIG5hdGl2ZVJhbmdlPXRoaXMuZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtpZih0aGlzLmNvbGxhcHNlZCYmYnJvd3Nlci5vcGVyYSYmdGhpcy5zdGFydENvbnRhaW5lci5ub2RlVHlwZT09MSl7dmFyIGNoaWxkPXRoaXMuc3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1t0aGlzLnN0YXJ0T2Zmc2V0XTtpZighY2hpbGQpe2NoaWxkPXRoaXMuc3RhcnRDb250YWluZXIubGFzdENoaWxkO2lmKGNoaWxkJiZkb21VdGlscy5pc0JyKGNoaWxkKSl7dGhpcy5zZXRTdGFydEJlZm9yZShjaGlsZCkuY29sbGFwc2UodHJ1ZSl9fWVsc2V7d2hpbGUoY2hpbGQmJmRvbVV0aWxzLmlzQmxvY2tFbG0oY2hpbGQpKXtpZihjaGlsZC5ub2RlVHlwZT09MSYmY2hpbGQuY2hpbGROb2Rlc1swXSl7Y2hpbGQ9Y2hpbGQuY2hpbGROb2Rlc1swXX1lbHNle2JyZWFrfX1jaGlsZCYmdGhpcy5zZXRTdGFydEJlZm9yZShjaGlsZCkuY29sbGFwc2UodHJ1ZSl9fWNoZWNrT2Zmc2V0KHRoaXMpO25hdGl2ZVJhbmdlLnNldFN0YXJ0KHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5zdGFydE9mZnNldCk7bmF0aXZlUmFuZ2Uuc2V0RW5kKHRoaXMuZW5kQ29udGFpbmVyLHRoaXMuZW5kT2Zmc2V0KTtzZWwuYWRkUmFuZ2UobmF0aXZlUmFuZ2UpfXJldHVybiB0aGlzfSxjcmVhdGVBZGRyZXNzOmZ1bmN0aW9uKGlnbm9yZUVuZCxpZ25vcmVUeHQpe3ZhciBhZGRyPXt9LG1lPXRoaXM7ZnVuY3Rpb24gZ2V0QWRkcmVzcyhpc1N0YXJ0KXt2YXIgbm9kZT1pc1N0YXJ0P21lLnN0YXJ0Q29udGFpbmVyOm1lLmVuZENvbnRhaW5lcjt2YXIgcGFyZW50cz1kb21VdGlscy5maW5kUGFyZW50cyhub2RlLHRydWUsZnVuY3Rpb24obm9kZSl7cmV0dXJuICFkb21VdGlscy5pc0JvZHkobm9kZSl9KSxhZGRycz1bXTtmb3IodmFyIGk9MCxjaTtjaT1wYXJlbnRzW2krK107KXthZGRycy5wdXNoKGRvbVV0aWxzLmdldE5vZGVJbmRleChjaSxpZ25vcmVUeHQpKX12YXIgZmlyc3RJbmRleD0wO2lmKGlnbm9yZVR4dCl7aWYobm9kZS5ub2RlVHlwZT09Myl7dmFyIHRtcE5vZGU9bm9kZS5wcmV2aW91c1NpYmxpbmc7d2hpbGUodG1wTm9kZSYmdG1wTm9kZS5ub2RlVHlwZT09Myl7Zmlyc3RJbmRleCs9dG1wTm9kZS5ub2RlVmFsdWUucmVwbGFjZShmaWxsQ2hhclJlZywiIikubGVuZ3RoO3RtcE5vZGU9dG1wTm9kZS5wcmV2aW91c1NpYmxpbmd9Zmlyc3RJbmRleCs9KGlzU3RhcnQ/bWUuc3RhcnRPZmZzZXQ6bWUuZW5kT2Zmc2V0KX1lbHNle25vZGU9bm9kZS5jaGlsZE5vZGVzW2lzU3RhcnQ/bWUuc3RhcnRPZmZzZXQ6bWUuZW5kT2Zmc2V0XTtpZihub2RlKXtmaXJzdEluZGV4PWRvbVV0aWxzLmdldE5vZGVJbmRleChub2RlLGlnbm9yZVR4dCl9ZWxzZXtub2RlPWlzU3RhcnQ/bWUuc3RhcnRDb250YWluZXI6bWUuZW5kQ29udGFpbmVyO3ZhciBmaXJzdD1ub2RlLmZpcnN0Q2hpbGQ7d2hpbGUoZmlyc3Qpe2lmKGRvbVV0aWxzLmlzRmlsbENoYXIoZmlyc3QpKXtmaXJzdD1maXJzdC5uZXh0U2libGluZztjb250aW51ZX1maXJzdEluZGV4Kys7aWYoZmlyc3Qubm9kZVR5cGU9PTMpe3doaWxlKGZpcnN0JiZmaXJzdC5ub2RlVHlwZT09Myl7Zmlyc3Q9Zmlyc3QubmV4dFNpYmxpbmd9fWVsc2V7Zmlyc3Q9Zmlyc3QubmV4dFNpYmxpbmd9fX19fWVsc2V7Zmlyc3RJbmRleD1pc1N0YXJ0P2RvbVV0aWxzLmlzRmlsbENoYXIobm9kZSk/MDptZS5zdGFydE9mZnNldDptZS5lbmRPZmZzZXR9aWYoZmlyc3RJbmRleDwwKXtmaXJzdEluZGV4PTB9YWRkcnMucHVzaChmaXJzdEluZGV4KTtyZXR1cm4gYWRkcnN9YWRkci5zdGFydEFkZHJlc3M9Z2V0QWRkcmVzcyh0cnVlKTtpZighaWdub3JlRW5kKXthZGRyLmVuZEFkZHJlc3M9bWUuY29sbGFwc2VkP1tdLmNvbmNhdChhZGRyLnN0YXJ0QWRkcmVzcyk6Z2V0QWRkcmVzcygpfXJldHVybiBhZGRyfSxtb3ZlVG9BZGRyZXNzOmZ1bmN0aW9uKGFkZHIsaWdub3JlRW5kKXt2YXIgbWU9dGhpcztmdW5jdGlvbiBnZXROb2RlKGFkZHJlc3MsaXNTdGFydCl7dmFyIHRtcE5vZGU9bWUuYm9keSxwYXJlbnROb2RlLG9mZnNldDtmb3IodmFyIGk9MCxjaSxsPWFkZHJlc3MubGVuZ3RoO2k8bDtpKyspe2NpPWFkZHJlc3NbaV07cGFyZW50Tm9kZT10bXBOb2RlO3RtcE5vZGU9dG1wTm9kZS5jaGlsZE5vZGVzW2NpXTtpZighdG1wTm9kZSl7b2Zmc2V0PWNpO2JyZWFrfX1pZihpc1N0YXJ0KXtpZih0bXBOb2RlKXttZS5zZXRTdGFydEJlZm9yZSh0bXBOb2RlKX1lbHNle21lLnNldFN0YXJ0KHBhcmVudE5vZGUsb2Zmc2V0KX19ZWxzZXtpZih0bXBOb2RlKXttZS5zZXRFbmRCZWZvcmUodG1wTm9kZSl9ZWxzZXttZS5zZXRFbmQocGFyZW50Tm9kZSxvZmZzZXQpfX19Z2V0Tm9kZShhZGRyLnN0YXJ0QWRkcmVzcyx0cnVlKTshaWdub3JlRW5kJiZhZGRyLmVuZEFkZHJlc3MmJmdldE5vZGUoYWRkci5lbmRBZGRyZXNzKTtyZXR1cm4gbWV9LGVxdWFsczpmdW5jdGlvbihybmcpe2Zvcih2YXIgcCBpbiB0aGlzKXtpZih0aGlzLmhhc093blByb3BlcnR5KHApKXtpZih0aGlzW3BdIT09cm5nW3BdKXtyZXR1cm4gZmFsc2V9fX1yZXR1cm4gdHJ1ZX0sc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oKXt2YXIgJHNwYW49JCgnPHNwYW4gc3R5bGU9InBhZGRpbmc6MDttYXJnaW46MDtkaXNwbGF5OmJsb2NrO2JvcmRlcjowIj4mbmJzcDs8L3NwYW4+Jyk7dGhpcy5jbG9uZVJhbmdlKCkuaW5zZXJ0Tm9kZSgkc3Bhbi5nZXQoMCkpO3ZhciB3aW5TY3JvbGxUb3A9JCh3aW5kb3cpLnNjcm9sbFRvcCgpLHdpbkhlaWdodD0kKHdpbmRvdykuaGVpZ2h0KCksc3BhblRvcD0kc3Bhbi5vZmZzZXQoKS50b3A7aWYoc3BhblRvcDx3aW5TY3JvbGxUb3Atd2luSGVpZ2h0fHxzcGFuVG9wPndpblNjcm9sbFRvcCt3aW5IZWlnaHQpe2lmKHNwYW5Ub3A+d2luU2Nyb2xsVG9wK3dpbkhlaWdodCl7d2luZG93LnNjcm9sbFRvKDAsc3BhblRvcC13aW5IZWlnaHQrJHNwYW4uaGVpZ2h0KCkpfWVsc2V7d2luZG93LnNjcm9sbFRvKDAsd2luU2Nyb2xsVG9wLXNwYW5Ub3ApfX0kc3Bhbi5yZW1vdmUoKX0sZ2V0T2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIGJrPXRoaXMuY3JlYXRlQm9va21hcmsoKTt2YXIgb2Zmc2V0PSQoYmsuc3RhcnQpLmNzcygiZGlzcGxheSIsImlubGluZS1ibG9jayIpLm9mZnNldCgpO3RoaXMubW92ZVRvQm9va21hcmsoYmspO3JldHVybiBvZmZzZXR9fX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZ2V0Qm91bmRhcnlJbmZvcm1hdGlvbihyYW5nZSxzdGFydCl7dmFyIGdldEluZGV4PWRvbVV0aWxzLmdldE5vZGVJbmRleDtyYW5nZT1yYW5nZS5kdXBsaWNhdGUoKTtyYW5nZS5jb2xsYXBzZShzdGFydCk7dmFyIHBhcmVudD1yYW5nZS5wYXJlbnRFbGVtZW50KCk7aWYoIXBhcmVudC5oYXNDaGlsZE5vZGVzKCkpe3JldHVybntjb250YWluZXI6cGFyZW50LG9mZnNldDowfX12YXIgc2libGluZ3M9cGFyZW50LmNoaWxkcmVuLGNoaWxkLHRlc3RSYW5nZT1yYW5nZS5kdXBsaWNhdGUoKSxzdGFydEluZGV4PTAsZW5kSW5kZXg9c2libGluZ3MubGVuZ3RoLTEsaW5kZXg9LTEsZGlzdGFuY2U7d2hpbGUoc3RhcnRJbmRleDw9ZW5kSW5kZXgpe2luZGV4PU1hdGguZmxvb3IoKHN0YXJ0SW5kZXgrZW5kSW5kZXgpLzIpO2NoaWxkPXNpYmxpbmdzW2luZGV4XTt0ZXN0UmFuZ2UubW92ZVRvRWxlbWVudFRleHQoY2hpbGQpO3ZhciBwb3NpdGlvbj10ZXN0UmFuZ2UuY29tcGFyZUVuZFBvaW50cygiU3RhcnRUb1N0YXJ0IixyYW5nZSk7aWYocG9zaXRpb24+MCl7ZW5kSW5kZXg9aW5kZXgtMX1lbHNle2lmKHBvc2l0aW9uPDApe3N0YXJ0SW5kZXg9aW5kZXgrMX1lbHNle3JldHVybntjb250YWluZXI6cGFyZW50LG9mZnNldDpnZXRJbmRleChjaGlsZCl9fX19aWYoaW5kZXg9PS0xKXt0ZXN0UmFuZ2UubW92ZVRvRWxlbWVudFRleHQocGFyZW50KTt0ZXN0UmFuZ2Uuc2V0RW5kUG9pbnQoIlN0YXJ0VG9TdGFydCIscmFuZ2UpO2Rpc3RhbmNlPXRlc3RSYW5nZS50ZXh0LnJlcGxhY2UoLyhcclxufFxyKS9nLCJcbiIpLmxlbmd0aDtzaWJsaW5ncz1wYXJlbnQuY2hpbGROb2RlcztpZighZGlzdGFuY2Upe2NoaWxkPXNpYmxpbmdzW3NpYmxpbmdzLmxlbmd0aC0xXTtyZXR1cm57Y29udGFpbmVyOmNoaWxkLG9mZnNldDpjaGlsZC5ub2RlVmFsdWUubGVuZ3RofX12YXIgaT1zaWJsaW5ncy5sZW5ndGg7d2hpbGUoZGlzdGFuY2U+MCl7ZGlzdGFuY2UtPXNpYmxpbmdzWy0taV0ubm9kZVZhbHVlLmxlbmd0aH1yZXR1cm57Y29udGFpbmVyOnNpYmxpbmdzW2ldLG9mZnNldDotZGlzdGFuY2V9fXRlc3RSYW5nZS5jb2xsYXBzZShwb3NpdGlvbj4wKTt0ZXN0UmFuZ2Uuc2V0RW5kUG9pbnQocG9zaXRpb24+MD8iU3RhcnRUb1N0YXJ0IjoiRW5kVG9TdGFydCIscmFuZ2UpO2Rpc3RhbmNlPXRlc3RSYW5nZS50ZXh0LnJlcGxhY2UoLyhcclxufFxyKS9nLCJcbiIpLmxlbmd0aDtpZighZGlzdGFuY2Upe3JldHVybiBkdGQuJGVtcHR5W2NoaWxkLnRhZ05hbWVdfHxkdGQuJG5vbkNoaWxkW2NoaWxkLnRhZ05hbWVdP3tjb250YWluZXI6cGFyZW50LG9mZnNldDpnZXRJbmRleChjaGlsZCkrKHBvc2l0aW9uPjA/MDoxKX06e2NvbnRhaW5lcjpjaGlsZCxvZmZzZXQ6cG9zaXRpb24+MD8wOmNoaWxkLmNoaWxkTm9kZXMubGVuZ3RofX13aGlsZShkaXN0YW5jZT4wKXt0cnl7dmFyIHByZT1jaGlsZDtjaGlsZD1jaGlsZFtwb3NpdGlvbj4wPyJwcmV2aW91c1NpYmxpbmciOiJuZXh0U2libGluZyJdO2Rpc3RhbmNlLT1jaGlsZC5ub2RlVmFsdWUubGVuZ3RofWNhdGNoKGUpe3JldHVybntjb250YWluZXI6cGFyZW50LG9mZnNldDpnZXRJbmRleChwcmUpfX19cmV0dXJue2NvbnRhaW5lcjpjaGlsZCxvZmZzZXQ6cG9zaXRpb24+MD8tZGlzdGFuY2U6Y2hpbGQubm9kZVZhbHVlLmxlbmd0aCtkaXN0YW5jZX19ZnVuY3Rpb24gdHJhbnNmb3JtSUVSYW5nZVRvUmFuZ2UoaWVSYW5nZSxyYW5nZSl7aWYoaWVSYW5nZS5pdGVtKXtyYW5nZS5zZWxlY3ROb2RlKGllUmFuZ2UuaXRlbSgwKSl9ZWxzZXt2YXIgYmk9Z2V0Qm91bmRhcnlJbmZvcm1hdGlvbihpZVJhbmdlLHRydWUpO3JhbmdlLnNldFN0YXJ0KGJpLmNvbnRhaW5lcixiaS5vZmZzZXQpO2lmKGllUmFuZ2UuY29tcGFyZUVuZFBvaW50cygiU3RhcnRUb0VuZCIsaWVSYW5nZSkhPTApe2JpPWdldEJvdW5kYXJ5SW5mb3JtYXRpb24oaWVSYW5nZSxmYWxzZSk7cmFuZ2Uuc2V0RW5kKGJpLmNvbnRhaW5lcixiaS5vZmZzZXQpfX1yZXR1cm4gcmFuZ2V9ZnVuY3Rpb24gX2dldElFUmFuZ2Uoc2VsLHR4dFJhbmdlKXt2YXIgaWVSYW5nZTt0cnl7aWVSYW5nZT1zZWwuZ2V0TmF0aXZlKHR4dFJhbmdlKS5jcmVhdGVSYW5nZSgpfWNhdGNoKGUpe3JldHVybiBudWxsfXZhciBlbD1pZVJhbmdlLml0ZW0/aWVSYW5nZS5pdGVtKDApOmllUmFuZ2UucGFyZW50RWxlbWVudCgpO2lmKChlbC5vd25lckRvY3VtZW50fHxlbCk9PT1zZWwuZG9jdW1lbnQpe3JldHVybiBpZVJhbmdlfXJldHVybiBudWxsfXZhciBTZWxlY3Rpb249ZG9tLlNlbGVjdGlvbj1mdW5jdGlvbihkb2MsYm9keSl7dmFyIG1lPXRoaXM7bWUuZG9jdW1lbnQ9ZG9jO21lLmJvZHk9Ym9keTtpZihicm93c2VyLmllOWJlbG93KXskKGJvZHkpLm9uKCJiZWZvcmVkZWFjdGl2YXRlIixmdW5jdGlvbigpe21lLl9iYWtJRVJhbmdlPW1lLmdldElFUmFuZ2UoKX0pLm9uKCJhY3RpdmF0ZSIsZnVuY3Rpb24oKXt0cnl7dmFyIGllTmF0aXZSbmc9X2dldElFUmFuZ2UobWUpO2lmKCghaWVOYXRpdlJuZ3x8IW1lLnJhbmdlSW5Cb2R5KGllTmF0aXZSbmcpKSYmbWUuX2Jha0lFUmFuZ2Upe21lLl9iYWtJRVJhbmdlLnNlbGVjdCgpfX1jYXRjaChleCl7fW1lLl9iYWtJRVJhbmdlPW51bGx9KX19O1NlbGVjdGlvbi5wcm90b3R5cGU9e2hhc05hdGl2ZVJhbmdlOmZ1bmN0aW9uKCl7dmFyIHJuZztpZighYnJvd3Nlci5pZXx8YnJvd3Nlci5pZTlhYm92ZSl7dmFyIG5hdGl2ZVNlbD10aGlzLmdldE5hdGl2ZSgpO2lmKCFuYXRpdmVTZWwucmFuZ2VDb3VudCl7cmV0dXJuIGZhbHNlfXJuZz1uYXRpdmVTZWwuZ2V0UmFuZ2VBdCgwKX1lbHNle3JuZz1fZ2V0SUVSYW5nZSh0aGlzKX1yZXR1cm4gdGhpcy5yYW5nZUluQm9keShybmcpfSxnZXROYXRpdmU6ZnVuY3Rpb24odHh0UmFuZ2Upe3ZhciBkb2M9dGhpcy5kb2N1bWVudDt0cnl7cmV0dXJuICFkb2M/bnVsbDpicm93c2VyLmllOWJlbG93fHx0eHRSYW5nZT9kb2Muc2VsZWN0aW9uOmRvbVV0aWxzLmdldFdpbmRvdyhkb2MpLmdldFNlbGVjdGlvbigpfWNhdGNoKGUpe3JldHVybiBudWxsfX0sZ2V0SUVSYW5nZTpmdW5jdGlvbih0eHRSYW5nZSl7dmFyIGllUmFuZ2U9X2dldElFUmFuZ2UodGhpcyx0eHRSYW5nZSk7aWYoIWllUmFuZ2V8fCF0aGlzLnJhbmdlSW5Cb2R5KGllUmFuZ2UsdHh0UmFuZ2UpKXtpZih0aGlzLl9iYWtJRVJhbmdlKXtyZXR1cm4gdGhpcy5fYmFrSUVSYW5nZX19cmV0dXJuIGllUmFuZ2V9LHJhbmdlSW5Cb2R5OmZ1bmN0aW9uKHJuZyx0eHRSYW5nZSl7dmFyIG5vZGU9YnJvd3Nlci5pZTliZWxvd3x8dHh0UmFuZ2U/cm5nLml0ZW0/cm5nLml0ZW0oKTpybmcucGFyZW50RWxlbWVudCgpOnJuZy5zdGFydENvbnRhaW5lcjtyZXR1cm4gbm9kZT09PXRoaXMuYm9keXx8ZG9tVXRpbHMuaW5Eb2Mobm9kZSx0aGlzLmJvZHkpfSxjYWNoZTpmdW5jdGlvbigpe3RoaXMuY2xlYXIoKTt0aGlzLl9jYWNoZWRSYW5nZT10aGlzLmdldFJhbmdlKCk7dGhpcy5fY2FjaGVkU3RhcnRFbGVtZW50PXRoaXMuZ2V0U3RhcnQoKTt0aGlzLl9jYWNoZWRTdGFydEVsZW1lbnRQYXRoPXRoaXMuZ2V0U3RhcnRFbGVtZW50UGF0aCgpfSxnZXRTdGFydEVsZW1lbnRQYXRoOmZ1bmN0aW9uKCl7aWYodGhpcy5fY2FjaGVkU3RhcnRFbGVtZW50UGF0aCl7cmV0dXJuIHRoaXMuX2NhY2hlZFN0YXJ0RWxlbWVudFBhdGh9dmFyIHN0YXJ0PXRoaXMuZ2V0U3RhcnQoKTtpZihzdGFydCl7cmV0dXJuIGRvbVV0aWxzLmZpbmRQYXJlbnRzKHN0YXJ0LHRydWUsbnVsbCx0cnVlKX1yZXR1cm5bXX0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLl9jYWNoZWRTdGFydEVsZW1lbnRQYXRoPXRoaXMuX2NhY2hlZFJhbmdlPXRoaXMuX2NhY2hlZFN0YXJ0RWxlbWVudD1udWxsfSxpc0ZvY3VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzTmF0aXZlUmFuZ2UoKX0sZ2V0UmFuZ2U6ZnVuY3Rpb24oKXt2YXIgbWU9dGhpcztmdW5jdGlvbiBvcHRpbXplKHJhbmdlKXt2YXIgY2hpbGQ9bWUuYm9keS5maXJzdENoaWxkLGNvbGxhcHNlZD1yYW5nZS5jb2xsYXBzZWQ7d2hpbGUoY2hpbGQmJmNoaWxkLmZpcnN0Q2hpbGQpe3JhbmdlLnNldFN0YXJ0KGNoaWxkLDApO2NoaWxkPWNoaWxkLmZpcnN0Q2hpbGR9aWYoIXJhbmdlLnN0YXJ0Q29udGFpbmVyKXtyYW5nZS5zZXRTdGFydChtZS5ib2R5LDApfWlmKGNvbGxhcHNlZCl7cmFuZ2UuY29sbGFwc2UodHJ1ZSl9fWlmKG1lLl9jYWNoZWRSYW5nZSE9bnVsbCl7cmV0dXJuIHRoaXMuX2NhY2hlZFJhbmdlfXZhciByYW5nZT1uZXcgZG9tLlJhbmdlKG1lLmRvY3VtZW50LG1lLmJvZHkpO2lmKGJyb3dzZXIuaWU5YmVsb3cpe3ZhciBuYXRpdmVSYW5nZT1tZS5nZXRJRVJhbmdlKCk7aWYobmF0aXZlUmFuZ2UmJnRoaXMucmFuZ2VJbkJvZHkobmF0aXZlUmFuZ2UpKXt0cnl7dHJhbnNmb3JtSUVSYW5nZVRvUmFuZ2UobmF0aXZlUmFuZ2UscmFuZ2UpfWNhdGNoKGUpe29wdGltemUocmFuZ2UpfX1lbHNle29wdGltemUocmFuZ2UpfX1lbHNle3ZhciBzZWw9bWUuZ2V0TmF0aXZlKCk7aWYoc2VsJiZzZWwucmFuZ2VDb3VudCYmbWUucmFuZ2VJbkJvZHkoc2VsLmdldFJhbmdlQXQoMCkpKXt2YXIgZmlyc3RSYW5nZT1zZWwuZ2V0UmFuZ2VBdCgwKTt2YXIgbGFzdFJhbmdlPXNlbC5nZXRSYW5nZUF0KHNlbC5yYW5nZUNvdW50LTEpO3JhbmdlLnNldFN0YXJ0KGZpcnN0UmFuZ2Uuc3RhcnRDb250YWluZXIsZmlyc3RSYW5nZS5zdGFydE9mZnNldCkuc2V0RW5kKGxhc3RSYW5nZS5lbmRDb250YWluZXIsbGFzdFJhbmdlLmVuZE9mZnNldCk7aWYocmFuZ2UuY29sbGFwc2VkJiZkb21VdGlscy5pc0JvZHkocmFuZ2Uuc3RhcnRDb250YWluZXIpJiYhcmFuZ2Uuc3RhcnRPZmZzZXQpe29wdGltemUocmFuZ2UpfX1lbHNle2lmKHRoaXMuX2Jha1JhbmdlJiYodGhpcy5fYmFrUmFuZ2Uuc3RhcnRDb250YWluZXI9PT10aGlzLmJvZHl8fGRvbVV0aWxzLmluRG9jKHRoaXMuX2Jha1JhbmdlLnN0YXJ0Q29udGFpbmVyLHRoaXMuYm9keSkpKXtyZXR1cm4gdGhpcy5fYmFrUmFuZ2V9b3B0aW16ZShyYW5nZSl9fXJldHVybiB0aGlzLl9iYWtSYW5nZT1yYW5nZX0sZ2V0U3RhcnQ6ZnVuY3Rpb24oKXtpZih0aGlzLl9jYWNoZWRTdGFydEVsZW1lbnQpe3JldHVybiB0aGlzLl9jYWNoZWRTdGFydEVsZW1lbnR9dmFyIHJhbmdlPWJyb3dzZXIuaWU5YmVsb3c/dGhpcy5nZXRJRVJhbmdlKCk6dGhpcy5nZXRSYW5nZSgpLHRtcFJhbmdlLHN0YXJ0LHRtcCxwYXJlbnQ7aWYoYnJvd3Nlci5pZTliZWxvdyl7aWYoIXJhbmdlKXtyZXR1cm4gdGhpcy5kb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGR9aWYocmFuZ2UuaXRlbSl7cmV0dXJuIHJhbmdlLml0ZW0oMCl9dG1wUmFuZ2U9cmFuZ2UuZHVwbGljYXRlKCk7dG1wUmFuZ2UudGV4dC5sZW5ndGg+MCYmdG1wUmFuZ2UubW92ZVN0YXJ0KCJjaGFyYWN0ZXIiLDEpO3RtcFJhbmdlLmNvbGxhcHNlKDEpO3N0YXJ0PXRtcFJhbmdlLnBhcmVudEVsZW1lbnQoKTtwYXJlbnQ9dG1wPXJhbmdlLnBhcmVudEVsZW1lbnQoKTt3aGlsZSh0bXA9dG1wLnBhcmVudE5vZGUpe2lmKHRtcD09c3RhcnQpe3N0YXJ0PXBhcmVudDticmVha319fWVsc2V7c3RhcnQ9cmFuZ2Uuc3RhcnRDb250YWluZXI7aWYoc3RhcnQubm9kZVR5cGU9PTEmJnN0YXJ0Lmhhc0NoaWxkTm9kZXMoKSl7c3RhcnQ9c3RhcnQuY2hpbGROb2Rlc1tNYXRoLm1pbihzdGFydC5jaGlsZE5vZGVzLmxlbmd0aC0xLHJhbmdlLnN0YXJ0T2Zmc2V0KV19aWYoc3RhcnQubm9kZVR5cGU9PTMpe3JldHVybiBzdGFydC5wYXJlbnROb2RlfX1yZXR1cm4gc3RhcnR9LGdldFRleHQ6ZnVuY3Rpb24oKXt2YXIgbmF0aXZlU2VsLG5hdGl2ZVJhbmdlO2lmKHRoaXMuaXNGb2N1cygpJiYobmF0aXZlU2VsPXRoaXMuZ2V0TmF0aXZlKCkpKXtuYXRpdmVSYW5nZT1icm93c2VyLmllOWJlbG93P25hdGl2ZVNlbC5jcmVhdGVSYW5nZSgpOm5hdGl2ZVNlbC5nZXRSYW5nZUF0KDApO3JldHVybiBicm93c2VyLmllOWJlbG93P25hdGl2ZVJhbmdlLnRleHQ6bmF0aXZlUmFuZ2UudG9TdHJpbmcoKX1yZXR1cm4iIn19fSkoKTsoZnVuY3Rpb24oKXt2YXIgdWlkPTAsX3NlbGVjdGlvbkNoYW5nZVRpbWVyO2Z1bmN0aW9uIHNldFZhbHVlKGZvcm0sZWRpdG9yKXt2YXIgdGV4dGFyZWE7aWYoZWRpdG9yLnRleHRhcmVhKXtpZih1dGlscy5pc1N0cmluZyhlZGl0b3IudGV4dGFyZWEpKXtmb3IodmFyIGk9MCx0aSx0aXM9ZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZm9ybSwidGV4dGFyZWEiKTt0aT10aXNbaSsrXTspe2lmKHRpLmlkPT0idW1lZGl0b3JfdGV4dGFyZWFfIitlZGl0b3Iub3B0aW9ucy50ZXh0YXJlYSl7dGV4dGFyZWE9dGk7YnJlYWt9fX1lbHNle3RleHRhcmVhPWVkaXRvci50ZXh0YXJlYX19aWYoIXRleHRhcmVhKXtmb3JtLmFwcGVuZENoaWxkKHRleHRhcmVhPWRvbVV0aWxzLmNyZWF0ZUVsZW1lbnQoZG9jdW1lbnQsInRleHRhcmVhIix7bmFtZTplZGl0b3Iub3B0aW9ucy50ZXh0YXJlYSxpZDoidW1lZGl0b3JfdGV4dGFyZWFfIitlZGl0b3Iub3B0aW9ucy50ZXh0YXJlYSxzdHlsZToiZGlzcGxheTpub25lIn0pKTtlZGl0b3IudGV4dGFyZWE9dGV4dGFyZWF9dGV4dGFyZWEudmFsdWU9ZWRpdG9yLmhhc0NvbnRlbnRzKCk/KGVkaXRvci5vcHRpb25zLmFsbEh0bWxFbmFibGVkP2VkaXRvci5nZXRBbGxIdG1sKCk6ZWRpdG9yLmdldENvbnRlbnQobnVsbCxudWxsLHRydWUpKToiIn1mdW5jdGlvbiBsb2FkUGx1Z2lucyhtZSl7Zm9yKHZhciBwaSBpbiBVTS5wbHVnaW5zKXtpZihtZS5vcHRpb25zLmV4Y2x1ZGVQbHVnaW5zLmluZGV4T2YocGkpPT0tMSl7VU0ucGx1Z2luc1twaV0uY2FsbChtZSk7bWUucGx1Z2luc1twaV09MX19bWUubGFuZ0lzUmVhZHk9dHJ1ZTttZS5maXJlRXZlbnQoImxhbmdSZWFkeSIpfWZ1bmN0aW9uIGNoZWNrQ3VyTGFuZyhJMThOKXtmb3IodmFyIGxhbmcgaW4gSTE4Til7cmV0dXJuIGxhbmd9fXZhciBFZGl0b3I9VU0uRWRpdG9yPWZ1bmN0aW9uKG9wdGlvbnMpe3ZhciBtZT10aGlzO21lLnVpZD11aWQrKztFdmVudEJhc2UuY2FsbChtZSk7bWUuY29tbWFuZHM9e307bWUub3B0aW9ucz11dGlscy5leHRlbmQodXRpbHMuY2xvbmUob3B0aW9uc3x8e30pLFVNRURJVE9SX0NPTkZJRyx0cnVlKTttZS5zaG9ydGN1dGtleXM9e307bWUuaW5wdXRSdWxlcz1bXTttZS5vdXRwdXRSdWxlcz1bXTttZS5zZXRPcHQoe2lzU2hvdzp0cnVlLGluaXRpYWxDb250ZW50OiIiLGluaXRpYWxTdHlsZToiIixhdXRvQ2xlYXJpbml0aWFsQ29udGVudDpmYWxzZSx0ZXh0YXJlYToiZWRpdG9yVmFsdWUiLGZvY3VzOmZhbHNlLGZvY3VzSW5FbmQ6dHJ1ZSxhdXRvQ2xlYXJFbXB0eU5vZGU6dHJ1ZSxmdWxsc2NyZWVuOmZhbHNlLHJlYWRvbmx5OmZhbHNlLHpJbmRleDo5OTksZW50ZXJUYWc6InAiLGxhbmc6InpoLWNuIixsYW5nUGF0aDptZS5vcHRpb25zLlVNRURJVE9SX0hPTUVfVVJMKyJsYW5nLyIsdGhlbWU6ImRlZmF1bHQiLHRoZW1lUGF0aDptZS5vcHRpb25zLlVNRURJVE9SX0hPTUVfVVJMKyJ0aGVtZXMvIixhbGxIdG1sRW5hYmxlZDpmYWxzZSxhdXRvU3luY0RhdGE6dHJ1ZSxhdXRvSGVpZ2h0RW5hYmxlZDp0cnVlLGV4Y2x1ZGVQbHVnaW5zOiIifSk7bWUucGx1Z2lucz17fTtpZighdXRpbHMuaXNFbXB0eU9iamVjdChVTS5JMThOKSl7bWUub3B0aW9ucy5sYW5nPWNoZWNrQ3VyTGFuZyhVTS5JMThOKTtsb2FkUGx1Z2lucyhtZSl9ZWxzZXt1dGlscy5sb2FkRmlsZShkb2N1bWVudCx7c3JjOm1lLm9wdGlvbnMubGFuZ1BhdGgrbWUub3B0aW9ucy5sYW5nKyIvIittZS5vcHRpb25zLmxhbmcrIi5qcyIsdGFnOiJzY3JpcHQiLHR5cGU6InRleHQvamF2YXNjcmlwdCIsZGVmZXI6ImRlZmVyIn0sZnVuY3Rpb24oKXtsb2FkUGx1Z2lucyhtZSl9KX19O0VkaXRvci5wcm90b3R5cGU9e3JlYWR5OmZ1bmN0aW9uKGZuKXt2YXIgbWU9dGhpcztpZihmbil7bWUuaXNSZWFkeT9mbi5hcHBseShtZSk6bWUuYWRkTGlzdGVuZXIoInJlYWR5Iixmbil9fSxzZXRPcHQ6ZnVuY3Rpb24oa2V5LHZhbCl7dmFyIG9iaj17fTtpZih1dGlscy5pc1N0cmluZyhrZXkpKXtvYmpba2V5XT12YWx9ZWxzZXtvYmo9a2V5fXV0aWxzLmV4dGVuZCh0aGlzLm9wdGlvbnMsb2JqLHRydWUpfSxnZXRPcHQ6ZnVuY3Rpb24oa2V5KXtyZXR1cm4gdGhpcy5vcHRpb25zW2tleV18fCIifSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7bWUuZmlyZUV2ZW50KCJkZXN0cm95Iik7dmFyIGNvbnRhaW5lcj1tZS5jb250YWluZXIucGFyZW50Tm9kZTtpZihjb250YWluZXI9PT1kb2N1bWVudC5ib2R5KXtjb250YWluZXI9bWUuY29udGFpbmVyfXZhciB0ZXh0YXJlYT1tZS50ZXh0YXJlYTtpZighdGV4dGFyZWEpe3RleHRhcmVhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7Y29udGFpbmVyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRleHRhcmVhLGNvbnRhaW5lcil9ZWxzZXt0ZXh0YXJlYS5zdHlsZS5kaXNwbGF5PSIifXRleHRhcmVhLnN0eWxlLndpZHRoPW1lLmJvZHkub2Zmc2V0V2lkdGgrInB4Ijt0ZXh0YXJlYS5zdHlsZS5oZWlnaHQ9bWUuYm9keS5vZmZzZXRIZWlnaHQrInB4Ijt0ZXh0YXJlYS52YWx1ZT1tZS5nZXRDb250ZW50KCk7dGV4dGFyZWEuaWQ9bWUua2V5O2lmKGNvbnRhaW5lci5jb250YWlucyh0ZXh0YXJlYSkpeyQodGV4dGFyZWEpLmluc2VydEJlZm9yZShjb250YWluZXIpfWNvbnRhaW5lci5pbm5lckhUTUw9IiI7ZG9tVXRpbHMucmVtb3ZlKGNvbnRhaW5lcik7VU0uY2xlYXJDYWNoZShtZS5pZCk7Zm9yKHZhciBwIGluIG1lKXtpZihtZS5oYXNPd25Qcm9wZXJ0eShwKSl7ZGVsZXRlIHRoaXNbcF19fX0saW5pdGlhbENvbnQ6ZnVuY3Rpb24oaG9sZGVyKXtpZihob2xkZXIpe2hvbGRlci5nZXRBdHRyaWJ1dGUoIm5hbWUiKSYmKHRoaXMub3B0aW9ucy50ZXh0YXJlYT1ob2xkZXIuZ2V0QXR0cmlidXRlKCJuYW1lIikpO2lmKGhvbGRlciYmL3NjcmlwdHx0ZXh0YXJlYS9pZy50ZXN0KGhvbGRlci50YWdOYW1lKSl7dmFyIG5ld0Rpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtob2xkZXIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3RGl2LGhvbGRlcik7dGhpcy5vcHRpb25zLmluaXRpYWxDb250ZW50PVVNLmh0bWxwYXJzZXIoaG9sZGVyLnZhbHVlfHxob2xkZXIuaW5uZXJIVE1MfHx0aGlzLm9wdGlvbnMuaW5pdGlhbENvbnRlbnQpLnRvSHRtbCgpO2hvbGRlci5jbGFzc05hbWUmJihuZXdEaXYuY2xhc3NOYW1lPWhvbGRlci5jbGFzc05hbWUpO2hvbGRlci5zdHlsZS5jc3NUZXh0JiYobmV3RGl2LnN0eWxlLmNzc1RleHQ9aG9sZGVyLnN0eWxlLmNzc1RleHQpO2lmKC90ZXh0YXJlYS9pLnRlc3QoaG9sZGVyLnRhZ05hbWUpKXt0aGlzLnRleHRhcmVhPWhvbGRlcjt0aGlzLnRleHRhcmVhLnN0eWxlLmRpc3BsYXk9Im5vbmUifWVsc2V7aG9sZGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaG9sZGVyKTtob2xkZXIuaWQmJihuZXdEaXYuaWQ9aG9sZGVyLmlkKX1ob2xkZXI9bmV3RGl2O2hvbGRlci5pbm5lckhUTUw9IiJ9cmV0dXJuIGhvbGRlcn1lbHNle3JldHVybiBudWxsfX0scmVuZGVyOmZ1bmN0aW9uKGNvbnRhaW5lcil7dmFyIG1lPXRoaXMsb3B0aW9ucz1tZS5vcHRpb25zLGdldFN0eWxlVmFsdWU9ZnVuY3Rpb24oYXR0cil7cmV0dXJuIHBhcnNlSW50KCQoY29udGFpbmVyKS5jc3MoYXR0cikpfTtpZih1dGlscy5pc1N0cmluZyhjb250YWluZXIpKXtjb250YWluZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVyKX1pZihjb250YWluZXIpe3RoaXMuaWQ9Y29udGFpbmVyLmdldEF0dHJpYnV0ZSgiaWQiKTtVTS5zZXRFZGl0b3IodGhpcyk7dXRpbHMuY3NzUnVsZSgiZWR1aS1zdHlsZS1ib2R5IixtZS5vcHRpb25zLmluaXRpYWxTdHlsZSxkb2N1bWVudCk7Y29udGFpbmVyPXRoaXMuaW5pdGlhbENvbnQoY29udGFpbmVyKTtjb250YWluZXIuY2xhc3NOYW1lKz0iIGVkdWktYm9keS1jb250YWluZXIiO2lmKG9wdGlvbnMuaW5pdGlhbEZyYW1lV2lkdGgpe29wdGlvbnMubWluRnJhbWVXaWR0aD1vcHRpb25zLmluaXRpYWxGcmFtZVdpZHRofWVsc2V7b3B0aW9ucy5taW5GcmFtZVdpZHRoPW9wdGlvbnMuaW5pdGlhbEZyYW1lV2lkdGg9JChjb250YWluZXIpLndpZHRoKCl8fFVNLmRlZmF1bHRXaWR0aH1pZihvcHRpb25zLmluaXRpYWxGcmFtZUhlaWdodCl7b3B0aW9ucy5taW5GcmFtZUhlaWdodD1vcHRpb25zLmluaXRpYWxGcmFtZUhlaWdodH1lbHNle29wdGlvbnMuaW5pdGlhbEZyYW1lSGVpZ2h0PW9wdGlvbnMubWluRnJhbWVIZWlnaHQ9JChjb250YWluZXIpLmhlaWdodCgpfHxVTS5kZWZhdWx0SGVpZ2h0fWNvbnRhaW5lci5zdHlsZS53aWR0aD0vJSQvLnRlc3Qob3B0aW9ucy5pbml0aWFsRnJhbWVXaWR0aCk/IjEwMCUiOm9wdGlvbnMuaW5pdGlhbEZyYW1lV2lkdGgtZ2V0U3R5bGVWYWx1ZSgicGFkZGluZy1sZWZ0IiktZ2V0U3R5bGVWYWx1ZSgicGFkZGluZy1yaWdodCIpKyJweCI7dmFyIGhlaWdodD0vJSQvLnRlc3Qob3B0aW9ucy5pbml0aWFsRnJhbWVIZWlnaHQpPyIxMDAlIjoob3B0aW9ucy5pbml0aWFsRnJhbWVIZWlnaHQtZ2V0U3R5bGVWYWx1ZSgicGFkZGluZy10b3AiKS1nZXRTdHlsZVZhbHVlKCJwYWRkaW5nLWJvdHRvbSIpKTtpZih0aGlzLm9wdGlvbnMuYXV0b0hlaWdodEVuYWJsZWQpe2NvbnRhaW5lci5zdHlsZS5taW5IZWlnaHQ9aGVpZ2h0KyJweCI7Y29udGFpbmVyLnN0eWxlLmhlaWdodD0iIjtpZihicm93c2VyLmllJiZicm93c2VyLnZlcnNpb248PTYpe2NvbnRhaW5lci5zdHlsZS5oZWlnaHQ9aGVpZ2h0O2NvbnRhaW5lci5zdHlsZS5zZXRFeHByZXNzaW9uKCJoZWlnaHQiLCJ0aGlzLnNjcm9sbEhlaWdodCA8PSAiK2hlaWdodCsnID8gIicraGVpZ2h0KydweCIgOiAiYXV0byInKX19ZWxzZXskKGNvbnRhaW5lcikuaGVpZ2h0KGhlaWdodCl9Y29udGFpbmVyLnN0eWxlLnpJbmRleD1vcHRpb25zLnpJbmRleDt0aGlzLl9zZXR1cChjb250YWluZXIpfX0sX3NldHVwOmZ1bmN0aW9uKGNvbnQpe3ZhciBtZT10aGlzLG9wdGlvbnM9bWUub3B0aW9ucztjb250LmNvbnRlbnRFZGl0YWJsZT10cnVlO2RvY3VtZW50LmJvZHkuc3BlbGxjaGVjaz1mYWxzZTttZS5kb2N1bWVudD1kb2N1bWVudDttZS53aW5kb3c9ZG9jdW1lbnQuZGVmYXVsdFZpZXd8fGRvY3VtZW50LnBhcmVudFdpbmRvdzttZS5ib2R5PWNvbnQ7bWUuJGJvZHk9JChjb250KTttZS5zZWxlY3Rpb249bmV3IGRvbS5TZWxlY3Rpb24oZG9jdW1lbnQsbWUuYm9keSk7bWUuX2lzRW5hYmxlZD1mYWxzZTt2YXIgZ2Vja29TZWw7aWYoYnJvd3Nlci5nZWNrbyYmKGdlY2tvU2VsPXRoaXMuc2VsZWN0aW9uLmdldE5hdGl2ZSgpKSl7Z2Vja29TZWwucmVtb3ZlQWxsUmFuZ2VzKCl9dGhpcy5faW5pdEV2ZW50cygpO2Zvcih2YXIgZm9ybT1jb250LnBhcmVudE5vZGU7Zm9ybSYmIWRvbVV0aWxzLmlzQm9keShmb3JtKTtmb3JtPWZvcm0ucGFyZW50Tm9kZSl7aWYoZm9ybS50YWdOYW1lPT0iRk9STSIpe21lLmZvcm09Zm9ybTtpZihtZS5vcHRpb25zLmF1dG9TeW5jRGF0YSl7JChjb250KS5vbigiYmx1ciIsZnVuY3Rpb24oKXtzZXRWYWx1ZShmb3JtLG1lKX0pfWVsc2V7JChmb3JtKS5vbigic3VibWl0IixmdW5jdGlvbigpe3NldFZhbHVlKHRoaXMsbWUpfSl9YnJlYWt9fWlmKG9wdGlvbnMuaW5pdGlhbENvbnRlbnQpe2lmKG9wdGlvbnMuYXV0b0NsZWFyaW5pdGlhbENvbnRlbnQpe3ZhciBvbGRFeGVjQ29tbWFuZD1tZS5leGVjQ29tbWFuZDttZS5leGVjQ29tbWFuZD1mdW5jdGlvbigpe21lLmZpcmVFdmVudCgiZmlyc3RCZWZvcmVFeGVjQ29tbWFuZCIpO3JldHVybiBvbGRFeGVjQ29tbWFuZC5hcHBseShtZSxhcmd1bWVudHMpfTt0aGlzLl9zZXREZWZhdWx0Q29udGVudChvcHRpb25zLmluaXRpYWxDb250ZW50KX1lbHNle3RoaXMuc2V0Q29udGVudChvcHRpb25zLmluaXRpYWxDb250ZW50LGZhbHNlLHRydWUpfX1pZihkb21VdGlscy5pc0VtcHR5Tm9kZShtZS5ib2R5KSl7bWUuYm9keS5pbm5lckhUTUw9IjxwPiIrKGJyb3dzZXIuaWU/IiI6Ijxici8+IikrIjwvcD4ifWlmKG9wdGlvbnMuZm9jdXMpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXttZS5mb2N1cyhtZS5vcHRpb25zLmZvY3VzSW5FbmQpOyFtZS5vcHRpb25zLmF1dG9DbGVhcmluaXRpYWxDb250ZW50JiZtZS5fc2VsZWN0aW9uQ2hhbmdlKCl9LDApfWlmKCFtZS5jb250YWluZXIpe21lLmNvbnRhaW5lcj1jb250LnBhcmVudE5vZGV9bWUuX2JpbmRzaG9ydGN1dEtleXMoKTttZS5pc1JlYWR5PTE7bWUuZmlyZUV2ZW50KCJyZWFkeSIpO29wdGlvbnMub25yZWFkeSYmb3B0aW9ucy5vbnJlYWR5LmNhbGwobWUpO2lmKCFicm93c2VyLmllfHxicm93c2VyLmllOWFib3ZlKXskKG1lLmJvZHkpLm9uKCJibHVyIGZvY3VzIixmdW5jdGlvbihlKXt2YXIgblNlbD1tZS5zZWxlY3Rpb24uZ2V0TmF0aXZlKCk7aWYoZS50eXBlPT0iYmx1ciIpe2lmKG5TZWwucmFuZ2VDb3VudD4wKXttZS5fYmFrUmFuZ2U9blNlbC5nZXRSYW5nZUF0KDApfX1lbHNle3RyeXttZS5fYmFrUmFuZ2UmJm5TZWwuYWRkUmFuZ2UobWUuX2Jha1JhbmdlKX1jYXRjaChlKXt9bWUuX2Jha1JhbmdlPW51bGx9fSl9IW9wdGlvbnMuaXNTaG93JiZtZS5zZXRIaWRlKCk7b3B0aW9ucy5yZWFkb25seSYmbWUuc2V0RGlzYWJsZWQoKX0sc3luYzpmdW5jdGlvbihmb3JtSWQpe3ZhciBtZT10aGlzLGZvcm09Zm9ybUlkP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZvcm1JZCk6ZG9tVXRpbHMuZmluZFBhcmVudChtZS5ib2R5LnBhcmVudE5vZGUsZnVuY3Rpb24obm9kZSl7cmV0dXJuIG5vZGUudGFnTmFtZT09IkZPUk0ifSx0cnVlKTtmb3JtJiZzZXRWYWx1ZShmb3JtLG1lKX0sc2V0SGVpZ2h0OmZ1bmN0aW9uKGhlaWdodCxub3RTZXRIZWlnaHQpeyFub3RTZXRIZWlnaHQmJih0aGlzLm9wdGlvbnMuaW5pdGlhbEZyYW1lSGVpZ2h0PWhlaWdodCk7aWYodGhpcy5vcHRpb25zLmF1dG9IZWlnaHRFbmFibGVkKXskKHRoaXMuYm9keSkuY3NzKHsibWluLWhlaWdodCI6aGVpZ2h0KyJweCJ9KTtpZihicm93c2VyLmllJiZicm93c2VyLnZlcnNpb248PTYmJnRoaXMuY29udGFpbmVyKXt0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9aGVpZ2h0O3RoaXMuY29udGFpbmVyLnN0eWxlLnNldEV4cHJlc3Npb24oImhlaWdodCIsInRoaXMuc2Nyb2xsSGVpZ2h0IDw9ICIraGVpZ2h0KycgPyAiJytoZWlnaHQrJ3B4IiA6ICJhdXRvIicpfX1lbHNleyQodGhpcy5ib2R5KS5oZWlnaHQoaGVpZ2h0KX10aGlzLmZpcmVFdmVudCgicmVzaXplIil9LHNldFdpZHRoOmZ1bmN0aW9uKHdpZHRoKXt0aGlzLiRjb250YWluZXImJnRoaXMuJGNvbnRhaW5lci53aWR0aCh3aWR0aCk7JCh0aGlzLmJvZHkpLndpZHRoKHdpZHRoLSQodGhpcy5ib2R5KS5jc3MoInBhZGRpbmctbGVmdCIpLnJlcGxhY2UoInB4IiwiIikqMS0kKHRoaXMuYm9keSkuY3NzKCJwYWRkaW5nLXJpZ2h0IikucmVwbGFjZSgicHgiLCIiKSoxKTt0aGlzLmZpcmVFdmVudCgicmVzaXplIil9LGFkZHNob3J0Y3V0a2V5OmZ1bmN0aW9uKGNtZCxrZXlzKXt2YXIgb2JqPXt9O2lmKGtleXMpe29ialtjbWRdPWtleXN9ZWxzZXtvYmo9Y21kfXV0aWxzLmV4dGVuZCh0aGlzLnNob3J0Y3V0a2V5cyxvYmopfSxfYmluZHNob3J0Y3V0S2V5czpmdW5jdGlvbigpe3ZhciBtZT10aGlzLHNob3J0Y3V0a2V5cz10aGlzLnNob3J0Y3V0a2V5czttZS5hZGRMaXN0ZW5lcigia2V5ZG93biIsZnVuY3Rpb24odHlwZSxlKXt2YXIga2V5Q29kZT1lLmtleUNvZGV8fGUud2hpY2g7Zm9yKHZhciBpIGluIHNob3J0Y3V0a2V5cyl7dmFyIHRtcD1zaG9ydGN1dGtleXNbaV0uc3BsaXQoIiwiKTtmb3IodmFyIHQ9MCx0aTt0aT10bXBbdCsrXTspe3RpPXRpLnNwbGl0KCI6Iik7dmFyIGtleT10aVswXSxwYXJhbT10aVsxXTtpZigvXihjdHJsKShcK3NoaWZ0KT9cKyhcZCspJC8udGVzdChrZXkudG9Mb3dlckNhc2UoKSl8fC9eKFxkKykkLy50ZXN0KGtleSkpe2lmKCgoUmVnRXhwLiQxPT0iY3RybCI/KGUuY3RybEtleXx8ZS5tZXRhS2V5KTowKSYmKFJlZ0V4cC4kMiE9IiI/ZVtSZWdFeHAuJDIuc2xpY2UoMSkrIktleSJdOjEpJiZrZXlDb2RlPT1SZWdFeHAuJDMpfHxrZXlDb2RlPT1SZWdFeHAuJDEpe2lmKG1lLnF1ZXJ5Q29tbWFuZFN0YXRlKGkscGFyYW0pIT0tMSl7bWUuZXhlY0NvbW1hbmQoaSxwYXJhbSl9ZG9tVXRpbHMucHJldmVudERlZmF1bHQoZSl9fX19fSl9LGdldENvbnRlbnQ6ZnVuY3Rpb24oY21kLGZuLG5vdFNldEN1cnNvcixpZ25vcmVCbGFuayxmb3JtYXR0ZXIpe3ZhciBtZT10aGlzO2lmKGNtZCYmdXRpbHMuaXNGdW5jdGlvbihjbWQpKXtmbj1jbWQ7Y21kPSIifWlmKGZuPyFmbigpOiF0aGlzLmhhc0NvbnRlbnRzKCkpe3JldHVybiIifW1lLmZpcmVFdmVudCgiYmVmb3JlZ2V0Y29udGVudCIpO3ZhciByb290PVVNLmh0bWxwYXJzZXIobWUuYm9keS5pbm5lckhUTUwsaWdub3JlQmxhbmspO21lLmZpbHRlck91dHB1dFJ1bGUocm9vdCk7bWUuZmlyZUV2ZW50KCJhZnRlcmdldGNvbnRlbnQiLHJvb3QpO3JldHVybiByb290LnRvSHRtbChmb3JtYXR0ZXIpfSxnZXRBbGxIdG1sOmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXMsaGVhZEh0bWw9W10saHRtbD0iIjttZS5maXJlRXZlbnQoImdldEFsbEh0bWwiLGhlYWRIdG1sKTtpZihicm93c2VyLmllJiZicm93c2VyLnZlcnNpb24+OCl7dmFyIGhlYWRIdG1sRm9ySUU5PSIiO3V0aWxzLmVhY2gobWUuZG9jdW1lbnQuc3R5bGVTaGVldHMsZnVuY3Rpb24oc2kpe2hlYWRIdG1sRm9ySUU5Kz0oc2kuaHJlZj8nPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iJytzaS5ocmVmKyciIC8+JzoiPHN0eWxlPiIrc2kuY3NzVGV4dCsiPC9zdHlsZT4iKX0pO3V0aWxzLmVhY2gobWUuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLGZ1bmN0aW9uKHNpKXtoZWFkSHRtbEZvcklFOSs9c2kub3V0ZXJIVE1MfSl9cmV0dXJuIjxodG1sPjxoZWFkPiIrKG1lLm9wdGlvbnMuY2hhcnNldD8nPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9JyttZS5vcHRpb25zLmNoYXJzZXQrJyIvPic6IiIpKyhoZWFkSHRtbEZvcklFOXx8bWUuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5pbm5lckhUTUwpK2hlYWRIdG1sLmpvaW4oIlxuIikrIjwvaGVhZD48Ym9keSAiKyhpZSYmYnJvd3Nlci52ZXJzaW9uPDk/J2NsYXNzPSJ2aWV3Iic6IiIpKyI+IittZS5nZXRDb250ZW50KG51bGwsbnVsbCx0cnVlKSsiPC9ib2R5PjwvaHRtbD4ifSxnZXRQbGFpblR4dDpmdW5jdGlvbigpe3ZhciByZWc9bmV3IFJlZ0V4cChkb21VdGlscy5maWxsQ2hhciwiZyIpLGh0bWw9dGhpcy5ib2R5LmlubmVySFRNTC5yZXBsYWNlKC9bXG5ccl0vZywiIik7aHRtbD1odG1sLnJlcGxhY2UoLzwocHxkaXYpW14+XSo+KDxiclwvPz58Jm5ic3A7KTxcL1wxPi9naSwiXG4iKS5yZXBsYWNlKC88YnJcLz8+L2dpLCJcbiIpLnJlcGxhY2UoLzxbXj4vXSs+L2csIiIpLnJlcGxhY2UoLyhcbik/PFwvKFtePl0rKT4vZyxmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGR0ZC4kYmxvY2tbY10/IlxuIjpiP2I6IiJ9KTtyZXR1cm4gaHRtbC5yZXBsYWNlKHJlZywiIikucmVwbGFjZSgvXHUwMGEwL2csIiAiKS5yZXBsYWNlKC8mbmJzcDsvZywiICIpfSxnZXRDb250ZW50VHh0OmZ1bmN0aW9uKCl7dmFyIHJlZz1uZXcgUmVnRXhwKGRvbVV0aWxzLmZpbGxDaGFyLCJnIik7cmV0dXJuIHRoaXMuYm9keVticm93c2VyLmllPyJpbm5lclRleHQiOiJ0ZXh0Q29udGVudCJdLnJlcGxhY2UocmVnLCIiKS5yZXBsYWNlKC9cdTAwYTAvZywiICIpfSxzZXRDb250ZW50OmZ1bmN0aW9uKGh0bWwsaXNBcHBlbmRUbyxub3RGaXJlU2VsZWN0aW9uY2hhbmdlKXt2YXIgbWU9dGhpczttZS5maXJlRXZlbnQoImJlZm9yZXNldGNvbnRlbnQiLGh0bWwpO3ZhciByb290PVVNLmh0bWxwYXJzZXIoaHRtbCk7bWUuZmlsdGVySW5wdXRSdWxlKHJvb3QpO2h0bWw9cm9vdC50b0h0bWwoKTttZS5ib2R5LmlubmVySFRNTD0oaXNBcHBlbmRUbz9tZS5ib2R5LmlubmVySFRNTDoiIikraHRtbDtmdW5jdGlvbiBpc0NkYXRhRGl2KG5vZGUpe3JldHVybiBub2RlLnRhZ05hbWU9PSJESVYiJiZub2RlLmdldEF0dHJpYnV0ZSgiY2RhdGFfdGFnIil9aWYobWUub3B0aW9ucy5lbnRlclRhZz09InAiKXt2YXIgY2hpbGQ9dGhpcy5ib2R5LmZpcnN0Q2hpbGQsdG1wTm9kZTtpZighY2hpbGR8fGNoaWxkLm5vZGVUeXBlPT0xJiYoZHRkLiRjZGF0YVtjaGlsZC50YWdOYW1lXXx8aXNDZGF0YURpdihjaGlsZCl8fGRvbVV0aWxzLmlzQ3VzdG9tZU5vZGUoY2hpbGQpKSYmY2hpbGQ9PT10aGlzLmJvZHkubGFzdENoaWxkKXt0aGlzLmJvZHkuaW5uZXJIVE1MPSI8cD4iKyhicm93c2VyLmllPyImbmJzcDsiOiI8YnIvPiIpKyI8L3A+Iit0aGlzLmJvZHkuaW5uZXJIVE1MfWVsc2V7dmFyIHA9bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpO3doaWxlKGNoaWxkKXt3aGlsZShjaGlsZCYmKGNoaWxkLm5vZGVUeXBlPT0zfHxjaGlsZC5ub2RlVHlwZT09MSYmZHRkLnBbY2hpbGQudGFnTmFtZV0mJiFkdGQuJGNkYXRhW2NoaWxkLnRhZ05hbWVdKSl7dG1wTm9kZT1jaGlsZC5uZXh0U2libGluZztwLmFwcGVuZENoaWxkKGNoaWxkKTtjaGlsZD10bXBOb2RlfWlmKHAuZmlyc3RDaGlsZCl7aWYoIWNoaWxkKXttZS5ib2R5LmFwcGVuZENoaWxkKHApO2JyZWFrfWVsc2V7Y2hpbGQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocCxjaGlsZCk7cD1tZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIil9fWNoaWxkPWNoaWxkLm5leHRTaWJsaW5nfX19bWUuZmlyZUV2ZW50KCJhZnRlcnNldGNvbnRlbnQiKTttZS5maXJlRXZlbnQoImNvbnRlbnRjaGFuZ2UiKTshbm90RmlyZVNlbGVjdGlvbmNoYW5nZSYmbWUuX3NlbGVjdGlvbkNoYW5nZSgpO21lLl9iYWtSYW5nZT1tZS5fYmFrSUVSYW5nZT1tZS5fYmFrTmF0aXZlUmFuZ2U9bnVsbDt2YXIgZ2Vja29TZWw7aWYoYnJvd3Nlci5nZWNrbyYmKGdlY2tvU2VsPXRoaXMuc2VsZWN0aW9uLmdldE5hdGl2ZSgpKSl7Z2Vja29TZWwucmVtb3ZlQWxsUmFuZ2VzKCl9aWYobWUub3B0aW9ucy5hdXRvU3luY0RhdGEpe21lLmZvcm0mJnNldFZhbHVlKG1lLmZvcm0sbWUpfX0sZm9jdXM6ZnVuY3Rpb24odG9FbmQpe3RyeXt2YXIgbWU9dGhpcyxybmc9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7aWYodG9FbmQpe3JuZy5zZXRTdGFydEF0TGFzdChtZS5ib2R5Lmxhc3RDaGlsZCkuc2V0Q3Vyc29yKGZhbHNlLHRydWUpfWVsc2V7cm5nLnNlbGVjdCh0cnVlKX10aGlzLmZpcmVFdmVudCgiZm9jdXMiKX1jYXRjaChlKXt9fSxibHVyOmZ1bmN0aW9uKCl7dmFyIHNlbD10aGlzLnNlbGVjdGlvbi5nZXROYXRpdmUoKTtzZWwuZW1wdHk/c2VsLmVtcHR5KCk6c2VsLnJlbW92ZUFsbFJhbmdlcygpO3RoaXMuZmlyZUV2ZW50KCJibHVyIil9LGlzRm9jdXM6ZnVuY3Rpb24oKXtpZih0aGlzLmZpcmVFdmVudCgiaXNmb2N1cyIpPT09dHJ1ZSl7cmV0dXJuIHRydWV9cmV0dXJuIHRoaXMuc2VsZWN0aW9uLmlzRm9jdXMoKX0sX2luaXRFdmVudHM6ZnVuY3Rpb24oKXt2YXIgbWU9dGhpcyxjb250PW1lLmJvZHksX3Byb3h5RG9tRXZlbnQ9ZnVuY3Rpb24oKXttZS5fcHJveHlEb21FdmVudC5hcHBseShtZSxhcmd1bWVudHMpfTskKGNvbnQpLm9uKCJjbGljayBjb250ZXh0bWVudSBtb3VzZWRvd24ga2V5ZG93biBrZXl1cCBrZXlwcmVzcyBtb3VzZXVwIG1vdXNlb3ZlciBtb3VzZW91dCBzZWxlY3RzdGFydCIsX3Byb3h5RG9tRXZlbnQpLm9uKCJmb2N1cyBibHVyIixfcHJveHlEb21FdmVudCkub24oIm1vdXNldXAga2V5ZG93biIsZnVuY3Rpb24oZXZ0KXtpZihldnQudHlwZT09ImtleWRvd24iJiYoZXZ0LmN0cmxLZXl8fGV2dC5tZXRhS2V5fHxldnQuc2hpZnRLZXl8fGV2dC5hbHRLZXkpKXtyZXR1cm59aWYoZXZ0LmJ1dHRvbj09Mil7cmV0dXJufW1lLl9zZWxlY3Rpb25DaGFuZ2UoMjUwLGV2dCl9KX0sX3Byb3h5RG9tRXZlbnQ6ZnVuY3Rpb24oZXZ0KXtyZXR1cm4gdGhpcy5maXJlRXZlbnQoZXZ0LnR5cGUucmVwbGFjZSgvXm9uLywiIiksZXZ0KX0sX3NlbGVjdGlvbkNoYW5nZTpmdW5jdGlvbihkZWxheSxldnQpe3ZhciBtZT10aGlzO3ZhciBoYWNrRm9yTW91c2VVcD1mYWxzZTt2YXIgbW91c2VYLG1vdXNlWTtpZihicm93c2VyLmllJiZicm93c2VyLnZlcnNpb248OSYmZXZ0JiZldnQudHlwZT09Im1vdXNldXAiKXt2YXIgcmFuZ2U9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtpZighcmFuZ2UuY29sbGFwc2VkKXtoYWNrRm9yTW91c2VVcD10cnVlO21vdXNlWD1ldnQuY2xpZW50WDttb3VzZVk9ZXZ0LmNsaWVudFl9fWNsZWFyVGltZW91dChfc2VsZWN0aW9uQ2hhbmdlVGltZXIpO19zZWxlY3Rpb25DaGFuZ2VUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoIW1lLnNlbGVjdGlvbi5nZXROYXRpdmUoKSl7cmV0dXJufXZhciBpZVJhbmdlO2lmKGhhY2tGb3JNb3VzZVVwJiZtZS5zZWxlY3Rpb24uZ2V0TmF0aXZlKCkudHlwZT09Ik5vbmUiKXtpZVJhbmdlPW1lLmRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7dHJ5e2llUmFuZ2UubW92ZVRvUG9pbnQobW91c2VYLG1vdXNlWSl9Y2F0Y2goZXgpe2llUmFuZ2U9bnVsbH19dmFyIGJha0dldElFUmFuZ2U7aWYoaWVSYW5nZSl7YmFrR2V0SUVSYW5nZT1tZS5zZWxlY3Rpb24uZ2V0SUVSYW5nZTttZS5zZWxlY3Rpb24uZ2V0SUVSYW5nZT1mdW5jdGlvbigpe3JldHVybiBpZVJhbmdlfX1tZS5zZWxlY3Rpb24uY2FjaGUoKTtpZihiYWtHZXRJRVJhbmdlKXttZS5zZWxlY3Rpb24uZ2V0SUVSYW5nZT1iYWtHZXRJRVJhbmdlfWlmKG1lLnNlbGVjdGlvbi5fY2FjaGVkUmFuZ2UmJm1lLnNlbGVjdGlvbi5fY2FjaGVkU3RhcnRFbGVtZW50KXttZS5maXJlRXZlbnQoImJlZm9yZXNlbGVjdGlvbmNoYW5nZSIpO21lLmZpcmVFdmVudCgic2VsZWN0aW9uY2hhbmdlIiwhIWV2dCk7bWUuZmlyZUV2ZW50KCJhZnRlcnNlbGVjdGlvbmNoYW5nZSIpO21lLnNlbGVjdGlvbi5jbGVhcigpfX0sZGVsYXl8fDUwKX0sX2NhbGxDbWRGbjpmdW5jdGlvbihmbk5hbWUsYXJncyl7YXJncz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzLDApO3ZhciBjbWROYW1lPWFyZ3Muc2hpZnQoKS50b0xvd2VyQ2FzZSgpLGNtZCxjbWRGbjtjbWQ9dGhpcy5jb21tYW5kc1tjbWROYW1lXXx8VU0uY29tbWFuZHNbY21kTmFtZV07Y21kRm49Y21kJiZjbWRbZm5OYW1lXTtpZigoIWNtZHx8IWNtZEZuKSYmZm5OYW1lPT0icXVlcnlDb21tYW5kU3RhdGUiKXtyZXR1cm4gMH1lbHNle2lmKGNtZEZuKXtyZXR1cm4gY21kRm4uYXBwbHkodGhpcyxbY21kTmFtZV0uY29uY2F0KGFyZ3MpKX19fSxleGVjQ29tbWFuZDpmdW5jdGlvbihjbWROYW1lKXtpZighdGhpcy5pc0ZvY3VzKCkpe3ZhciBiYWtSYW5nZT10aGlzLnNlbGVjdGlvbi5fYmFrUmFuZ2U7aWYoYmFrUmFuZ2Upe2Jha1JhbmdlLnNlbGVjdCgpfWVsc2V7dGhpcy5mb2N1cyh0cnVlKX19Y21kTmFtZT1jbWROYW1lLnRvTG93ZXJDYXNlKCk7dmFyIG1lPXRoaXMscmVzdWx0LGNtZD1tZS5jb21tYW5kc1tjbWROYW1lXXx8VU0uY29tbWFuZHNbY21kTmFtZV07aWYoIWNtZHx8IWNtZC5leGVjQ29tbWFuZCl7cmV0dXJuIG51bGx9aWYoIWNtZC5ub3ROZWVkVW5kbyYmIW1lLl9faGFzRW50ZXJFeGVjQ29tbWFuZCl7bWUuX19oYXNFbnRlckV4ZWNDb21tYW5kPXRydWU7aWYobWUucXVlcnlDb21tYW5kU3RhdGUuYXBwbHkobWUsYXJndW1lbnRzKSE9LTEpe21lLmZpcmVFdmVudCgic2F2ZVNjZW5lIik7bWUuZmlyZUV2ZW50KCJiZWZvcmVleGVjY29tbWFuZCIsY21kTmFtZSk7cmVzdWx0PXRoaXMuX2NhbGxDbWRGbigiZXhlY0NvbW1hbmQiLGFyZ3VtZW50cyk7KCFjbWQuaWdub3JlQ29udGVudENoYW5nZSYmIW1lLl9pZ25vcmVDb250ZW50Q2hhbmdlKSYmbWUuZmlyZUV2ZW50KCJjb250ZW50Y2hhbmdlIik7bWUuZmlyZUV2ZW50KCJhZnRlcmV4ZWNjb21tYW5kIixjbWROYW1lKTttZS5maXJlRXZlbnQoInNhdmVTY2VuZSIpfW1lLl9faGFzRW50ZXJFeGVjQ29tbWFuZD1mYWxzZX1lbHNle3Jlc3VsdD10aGlzLl9jYWxsQ21kRm4oImV4ZWNDb21tYW5kIixhcmd1bWVudHMpOyghbWUuX19oYXNFbnRlckV4ZWNDb21tYW5kJiYhY21kLmlnbm9yZUNvbnRlbnRDaGFuZ2UmJiFtZS5faWdub3JlQ29udGVudENoYW5nZSkmJm1lLmZpcmVFdmVudCgiY29udGVudGNoYW5nZSIpfSghbWUuX19oYXNFbnRlckV4ZWNDb21tYW5kJiYhY21kLmlnbm9yZUNvbnRlbnRDaGFuZ2UmJiFtZS5faWdub3JlQ29udGVudENoYW5nZSkmJm1lLl9zZWxlY3Rpb25DaGFuZ2UoKTtyZXR1cm4gcmVzdWx0fSxxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbihjbWROYW1lKXt0cnl7cmV0dXJuIHRoaXMuX2NhbGxDbWRGbigicXVlcnlDb21tYW5kU3RhdGUiLGFyZ3VtZW50cyl9Y2F0Y2goZSl7cmV0dXJuIDB9fSxxdWVyeUNvbW1hbmRWYWx1ZTpmdW5jdGlvbihjbWROYW1lKXt0cnl7cmV0dXJuIHRoaXMuX2NhbGxDbWRGbigicXVlcnlDb21tYW5kVmFsdWUiLGFyZ3VtZW50cyl9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fSxoYXNDb250ZW50czpmdW5jdGlvbih0YWdzKXtpZih0YWdzKXtmb3IodmFyIGk9MCxjaTtjaT10YWdzW2krK107KXtpZih0aGlzLmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoY2kpLmxlbmd0aD4wKXtyZXR1cm4gdHJ1ZX19fWlmKCFkb21VdGlscy5pc0VtcHR5QmxvY2sodGhpcy5ib2R5KSl7cmV0dXJuIHRydWV9dGFncz1bImRpdiJdO2ZvcihpPTA7Y2k9dGFnc1tpKytdOyl7dmFyIG5vZGVzPWRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRoaXMuYm9keSxjaSk7Zm9yKHZhciBuPTAsY247Y249bm9kZXNbbisrXTspe2lmKGRvbVV0aWxzLmlzQ3VzdG9tZU5vZGUoY24pKXtyZXR1cm4gdHJ1ZX19fXJldHVybiBmYWxzZX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLmZpcmVFdmVudCgicmVzZXQiKX0saXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRW5hYmxlZCE9dHJ1ZX0sc2V0RW5hYmxlZDpmdW5jdGlvbigpe3ZhciBtZT10aGlzLHJhbmdlO21lLmJvZHkuY29udGVudEVkaXRhYmxlPXRydWU7aWYobWUubGFzdEJrKXtyYW5nZT1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTt0cnl7cmFuZ2UubW92ZVRvQm9va21hcmsobWUubGFzdEJrKTtkZWxldGUgbWUubGFzdEJrfWNhdGNoKGUpe3JhbmdlLnNldFN0YXJ0QXRGaXJzdChtZS5ib2R5KS5jb2xsYXBzZSh0cnVlKX1yYW5nZS5zZWxlY3QodHJ1ZSl9aWYobWUuYmtxdWVyeUNvbW1hbmRTdGF0ZSl7bWUucXVlcnlDb21tYW5kU3RhdGU9bWUuYmtxdWVyeUNvbW1hbmRTdGF0ZTtkZWxldGUgbWUuYmtxdWVyeUNvbW1hbmRTdGF0ZX1pZihtZS5fYmtwcm94eURvbUV2ZW50KXttZS5fcHJveHlEb21FdmVudD1tZS5fYmtwcm94eURvbUV2ZW50O2RlbGV0ZSBtZS5fYmtwcm94eURvbUV2ZW50fW1lLmZpcmVFdmVudCgic2V0RW5hYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRFbmFibGVkKCl9LHNldERpc2FibGVkOmZ1bmN0aW9uKGV4Y2VwdCxrZWVwRG9tRXZlbnQpe3ZhciBtZT10aGlzO21lLmJvZHkuY29udGVudEVkaXRhYmxlPWZhbHNlO21lLl9leGNlcHQ9ZXhjZXB0P3V0aWxzLmlzQXJyYXkoZXhjZXB0KT9leGNlcHQ6W2V4Y2VwdF06W107aWYoIW1lLmxhc3RCayl7bWUubGFzdEJrPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLmNyZWF0ZUJvb2ttYXJrKHRydWUpfWlmKCFtZS5ia3F1ZXJ5Q29tbWFuZFN0YXRlKXttZS5ia3F1ZXJ5Q29tbWFuZFN0YXRlPW1lLnF1ZXJ5Q29tbWFuZFN0YXRlO21lLnF1ZXJ5Q29tbWFuZFN0YXRlPWZ1bmN0aW9uKHR5cGUpe2lmKHV0aWxzLmluZGV4T2YobWUuX2V4Y2VwdCx0eXBlKSE9LTEpe3JldHVybiBtZS5ia3F1ZXJ5Q29tbWFuZFN0YXRlLmFwcGx5KG1lLGFyZ3VtZW50cyl9cmV0dXJuIC0xfX1pZigha2VlcERvbUV2ZW50JiYhbWUuX2JrcHJveHlEb21FdmVudCl7bWUuX2JrcHJveHlEb21FdmVudD1tZS5fcHJveHlEb21FdmVudDttZS5fcHJveHlEb21FdmVudD1mdW5jdGlvbigpe3JldHVybiBmYWxzZX19bWUuZmlyZUV2ZW50KCJzZWxlY3Rpb25jaGFuZ2UiKTttZS5maXJlRXZlbnQoInNldERpc2FibGVkIixtZS5fZXhjZXB0KX0sZGlzYWJsZTpmdW5jdGlvbihleGNlcHQpe3JldHVybiB0aGlzLnNldERpc2FibGVkKGV4Y2VwdCl9LF9zZXREZWZhdWx0Q29udGVudDpmdW5jdGlvbigpe2Z1bmN0aW9uIGNsZWFyKCl7dmFyIG1lPXRoaXM7aWYobWUuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImluaXRDb250ZW50Iikpe21lLmJvZHkuaW5uZXJIVE1MPSI8cD4iKyhpZT8iIjoiPGJyLz4iKSsiPC9wPiI7bWUucmVtb3ZlTGlzdGVuZXIoImZpcnN0QmVmb3JlRXhlY0NvbW1hbmQgZm9jdXMiLGNsZWFyKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bWUuZm9jdXMoKTttZS5fc2VsZWN0aW9uQ2hhbmdlKCl9LDApfX1yZXR1cm4gZnVuY3Rpb24oY29udCl7dmFyIG1lPXRoaXM7bWUuYm9keS5pbm5lckhUTUw9JzxwIGlkPSJpbml0Q29udGVudCI+Jytjb250KyI8L3A+IjttZS5hZGRMaXN0ZW5lcigiZmlyc3RCZWZvcmVFeGVjQ29tbWFuZCBmb2N1cyIsY2xlYXIpfX0oKSxzZXRTaG93OmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXMscmFuZ2U9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7aWYobWUuY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9PSJub25lIil7dHJ5e3JhbmdlLm1vdmVUb0Jvb2ttYXJrKG1lLmxhc3RCayk7ZGVsZXRlIG1lLmxhc3RCa31jYXRjaChlKXtyYW5nZS5zZXRTdGFydEF0Rmlyc3QobWUuYm9keSkuY29sbGFwc2UodHJ1ZSl9c2V0VGltZW91dChmdW5jdGlvbigpe3JhbmdlLnNlbGVjdCh0cnVlKX0sMTAwKTttZS5jb250YWluZXIuc3R5bGUuZGlzcGxheT0iIn19LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRTaG93KCl9LHNldEhpZGU6ZnVuY3Rpb24oKXt2YXIgbWU9dGhpcztpZighbWUubGFzdEJrKXttZS5sYXN0Qms9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCkuY3JlYXRlQm9va21hcmsodHJ1ZSl9bWUuY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9Im5vbmUifSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0SGlkZSgpfSxnZXRMYW5nOmZ1bmN0aW9uKHBhdGgpe3ZhciBsYW5nPVVNLkkxOE5bdGhpcy5vcHRpb25zLmxhbmddO2lmKCFsYW5nKXt0aHJvdyBFcnJvcigibm90IGltcG9ydCBsYW5ndWFnZSBmaWxlIil9cGF0aD0ocGF0aHx8IiIpLnNwbGl0KCIuIik7Zm9yKHZhciBpPTAsY2k7Y2k9cGF0aFtpKytdOyl7bGFuZz1sYW5nW2NpXTtpZighbGFuZyl7YnJlYWt9fXJldHVybiBsYW5nfSxnZXRDb250ZW50TGVuZ3RoOmZ1bmN0aW9uKGluZ29uZUh0bWwsdGFnTmFtZXMpe3ZhciBjb3VudD10aGlzLmdldENvbnRlbnQoZmFsc2UsZmFsc2UsdHJ1ZSkubGVuZ3RoO2lmKGluZ29uZUh0bWwpe3RhZ05hbWVzPSh0YWdOYW1lc3x8W10pLmNvbmNhdChbImhyIiwiaW1nIiwiaWZyYW1lIl0pO2NvdW50PXRoaXMuZ2V0Q29udGVudFR4dCgpLnJlcGxhY2UoL1tcdFxyXG5dKy9nLCIiKS5sZW5ndGg7Zm9yKHZhciBpPTAsY2k7Y2k9dGFnTmFtZXNbaSsrXTspe2NvdW50Kz10aGlzLmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoY2kpLmxlbmd0aH19cmV0dXJuIGNvdW50fSxhZGRJbnB1dFJ1bGU6ZnVuY3Rpb24ocnVsZSxpZ25vcmVVbmRvKXtydWxlLmlnbm9yZVVuZG89aWdub3JlVW5kbzt0aGlzLmlucHV0UnVsZXMucHVzaChydWxlKX0sZmlsdGVySW5wdXRSdWxlOmZ1bmN0aW9uKHJvb3QsaXNVbmRvTG9hZCl7Zm9yKHZhciBpPTAsY2k7Y2k9dGhpcy5pbnB1dFJ1bGVzW2krK107KXtpZihpc1VuZG9Mb2FkJiZjaS5pZ25vcmVVbmRvKXtjb250aW51ZX1jaS5jYWxsKHRoaXMscm9vdCl9fSxhZGRPdXRwdXRSdWxlOmZ1bmN0aW9uKHJ1bGUsaWdub3JlVW5kbyl7cnVsZS5pZ25vcmVVbmRvPWlnbm9yZVVuZG87dGhpcy5vdXRwdXRSdWxlcy5wdXNoKHJ1bGUpfSxmaWx0ZXJPdXRwdXRSdWxlOmZ1bmN0aW9uKHJvb3QsaXNVbmRvTG9hZCl7Zm9yKHZhciBpPTAsY2k7Y2k9dGhpcy5vdXRwdXRSdWxlc1tpKytdOyl7aWYoaXNVbmRvTG9hZCYmY2kuaWdub3JlVW5kbyl7Y29udGludWV9Y2kuY2FsbCh0aGlzLHJvb3QpfX19O3V0aWxzLmluaGVyaXRzKEVkaXRvcixFdmVudEJhc2UpfSkoKTt2YXIgZmlsdGVyV29yZD1VTS5maWx0ZXJXb3JkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaXNXb3JkRG9jdW1lbnQoc3RyKXtyZXR1cm4vKGNsYXNzPSI/TXNvfHN0eWxlPSJbXiJdKlxibXNvXC18dzpXb3JkRG9jdW1lbnR8PCh2fG8pOnxsYW5nPSkvaWcudGVzdChzdHIpfWZ1bmN0aW9uIHRyYW5zVW5pdCh2KXt2PXYucmVwbGFjZSgvW1xkLl0rXHcrL2csZnVuY3Rpb24obSl7cmV0dXJuIHV0aWxzLnRyYW5zVW5pdFRvUHgobSl9KTtyZXR1cm4gdn1mdW5jdGlvbiBmaWx0ZXJQYXN0ZVdvcmQoc3RyKXtyZXR1cm4gc3RyLnJlcGxhY2UoL1tcdFxyXG5dKy9nLCIgIikucmVwbGFjZSgvPCEtLVtcc1xTXSo/LS0+L2lnLCIiKS5yZXBsYWNlKC88djpzaGFwZSBbXj5dKj5bXHNcU10qPy48XC92OnNoYXBlPi9naSxmdW5jdGlvbihzdHIpe2lmKGJyb3dzZXIub3BlcmEpe3JldHVybiIifXRyeXtpZigvQml0bWFwL2kudGVzdChzdHIpKXtyZXR1cm4iIn12YXIgd2lkdGg9c3RyLm1hdGNoKC93aWR0aDooWyBcZC5dKnBbdHhdKS9pKVsxXSxoZWlnaHQ9c3RyLm1hdGNoKC9oZWlnaHQ6KFsgXGQuXSpwW3R4XSkvaSlbMV0sc3JjPXN0ci5tYXRjaCgvc3JjPVxzKiIoW14iXSopIi9pKVsxXTtyZXR1cm4nPGltZyB3aWR0aD0iJyt0cmFuc1VuaXQod2lkdGgpKyciIGhlaWdodD0iJyt0cmFuc1VuaXQoaGVpZ2h0KSsnIiBzcmM9Iicrc3JjKyciIC8+J31jYXRjaChlKXtyZXR1cm4iIn19KS5yZXBsYWNlKC88XC8/ZGl2W14+XSo+L2csIiIpLnJlcGxhY2UoL3Y6XHcrPShbIiddPylbXiciXStcMS9nLCIiKS5yZXBsYWNlKC88KCF8c2NyaXB0W14+XSo+Lio/PFwvc2NyaXB0KD89Wz5cc10pfFwvPyhcP3htbCg6XHcrKT98eG1sfG1ldGF8bGlua3xzdHlsZXxcdys6XHcrKSg/PVtcc1wvPl0pKVtePl0qPi9naSwiIikucmVwbGFjZSgvPHAgW14+XSpjbGFzcz0iP01zb0hlYWRpbmciP1tePl0qPiguKj8pPFwvcD4vZ2ksIjxwPjxzdHJvbmc+JDE8L3N0cm9uZz48L3A+IikucmVwbGFjZSgvXHMrKGNsYXNzfGxhbmd8YWxpZ24pXHMqPVxzKihbJyJdPykoW1x3LV0rKVwyL2lnLGZ1bmN0aW9uKHN0cixuYW1lLG1hcmtzLHZhbCl7cmV0dXJuIG5hbWU9PSJjbGFzcyImJnZhbD09Ik1zb0xpc3RQYXJhZ3JhcGgiP3N0cjoiIn0pLnJlcGxhY2UoLzwoZm9udHxzcGFuKVtePl0qPihccyopPFwvXDE+L2dpLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYy5yZXBsYWNlKC9bXHRcclxuIF0rL2csIiAiKX0pLnJlcGxhY2UoLyg8W2Etel1bXj5dKilcc3N0eWxlPShbIiddKShbXlwyXSo/KVwyL2dpLGZ1bmN0aW9uKHN0cix0YWcsdG1wLHN0eWxlKXt2YXIgbj1bXSxzPXN0eWxlLnJlcGxhY2UoL15ccyt8XHMrJC8sIiIpLnJlcGxhY2UoLyYjMzk7L2csIiciKS5yZXBsYWNlKC8mcXVvdDsvZ2ksIiciKS5zcGxpdCgvO1xzKi9nKTtmb3IodmFyIGk9MCx2O3Y9c1tpXTtpKyspe3ZhciBuYW1lLHZhbHVlLHBhcnRzPXYuc3BsaXQoIjoiKTtpZihwYXJ0cy5sZW5ndGg9PTIpe25hbWU9cGFydHNbMF0udG9Mb3dlckNhc2UoKTt2YWx1ZT1wYXJ0c1sxXS50b0xvd2VyQ2FzZSgpO2lmKC9eKGJhY2tncm91bmQpXHcqLy50ZXN0KG5hbWUpJiZ2YWx1ZS5yZXBsYWNlKC8oaW5pdGlhbHxccykvZywiIikubGVuZ3RoPT0wfHwvXihtYXJnaW4pXHcqLy50ZXN0KG5hbWUpJiYvXjBcdyskLy50ZXN0KHZhbHVlKSl7Y29udGludWV9c3dpdGNoKG5hbWUpe2Nhc2UibXNvLXBhZGRpbmctYWx0IjpjYXNlIm1zby1wYWRkaW5nLXRvcC1hbHQiOmNhc2UibXNvLXBhZGRpbmctcmlnaHQtYWx0IjpjYXNlIm1zby1wYWRkaW5nLWJvdHRvbS1hbHQiOmNhc2UibXNvLXBhZGRpbmctbGVmdC1hbHQiOmNhc2UibXNvLW1hcmdpbi1hbHQiOmNhc2UibXNvLW1hcmdpbi10b3AtYWx0IjpjYXNlIm1zby1tYXJnaW4tcmlnaHQtYWx0IjpjYXNlIm1zby1tYXJnaW4tYm90dG9tLWFsdCI6Y2FzZSJtc28tbWFyZ2luLWxlZnQtYWx0IjpjYXNlIm1zby1oZWlnaHQiOmNhc2UibXNvLXdpZHRoIjpjYXNlIm1zby12ZXJ0aWNhbC1hbGlnbi1hbHQiOmlmKCEvPHRhYmxlLy50ZXN0KHRhZykpe25baV09bmFtZS5yZXBsYWNlKC9ebXNvLXwtYWx0JC9nLCIiKSsiOiIrdHJhbnNVbml0KHZhbHVlKX1jb250aW51ZTtjYXNlImhvcml6LWFsaWduIjpuW2ldPSJ0ZXh0LWFsaWduOiIrdmFsdWU7Y29udGludWU7Y2FzZSJ2ZXJ0LWFsaWduIjpuW2ldPSJ2ZXJ0aWNhbC1hbGlnbjoiK3ZhbHVlO2NvbnRpbnVlO2Nhc2UiZm9udC1jb2xvciI6Y2FzZSJtc28tZm9yZWdyb3VuZCI6bltpXT0iY29sb3I6Iit2YWx1ZTtjb250aW51ZTtjYXNlIm1zby1iYWNrZ3JvdW5kIjpjYXNlIm1zby1oaWdobGlnaHQiOm5baV09ImJhY2tncm91bmQ6Iit2YWx1ZTtjb250aW51ZTtjYXNlIm1zby1kZWZhdWx0LWhlaWdodCI6bltpXT0ibWluLWhlaWdodDoiK3RyYW5zVW5pdCh2YWx1ZSk7Y29udGludWU7Y2FzZSJtc28tZGVmYXVsdC13aWR0aCI6bltpXT0ibWluLXdpZHRoOiIrdHJhbnNVbml0KHZhbHVlKTtjb250aW51ZTtjYXNlIm1zby1wYWRkaW5nLWJldHdlZW4tYWx0IjpuW2ldPSJib3JkZXItY29sbGFwc2U6c2VwYXJhdGU7Ym9yZGVyLXNwYWNpbmc6Iit0cmFuc1VuaXQodmFsdWUpO2NvbnRpbnVlO2Nhc2UidGV4dC1saW5lLXRocm91Z2giOmlmKCh2YWx1ZT09InNpbmdsZSIpfHwodmFsdWU9PSJkb3VibGUiKSl7bltpXT0idGV4dC1kZWNvcmF0aW9uOmxpbmUtdGhyb3VnaCJ9Y29udGludWU7Y2FzZSJtc28temVyby1oZWlnaHQiOmlmKHZhbHVlPT0ieWVzIil7bltpXT0iZGlzcGxheTpub25lIn1jb250aW51ZTtjYXNlIm1hcmdpbiI6aWYoIS9bMS05XS8udGVzdCh2YWx1ZSkpe2NvbnRpbnVlfX1pZigvXihtc298Y29sdW1ufGZvbnQtZW1waHxsYW5nfGxheW91dHxsaW5lLWJyZWFrfGxpc3QtaW1hZ2V8bmF2fHBhbm9zZXxwdW5jdHxyb3d8cnVieXxzZXB8c2l6ZXxzcmN8dGFiLXx0YWJsZS1ib3JkZXJ8dGV4dC0oPzpkZWNvcnx0cmFucyl8dG9wLWJhcnx2ZXJzaW9ufHZuZHx3b3JkLWJyZWFrKS8udGVzdChuYW1lKXx8L3RleHRcLWluZGVudHxwYWRkaW5nfG1hcmdpbi8udGVzdChuYW1lKSYmL1wtW1xkLl0rLy50ZXN0KHZhbHVlKSl7Y29udGludWV9bltpXT1uYW1lKyI6IitwYXJ0c1sxXX19cmV0dXJuIHRhZysobi5sZW5ndGg/JyBzdHlsZT0iJytuLmpvaW4oIjsiKS5yZXBsYWNlKC87ezIsfS9nLCI7IikrJyInOiIiKX0pLnJlcGxhY2UoL1tcZC5dKyhjbXxwdCkvZyxmdW5jdGlvbihzdHIpe3JldHVybiB1dGlscy50cmFuc1VuaXRUb1B4KHN0cil9KX1yZXR1cm4gZnVuY3Rpb24oaHRtbCl7cmV0dXJuKGlzV29yZERvY3VtZW50KGh0bWwpP2ZpbHRlclBhc3RlV29yZChodG1sKTpodG1sKX19KCk7dmFyIGZpbHRlckNsZWFyVGV4dD1VTS5maWx0ZXJDbGVhclRleHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBmaWx0ZXJQYXN0ZUNsZWFyVGV4dChzdHIpe3JldHVybiBzdHIucmVwbGFjZSgvKDxbYS16XVtePl0qKVxzc3R5bGU9KFsiJ10pKFteXDJdKj8pXDIvZ2ksZnVuY3Rpb24oc3RyLHRhZyx0bXAsc3R5bGUpe3ZhciBuPVtdLHM9c3R5bGUucmVwbGFjZSgvXlxzK3xccyskLywiIikucmVwbGFjZSgvJiMzOTsvZywiJyIpLnJlcGxhY2UoLyZxdW90Oy9naSwiJyIpLnNwbGl0KC87XHMqL2cpO2Zvcih2YXIgaT0wLHY7dj1zW2ldO2krKyl7dmFyIG5hbWUsdmFsdWUscGFydHM9di5zcGxpdCgiOiIpO2lmKHBhcnRzLmxlbmd0aD09Mil7bmFtZT1wYXJ0c1swXS50b0xvd2VyQ2FzZSgpO3ZhbHVlPXBhcnRzWzFdLnRvTG93ZXJDYXNlKCk7c3dpdGNoKG5hbWUpe2Nhc2Uid2hpdGUtc3BhY2UiOmNvbnRpbnVlfW5baV09bmFtZSsiOiIrcGFydHNbMV19fXJldHVybiB0YWcrKG4ubGVuZ3RoPycgc3R5bGU9Iicrbi5qb2luKCI7IikucmVwbGFjZSgvO3syLH0vZywiOyIpKyciJzoiIil9KX1yZXR1cm4gZnVuY3Rpb24oaHRtbCl7cmV0dXJuKGJyb3dzZXIuY2hyb21lP2ZpbHRlclBhc3RlQ2xlYXJUZXh0KGh0bWwpOmh0bWwpfX0oKTsoZnVuY3Rpb24oKXt2YXIgdU5vZGU9VU0udU5vZGU9ZnVuY3Rpb24ob2JqKXt0aGlzLnR5cGU9b2JqLnR5cGU7dGhpcy5kYXRhPW9iai5kYXRhO3RoaXMudGFnTmFtZT1vYmoudGFnTmFtZTt0aGlzLnBhcmVudE5vZGU9b2JqLnBhcmVudE5vZGU7dGhpcy5hdHRycz1vYmouYXR0cnN8fHt9O3RoaXMuY2hpbGRyZW49b2JqLmNoaWxkcmVufTt2YXIgbm90VHJhbnNBdHRycz17aHJlZjoxLHNyYzoxLF9zcmM6MSxfaHJlZjoxLGNkYXRhX2RhdGE6MX07dmFyIG5vdFRyYW5zVGFnTmFtZT17c3R5bGU6MSxzY3JpcHQ6MX07dmFyIGluZGVudENoYXI9IiAgICAiLGJyZWFrQ2hhcj0iXG4iO2Z1bmN0aW9uIGluc2VydExpbmUoYXJyLGN1cnJlbnQsYmVnaW4pe2Fyci5wdXNoKGJyZWFrQ2hhcik7cmV0dXJuIGN1cnJlbnQrKGJlZ2luPzE6LTEpfWZ1bmN0aW9uIGluc2VydEluZGVudChhcnIsY3VycmVudCl7Zm9yKHZhciBpPTA7aTxjdXJyZW50O2krKyl7YXJyLnB1c2goaW5kZW50Q2hhcil9fXVOb2RlLmNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24oaHRtbCl7aWYoL1s8Pl0vLnRlc3QoaHRtbCkpe3JldHVybiBVTS5odG1scGFyc2VyKGh0bWwpLmNoaWxkcmVuWzBdfWVsc2V7cmV0dXJuIG5ldyB1Tm9kZSh7dHlwZToiZWxlbWVudCIsY2hpbGRyZW46W10sdGFnTmFtZTpodG1sfSl9fTt1Tm9kZS5jcmVhdGVUZXh0PWZ1bmN0aW9uKGRhdGEsbm9UcmFucyl7cmV0dXJuIG5ldyBVTS51Tm9kZSh7dHlwZToidGV4dCIsZGF0YTpub1RyYW5zP2RhdGE6dXRpbHMudW5odG1sKGRhdGF8fCIiKX0pfTtmdW5jdGlvbiBub2RlVG9IdG1sKG5vZGUsYXJyLGZvcm1hdHRlcixjdXJyZW50KXtzd2l0Y2gobm9kZS50eXBlKXtjYXNlInJvb3QiOmZvcih2YXIgaT0wLGNpO2NpPW5vZGUuY2hpbGRyZW5baSsrXTspe2lmKGZvcm1hdHRlciYmY2kudHlwZT09ImVsZW1lbnQiJiYhZHRkLiRpbmxpbmVXaXRoQVtjaS50YWdOYW1lXSYmaT4xKXtpbnNlcnRMaW5lKGFycixjdXJyZW50LHRydWUpO2luc2VydEluZGVudChhcnIsY3VycmVudCl9bm9kZVRvSHRtbChjaSxhcnIsZm9ybWF0dGVyLGN1cnJlbnQpfWJyZWFrO2Nhc2UidGV4dCI6aXNUZXh0KG5vZGUsYXJyKTticmVhaztjYXNlImVsZW1lbnQiOmlzRWxlbWVudChub2RlLGFycixmb3JtYXR0ZXIsY3VycmVudCk7YnJlYWs7Y2FzZSJjb21tZW50Ijppc0NvbW1lbnQobm9kZSxhcnIsZm9ybWF0dGVyKX1yZXR1cm4gYXJyfWZ1bmN0aW9uIGlzVGV4dChub2RlLGFycil7aWYobm9kZS5wYXJlbnROb2RlLnRhZ05hbWU9PSJwcmUiKXthcnIucHVzaChub2RlLmRhdGEpfWVsc2V7YXJyLnB1c2gobm90VHJhbnNUYWdOYW1lW25vZGUucGFyZW50Tm9kZS50YWdOYW1lXT91dGlscy5odG1sKG5vZGUuZGF0YSk6bm9kZS5kYXRhLnJlcGxhY2UoL1sgXXsyfS9nLCIgJm5ic3A7IikpfX1mdW5jdGlvbiBpc0VsZW1lbnQobm9kZSxhcnIsZm9ybWF0dGVyLGN1cnJlbnQpe3ZhciBhdHRyaHRtbD0iIjtpZihub2RlLmF0dHJzKXthdHRyaHRtbD1bXTt2YXIgYXR0cnM9bm9kZS5hdHRycztmb3IodmFyIGEgaW4gYXR0cnMpe2F0dHJodG1sLnB1c2goYSsoYXR0cnNbYV0hPT11bmRlZmluZWQ/Jz0iJysobm90VHJhbnNBdHRyc1thXT91dGlscy5odG1sKGF0dHJzW2FdKS5yZXBsYWNlKC9bIl0vZyxmdW5jdGlvbihhKXtyZXR1cm4iJnF1b3Q7In0pOnV0aWxzLnVuaHRtbChhdHRyc1thXSkpKyciJzoiIikpfWF0dHJodG1sPWF0dHJodG1sLmpvaW4oIiAiKX1hcnIucHVzaCgiPCIrbm9kZS50YWdOYW1lKyhhdHRyaHRtbD8iICIrYXR0cmh0bWw6IiIpKyhkdGQuJGVtcHR5W25vZGUudGFnTmFtZV0/Ii8iOiIiKSsiPiIpO2lmKGZvcm1hdHRlciYmIWR0ZC4kaW5saW5lV2l0aEFbbm9kZS50YWdOYW1lXSYmbm9kZS50YWdOYW1lIT0icHJlIil7aWYobm9kZS5jaGlsZHJlbiYmbm9kZS5jaGlsZHJlbi5sZW5ndGgpe2N1cnJlbnQ9aW5zZXJ0TGluZShhcnIsY3VycmVudCx0cnVlKTtpbnNlcnRJbmRlbnQoYXJyLGN1cnJlbnQpfX1pZihub2RlLmNoaWxkcmVuJiZub2RlLmNoaWxkcmVuLmxlbmd0aCl7Zm9yKHZhciBpPTAsY2k7Y2k9bm9kZS5jaGlsZHJlbltpKytdOyl7aWYoZm9ybWF0dGVyJiZjaS50eXBlPT0iZWxlbWVudCImJiFkdGQuJGlubGluZVdpdGhBW2NpLnRhZ05hbWVdJiZpPjEpe2luc2VydExpbmUoYXJyLGN1cnJlbnQpO2luc2VydEluZGVudChhcnIsY3VycmVudCl9bm9kZVRvSHRtbChjaSxhcnIsZm9ybWF0dGVyLGN1cnJlbnQpfX1pZighZHRkLiRlbXB0eVtub2RlLnRhZ05hbWVdKXtpZihmb3JtYXR0ZXImJiFkdGQuJGlubGluZVdpdGhBW25vZGUudGFnTmFtZV0mJm5vZGUudGFnTmFtZSE9InByZSIpe2lmKG5vZGUuY2hpbGRyZW4mJm5vZGUuY2hpbGRyZW4ubGVuZ3RoKXtjdXJyZW50PWluc2VydExpbmUoYXJyLGN1cnJlbnQpO2luc2VydEluZGVudChhcnIsY3VycmVudCl9fWFyci5wdXNoKCI8LyIrbm9kZS50YWdOYW1lKyI+Iil9fWZ1bmN0aW9uIGlzQ29tbWVudChub2RlLGFycil7YXJyLnB1c2goIjwhLS0iK25vZGUuZGF0YSsiLS0+Iil9ZnVuY3Rpb24gZ2V0Tm9kZUJ5SWQocm9vdCxpZCl7dmFyIG5vZGU7aWYocm9vdC50eXBlPT0iZWxlbWVudCImJnJvb3QuZ2V0QXR0cigiaWQiKT09aWQpe3JldHVybiByb290fWlmKHJvb3QuY2hpbGRyZW4mJnJvb3QuY2hpbGRyZW4ubGVuZ3RoKXtmb3IodmFyIGk9MCxjaTtjaT1yb290LmNoaWxkcmVuW2krK107KXtpZihub2RlPWdldE5vZGVCeUlkKGNpLGlkKSl7cmV0dXJuIG5vZGV9fX19ZnVuY3Rpb24gZ2V0Tm9kZXNCeVRhZ05hbWUobm9kZSx0YWdOYW1lLGFycil7aWYobm9kZS50eXBlPT0iZWxlbWVudCImJm5vZGUudGFnTmFtZT09dGFnTmFtZSl7YXJyLnB1c2gobm9kZSl9aWYobm9kZS5jaGlsZHJlbiYmbm9kZS5jaGlsZHJlbi5sZW5ndGgpe2Zvcih2YXIgaT0wLGNpO2NpPW5vZGUuY2hpbGRyZW5baSsrXTspe2dldE5vZGVzQnlUYWdOYW1lKGNpLHRhZ05hbWUsYXJyKX19fWZ1bmN0aW9uIG5vZGVUcmF2ZXJzYWwocm9vdCxmbil7aWYocm9vdC5jaGlsZHJlbiYmcm9vdC5jaGlsZHJlbi5sZW5ndGgpe2Zvcih2YXIgaT0wLGNpO2NpPXJvb3QuY2hpbGRyZW5baV07KXtub2RlVHJhdmVyc2FsKGNpLGZuKTtpZihjaS5wYXJlbnROb2RlKXtpZihjaS5jaGlsZHJlbiYmY2kuY2hpbGRyZW4ubGVuZ3RoKXtmbihjaSl9aWYoY2kucGFyZW50Tm9kZSl7aSsrfX19fWVsc2V7Zm4ocm9vdCl9fXVOb2RlLnByb3RvdHlwZT17dG9IdG1sOmZ1bmN0aW9uKGZvcm1hdHRlcil7dmFyIGFycj1bXTtub2RlVG9IdG1sKHRoaXMsYXJyLGZvcm1hdHRlciwwKTtyZXR1cm4gYXJyLmpvaW4oIiIpfSxpbm5lckhUTUw6ZnVuY3Rpb24oaHRtbHN0cil7aWYodGhpcy50eXBlIT0iZWxlbWVudCJ8fGR0ZC4kZW1wdHlbdGhpcy50YWdOYW1lXSl7cmV0dXJuIHRoaXN9aWYodXRpbHMuaXNTdHJpbmcoaHRtbHN0cikpe2lmKHRoaXMuY2hpbGRyZW4pe2Zvcih2YXIgaT0wLGNpO2NpPXRoaXMuY2hpbGRyZW5baSsrXTspe2NpLnBhcmVudE5vZGU9bnVsbH19dGhpcy5jaGlsZHJlbj1bXTt2YXIgdG1wUm9vdD1VTS5odG1scGFyc2VyKGh0bWxzdHIpO2Zvcih2YXIgaT0wLGNpO2NpPXRtcFJvb3QuY2hpbGRyZW5baSsrXTspe3RoaXMuY2hpbGRyZW4ucHVzaChjaSk7Y2kucGFyZW50Tm9kZT10aGlzfXJldHVybiB0aGlzfWVsc2V7dmFyIHRtcFJvb3Q9bmV3IFVNLnVOb2RlKHt0eXBlOiJyb290IixjaGlsZHJlbjp0aGlzLmNoaWxkcmVufSk7cmV0dXJuIHRtcFJvb3QudG9IdG1sKCl9fSxpbm5lclRleHQ6ZnVuY3Rpb24odGV4dFN0cixub1RyYW5zKXtpZih0aGlzLnR5cGUhPSJlbGVtZW50Inx8ZHRkLiRlbXB0eVt0aGlzLnRhZ05hbWVdKXtyZXR1cm4gdGhpc31pZih0ZXh0U3RyKXtpZih0aGlzLmNoaWxkcmVuKXtmb3IodmFyIGk9MCxjaTtjaT10aGlzLmNoaWxkcmVuW2krK107KXtjaS5wYXJlbnROb2RlPW51bGx9fXRoaXMuY2hpbGRyZW49W107dGhpcy5hcHBlbmRDaGlsZCh1Tm9kZS5jcmVhdGVUZXh0KHRleHRTdHIsbm9UcmFucykpO3JldHVybiB0aGlzfWVsc2V7cmV0dXJuIHRoaXMudG9IdG1sKCkucmVwbGFjZSgvPFtePl0rPi9nLCIiKX19LGdldERhdGE6ZnVuY3Rpb24oKXtpZih0aGlzLnR5cGU9PSJlbGVtZW50Iil7cmV0dXJuIiJ9cmV0dXJuIHRoaXMuZGF0YX0sZmlyc3RDaGlsZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkcmVuP3RoaXMuY2hpbGRyZW5bMF06bnVsbH0sbGFzdENoaWxkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hpbGRyZW4/dGhpcy5jaGlsZHJlblt0aGlzLmNoaWxkcmVuLmxlbmd0aC0xXTpudWxsfSxwcmV2aW91c1NpYmxpbmc6ZnVuY3Rpb24oKXt2YXIgcGFyZW50PXRoaXMucGFyZW50Tm9kZTtmb3IodmFyIGk9MCxjaTtjaT1wYXJlbnQuY2hpbGRyZW5baV07aSsrKXtpZihjaT09PXRoaXMpe3JldHVybiBpPT0wP251bGw6cGFyZW50LmNoaWxkcmVuW2ktMV19fX0sbmV4dFNpYmxpbmc6ZnVuY3Rpb24oKXt2YXIgcGFyZW50PXRoaXMucGFyZW50Tm9kZTtmb3IodmFyIGk9MCxjaTtjaT1wYXJlbnQuY2hpbGRyZW5baSsrXTspe2lmKGNpPT09dGhpcyl7cmV0dXJuIHBhcmVudC5jaGlsZHJlbltpXX19fSxyZXBsYWNlQ2hpbGQ6ZnVuY3Rpb24odGFyZ2V0LHNvdXJjZSl7aWYodGhpcy5jaGlsZHJlbil7aWYodGFyZ2V0LnBhcmVudE5vZGUpe3RhcmdldC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRhcmdldCl9Zm9yKHZhciBpPTAsY2k7Y2k9dGhpcy5jaGlsZHJlbltpXTtpKyspe2lmKGNpPT09c291cmNlKXt0aGlzLmNoaWxkcmVuLnNwbGljZShpLDEsdGFyZ2V0KTtzb3VyY2UucGFyZW50Tm9kZT1udWxsO3RhcmdldC5wYXJlbnROb2RlPXRoaXM7cmV0dXJuIHRhcmdldH19fX0sYXBwZW5kQ2hpbGQ6ZnVuY3Rpb24obm9kZSl7aWYodGhpcy50eXBlPT0icm9vdCJ8fCh0aGlzLnR5cGU9PSJlbGVtZW50IiYmIWR0ZC4kZW1wdHlbdGhpcy50YWdOYW1lXSkpe2lmKCF0aGlzLmNoaWxkcmVuKXt0aGlzLmNoaWxkcmVuPVtdfWlmKG5vZGUucGFyZW50Tm9kZSl7bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpfWZvcih2YXIgaT0wLGNpO2NpPXRoaXMuY2hpbGRyZW5baV07aSsrKXtpZihjaT09PW5vZGUpe3RoaXMuY2hpbGRyZW4uc3BsaWNlKGksMSk7YnJlYWt9fXRoaXMuY2hpbGRyZW4ucHVzaChub2RlKTtub2RlLnBhcmVudE5vZGU9dGhpcztyZXR1cm4gbm9kZX19LGluc2VydEJlZm9yZTpmdW5jdGlvbih0YXJnZXQsc291cmNlKXtpZih0aGlzLmNoaWxkcmVuKXtpZih0YXJnZXQucGFyZW50Tm9kZSl7dGFyZ2V0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGFyZ2V0KX1mb3IodmFyIGk9MCxjaTtjaT10aGlzLmNoaWxkcmVuW2ldO2krKyl7aWYoY2k9PT1zb3VyY2Upe3RoaXMuY2hpbGRyZW4uc3BsaWNlKGksMCx0YXJnZXQpO3RhcmdldC5wYXJlbnROb2RlPXRoaXM7cmV0dXJuIHRhcmdldH19fX0saW5zZXJ0QWZ0ZXI6ZnVuY3Rpb24odGFyZ2V0LHNvdXJjZSl7aWYodGhpcy5jaGlsZHJlbil7aWYodGFyZ2V0LnBhcmVudE5vZGUpe3RhcmdldC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRhcmdldCl9Zm9yKHZhciBpPTAsY2k7Y2k9dGhpcy5jaGlsZHJlbltpXTtpKyspe2lmKGNpPT09c291cmNlKXt0aGlzLmNoaWxkcmVuLnNwbGljZShpKzEsMCx0YXJnZXQpO3RhcmdldC5wYXJlbnROb2RlPXRoaXM7cmV0dXJuIHRhcmdldH19fX0scmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24obm9kZSxrZWVwQ2hpbGRyZW4pe2lmKHRoaXMuY2hpbGRyZW4pe2Zvcih2YXIgaT0wLGNpO2NpPXRoaXMuY2hpbGRyZW5baV07aSsrKXtpZihjaT09PW5vZGUpe3RoaXMuY2hpbGRyZW4uc3BsaWNlKGksMSk7Y2kucGFyZW50Tm9kZT1udWxsO2lmKGtlZXBDaGlsZHJlbiYmY2kuY2hpbGRyZW4mJmNpLmNoaWxkcmVuLmxlbmd0aCl7Zm9yKHZhciBqPTAsY2o7Y2o9Y2kuY2hpbGRyZW5bal07aisrKXt0aGlzLmNoaWxkcmVuLnNwbGljZShpK2osMCxjaik7Y2oucGFyZW50Tm9kZT10aGlzfX1yZXR1cm4gY2l9fX19LGdldEF0dHI6ZnVuY3Rpb24oYXR0ck5hbWUpe3JldHVybiB0aGlzLmF0dHJzJiZ0aGlzLmF0dHJzW2F0dHJOYW1lLnRvTG93ZXJDYXNlKCldfSxzZXRBdHRyOmZ1bmN0aW9uKGF0dHJOYW1lLGF0dHJWYWwpe2lmKCFhdHRyTmFtZSl7ZGVsZXRlIHRoaXMuYXR0cnM7cmV0dXJufWlmKCF0aGlzLmF0dHJzKXt0aGlzLmF0dHJzPXt9fWlmKHV0aWxzLmlzT2JqZWN0KGF0dHJOYW1lKSl7Zm9yKHZhciBhIGluIGF0dHJOYW1lKXtpZighYXR0ck5hbWVbYV0pe2RlbGV0ZSB0aGlzLmF0dHJzW2FdfWVsc2V7dGhpcy5hdHRyc1thLnRvTG93ZXJDYXNlKCldPWF0dHJOYW1lW2FdfX19ZWxzZXtpZighYXR0clZhbCl7ZGVsZXRlIHRoaXMuYXR0cnNbYXR0ck5hbWVdfWVsc2V7dGhpcy5hdHRyc1thdHRyTmFtZS50b0xvd2VyQ2FzZSgpXT1hdHRyVmFsfX19LGhhc0F0dHI6ZnVuY3Rpb24oYXR0ck5hbWUpe3ZhciBhdHRyVmFsPXRoaXMuZ2V0QXR0cihhdHRyTmFtZSk7cmV0dXJuKGF0dHJWYWwhPT1udWxsKSYmKGF0dHJWYWwhPT11bmRlZmluZWQpfSxnZXRJbmRleDpmdW5jdGlvbigpe3ZhciBwYXJlbnQ9dGhpcy5wYXJlbnROb2RlO2Zvcih2YXIgaT0wLGNpO2NpPXBhcmVudC5jaGlsZHJlbltpXTtpKyspe2lmKGNpPT09dGhpcyl7cmV0dXJuIGl9fXJldHVybiAtMX0sZ2V0Tm9kZUJ5SWQ6ZnVuY3Rpb24oaWQpe3ZhciBub2RlO2lmKHRoaXMuY2hpbGRyZW4mJnRoaXMuY2hpbGRyZW4ubGVuZ3RoKXtmb3IodmFyIGk9MCxjaTtjaT10aGlzLmNoaWxkcmVuW2krK107KXtpZihub2RlPWdldE5vZGVCeUlkKGNpLGlkKSl7cmV0dXJuIG5vZGV9fX19LGdldE5vZGVzQnlUYWdOYW1lOmZ1bmN0aW9uKHRhZ05hbWVzKXt0YWdOYW1lcz11dGlscy50cmltKHRhZ05hbWVzKS5yZXBsYWNlKC9bIF17Mix9L2csIiAiKS5zcGxpdCgiICIpO3ZhciBhcnI9W10sbWU9dGhpczt1dGlscy5lYWNoKHRhZ05hbWVzLGZ1bmN0aW9uKHRhZ05hbWUpe2lmKG1lLmNoaWxkcmVuJiZtZS5jaGlsZHJlbi5sZW5ndGgpe2Zvcih2YXIgaT0wLGNpO2NpPW1lLmNoaWxkcmVuW2krK107KXtnZXROb2Rlc0J5VGFnTmFtZShjaSx0YWdOYW1lLGFycil9fX0pO3JldHVybiBhcnJ9LGdldFN0eWxlOmZ1bmN0aW9uKG5hbWUpe3ZhciBjc3NTdHlsZT10aGlzLmdldEF0dHIoInN0eWxlIik7aWYoIWNzc1N0eWxlKXtyZXR1cm4iIn12YXIgcmVnPW5ldyBSZWdFeHAoIihefDspXFxzKiIrbmFtZSsiOihbXjtdKykiLCJpIik7dmFyIG1hdGNoPWNzc1N0eWxlLm1hdGNoKHJlZyk7aWYobWF0Y2gmJm1hdGNoWzBdKXtyZXR1cm4gbWF0Y2hbMl19cmV0dXJuIiJ9LHNldFN0eWxlOmZ1bmN0aW9uKG5hbWUsdmFsKXtmdW5jdGlvbiBleGVjKG5hbWUsdmFsKXt2YXIgcmVnPW5ldyBSZWdFeHAoIihefDspXFxzKiIrbmFtZSsiOihbXjtdKzs/KSIsImdpIik7Y3NzU3R5bGU9Y3NzU3R5bGUucmVwbGFjZShyZWcsIiQxIik7aWYodmFsKXtjc3NTdHlsZT1uYW1lKyI6Iit1dGlscy51bmh0bWwodmFsKSsiOyIrY3NzU3R5bGV9fXZhciBjc3NTdHlsZT10aGlzLmdldEF0dHIoInN0eWxlIik7aWYoIWNzc1N0eWxlKXtjc3NTdHlsZT0iIn1pZih1dGlscy5pc09iamVjdChuYW1lKSl7Zm9yKHZhciBhIGluIG5hbWUpe2V4ZWMoYSxuYW1lW2FdKX19ZWxzZXtleGVjKG5hbWUsdmFsKX10aGlzLnNldEF0dHIoInN0eWxlIix1dGlscy50cmltKGNzc1N0eWxlKSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGNsYXNzTmFtZSl7aWYodGhpcy5oYXNBdHRyKCJjbGFzcyIpKXt2YXIgY2xhc3NOYW1lcz10aGlzLmdldEF0dHIoImNsYXNzIikuc3BsaXQoL1xzKy8pLGhhc0NsYXNzPWZhbHNlOyQuZWFjaChjbGFzc05hbWVzLGZ1bmN0aW9uKGtleSxpdGVtKXtpZihpdGVtPT09Y2xhc3NOYW1lKXtoYXNDbGFzcz10cnVlfX0pO3JldHVybiBoYXNDbGFzc31lbHNle3JldHVybiBmYWxzZX19LGFkZENsYXNzOmZ1bmN0aW9uKGNsYXNzTmFtZSl7dmFyIGNsYXNzZXM9bnVsbCxoYXNDbGFzcz1mYWxzZTtpZih0aGlzLmhhc0F0dHIoImNsYXNzIikpe2NsYXNzZXM9dGhpcy5nZXRBdHRyKCJjbGFzcyIpO2NsYXNzZXM9Y2xhc3Nlcy5zcGxpdCgvXHMrLyk7Y2xhc3Nlcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe2lmKGl0ZW09PT1jbGFzc05hbWUpe2hhc0NsYXNzPXRydWU7cmV0dXJufX0pOyFoYXNDbGFzcyYmY2xhc3Nlcy5wdXNoKGNsYXNzTmFtZSk7dGhpcy5zZXRBdHRyKCJjbGFzcyIsY2xhc3Nlcy5qb2luKCIgIikpfWVsc2V7dGhpcy5zZXRBdHRyKCJjbGFzcyIsY2xhc3NOYW1lKX19LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGNsYXNzTmFtZSl7aWYodGhpcy5oYXNBdHRyKCJjbGFzcyIpKXt2YXIgY2w9dGhpcy5nZXRBdHRyKCJjbGFzcyIpO2NsPWNsLnJlcGxhY2UobmV3IFJlZ0V4cCgiXFxiIitjbGFzc05hbWUrIlxcYiIsImciKSwiIik7dGhpcy5zZXRBdHRyKCJjbGFzcyIsdXRpbHMudHJpbShjbCkucmVwbGFjZSgvWyBdezIsfS9nLCIgIikpfX0sdHJhdmVyc2FsOmZ1bmN0aW9uKGZuKXtpZih0aGlzLmNoaWxkcmVuJiZ0aGlzLmNoaWxkcmVuLmxlbmd0aCl7bm9kZVRyYXZlcnNhbCh0aGlzLGZuKX1yZXR1cm4gdGhpc319fSkoKTt2YXIgaHRtbHBhcnNlcj1VTS5odG1scGFyc2VyPWZ1bmN0aW9uKGh0bWxzdHIsaWdub3JlQmxhbmspe3ZhciByZV90YWc9LzwoPzooPzpcLyhbXj5dKyk+KXwoPzohLS0oW1xTfFxzXSo/KS0tPil8KD86KFteXHNcLz5dKylccyooKD86KD86IlteIl0qIil8KD86J1teJ10qJyl8W14iJzw+XSkqKVwvPz4pKS9nLHJlX2F0dHI9LyhbXHdcLTouXSspKD86KD86XHMqPVxzKig/Oig/OiIoW14iXSopIil8KD86JyhbXiddKiknKXwoW15ccz5dKykpKXwoPz1cc3wkKSkvZzt2YXIgYWxsb3dFbXB0eVRhZ3M9e2I6MSxjb2RlOjEsaToxLHU6MSxzdHJpa2U6MSxzOjEsdHQ6MSxzdHJvbmc6MSxxOjEsc2FtcDoxLGVtOjEsc3BhbjoxLHN1YjoxLGltZzoxLHN1cDoxLGZvbnQ6MSxiaWc6MSxzbWFsbDoxLGlmcmFtZToxLGE6MSxicjoxLHByZToxfTtodG1sc3RyPWh0bWxzdHIucmVwbGFjZShuZXcgUmVnRXhwKGRvbVV0aWxzLmZpbGxDaGFyLCJnIiksIiIpO2lmKCFpZ25vcmVCbGFuayl7aHRtbHN0cj1odG1sc3RyLnJlcGxhY2UobmV3IFJlZ0V4cCgiW1xcclxcdFxcbiIrKGlnbm9yZUJsYW5rPyIiOiIgIikrIl0qPC8/KFxcdyspXFxzKig/OltePl0qKT5bXFxyXFx0XFxuIisoaWdub3JlQmxhbms/IiI6IiAiKSsiXSoiLCJnIiksZnVuY3Rpb24oYSxiKXtpZihiJiZhbGxvd0VtcHR5VGFnc1tiLnRvTG93ZXJDYXNlKCldKXtyZXR1cm4gYS5yZXBsYWNlKC8oXltcblxyXSspfChbXG5ccl0rJCkvZywiIil9cmV0dXJuIGEucmVwbGFjZShuZXcgUmVnRXhwKCJeW1xcclxcbiIrKGlnbm9yZUJsYW5rPyIiOiIgIikrIl0rIiksIiIpLnJlcGxhY2UobmV3IFJlZ0V4cCgiW1xcclxcbiIrKGlnbm9yZUJsYW5rPyIiOiIgIikrIl0rJCIpLCIiKX0pfXZhciBub3RUcmFuc0F0dHJzPXtocmVmOjEsc3JjOjF9O3ZhciB1Tm9kZT1VTS51Tm9kZSxuZWVkUGFyZW50Tm9kZT17dGQ6InRyIix0cjpbInRib2R5IiwidGhlYWQiLCJ0Zm9vdCJdLHRib2R5OiJ0YWJsZSIsdGg6InRyIix0aGVhZDoidGFibGUiLHRmb290OiJ0YWJsZSIsY2FwdGlvbjoidGFibGUiLGxpOlsidWwiLCJvbCJdLGR0OiJkbCIsZGQ6ImRsIixvcHRpb246InNlbGVjdCJ9LG5lZWRDaGlsZD17b2w6ImxpIix1bDoibGkifTtmdW5jdGlvbiB0ZXh0KHBhcmVudCxkYXRhKXtpZihuZWVkQ2hpbGRbcGFyZW50LnRhZ05hbWVdKXt2YXIgdG1wTm9kZT11Tm9kZS5jcmVhdGVFbGVtZW50KG5lZWRDaGlsZFtwYXJlbnQudGFnTmFtZV0pO3BhcmVudC5hcHBlbmRDaGlsZCh0bXBOb2RlKTt0bXBOb2RlLmFwcGVuZENoaWxkKHVOb2RlLmNyZWF0ZVRleHQoZGF0YSkpO3BhcmVudD10bXBOb2RlfWVsc2V7cGFyZW50LmFwcGVuZENoaWxkKHVOb2RlLmNyZWF0ZVRleHQoZGF0YSkpfX1mdW5jdGlvbiBlbGVtZW50KHBhcmVudCx0YWdOYW1lLGh0bWxhdHRyKXt2YXIgbmVlZFBhcmVudFRhZztpZihuZWVkUGFyZW50VGFnPW5lZWRQYXJlbnROb2RlW3RhZ05hbWVdKXt2YXIgdG1wUGFyZW50PXBhcmVudCxoYXNQYXJlbnQ7d2hpbGUodG1wUGFyZW50LnR5cGUhPSJyb290Iil7aWYodXRpbHMuaXNBcnJheShuZWVkUGFyZW50VGFnKT91dGlscy5pbmRleE9mKG5lZWRQYXJlbnRUYWcsdG1wUGFyZW50LnRhZ05hbWUpIT0tMTpuZWVkUGFyZW50VGFnPT10bXBQYXJlbnQudGFnTmFtZSl7cGFyZW50PXRtcFBhcmVudDtoYXNQYXJlbnQ9dHJ1ZTticmVha310bXBQYXJlbnQ9dG1wUGFyZW50LnBhcmVudE5vZGV9aWYoIWhhc1BhcmVudCl7cGFyZW50PWVsZW1lbnQocGFyZW50LHV0aWxzLmlzQXJyYXkobmVlZFBhcmVudFRhZyk/bmVlZFBhcmVudFRhZ1swXTpuZWVkUGFyZW50VGFnKX19dmFyIGVsbT1uZXcgdU5vZGUoe3BhcmVudE5vZGU6cGFyZW50LHR5cGU6ImVsZW1lbnQiLHRhZ05hbWU6dGFnTmFtZS50b0xvd2VyQ2FzZSgpLGNoaWxkcmVuOmR0ZC4kZW1wdHlbdGFnTmFtZV0/bnVsbDpbXX0pO2lmKGh0bWxhdHRyKXt2YXIgYXR0cnM9e30sbWF0Y2g7d2hpbGUobWF0Y2g9cmVfYXR0ci5leGVjKGh0bWxhdHRyKSl7YXR0cnNbbWF0Y2hbMV0udG9Mb3dlckNhc2UoKV09bm90VHJhbnNBdHRyc1ttYXRjaFsxXS50b0xvd2VyQ2FzZSgpXT8obWF0Y2hbMl18fG1hdGNoWzNdfHxtYXRjaFs0XSk6dXRpbHMudW5odG1sKG1hdGNoWzJdfHxtYXRjaFszXXx8bWF0Y2hbNF0pfWVsbS5hdHRycz1hdHRyc31wYXJlbnQuY2hpbGRyZW4ucHVzaChlbG0pO3JldHVybiBkdGQuJGVtcHR5W3RhZ05hbWVdP3BhcmVudDplbG19ZnVuY3Rpb24gY29tbWVudChwYXJlbnQsZGF0YSl7cGFyZW50LmNoaWxkcmVuLnB1c2gobmV3IHVOb2RlKHt0eXBlOiJjb21tZW50IixkYXRhOmRhdGEscGFyZW50Tm9kZTpwYXJlbnR9KSl9dmFyIG1hdGNoLGN1cnJlbnRJbmRleD0wLG5leHRJbmRleD0wO3ZhciByb290PW5ldyB1Tm9kZSh7dHlwZToicm9vdCIsY2hpbGRyZW46W119KTt2YXIgY3VycmVudFBhcmVudD1yb290O3doaWxlKG1hdGNoPXJlX3RhZy5leGVjKGh0bWxzdHIpKXtjdXJyZW50SW5kZXg9bWF0Y2guaW5kZXg7dHJ5e2lmKGN1cnJlbnRJbmRleD5uZXh0SW5kZXgpe3RleHQoY3VycmVudFBhcmVudCxodG1sc3RyLnNsaWNlKG5leHRJbmRleCxjdXJyZW50SW5kZXgpKX1pZihtYXRjaFszXSl7aWYoZHRkLiRjZGF0YVtjdXJyZW50UGFyZW50LnRhZ05hbWVdKXt0ZXh0KGN1cnJlbnRQYXJlbnQsbWF0Y2hbMF0pfWVsc2V7Y3VycmVudFBhcmVudD1lbGVtZW50KGN1cnJlbnRQYXJlbnQsbWF0Y2hbM10udG9Mb3dlckNhc2UoKSxtYXRjaFs0XSl9fWVsc2V7aWYobWF0Y2hbMV0pe2lmKGN1cnJlbnRQYXJlbnQudHlwZSE9InJvb3QiKXtpZihkdGQuJGNkYXRhW2N1cnJlbnRQYXJlbnQudGFnTmFtZV0mJiFkdGQuJGNkYXRhW21hdGNoWzFdXSl7dGV4dChjdXJyZW50UGFyZW50LG1hdGNoWzBdKX1lbHNle3ZhciB0bXBQYXJlbnQ9Y3VycmVudFBhcmVudDt3aGlsZShjdXJyZW50UGFyZW50LnR5cGU9PSJlbGVtZW50IiYmY3VycmVudFBhcmVudC50YWdOYW1lIT1tYXRjaFsxXS50b0xvd2VyQ2FzZSgpKXtjdXJyZW50UGFyZW50PWN1cnJlbnRQYXJlbnQucGFyZW50Tm9kZTtpZihjdXJyZW50UGFyZW50LnR5cGU9PSJyb290Iil7Y3VycmVudFBhcmVudD10bXBQYXJlbnQ7dGhyb3ciYnJlYWsifX1jdXJyZW50UGFyZW50PWN1cnJlbnRQYXJlbnQucGFyZW50Tm9kZX19fWVsc2V7aWYobWF0Y2hbMl0pe2NvbW1lbnQoY3VycmVudFBhcmVudCxtYXRjaFsyXSl9fX19Y2F0Y2goZSl7fW5leHRJbmRleD1yZV90YWcubGFzdEluZGV4fWlmKG5leHRJbmRleDxodG1sc3RyLmxlbmd0aCl7dGV4dChjdXJyZW50UGFyZW50LGh0bWxzdHIuc2xpY2UobmV4dEluZGV4KSl9cmV0dXJuIHJvb3R9O3ZhciBmaWx0ZXJOb2RlPVVNLmZpbHRlck5vZGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBmaWx0ZXJOb2RlKG5vZGUscnVsZXMpe3N3aXRjaChub2RlLnR5cGUpe2Nhc2UidGV4dCI6YnJlYWs7Y2FzZSJlbGVtZW50Ijp2YXIgdmFsO2lmKHZhbD1ydWxlc1tub2RlLnRhZ05hbWVdKXtpZih2YWw9PT0iLSIpe25vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKX1lbHNle2lmKHV0aWxzLmlzRnVuY3Rpb24odmFsKSl7dmFyIHBhcmVudE5vZGU9bm9kZS5wYXJlbnROb2RlLGluZGV4PW5vZGUuZ2V0SW5kZXgoKTt2YWwobm9kZSk7aWYobm9kZS5wYXJlbnROb2RlKXtpZihub2RlLmNoaWxkcmVuKXtmb3IodmFyIGk9MCxjaTtjaT1ub2RlLmNoaWxkcmVuW2ldOyl7ZmlsdGVyTm9kZShjaSxydWxlcyk7aWYoY2kucGFyZW50Tm9kZSl7aSsrfX19fWVsc2V7Zm9yKHZhciBpPWluZGV4LGNpO2NpPXBhcmVudE5vZGUuY2hpbGRyZW5baV07KXtmaWx0ZXJOb2RlKGNpLHJ1bGVzKTtpZihjaS5wYXJlbnROb2RlKXtpKyt9fX19ZWxzZXt2YXIgYXR0cnM9dmFsWyIkIl07aWYoYXR0cnMmJm5vZGUuYXR0cnMpe3ZhciB0bXBBdHRycz17fSx0bXBWYWw7Zm9yKHZhciBhIGluIGF0dHJzKXt0bXBWYWw9bm9kZS5nZXRBdHRyKGEpO2lmKGE9PSJzdHlsZSImJnV0aWxzLmlzQXJyYXkoYXR0cnNbYV0pKXt2YXIgdG1wQ3NzU3R5bGU9W107dXRpbHMuZWFjaChhdHRyc1thXSxmdW5jdGlvbih2KXt2YXIgdG1wO2lmKHRtcD1ub2RlLmdldFN0eWxlKHYpKXt0bXBDc3NTdHlsZS5wdXNoKHYrIjoiK3RtcCl9fSk7dG1wVmFsPXRtcENzc1N0eWxlLmpvaW4oIjsiKX1pZih0bXBWYWwpe3RtcEF0dHJzW2FdPXRtcFZhbH19bm9kZS5hdHRycz10bXBBdHRyc31pZihub2RlLmNoaWxkcmVuKXtmb3IodmFyIGk9MCxjaTtjaT1ub2RlLmNoaWxkcmVuW2ldOyl7ZmlsdGVyTm9kZShjaSxydWxlcyk7aWYoY2kucGFyZW50Tm9kZSl7aSsrfX19fX19ZWxzZXtpZihkdGQuJGNkYXRhW25vZGUudGFnTmFtZV0pe25vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKX1lbHNle3ZhciBwYXJlbnROb2RlPW5vZGUucGFyZW50Tm9kZSxpbmRleD1ub2RlLmdldEluZGV4KCk7bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUsdHJ1ZSk7Zm9yKHZhciBpPWluZGV4LGNpO2NpPXBhcmVudE5vZGUuY2hpbGRyZW5baV07KXtmaWx0ZXJOb2RlKGNpLHJ1bGVzKTtpZihjaS5wYXJlbnROb2RlKXtpKyt9fX19YnJlYWs7Y2FzZSJjb21tZW50Ijpub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSl9fXJldHVybiBmdW5jdGlvbihyb290LHJ1bGVzKXtpZih1dGlscy5pc0VtcHR5T2JqZWN0KHJ1bGVzKSl7cmV0dXJuIHJvb3R9dmFyIHZhbDtpZih2YWw9cnVsZXNbIi0iXSl7dXRpbHMuZWFjaCh2YWwuc3BsaXQoIiAiKSxmdW5jdGlvbihrKXtydWxlc1trXT0iLSJ9KX1mb3IodmFyIGk9MCxjaTtjaT1yb290LmNoaWxkcmVuW2ldOyl7ZmlsdGVyTm9kZShjaSxydWxlcyk7aWYoY2kucGFyZW50Tm9kZSl7aSsrfX1yZXR1cm4gcm9vdH19KCk7VU0uY29tbWFuZHMuaW5zZXJ0aHRtbD17ZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY29tbWFuZCxodG1sLG5vdE5lZWRGaWx0ZXIpe3ZhciBtZT10aGlzLHJhbmdlLGRpdjtpZighaHRtbCl7cmV0dXJufWlmKG1lLmZpcmVFdmVudCgiYmVmb3JlaW5zZXJ0aHRtbCIsaHRtbCk9PT10cnVlKXtyZXR1cm59cmFuZ2U9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7ZGl2PXJhbmdlLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Rpdi5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiO2lmKCFub3ROZWVkRmlsdGVyKXt2YXIgcm9vdD1VTS5odG1scGFyc2VyKGh0bWwpO2lmKG1lLm9wdGlvbnMuZmlsdGVyUnVsZXMpe1VNLmZpbHRlck5vZGUocm9vdCxtZS5vcHRpb25zLmZpbHRlclJ1bGVzKX1tZS5maWx0ZXJJbnB1dFJ1bGUocm9vdCk7aHRtbD1yb290LnRvSHRtbCgpfWRpdi5pbm5lckhUTUw9dXRpbHMudHJpbShodG1sKTtpZighcmFuZ2UuY29sbGFwc2VkKXt2YXIgdG1wTm9kZT1yYW5nZS5zdGFydENvbnRhaW5lcjtpZihkb21VdGlscy5pc0ZpbGxDaGFyKHRtcE5vZGUpKXtyYW5nZS5zZXRTdGFydEJlZm9yZSh0bXBOb2RlKX10bXBOb2RlPXJhbmdlLmVuZENvbnRhaW5lcjtpZihkb21VdGlscy5pc0ZpbGxDaGFyKHRtcE5vZGUpKXtyYW5nZS5zZXRFbmRBZnRlcih0bXBOb2RlKX1yYW5nZS50eHRUb0VsbUJvdW5kYXJ5KCk7aWYocmFuZ2UuZW5kQ29udGFpbmVyJiZyYW5nZS5lbmRDb250YWluZXIubm9kZVR5cGU9PTEpe3RtcE5vZGU9cmFuZ2UuZW5kQ29udGFpbmVyLmNoaWxkTm9kZXNbcmFuZ2UuZW5kT2Zmc2V0XTtpZih0bXBOb2RlJiZkb21VdGlscy5pc0JyKHRtcE5vZGUpKXtyYW5nZS5zZXRFbmRBZnRlcih0bXBOb2RlKX19aWYocmFuZ2Uuc3RhcnRPZmZzZXQ9PTApe3RtcE5vZGU9cmFuZ2Uuc3RhcnRDb250YWluZXI7aWYoZG9tVXRpbHMuaXNCb3VuZGFyeU5vZGUodG1wTm9kZSwiZmlyc3RDaGlsZCIpKXt0bXBOb2RlPXJhbmdlLmVuZENvbnRhaW5lcjtpZihyYW5nZS5lbmRPZmZzZXQ9PSh0bXBOb2RlLm5vZGVUeXBlPT0zP3RtcE5vZGUubm9kZVZhbHVlLmxlbmd0aDp0bXBOb2RlLmNoaWxkTm9kZXMubGVuZ3RoKSYmZG9tVXRpbHMuaXNCb3VuZGFyeU5vZGUodG1wTm9kZSwibGFzdENoaWxkIikpe21lLmJvZHkuaW5uZXJIVE1MPSI8cD4iKyhicm93c2VyLmllPyIiOiI8YnIvPiIpKyI8L3A+IjtyYW5nZS5zZXRTdGFydChtZS5ib2R5LmZpcnN0Q2hpbGQsMCkuY29sbGFwc2UodHJ1ZSl9fX0hcmFuZ2UuY29sbGFwc2VkJiZyYW5nZS5kZWxldGVDb250ZW50cygpO2lmKHJhbmdlLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlPT0xKXt2YXIgY2hpbGQ9cmFuZ2Uuc3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1tyYW5nZS5zdGFydE9mZnNldF0scHJlO2lmKGNoaWxkJiZkb21VdGlscy5pc0Jsb2NrRWxtKGNoaWxkKSYmKHByZT1jaGlsZC5wcmV2aW91c1NpYmxpbmcpJiZkb21VdGlscy5pc0Jsb2NrRWxtKHByZSkpe3JhbmdlLnNldEVuZChwcmUscHJlLmNoaWxkTm9kZXMubGVuZ3RoKS5jb2xsYXBzZSgpO3doaWxlKGNoaWxkLmZpcnN0Q2hpbGQpe3ByZS5hcHBlbmRDaGlsZChjaGlsZC5maXJzdENoaWxkKX1kb21VdGlscy5yZW1vdmUoY2hpbGQpfX19dmFyIGNoaWxkLHBhcmVudCxwcmUsdG1wLGhhZEJyZWFrPTAsbmV4dE5vZGU7aWYocmFuZ2UuaW5GaWxsQ2hhcigpKXtjaGlsZD1yYW5nZS5zdGFydENvbnRhaW5lcjtpZihkb21VdGlscy5pc0ZpbGxDaGFyKGNoaWxkKSl7cmFuZ2Uuc2V0U3RhcnRCZWZvcmUoY2hpbGQpLmNvbGxhcHNlKHRydWUpO2RvbVV0aWxzLnJlbW92ZShjaGlsZCl9ZWxzZXtpZihkb21VdGlscy5pc0ZpbGxDaGFyKGNoaWxkLHRydWUpKXtjaGlsZC5ub2RlVmFsdWU9Y2hpbGQubm9kZVZhbHVlLnJlcGxhY2UoZmlsbENoYXJSZWcsIiIpO3JhbmdlLnN0YXJ0T2Zmc2V0LS07cmFuZ2UuY29sbGFwc2VkJiZyYW5nZS5jb2xsYXBzZSh0cnVlKX19fXdoaWxlKGNoaWxkPWRpdi5maXJzdENoaWxkKXtpZihoYWRCcmVhayl7dmFyIHA9bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpO3doaWxlKGNoaWxkJiYoY2hpbGQubm9kZVR5cGU9PTN8fCFkdGQuJGJsb2NrW2NoaWxkLnRhZ05hbWVdKSl7bmV4dE5vZGU9Y2hpbGQubmV4dFNpYmxpbmc7cC5hcHBlbmRDaGlsZChjaGlsZCk7Y2hpbGQ9bmV4dE5vZGV9aWYocC5maXJzdENoaWxkKXtjaGlsZD1wfX1yYW5nZS5pbnNlcnROb2RlKGNoaWxkKTtuZXh0Tm9kZT1jaGlsZC5uZXh0U2libGluZztpZighaGFkQnJlYWsmJmNoaWxkLm5vZGVUeXBlPT1kb21VdGlscy5OT0RFX0VMRU1FTlQmJmRvbVV0aWxzLmlzQmxvY2tFbG0oY2hpbGQpKXtwYXJlbnQ9ZG9tVXRpbHMuZmluZFBhcmVudChjaGlsZCxmdW5jdGlvbihub2RlKXtyZXR1cm4gZG9tVXRpbHMuaXNCbG9ja0VsbShub2RlKX0pO2lmKHBhcmVudCYmcGFyZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSE9ImJvZHkiJiYhKGR0ZFtwYXJlbnQudGFnTmFtZV1bY2hpbGQubm9kZU5hbWVdJiZjaGlsZC5wYXJlbnROb2RlPT09cGFyZW50KSl7aWYoIWR0ZFtwYXJlbnQudGFnTmFtZV1bY2hpbGQubm9kZU5hbWVdKXtwcmU9cGFyZW50fWVsc2V7dG1wPWNoaWxkLnBhcmVudE5vZGU7d2hpbGUodG1wIT09cGFyZW50KXtwcmU9dG1wO3RtcD10bXAucGFyZW50Tm9kZX19ZG9tVXRpbHMuYnJlYWtQYXJlbnQoY2hpbGQscHJlfHx0bXApO3ZhciBwcmU9Y2hpbGQucHJldmlvdXNTaWJsaW5nO2RvbVV0aWxzLnRyaW1XaGl0ZVRleHROb2RlKHByZSk7aWYoIXByZS5jaGlsZE5vZGVzLmxlbmd0aCl7ZG9tVXRpbHMucmVtb3ZlKHByZSl9aWYoIWJyb3dzZXIuaWUmJihuZXh0PWNoaWxkLm5leHRTaWJsaW5nKSYmZG9tVXRpbHMuaXNCbG9ja0VsbShuZXh0KSYmbmV4dC5sYXN0Q2hpbGQmJiFkb21VdGlscy5pc0JyKG5leHQubGFzdENoaWxkKSl7bmV4dC5hcHBlbmRDaGlsZChtZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiciIpKX1oYWRCcmVhaz0xfX12YXIgbmV4dD1jaGlsZC5uZXh0U2libGluZztpZighZGl2LmZpcnN0Q2hpbGQmJm5leHQmJmRvbVV0aWxzLmlzQmxvY2tFbG0obmV4dCkpe3JhbmdlLnNldFN0YXJ0KG5leHQsMCkuY29sbGFwc2UodHJ1ZSk7YnJlYWt9cmFuZ2Uuc2V0RW5kQWZ0ZXIoY2hpbGQpLmNvbGxhcHNlKCl9Y2hpbGQ9cmFuZ2Uuc3RhcnRDb250YWluZXI7aWYobmV4dE5vZGUmJmRvbVV0aWxzLmlzQnIobmV4dE5vZGUpKXtkb21VdGlscy5yZW1vdmUobmV4dE5vZGUpfWlmKGRvbVV0aWxzLmlzQmxvY2tFbG0oY2hpbGQpJiZkb21VdGlscy5pc0VtcHR5Tm9kZShjaGlsZCkpe2lmKG5leHROb2RlPWNoaWxkLm5leHRTaWJsaW5nKXtkb21VdGlscy5yZW1vdmUoY2hpbGQpO2lmKG5leHROb2RlLm5vZGVUeXBlPT0xJiZkdGQuJGJsb2NrW25leHROb2RlLnRhZ05hbWVdKXtyYW5nZS5zZXRTdGFydChuZXh0Tm9kZSwwKS5jb2xsYXBzZSh0cnVlKS5zaHJpbmtCb3VuZGFyeSgpfX1lbHNle3RyeXtjaGlsZC5pbm5lckhUTUw9YnJvd3Nlci5pZT9kb21VdGlscy5maWxsQ2hhcjoiPGJyLz4ifWNhdGNoKGUpe3JhbmdlLnNldFN0YXJ0QmVmb3JlKGNoaWxkKTtkb21VdGlscy5yZW1vdmUoY2hpbGQpfX19dHJ5e2lmKGJyb3dzZXIuaWU5YmVsb3cmJnJhbmdlLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlPT0xJiYhcmFuZ2Uuc3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1tyYW5nZS5zdGFydE9mZnNldF0pe3ZhciBzdGFydD1yYW5nZS5zdGFydENvbnRhaW5lcixwcmU9c3RhcnQuY2hpbGROb2Rlc1tyYW5nZS5zdGFydE9mZnNldC0xXTtpZihwcmUmJnByZS5ub2RlVHlwZT09MSYmZHRkLiRlbXB0eVtwcmUudGFnTmFtZV0pe3ZhciB0eHQ9dGhpcy5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkb21VdGlscy5maWxsQ2hhcik7cmFuZ2UuaW5zZXJ0Tm9kZSh0eHQpLnNldFN0YXJ0KHR4dCwwKS5jb2xsYXBzZSh0cnVlKX19c2V0VGltZW91dChmdW5jdGlvbigpe3JhbmdlLnNlbGVjdCh0cnVlKX0pfWNhdGNoKGUpe31zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmFuZ2U9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7cmFuZ2Uuc2Nyb2xsSW50b1ZpZXcoKTttZS5maXJlRXZlbnQoImFmdGVyaW5zZXJ0aHRtbCIpfSwyMDApfX07VU0uY29tbWFuZHMuaW5zZXJ0aW1hZ2U9e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZCxvcHQpe29wdD11dGlscy5pc0FycmF5KG9wdCk/b3B0OltvcHRdO2lmKCFvcHQubGVuZ3RoKXtyZXR1cm59dmFyIG1lPXRoaXM7dmFyIGh0bWw9W10sc3RyPSIiLGNpO2NpPW9wdFswXTtpZihvcHQubGVuZ3RoPT0xKXtzdHI9JzxpbWcgc3JjPSInK2NpLnNyYysnIiAnKyhjaS5fc3JjPycgX3NyYz0iJytjaS5fc3JjKyciICc6IiIpKyhjaS53aWR0aD8nd2lkdGg9IicrY2kud2lkdGgrJyIgJzoiIikrKGNpLmhlaWdodD8nIGhlaWdodD0iJytjaS5oZWlnaHQrJyIgJzoiIikrKGNpLmZsb2F0U3R5bGU9PSJsZWZ0Inx8Y2kuZmxvYXRTdHlsZT09InJpZ2h0Ij8nIHN0eWxlPSJmbG9hdDonK2NpLmZsb2F0U3R5bGUrJzsiJzoiIikrKGNpLnRpdGxlJiZjaS50aXRsZSE9IiI/JyB0aXRsZT0iJytjaS50aXRsZSsnIic6IiIpKyhjaS5ib3JkZXImJmNpLmJvcmRlciE9IjAiPycgYm9yZGVyPSInK2NpLmJvcmRlcisnIic6IiIpKyhjaS5hbHQmJmNpLmFsdCE9IiI/JyBhbHQ9IicrY2kuYWx0KyciJzoiIikrKGNpLmhzcGFjZSYmY2kuaHNwYWNlIT0iMCI/JyBoc3BhY2UgPSAiJytjaS5oc3BhY2UrJyInOiIiKSsoY2kudnNwYWNlJiZjaS52c3BhY2UhPSIwIj8nIHZzcGFjZSA9ICInK2NpLnZzcGFjZSsnIic6IiIpKyIvPiI7aWYoY2kuZmxvYXRTdHlsZT09ImNlbnRlciIpe3N0cj0nPHAgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlciI+JytzdHIrIjwvcD4ifWh0bWwucHVzaChzdHIpfWVsc2V7Zm9yKHZhciBpPTA7Y2k9b3B0W2krK107KXtzdHI9IjxwICIrKGNpLmZsb2F0U3R5bGU9PSJjZW50ZXIiPydzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyIiAnOiIiKSsnPjxpbWcgc3JjPSInK2NpLnNyYysnIiAnKyhjaS53aWR0aD8nd2lkdGg9IicrY2kud2lkdGgrJyIgJzoiIikrKGNpLl9zcmM/JyBfc3JjPSInK2NpLl9zcmMrJyIgJzoiIikrKGNpLmhlaWdodD8nIGhlaWdodD0iJytjaS5oZWlnaHQrJyIgJzoiIikrJyBzdHlsZT0iJysoY2kuZmxvYXRTdHlsZSYmY2kuZmxvYXRTdHlsZSE9ImNlbnRlciI/ImZsb2F0OiIrY2kuZmxvYXRTdHlsZSsiOyI6IiIpKyhjaS5ib3JkZXJ8fCIiKSsnIiAnKyhjaS50aXRsZT8nIHRpdGxlPSInK2NpLnRpdGxlKyciJzoiIikrIiAvPjwvcD4iO2h0bWwucHVzaChzdHIpfX1tZS5leGVjQ29tbWFuZCgiaW5zZXJ0SHRtbCIsaHRtbC5qb2luKCIiKSx0cnVlKX19O1VNLnBsdWdpbnMuanVzdGlmeT1mdW5jdGlvbigpe3ZhciBtZT10aGlzOyQuZWFjaCgianVzdGlmeWxlZnQganVzdGlmeXJpZ2h0IGp1c3RpZnljZW50ZXIganVzdGlmeWZ1bGwiLnNwbGl0KCIgIiksZnVuY3Rpb24oaSxjbWROYW1lKXttZS5jb21tYW5kc1tjbWROYW1lXT17ZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kTmFtZSl7cmV0dXJuIHRoaXMuZG9jdW1lbnQuZXhlY0NvbW1hbmQoY21kTmFtZSl9LHF1ZXJ5Q29tbWFuZFZhbHVlOmZ1bmN0aW9uKGNtZE5hbWUpe3ZhciB2YWw9dGhpcy5kb2N1bWVudC5xdWVyeUNvbW1hbmRWYWx1ZShjbWROYW1lKTtyZXR1cm4gdmFsPT09dHJ1ZXx8dmFsPT09InRydWUiP2NtZE5hbWUucmVwbGFjZSgvanVzdGlmeS8sIiIpOiIifSxxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbihjbWROYW1lKXtyZXR1cm4gdGhpcy5kb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZShjbWROYW1lKT8xOjB9fX0pfTtVTS5wbHVnaW5zLmZvbnQ9ZnVuY3Rpb24oKXt2YXIgbWU9dGhpcyxmb250cz17Zm9yZWNvbG9yOiJmb3JlY29sb3IiLGJhY2tjb2xvcjoiYmFja2NvbG9yIixmb250c2l6ZToiZm9udHNpemUiLGZvbnRmYW1pbHk6ImZvbnRuYW1lIn0sY21kTmFtZVRvU3R5bGU9e2ZvcmVjb2xvcjoiY29sb3IiLGJhY2tjb2xvcjoiYmFja2dyb3VuZC1jb2xvciIsZm9udHNpemU6ImZvbnQtc2l6ZSIsZm9udGZhbWlseToiZm9udC1mYW1pbHkifSxjbWROYW1lVG9BdHRyPXtmb3JlY29sb3I6ImNvbG9yIixmb250c2l6ZToic2l6ZSIsZm9udGZhbWlseToiZmFjZSJ9O21lLnNldE9wdCh7Zm9udGZhbWlseTpbe25hbWU6InNvbmd0aSIsdmFsOiLlrovkvZMsU2ltU3VuIn0se25hbWU6InlhaGVpIix2YWw6IuW+rui9r+mbhem7kSxNaWNyb3NvZnQgWWFIZWkifSx7bmFtZToia2FpdGkiLHZhbDoi5qW35L2TLOalt+S9k19HQjIzMTIsIFNpbUthaSJ9LHtuYW1lOiJoZWl0aSIsdmFsOiLpu5HkvZMsIFNpbUhlaSJ9LHtuYW1lOiJsaXNodSIsdmFsOiLpmrbkuaYsIFNpbUxpIn0se25hbWU6ImFuZGFsZU1vbm8iLHZhbDoiYW5kYWxlIG1vbm8ifSx7bmFtZToiYXJpYWwiLHZhbDoiYXJpYWwsIGhlbHZldGljYSxzYW5zLXNlcmlmIn0se25hbWU6ImFyaWFsQmxhY2siLHZhbDoiYXJpYWwgYmxhY2ssYXZhbnQgZ2FyZGUifSx7bmFtZToiY29taWNTYW5zTXMiLHZhbDoiY29taWMgc2FucyBtcyJ9LHtuYW1lOiJpbXBhY3QiLHZhbDoiaW1wYWN0LGNoaWNhZ28ifSx7bmFtZToidGltZXNOZXdSb21hbiIsdmFsOiJ0aW1lcyBuZXcgcm9tYW4ifSx7bmFtZToic2Fucy1zZXJpZiIsdmFsOiJzYW5zLXNlcmlmIn1dLGZvbnRzaXplOlsxMCwxMiwxNiwxOCwyNCwzMiw0OF19KTttZS5hZGRPdXRwdXRSdWxlKGZ1bmN0aW9uKHJvb3Qpe3V0aWxzLmVhY2gocm9vdC5nZXROb2Rlc0J5VGFnTmFtZSgiZm9udCIpLGZ1bmN0aW9uKG5vZGUpe2lmKG5vZGUudGFnTmFtZT09ImZvbnQiKXt2YXIgY3NzU3R5bGU9W107Zm9yKHZhciBwIGluIG5vZGUuYXR0cnMpe3N3aXRjaChwKXtjYXNlInNpemUiOnZhciB2YWw9bm9kZS5hdHRyc1twXTskLmVhY2goeyIxMCI6IjEiLCIxMiI6IjIiLCIxNiI6IjMiLCIxOCI6IjQiLCIyNCI6IjUiLCIzMiI6IjYiLCI0OCI6IjcifSxmdW5jdGlvbihrLHYpe2lmKHY9PXZhbCl7dmFsPWs7cmV0dXJuIGZhbHNlfX0pO2Nzc1N0eWxlLnB1c2goImZvbnQtc2l6ZToiK3ZhbCsicHgiKTticmVhaztjYXNlImNvbG9yIjpjc3NTdHlsZS5wdXNoKCJjb2xvcjoiK25vZGUuYXR0cnNbcF0pO2JyZWFrO2Nhc2UiZmFjZSI6Y3NzU3R5bGUucHVzaCgiZm9udC1mYW1pbHk6Iitub2RlLmF0dHJzW3BdKTticmVhaztjYXNlInN0eWxlIjpjc3NTdHlsZS5wdXNoKG5vZGUuYXR0cnNbcF0pfX1ub2RlLmF0dHJzPXtzdHlsZTpjc3NTdHlsZS5qb2luKCI7Iil9fW5vZGUudGFnTmFtZT0ic3BhbiI7aWYobm9kZS5wYXJlbnROb2RlLnRhZ05hbWU9PSJzcGFuIiYmbm9kZS5wYXJlbnROb2RlLmNoaWxkcmVuLmxlbmd0aD09MSl7JC5lYWNoKG5vZGUuYXR0cnMsZnVuY3Rpb24oayx2KXtub2RlLnBhcmVudE5vZGUuYXR0cnNba109az09InN0eWxlIj9ub2RlLnBhcmVudE5vZGUuYXR0cnNba10rdjp2fSk7bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUsdHJ1ZSl9fSl9KTtmb3IodmFyIHAgaW4gZm9udHMpeyhmdW5jdGlvbihjbWQpe21lLmNvbW1hbmRzW2NtZF09e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZE5hbWUsdmFsdWUpe2lmKHZhbHVlPT0idHJhbnNwYXJlbnQiKXtyZXR1cm59dmFyIHJuZz10aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpO2lmKHJuZy5jb2xsYXBzZWQpe3ZhciBzcGFuPSQoIjxzcGFuPjwvc3Bhbj4iKS5jc3MoY21kTmFtZVRvU3R5bGVbY21kTmFtZV0sdmFsdWUpWzBdO3JuZy5pbnNlcnROb2RlKHNwYW4pLnNldFN0YXJ0KHNwYW4sMCkuc2V0Q3Vyc29yKCl9ZWxzZXtpZihjbWROYW1lPT0iZm9udHNpemUiKXt2YWx1ZT17IjEwIjoiMSIsIjEyIjoiMiIsIjE2IjoiMyIsIjE4IjoiNCIsIjI0IjoiNSIsIjMyIjoiNiIsIjQ4IjoiNyJ9Wyh2YWx1ZSsiIikucmVwbGFjZSgvcHgvLCIiKV19dGhpcy5kb2N1bWVudC5leGVjQ29tbWFuZChmb250c1tjbWROYW1lXSxmYWxzZSx2YWx1ZSk7aWYoYnJvd3Nlci5nZWNrbyl7JC5lYWNoKHRoaXMuJGJvZHkuZmluZCgiYSIpLGZ1bmN0aW9uKGksYSl7dmFyIHBhcmVudD1hLnBhcmVudE5vZGU7aWYocGFyZW50Lmxhc3RDaGlsZD09PXBhcmVudC5maXJzdENoaWxkJiYvRk9OVHxTUEFOLy50ZXN0KHBhcmVudC50YWdOYW1lKSl7dmFyIGNsb25lTm9kZT1wYXJlbnQuY2xvbmVOb2RlKGZhbHNlKTtjbG9uZU5vZGUuaW5uZXJIVE1MPWEuaW5uZXJIVE1MOyQoYSkuaHRtbCgiIikuYXBwZW5kKGNsb25lTm9kZSkuaW5zZXJ0QmVmb3JlKHBhcmVudCk7JChwYXJlbnQpLnJlbW92ZSgpfX0pfWlmKCFicm93c2VyLmllKXt2YXIgbmF0aXZlUmFuZ2U9dGhpcy5zZWxlY3Rpb24uZ2V0TmF0aXZlKCkuZ2V0UmFuZ2VBdCgwKTt2YXIgY29tbW9uPW5hdGl2ZVJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO3ZhciBybmc9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxiaz1ybmcuY3JlYXRlQm9va21hcmsodHJ1ZSk7JChjb21tb24pLmZpbmQoImEiKS5lYWNoKGZ1bmN0aW9uKGksbil7dmFyIHBhcmVudD1uLnBhcmVudE5vZGU7aWYocGFyZW50Lm5vZGVOYW1lPT0iRk9OVCIpe3ZhciBmb250PXBhcmVudC5jbG9uZU5vZGUoZmFsc2UpO2ZvbnQuaW5uZXJIVE1MPW4uaW5uZXJIVE1MOyQobikuaHRtbCgiIikuYXBwZW5kKGZvbnQpfX0pO3JuZy5tb3ZlVG9Cb29rbWFyayhiaykuc2VsZWN0KCl9cmV0dXJuIHRydWV9fSxxdWVyeUNvbW1hbmRWYWx1ZTpmdW5jdGlvbihjbWROYW1lKXt2YXIgc3RhcnQ9bWUuc2VsZWN0aW9uLmdldFN0YXJ0KCk7dmFyIHZhbD0kKHN0YXJ0KS5jc3MoY21kTmFtZVRvU3R5bGVbY21kTmFtZV0pO2lmKHZhbD09PXVuZGVmaW5lZCl7dmFsPSQoc3RhcnQpLmF0dHIoY21kTmFtZVRvQXR0cltjbWROYW1lXSl9cmV0dXJuIHZhbD91dGlscy5maXhDb2xvcihjbWROYW1lLHZhbCkucmVwbGFjZSgvcHgvLCIiKToiIn0scXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oY21kTmFtZSl7cmV0dXJuIHRoaXMucXVlcnlDb21tYW5kVmFsdWUoY21kTmFtZSl9fX0pKHApfX07VU0ucGx1Z2lucy5saW5rPWZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7bWUuc2V0T3B0KCJhdXRvdXJsZGV0ZWN0aW5pZSIsZmFsc2UpO2lmKGJyb3dzZXIuaWUmJnRoaXMub3B0aW9ucy5hdXRvdXJsZGV0ZWN0aW5pZT09PWZhbHNlKXt0aGlzLmFkZExpc3RlbmVyKCJrZXl1cCIsZnVuY3Rpb24oY21kLGV2dCl7dmFyIG1lPXRoaXMsa2V5Q29kZT1ldnQua2V5Q29kZTtpZihrZXlDb2RlPT0xM3x8a2V5Q29kZT09MzIpe3ZhciBybmc9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7dmFyIHN0YXJ0PXJuZy5zdGFydENvbnRhaW5lcjtpZihrZXlDb2RlPT0xMyl7aWYoc3RhcnQubm9kZU5hbWU9PSJQIil7dmFyIHByZT1zdGFydC5wcmV2aW91c1NpYmxpbmc7aWYocHJlJiZwcmUubm9kZVR5cGU9PTEpe3ZhciBwcmU9cHJlLmxhc3RDaGlsZDtpZihwcmUmJnByZS5ub2RlTmFtZT09IkEiJiYhcHJlLmdldEF0dHJpYnV0ZSgiX2hyZWYiKSl7ZG9tVXRpbHMucmVtb3ZlKHByZSx0cnVlKX19fX1lbHNle2lmKGtleUNvZGU9PTMyKXtpZihzdGFydC5ub2RlVHlwZT09MyYmL15ccyQvLnRlc3Qoc3RhcnQubm9kZVZhbHVlKSl7c3RhcnQ9c3RhcnQucHJldmlvdXNTaWJsaW5nO2lmKHN0YXJ0JiZzdGFydC5ub2RlTmFtZT09IkEiJiYhc3RhcnQuZ2V0QXR0cmlidXRlKCJfaHJlZiIpKXtkb21VdGlscy5yZW1vdmUoc3RhcnQsdHJ1ZSl9fX19fX0pfXRoaXMuYWRkT3V0cHV0UnVsZShmdW5jdGlvbihyb290KXskLmVhY2gocm9vdC5nZXROb2Rlc0J5VGFnTmFtZSgiYSIpLGZ1bmN0aW9uKGksYSl7dmFyIF9ocmVmPXV0aWxzLmh0bWwoYS5nZXRBdHRyKCJfaHJlZiIpKTtpZighL14oZnRwfGh0dHBzP3xcL3xmaWxlKS8udGVzdChfaHJlZikpe19ocmVmPSJodHRwOi8vIitfaHJlZn1hLnNldEF0dHIoImhyZWYiLF9ocmVmKTthLnNldEF0dHIoIl9ocmVmIik7aWYoYS5nZXRBdHRyKCJ0aXRsZSIpPT0iIil7YS5zZXRBdHRyKCJ0aXRsZSIpfX0pfSk7dGhpcy5hZGRJbnB1dFJ1bGUoZnVuY3Rpb24ocm9vdCl7JC5lYWNoKHJvb3QuZ2V0Tm9kZXNCeVRhZ05hbWUoImEiKSxmdW5jdGlvbihpLGEpe2Euc2V0QXR0cigiX2hyZWYiLHV0aWxzLmh0bWwoYS5nZXRBdHRyKCJocmVmIikpKX0pfSk7bWUuY29tbWFuZHMubGluaz17ZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kTmFtZSxvcHQpe3ZhciBtZT10aGlzO3ZhciBybmc9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7aWYocm5nLmNvbGxhcHNlZCl7dmFyIHN0YXJ0PXJuZy5zdGFydENvbnRhaW5lcjtpZihzdGFydD1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHN0YXJ0LCJhIix0cnVlKSl7JChzdGFydCkuYXR0cihvcHQpO3JuZy5zZWxlY3ROb2RlKHN0YXJ0KS5zZWxlY3QoKX1lbHNle3JuZy5pbnNlcnROb2RlKCQoIjxhPiIrb3B0LmhyZWYrIjwvYT4iKS5hdHRyKG9wdClbMF0pLnNlbGVjdCgpfX1lbHNle21lLmRvY3VtZW50LmV4ZWNDb21tYW5kKCJjcmVhdGVsaW5rIixmYWxzZSwiX3VtZWRpdG9yX2xpbmsiKTt1dGlscy5lYWNoKGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKG1lLmJvZHksImEiLGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldEF0dHJpYnV0ZSgiaHJlZiIpPT0iX3VtZWRpdG9yX2xpbmsifSksZnVuY3Rpb24obCl7aWYoJChsKS50ZXh0KCk9PSJfdW1lZGl0b3JfbGluayIpeyQobCkudGV4dChvcHQuaHJlZil9ZG9tVXRpbHMuc2V0QXR0cmlidXRlcyhsLG9wdCk7cm5nLnNlbGVjdE5vZGUobCkuc2VsZWN0KCl9KX19LHF1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucXVlcnlDb21tYW5kVmFsdWUoImxpbmsiKT8xOjB9LHF1ZXJ5Q29tbWFuZFZhbHVlOmZ1bmN0aW9uKCl7dmFyIHBhdGg9dGhpcy5zZWxlY3Rpb24uZ2V0U3RhcnRFbGVtZW50UGF0aCgpO3ZhciByZXN1bHQ7JC5lYWNoKHBhdGgsZnVuY3Rpb24oaSxuKXtpZihuLm5vZGVOYW1lPT0iQSIpe3Jlc3VsdD1uO3JldHVybiBmYWxzZX19KTtyZXR1cm4gcmVzdWx0fX07bWUuY29tbWFuZHMudW5saW5rPXtleGVjQ29tbWFuZDpmdW5jdGlvbigpe3RoaXMuZG9jdW1lbnQuZXhlY0NvbW1hbmQoInVubGluayIpfX19O1VNLmNvbW1hbmRzLnByaW50PXtleGVjQ29tbWFuZDpmdW5jdGlvbigpe3ZhciBtZT10aGlzLGlkPSJlZGl0b3JfcHJpbnRfIisgK25ldyBEYXRlKCk7JCgnPGlmcmFtZSBzcmM9IiIgaWQ9IicraWQrJyIgbmFtZT0iJytpZCsnIiBmcmFtZWJvcmRlcj0iMCI+PC9pZnJhbWU+JykuYXR0cigiaWQiLGlkKS5jc3Moe3dpZHRoOiIwcHgiLGhlaWdodDoiMHB4IixvdmVyZmxvdzoiaGlkZGVuIiwiZmxvYXQiOiJsZWZ0Iixwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDoiLTEwMDAwcHgiLGxlZnQ6Ii0xMDAwMHB4In0pLmFwcGVuZFRvKG1lLiRjb250YWluZXIuZmluZCgiLmVkdWktZGlhbG9nLWNvbnRhaW5lciIpKTt2YXIgdz13aW5kb3cub3BlbigiIixpZCwiIiksZD13LmRvY3VtZW50O2Qub3BlbigpO2Qud3JpdGUoIjxodG1sPjxoZWFkPjwvaGVhZD48Ym9keT48ZGl2PiIrdGhpcy5nZXRDb250ZW50KG51bGwsbnVsbCx0cnVlKSsiPC9kaXY+PHNjcmlwdD5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7d2luZG93LnByaW50KCk7c2V0VGltZW91dChmdW5jdGlvbigpe3dpbmRvdy5wYXJlbnQuJCgnIyIraWQrIicpLnJlbW92ZSgpO30sMTAwKTt9LDIwMCk7PFwvc2NyaXB0PjwvYm9keT48L2h0bWw+Iik7ZC5jbG9zZSgpfSxub3ROZWVkVW5kbzoxfTtVTS5wbHVnaW5zLnBhcmFncmFwaD1mdW5jdGlvbigpe3ZhciBtZT10aGlzO21lLnNldE9wdCgicGFyYWdyYXBoIix7cDoiIixoMToiIixoMjoiIixoMzoiIixoNDoiIixoNToiIixoNjoiIn0pO21lLmNvbW1hbmRzLnBhcmFncmFwaD17ZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kTmFtZSxzdHlsZSl7cmV0dXJuIHRoaXMuZG9jdW1lbnQuZXhlY0NvbW1hbmQoImZvcm1hdEJsb2NrIixmYWxzZSwiPCIrc3R5bGUrIj4iKX0scXVlcnlDb21tYW5kVmFsdWU6ZnVuY3Rpb24oKXt0cnl7dmFyIHZhbD10aGlzLmRvY3VtZW50LnF1ZXJ5Q29tbWFuZFZhbHVlKCJmb3JtYXRCbG9jayIpfWNhdGNoKGUpe31yZXR1cm4gdmFsfX19O1VNLnBsdWdpbnMuaG9yaXpvbnRhbD1mdW5jdGlvbigpe3ZhciBtZT10aGlzO21lLmNvbW1hbmRzLmhvcml6b250YWw9e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKCl7dGhpcy5kb2N1bWVudC5leGVjQ29tbWFuZCgiaW5zZXJ0SG9yaXpvbnRhbFJ1bGUiKTt2YXIgcm5nPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLnR4dFRvRWxtQm91bmRhcnkodHJ1ZSksc3RhcnQ9cm5nLnN0YXJ0Q29udGFpbmVyO2lmKGRvbVV0aWxzLmlzQm9keShybmcuc3RhcnRDb250YWluZXIpKXt2YXIgbmV4dD1ybmcuc3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1tybmcuc3RhcnRPZmZzZXRdO2lmKCFuZXh0KXtuZXh0PSQoIjxwPjwvcD4iKS5hcHBlbmRUbyhybmcuc3RhcnRDb250YWluZXIpLmh0bWwoYnJvd3Nlci5pZT8iJm5ic3A7IjoiPGJyLz4iKVswXX1ybmcuc2V0U3RhcnQobmV4dCwwKS5zZXRDdXJzb3IoKX1lbHNle3doaWxlKGR0ZC4kaW5saW5lW3N0YXJ0LnRhZ05hbWVdJiZzdGFydC5sYXN0Q2hpbGQ9PT1zdGFydC5maXJzdENoaWxkKXt2YXIgcGFyZW50PXN0YXJ0LnBhcmVudE5vZGU7cGFyZW50LmFwcGVuZENoaWxkKHN0YXJ0LmZpcnN0Q2hpbGQpO3BhcmVudC5yZW1vdmVDaGlsZChzdGFydCk7c3RhcnQ9cGFyZW50fXdoaWxlKGR0ZC4kaW5saW5lW3N0YXJ0LnRhZ05hbWVdKXtzdGFydD1zdGFydC5wYXJlbnROb2RlfWlmKHN0YXJ0LmNoaWxkTm9kZXMubGVuZ3RoPT0xJiZzdGFydC5sYXN0Q2hpbGQubm9kZU5hbWU9PSJIUiIpe3ZhciBocj1zdGFydC5sYXN0Q2hpbGQ7JChocikuaW5zZXJ0QmVmb3JlKHN0YXJ0KTtybmcuc2V0U3RhcnQoc3RhcnQsMCkuc2V0Q3Vyc29yKCl9ZWxzZXtocj0kKCJociIsc3RhcnQpWzBdO2RvbVV0aWxzLmJyZWFrUGFyZW50KGhyLHN0YXJ0KTt2YXIgcHJlPWhyLnByZXZpb3VzU2libGluZztpZihwcmUmJmRvbVV0aWxzLmlzRW1wdHlCbG9jayhwcmUpKXskKHByZSkucmVtb3ZlKCl9cm5nLnNldFN0YXJ0KGhyLm5leHRTaWJsaW5nLDApLnNldEN1cnNvcigpfX19fX07VU0uY29tbWFuZHMuY2xlYXJkb2M9e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXMscmFuZ2U9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7bWUuYm9keS5pbm5lckhUTUw9IjxwPiIrKGllPyIiOiI8YnIvPiIpKyI8L3A+IjtyYW5nZS5zZXRTdGFydChtZS5ib2R5LmZpcnN0Q2hpbGQsMCkuc2V0Q3Vyc29yKGZhbHNlLHRydWUpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXttZS5maXJlRXZlbnQoImNsZWFyRG9jIil9LDApfX07VU0ucGx1Z2lucy51bmRvPWZ1bmN0aW9uKCl7dmFyIHNhdmVTY2VuZVRpbWVyO3ZhciBtZT10aGlzLG1heFVuZG9Db3VudD1tZS5vcHRpb25zLm1heFVuZG9Db3VudHx8MjAsbWF4SW5wdXRDb3VudD1tZS5vcHRpb25zLm1heElucHV0Q291bnR8fDIwLGZpbGxjaGFyPW5ldyBSZWdFeHAoZG9tVXRpbHMuZmlsbENoYXIrInw8L2hyPiIsImdpIik7dmFyIG5vTmVlZEZpbGxDaGFyVGFncz17b2w6MSx1bDoxLHRhYmxlOjEsdGJvZHk6MSx0cjoxLGJvZHk6MX07dmFyIG9yZ1N0YXRlPW1lLm9wdGlvbnMuYXV0b0NsZWFyRW1wdHlOb2RlO2Z1bmN0aW9uIGNvbXBhcmVBZGRyKGluZGV4QSxpbmRleEIpe2lmKGluZGV4QS5sZW5ndGghPWluZGV4Qi5sZW5ndGgpe3JldHVybiAwfWZvcih2YXIgaT0wLGw9aW5kZXhBLmxlbmd0aDtpPGw7aSsrKXtpZihpbmRleEFbaV0hPWluZGV4QltpXSl7cmV0dXJuIDB9fXJldHVybiAxfWZ1bmN0aW9uIGNvbXBhcmVSYW5nZUFkZHJlc3Mocm5nQWRkckEscm5nQWRkckIpe2lmKHJuZ0FkZHJBLmNvbGxhcHNlZCE9cm5nQWRkckIuY29sbGFwc2VkKXtyZXR1cm4gMH1pZighY29tcGFyZUFkZHIocm5nQWRkckEuc3RhcnRBZGRyZXNzLHJuZ0FkZHJCLnN0YXJ0QWRkcmVzcyl8fCFjb21wYXJlQWRkcihybmdBZGRyQS5lbmRBZGRyZXNzLHJuZ0FkZHJCLmVuZEFkZHJlc3MpKXtyZXR1cm4gMH1yZXR1cm4gMX1mdW5jdGlvbiBVbmRvTWFuYWdlcigpe3RoaXMubGlzdD1bXTt0aGlzLmluZGV4PTA7dGhpcy5oYXNVbmRvPWZhbHNlO3RoaXMuaGFzUmVkbz1mYWxzZTt0aGlzLnVuZG89ZnVuY3Rpb24oKXtpZih0aGlzLmhhc1VuZG8pe2lmKCF0aGlzLmxpc3RbdGhpcy5pbmRleC0xXSYmdGhpcy5saXN0Lmxlbmd0aD09MSl7dGhpcy5yZXNldCgpO3JldHVybn13aGlsZSh0aGlzLmxpc3RbdGhpcy5pbmRleF0uY29udGVudD09dGhpcy5saXN0W3RoaXMuaW5kZXgtMV0uY29udGVudCl7dGhpcy5pbmRleC0tO2lmKHRoaXMuaW5kZXg9PTApe3JldHVybiB0aGlzLnJlc3RvcmUoMCl9fXRoaXMucmVzdG9yZSgtLXRoaXMuaW5kZXgpfX07dGhpcy5yZWRvPWZ1bmN0aW9uKCl7aWYodGhpcy5oYXNSZWRvKXt3aGlsZSh0aGlzLmxpc3RbdGhpcy5pbmRleF0uY29udGVudD09dGhpcy5saXN0W3RoaXMuaW5kZXgrMV0uY29udGVudCl7dGhpcy5pbmRleCsrO2lmKHRoaXMuaW5kZXg9PXRoaXMubGlzdC5sZW5ndGgtMSl7cmV0dXJuIHRoaXMucmVzdG9yZSh0aGlzLmluZGV4KX19dGhpcy5yZXN0b3JlKCsrdGhpcy5pbmRleCl9fTt0aGlzLnJlc3RvcmU9ZnVuY3Rpb24oKXt2YXIgbWU9dGhpcy5lZGl0b3I7dmFyIHNjZW5lPXRoaXMubGlzdFt0aGlzLmluZGV4XTt2YXIgcm9vdD1VTS5odG1scGFyc2VyKHNjZW5lLmNvbnRlbnQucmVwbGFjZShmaWxsY2hhciwiIikpO21lLm9wdGlvbnMuYXV0b0NsZWFyRW1wdHlOb2RlPWZhbHNlO21lLmZpbHRlcklucHV0UnVsZShyb290LHRydWUpO21lLm9wdGlvbnMuYXV0b0NsZWFyRW1wdHlOb2RlPW9yZ1N0YXRlO21lLmJvZHkuaW5uZXJIVE1MPXJvb3QudG9IdG1sKCk7bWUuZmlyZUV2ZW50KCJhZnRlcnNjZW5jZXJlc3RvcmUiKTtpZihicm93c2VyLmllKXt1dGlscy5lYWNoKGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKG1lLmRvY3VtZW50LCJ0ZCB0aCBjYXB0aW9uIHAiKSxmdW5jdGlvbihub2RlKXtpZihkb21VdGlscy5pc0VtcHR5Tm9kZShub2RlKSl7ZG9tVXRpbHMuZmlsbE5vZGUobWUuZG9jdW1lbnQsbm9kZSl9fSl9dHJ5e3ZhciBybmc9bmV3IGRvbS5SYW5nZShtZS5kb2N1bWVudCxtZS5ib2R5KS5tb3ZlVG9BZGRyZXNzKHNjZW5lLmFkZHJlc3MpO2lmKGJyb3dzZXIuaWUmJnJuZy5jb2xsYXBzZWQmJnJuZy5zdGFydENvbnRhaW5lci5ub2RlVHlwZT09MSl7dmFyIHRtcE5vZGU9cm5nLnN0YXJ0Q29udGFpbmVyLmNoaWxkTm9kZXNbcm5nLnN0YXJ0T2Zmc2V0XTtpZighdG1wTm9kZXx8dG1wTm9kZS5ub2RlVHlwZT09MSYmZHRkLiRlbXB0eVt0bXBOb2RlXSl7cm5nLmluc2VydE5vZGUobWUuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiAiKSkuY29sbGFwc2UodHJ1ZSl9fXJuZy5zZWxlY3Qobm9OZWVkRmlsbENoYXJUYWdzW3JuZy5zdGFydENvbnRhaW5lci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSl9Y2F0Y2goZSl7fXRoaXMudXBkYXRlKCk7dGhpcy5jbGVhcktleSgpO21lLmZpcmVFdmVudCgicmVzZXQiLHRydWUpfTt0aGlzLmdldFNjZW5lPWZ1bmN0aW9uKCl7dmFyIG1lPXRoaXMuZWRpdG9yO3ZhciBybmc9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCkscm5nQWRkcmVzcz1ybmcuY3JlYXRlQWRkcmVzcyhmYWxzZSx0cnVlKTttZS5maXJlRXZlbnQoImJlZm9yZWdldHNjZW5lIik7dmFyIHJvb3Q9VU0uaHRtbHBhcnNlcihtZS5ib2R5LmlubmVySFRNTCx0cnVlKTttZS5vcHRpb25zLmF1dG9DbGVhckVtcHR5Tm9kZT1mYWxzZTttZS5maWx0ZXJPdXRwdXRSdWxlKHJvb3QsdHJ1ZSk7bWUub3B0aW9ucy5hdXRvQ2xlYXJFbXB0eU5vZGU9b3JnU3RhdGU7dmFyIGNvbnQ9cm9vdC50b0h0bWwoKTticm93c2VyLmllJiYoY29udD1jb250LnJlcGxhY2UoLz4mbmJzcDs8L2csIj48IikucmVwbGFjZSgvXHMqPC9nLCI8IikucmVwbGFjZSgvPlxzKi9nLCI+IikpO21lLmZpcmVFdmVudCgiYWZ0ZXJnZXRzY2VuZSIpO3JldHVybnthZGRyZXNzOnJuZ0FkZHJlc3MsY29udGVudDpjb250fX07dGhpcy5zYXZlPWZ1bmN0aW9uKG5vdENvbXBhcmVSYW5nZSxub3RTZXRDdXJzb3Ipe2NsZWFyVGltZW91dChzYXZlU2NlbmVUaW1lcik7dmFyIGN1cnJlbnRTY2VuZT10aGlzLmdldFNjZW5lKG5vdFNldEN1cnNvciksbGFzdFNjZW5lPXRoaXMubGlzdFt0aGlzLmluZGV4XTtpZihsYXN0U2NlbmUmJmxhc3RTY2VuZS5jb250ZW50PT1jdXJyZW50U2NlbmUuY29udGVudCYmKG5vdENvbXBhcmVSYW5nZT8xOmNvbXBhcmVSYW5nZUFkZHJlc3MobGFzdFNjZW5lLmFkZHJlc3MsY3VycmVudFNjZW5lLmFkZHJlc3MpKSl7cmV0dXJufXRoaXMubGlzdD10aGlzLmxpc3Quc2xpY2UoMCx0aGlzLmluZGV4KzEpO3RoaXMubGlzdC5wdXNoKGN1cnJlbnRTY2VuZSk7aWYodGhpcy5saXN0Lmxlbmd0aD5tYXhVbmRvQ291bnQpe3RoaXMubGlzdC5zaGlmdCgpfXRoaXMuaW5kZXg9dGhpcy5saXN0Lmxlbmd0aC0xO3RoaXMuY2xlYXJLZXkoKTt0aGlzLnVwZGF0ZSgpfTt0aGlzLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuaGFzUmVkbz0hIXRoaXMubGlzdFt0aGlzLmluZGV4KzFdO3RoaXMuaGFzVW5kbz0hIXRoaXMubGlzdFt0aGlzLmluZGV4LTFdfTt0aGlzLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5saXN0PVtdO3RoaXMuaW5kZXg9MDt0aGlzLmhhc1VuZG89ZmFsc2U7dGhpcy5oYXNSZWRvPWZhbHNlO3RoaXMuY2xlYXJLZXkoKX07dGhpcy5jbGVhcktleT1mdW5jdGlvbigpe2tleWNvbnQ9MDtsYXN0S2V5Q29kZT1udWxsfX1tZS51bmRvTWFuZ2VyPW5ldyBVbmRvTWFuYWdlcigpO21lLnVuZG9NYW5nZXIuZWRpdG9yPW1lO2Z1bmN0aW9uIHNhdmVTY2VuZSgpe3RoaXMudW5kb01hbmdlci5zYXZlKCl9bWUuYWRkTGlzdGVuZXIoInNhdmVTY2VuZSIsZnVuY3Rpb24oKXt2YXIgYXJncz1BcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3RoaXMudW5kb01hbmdlci5zYXZlLmFwcGx5KHRoaXMudW5kb01hbmdlcixhcmdzKX0pO21lLmFkZExpc3RlbmVyKCJiZWZvcmVleGVjY29tbWFuZCIsc2F2ZVNjZW5lKTttZS5hZGRMaXN0ZW5lcigiYWZ0ZXJleGVjY29tbWFuZCIsc2F2ZVNjZW5lKTttZS5hZGRMaXN0ZW5lcigicmVzZXQiLGZ1bmN0aW9uKHR5cGUsZXhjbHVkZSl7aWYoIWV4Y2x1ZGUpe3RoaXMudW5kb01hbmdlci5yZXNldCgpfX0pO21lLmNvbW1hbmRzLnJlZG89bWUuY29tbWFuZHMudW5kbz17ZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kTmFtZSl7dGhpcy51bmRvTWFuZ2VyW2NtZE5hbWVdKCl9LHF1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKGNtZE5hbWUpe3JldHVybiB0aGlzLnVuZG9NYW5nZXJbImhhcyIrKGNtZE5hbWUudG9Mb3dlckNhc2UoKT09InVuZG8iPyJVbmRvIjoiUmVkbyIpXT8wOi0xfSxub3ROZWVkVW5kbzoxfTt2YXIga2V5cz17MTY6MSwxNzoxLDE4OjEsMzc6MSwzODoxLDM5OjEsNDA6MX0sa2V5Y29udD0wLGxhc3RLZXlDb2RlO3ZhciBpbnB1dFR5cGU9ZmFsc2U7bWUuYWRkTGlzdGVuZXIoInJlYWR5IixmdW5jdGlvbigpeyQodGhpcy5ib2R5KS5vbigiY29tcG9zaXRpb25zdGFydCIsZnVuY3Rpb24oKXtpbnB1dFR5cGU9dHJ1ZX0pLm9uKCJjb21wb3NpdGlvbmVuZCIsZnVuY3Rpb24oKXtpbnB1dFR5cGU9ZmFsc2V9KX0pO21lLmFkZHNob3J0Y3V0a2V5KHtVbmRvOiJjdHJsKzkwIixSZWRvOiJjdHJsKzg5LHNoaWZ0K2N0cmwreiJ9KTt2YXIgaXNDb2xsYXBzZWQ9dHJ1ZTttZS5hZGRMaXN0ZW5lcigia2V5ZG93biIsZnVuY3Rpb24odHlwZSxldnQpe3ZhciBtZT10aGlzO3ZhciBrZXlDb2RlPWV2dC5rZXlDb2RlfHxldnQud2hpY2g7aWYoIWtleXNba2V5Q29kZV0mJiFldnQuY3RybEtleSYmIWV2dC5tZXRhS2V5JiYhZXZ0LnNoaWZ0S2V5JiYhZXZ0LmFsdEtleSl7aWYoaW5wdXRUeXBlKXtyZXR1cm59aWYoIW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLmNvbGxhcHNlZCl7bWUudW5kb01hbmdlci5zYXZlKGZhbHNlLHRydWUpO2lzQ29sbGFwc2VkPWZhbHNlO3JldHVybn1pZihtZS51bmRvTWFuZ2VyLmxpc3QubGVuZ3RoPT0wKXttZS51bmRvTWFuZ2VyLnNhdmUodHJ1ZSl9Y2xlYXJUaW1lb3V0KHNhdmVTY2VuZVRpbWVyKTtmdW5jdGlvbiBzYXZlKGNvbnQpe2lmKGNvbnQuc2VsZWN0aW9uLmdldFJhbmdlKCkuY29sbGFwc2VkKXtjb250LmZpcmVFdmVudCgiY29udGVudGNoYW5nZSIpfWNvbnQudW5kb01hbmdlci5zYXZlKGZhbHNlLHRydWUpO2NvbnQuZmlyZUV2ZW50KCJzZWxlY3Rpb25jaGFuZ2UiKX1zYXZlU2NlbmVUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoaW5wdXRUeXBlKXt2YXIgaW50ZXJhbFRpbWVyPXNldEludGVydmFsKGZ1bmN0aW9uKCl7aWYoIWlucHV0VHlwZSl7c2F2ZShtZSk7Y2xlYXJJbnRlcnZhbChpbnRlcmFsVGltZXIpfX0sMzAwKTtyZXR1cm59c2F2ZShtZSl9LDIwMCk7bGFzdEtleUNvZGU9a2V5Q29kZTtrZXljb250Kys7aWYoa2V5Y29udD49bWF4SW5wdXRDb3VudCl7c2F2ZShtZSl9fX0pO21lLmFkZExpc3RlbmVyKCJrZXl1cCIsZnVuY3Rpb24odHlwZSxldnQpe3ZhciBrZXlDb2RlPWV2dC5rZXlDb2RlfHxldnQud2hpY2g7aWYoIWtleXNba2V5Q29kZV0mJiFldnQuY3RybEtleSYmIWV2dC5tZXRhS2V5JiYhZXZ0LnNoaWZ0S2V5JiYhZXZ0LmFsdEtleSl7aWYoaW5wdXRUeXBlKXtyZXR1cm59aWYoIWlzQ29sbGFwc2VkKXt0aGlzLnVuZG9NYW5nZXIuc2F2ZShmYWxzZSx0cnVlKTtpc0NvbGxhcHNlZD10cnVlfX19KX07VU0ucGx1Z2lucy5wYXN0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGdldENsaXBib2FyZERhdGEoY2FsbGJhY2spe3ZhciBkb2M9dGhpcy5kb2N1bWVudDtpZihkb2MuZ2V0RWxlbWVudEJ5SWQoImJhaWR1X3Bhc3RlYmluIikpe3JldHVybn12YXIgcmFuZ2U9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxiaz1yYW5nZS5jcmVhdGVCb29rbWFyaygpLHBhc3RlYmluPWRvYy5jcmVhdGVFbGVtZW50KCJkaXYiKTtwYXN0ZWJpbi5pZD0iYmFpZHVfcGFzdGViaW4iO2Jyb3dzZXIud2Via2l0JiZwYXN0ZWJpbi5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUoZG9tVXRpbHMuZmlsbENoYXIrZG9tVXRpbHMuZmlsbENoYXIpKTt0aGlzLmJvZHkuYXBwZW5kQ2hpbGQocGFzdGViaW4pO2JrLnN0YXJ0LnN0eWxlLmRpc3BsYXk9IiI7cGFzdGViaW4uc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MXB4O2hlaWdodDoxcHg7b3ZlcmZsb3c6aGlkZGVuO2xlZnQ6LTEwMDBweDt3aGl0ZS1zcGFjZTpub3dyYXA7dG9wOiIrJChiay5zdGFydCkucG9zaXRpb24oKS50b3ArInB4IjtyYW5nZS5zZWxlY3ROb2RlQ29udGVudHMocGFzdGViaW4pLnNlbGVjdCh0cnVlKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoYnJvd3Nlci53ZWJraXQpe2Zvcih2YXIgaT0wLHBhc3RlYmlucz1kb2MucXVlcnlTZWxlY3RvckFsbCgiI2JhaWR1X3Bhc3RlYmluIikscGk7cGk9cGFzdGViaW5zW2krK107KXtpZihkb21VdGlscy5pc0VtcHR5Tm9kZShwaSkpe2RvbVV0aWxzLnJlbW92ZShwaSl9ZWxzZXtwYXN0ZWJpbj1waTticmVha319fXRyeXtwYXN0ZWJpbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHBhc3RlYmluKX1jYXRjaChlKXt9cmFuZ2UubW92ZVRvQm9va21hcmsoYmspLnNlbGVjdCh0cnVlKTtjYWxsYmFjayhwYXN0ZWJpbil9LDApfXZhciBtZT10aGlzO2Z1bmN0aW9uIGZpbHRlcihkaXYpe3ZhciBodG1sO2lmKGRpdi5maXJzdENoaWxkKXt2YXIgbm9kZXM9ZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZGl2LCJzcGFuIik7Zm9yKHZhciBpPTAsbmk7bmk9bm9kZXNbaSsrXTspe2lmKG5pLmlkPT0iX2JhaWR1X2N1dF9zdGFydCJ8fG5pLmlkPT0iX2JhaWR1X2N1dF9lbmQiKXtkb21VdGlscy5yZW1vdmUobmkpfX1pZihicm93c2VyLndlYmtpdCl7dmFyIGJycz1kaXYucXVlcnlTZWxlY3RvckFsbCgiZGl2IGJyIik7Zm9yKHZhciBpPTAsYmk7Ymk9YnJzW2krK107KXt2YXIgcE49YmkucGFyZW50Tm9kZTtpZihwTi50YWdOYW1lPT0iRElWIiYmcE4uY2hpbGROb2Rlcy5sZW5ndGg9PTEpe3BOLmlubmVySFRNTD0iPHA+PGJyLz48L3A+Ijtkb21VdGlscy5yZW1vdmUocE4pfX12YXIgZGl2cz1kaXYucXVlcnlTZWxlY3RvckFsbCgiI2JhaWR1X3Bhc3RlYmluIik7Zm9yKHZhciBpPTAsZGk7ZGk9ZGl2c1tpKytdOyl7dmFyIHRtcFA9bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpO2RpLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRtcFAsZGkpO3doaWxlKGRpLmZpcnN0Q2hpbGQpe3RtcFAuYXBwZW5kQ2hpbGQoZGkuZmlyc3RDaGlsZCl9ZG9tVXRpbHMucmVtb3ZlKGRpKX12YXIgbWV0YXM9ZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoIm1ldGEiKTtmb3IodmFyIGk9MCxjaTtjaT1tZXRhc1tpKytdOyl7ZG9tVXRpbHMucmVtb3ZlKGNpKX12YXIgYnJzPWRpdi5xdWVyeVNlbGVjdG9yQWxsKCJiciIpO2ZvcihpPTA7Y2k9YnJzW2krK107KXtpZigvXmFwcGxlLS9pLnRlc3QoY2kuY2xhc3NOYW1lKSl7ZG9tVXRpbHMucmVtb3ZlKGNpKX19fWlmKGJyb3dzZXIuZ2Vja28pe3ZhciBkaXJ0eU5vZGVzPWRpdi5xdWVyeVNlbGVjdG9yQWxsKCJbX21vel9kaXJ0eV0iKTtmb3IoaT0wO2NpPWRpcnR5Tm9kZXNbaSsrXTspe2NpLnJlbW92ZUF0dHJpYnV0ZSgiX21vel9kaXJ0eSIpfX1pZighYnJvd3Nlci5pZSl7dmFyIHNwYW5zPWRpdi5xdWVyeVNlbGVjdG9yQWxsKCJzcGFuLkFwcGxlLXN0eWxlLXNwYW4iKTtmb3IodmFyIGk9MCxjaTtjaT1zcGFuc1tpKytdOyl7ZG9tVXRpbHMucmVtb3ZlKGNpLHRydWUpfX1odG1sPWRpdi5pbm5lckhUTUw7aHRtbD1VTS5maWx0ZXJXb3JkKGh0bWwpO2h0bWw9VU0uZmlsdGVyQ2xlYXJUZXh0KGh0bWwpO3ZhciByb290PVVNLmh0bWxwYXJzZXIoaHRtbCk7aWYobWUub3B0aW9ucy5maWx0ZXJSdWxlcyl7VU0uZmlsdGVyTm9kZShyb290LG1lLm9wdGlvbnMuZmlsdGVyUnVsZXMpfW1lLmZpbHRlcklucHV0UnVsZShyb290KTtpZihicm93c2VyLndlYmtpdCl7dmFyIGJyPXJvb3QubGFzdENoaWxkKCk7aWYoYnImJmJyLnR5cGU9PSJlbGVtZW50IiYmYnIudGFnTmFtZT09ImJyIil7cm9vdC5yZW1vdmVDaGlsZChicil9dXRpbHMuZWFjaChtZS5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoImRpdiIpLGZ1bmN0aW9uKG5vZGUpe2lmKGRvbVV0aWxzLmlzRW1wdHlCbG9jayhub2RlKSl7ZG9tVXRpbHMucmVtb3ZlKG5vZGUpfX0pfWh0bWw9e2h0bWw6cm9vdC50b0h0bWwoKX07bWUuZmlyZUV2ZW50KCJiZWZvcmVwYXN0ZSIsaHRtbCxyb290KTtpZighaHRtbC5odG1sKXtyZXR1cm59bWUuZXhlY0NvbW1hbmQoImluc2VydEh0bWwiLGh0bWwuaHRtbCx0cnVlKTttZS5maXJlRXZlbnQoImFmdGVycGFzdGUiLGh0bWwpfX1tZS5hZGRMaXN0ZW5lcigicmVhZHkiLGZ1bmN0aW9uKCl7JChtZS5ib2R5KS5vbigiY3V0IixmdW5jdGlvbigpe3ZhciByYW5nZT1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtpZighcmFuZ2UuY29sbGFwc2VkJiZtZS51bmRvTWFuZ2VyKXttZS51bmRvTWFuZ2VyLnNhdmUoKX19KS5vbihicm93c2VyLmllfHxicm93c2VyLm9wZXJhPyJrZXlkb3duIjoicGFzdGUiLGZ1bmN0aW9uKGUpe2lmKChicm93c2VyLmllfHxicm93c2VyLm9wZXJhKSYmKCghZS5jdHJsS2V5JiYhZS5tZXRhS2V5KXx8ZS5rZXlDb2RlIT0iODYiKSl7cmV0dXJufWdldENsaXBib2FyZERhdGEuY2FsbChtZSxmdW5jdGlvbihkaXYpe2ZpbHRlcihkaXYpfSl9KX0pfTtVTS5wbHVnaW5zLmxpc3Q9ZnVuY3Rpb24oKXt2YXIgbWU9dGhpczttZS5zZXRPcHQoe2luc2VydG9yZGVyZWRsaXN0OntkZWNpbWFsOiIiLCJsb3dlci1hbHBoYSI6IiIsImxvd2VyLXJvbWFuIjoiIiwidXBwZXItYWxwaGEiOiIiLCJ1cHBlci1yb21hbiI6IiJ9LGluc2VydHVub3JkZXJlZGxpc3Q6e2NpcmNsZToiIixkaXNjOiIiLHNxdWFyZToiIn19KTt0aGlzLmFkZElucHV0UnVsZShmdW5jdGlvbihyb290KXt1dGlscy5lYWNoKHJvb3QuZ2V0Tm9kZXNCeVRhZ05hbWUoImxpIiksZnVuY3Rpb24obm9kZSl7aWYobm9kZS5jaGlsZHJlbi5sZW5ndGg9PTApe25vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKX19KX0pO21lLmNvbW1hbmRzLmluc2VydG9yZGVyZWRsaXN0PW1lLmNvbW1hbmRzLmluc2VydHVub3JkZXJlZGxpc3Q9e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZE5hbWUpe3RoaXMuZG9jdW1lbnQuZXhlY0NvbW1hbmQoY21kTmFtZSk7dmFyIHJuZz10aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLGJrPXJuZy5jcmVhdGVCb29rbWFyayh0cnVlKTt0aGlzLiRib2R5LmZpbmQoIm9sLHVsIikuZWFjaChmdW5jdGlvbihpLG4pe3ZhciBwYXJlbnQ9bi5wYXJlbnROb2RlO2lmKHBhcmVudC50YWdOYW1lPT0iUCImJnBhcmVudC5sYXN0Q2hpbGQ9PT1wYXJlbnQuZmlyc3RDaGlsZCl7JChuKS5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oaixsaSl7dmFyIHA9cGFyZW50LmNsb25lTm9kZShmYWxzZSk7JChwKS5hcHBlbmQobGkuaW5uZXJIVE1MKTskKGxpKS5odG1sKCIiKS5hcHBlbmQocCl9KTskKG4pLmluc2VydEJlZm9yZShwYXJlbnQpOyQocGFyZW50KS5yZW1vdmUoKX1pZihkdGQuJGlubGluZVtwYXJlbnQudGFnTmFtZV0pe2lmKHBhcmVudC50YWdOYW1lPT0iU1BBTiIpeyQobikuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKGssbGkpe3ZhciBzcGFuPXBhcmVudC5jbG9uZU5vZGUoZmFsc2UpO2lmKGxpLmZpcnN0Q2hpbGQubm9kZU5hbWUhPSJQIil7d2hpbGUobGkuZmlyc3RDaGlsZCl7c3Bhbi5hcHBlbmRDaGlsZChsaS5maXJzdENoaWxkKX0kKCI8cD48L3A+IikuYXBwZW5kVG8obGkpLmFwcGVuZChzcGFuKX1lbHNle3doaWxlKGxpLmZpcnN0Q2hpbGQpe3NwYW4uYXBwZW5kQ2hpbGQobGkuZmlyc3RDaGlsZCl9JChsaS5maXJzdENoaWxkKS5hcHBlbmQoc3Bhbil9fSl9ZG9tVXRpbHMucmVtb3ZlKHBhcmVudCx0cnVlKX19KTtybmcubW92ZVRvQm9va21hcmsoYmspLnNlbGVjdCgpO3JldHVybiB0cnVlfSxxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbihjbWROYW1lKXtyZXR1cm4gdGhpcy5kb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZShjbWROYW1lKX19fTsoZnVuY3Rpb24oKXt2YXIgc291cmNlRWRpdG9ycz17dGV4dGFyZWE6ZnVuY3Rpb24oZWRpdG9yLGhvbGRlcil7dmFyIHRleHRhcmVhPWhvbGRlci5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7dGV4dGFyZWEuc3R5bGUuY3NzVGV4dD0icmVzaXplOm5vbmU7Ym9yZGVyOjA7cGFkZGluZzowO21hcmdpbjowO292ZXJmbG93LXk6YXV0bztvdXRsaW5lOjAiO2lmKGJyb3dzZXIuaWUmJmJyb3dzZXIudmVyc2lvbjw4KXt0ZXh0YXJlYS5zdHlsZS53aWR0aD1ob2xkZXIub2Zmc2V0V2lkdGgrInB4Ijt0ZXh0YXJlYS5zdHlsZS5oZWlnaHQ9aG9sZGVyLm9mZnNldEhlaWdodCsicHgiO2hvbGRlci5vbnJlc2l6ZT1mdW5jdGlvbigpe3RleHRhcmVhLnN0eWxlLndpZHRoPWhvbGRlci5vZmZzZXRXaWR0aCsicHgiO3RleHRhcmVhLnN0eWxlLmhlaWdodD1ob2xkZXIub2Zmc2V0SGVpZ2h0KyJweCJ9fWhvbGRlci5hcHBlbmRDaGlsZCh0ZXh0YXJlYSk7cmV0dXJue2NvbnRhaW5lcjp0ZXh0YXJlYSxzZXRDb250ZW50OmZ1bmN0aW9uKGNvbnRlbnQpe3RleHRhcmVhLnZhbHVlPWNvbnRlbnR9LGdldENvbnRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGV4dGFyZWEudmFsdWV9LHNlbGVjdDpmdW5jdGlvbigpe3ZhciByYW5nZTtpZihicm93c2VyLmllKXtyYW5nZT10ZXh0YXJlYS5jcmVhdGVUZXh0UmFuZ2UoKTtyYW5nZS5jb2xsYXBzZSh0cnVlKTtyYW5nZS5zZWxlY3QoKX1lbHNle3RleHRhcmVhLnNldFNlbGVjdGlvblJhbmdlKDAsMCk7dGV4dGFyZWEuZm9jdXMoKX19LGRpc3Bvc2U6ZnVuY3Rpb24oKXtob2xkZXIucmVtb3ZlQ2hpbGQodGV4dGFyZWEpO2hvbGRlci5vbnJlc2l6ZT1udWxsO3RleHRhcmVhPW51bGw7aG9sZGVyPW51bGx9fX19O1VNLnBsdWdpbnMuc291cmNlPWZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7dmFyIG9wdD10aGlzLm9wdGlvbnM7dmFyIHNvdXJjZU1vZGU9ZmFsc2U7dmFyIHNvdXJjZUVkaXRvcjtvcHQuc291cmNlRWRpdG9yPSJ0ZXh0YXJlYSI7bWUuc2V0T3B0KHtzb3VyY2VFZGl0b3JGaXJzdDpmYWxzZX0pO2Z1bmN0aW9uIGNyZWF0ZVNvdXJjZUVkaXRvcihob2xkZXIpe3JldHVybiBzb3VyY2VFZGl0b3JzLnRleHRhcmVhKG1lLGhvbGRlcil9dmFyIGJha0Nzc1RleHQ7dmFyIG9sZEdldENvbnRlbnQ9bWUuZ2V0Q29udGVudCxiYWtBZGRyZXNzO21lLmNvbW1hbmRzLnNvdXJjZT17ZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oKXtzb3VyY2VNb2RlPSFzb3VyY2VNb2RlO2lmKHNvdXJjZU1vZGUpe2Jha0FkZHJlc3M9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCkuY3JlYXRlQWRkcmVzcyhmYWxzZSx0cnVlKTttZS51bmRvTWFuZ2VyJiZtZS51bmRvTWFuZ2VyLnNhdmUodHJ1ZSk7aWYoYnJvd3Nlci5nZWNrbyl7bWUuYm9keS5jb250ZW50RWRpdGFibGU9ZmFsc2V9bWUuYm9keS5zdHlsZS5jc3NUZXh0Kz0iO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTMyNzY4cHg7dG9wOi0zMjc2OHB4OyI7bWUuZmlyZUV2ZW50KCJiZWZvcmVnZXRjb250ZW50Iik7dmFyIHJvb3Q9VU0uaHRtbHBhcnNlcihtZS5ib2R5LmlubmVySFRNTCk7bWUuZmlsdGVyT3V0cHV0UnVsZShyb290KTtyb290LnRyYXZlcnNhbChmdW5jdGlvbihub2RlKXtpZihub2RlLnR5cGU9PSJlbGVtZW50Iil7c3dpdGNoKG5vZGUudGFnTmFtZSl7Y2FzZSJ0ZCI6Y2FzZSJ0aCI6Y2FzZSJjYXB0aW9uIjppZihub2RlLmNoaWxkcmVuJiZub2RlLmNoaWxkcmVuLmxlbmd0aD09MSl7aWYobm9kZS5maXJzdENoaWxkKCkudGFnTmFtZT09ImJyIil7bm9kZS5yZW1vdmVDaGlsZChub2RlLmZpcnN0Q2hpbGQoKSl9fWJyZWFrO2Nhc2UicHJlIjpub2RlLmlubmVyVGV4dChub2RlLmlubmVyVGV4dCgpLnJlcGxhY2UoLyZuYnNwOy9nLCIgIikpfX19KTttZS5maXJlRXZlbnQoImFmdGVyZ2V0Y29udGVudCIpO3ZhciBjb250ZW50PXJvb3QudG9IdG1sKHRydWUpO3NvdXJjZUVkaXRvcj1jcmVhdGVTb3VyY2VFZGl0b3IobWUuYm9keS5wYXJlbnROb2RlKTtzb3VyY2VFZGl0b3Iuc2V0Q29udGVudChjb250ZW50KTt2YXIgZ2V0U3R5bGVWYWx1ZT1mdW5jdGlvbihhdHRyKXtyZXR1cm4gcGFyc2VJbnQoJChtZS5ib2R5KS5jc3MoYXR0cikpfTskKHNvdXJjZUVkaXRvci5jb250YWluZXIpLndpZHRoKCQobWUuYm9keSkud2lkdGgoKStnZXRTdHlsZVZhbHVlKCJwYWRkaW5nLWxlZnQiKStnZXRTdHlsZVZhbHVlKCJwYWRkaW5nLXJpZ2h0IikpLmhlaWdodCgkKG1lLmJvZHkpLmhlaWdodCgpKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7c291cmNlRWRpdG9yLnNlbGVjdCgpfSk7bWUuZ2V0Q29udGVudD1mdW5jdGlvbigpe3JldHVybiBzb3VyY2VFZGl0b3IuZ2V0Q29udGVudCgpfHwiPHA+IisoYnJvd3Nlci5pZT8iIjoiPGJyLz4iKSsiPC9wPiJ9fWVsc2V7bWUuJGJvZHkuY3NzKHtwb3NpdGlvbjoiIixsZWZ0OiIiLHRvcDoiIn0pO3ZhciBjb250PXNvdXJjZUVkaXRvci5nZXRDb250ZW50KCl8fCI8cD4iKyhicm93c2VyLmllPyIiOiI8YnIvPiIpKyI8L3A+Ijtjb250PWNvbnQucmVwbGFjZShuZXcgUmVnRXhwKCJbXFxyXFx0XFxuIF0qPC8/KFxcdyspXFxzKig/OltePl0qKT4iLCJnIiksZnVuY3Rpb24oYSxiKXtpZihiJiYhZHRkLiRpbmxpbmVXaXRoQVtiLnRvTG93ZXJDYXNlKCldKXtyZXR1cm4gYS5yZXBsYWNlKC8oXltcblxyXHQgXSopfChbXG5cclx0IF0qJCkvZywiIil9cmV0dXJuIGEucmVwbGFjZSgvKF5bXG5cclx0XSopfChbXG5cclx0XSokKS9nLCIiKX0pO21lLnNldENvbnRlbnQoY29udCk7c291cmNlRWRpdG9yLmRpc3Bvc2UoKTtzb3VyY2VFZGl0b3I9bnVsbDttZS5nZXRDb250ZW50PW9sZEdldENvbnRlbnQ7dmFyIGZpcnN0PW1lLmJvZHkuZmlyc3RDaGlsZDtpZighZmlyc3Qpe21lLmJvZHkuaW5uZXJIVE1MPSI8cD4iKyhicm93c2VyLmllPyIiOiI8YnIvPiIpKyI8L3A+In1tZS51bmRvTWFuZ2VyJiZtZS51bmRvTWFuZ2VyLnNhdmUodHJ1ZSk7aWYoYnJvd3Nlci5nZWNrbyl7bWUuYm9keS5jb250ZW50RWRpdGFibGU9dHJ1ZX10cnl7bWUuc2VsZWN0aW9uLmdldFJhbmdlKCkubW92ZVRvQWRkcmVzcyhiYWtBZGRyZXNzKS5zZWxlY3QoKX1jYXRjaChlKXt9fXRoaXMuZmlyZUV2ZW50KCJzb3VyY2Vtb2RlY2hhbmdlZCIsc291cmNlTW9kZSl9LHF1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHNvdXJjZU1vZGV8MH0sbm90TmVlZFVuZG86MX07dmFyIG9sZFF1ZXJ5Q29tbWFuZFN0YXRlPW1lLnF1ZXJ5Q29tbWFuZFN0YXRlO21lLnF1ZXJ5Q29tbWFuZFN0YXRlPWZ1bmN0aW9uKGNtZE5hbWUpe2NtZE5hbWU9Y21kTmFtZS50b0xvd2VyQ2FzZSgpO2lmKHNvdXJjZU1vZGUpe3JldHVybiBjbWROYW1lIGluIHtzb3VyY2U6MSxmdWxsc2NyZWVuOjF9P29sZFF1ZXJ5Q29tbWFuZFN0YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTotMX1yZXR1cm4gb2xkUXVlcnlDb21tYW5kU3RhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19KSgpO1VNLnBsdWdpbnMuZW50ZXJrZXk9ZnVuY3Rpb24oKXt2YXIgaFRhZyxtZT10aGlzLHRhZz1tZS5vcHRpb25zLmVudGVyVGFnO21lLmFkZExpc3RlbmVyKCJrZXl1cCIsZnVuY3Rpb24odHlwZSxldnQpe3ZhciBrZXlDb2RlPWV2dC5rZXlDb2RlfHxldnQud2hpY2g7aWYoa2V5Q29kZT09MTMpe3ZhciByYW5nZT1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxzdGFydD1yYW5nZS5zdGFydENvbnRhaW5lcixkb1NhdmU7aWYoIWJyb3dzZXIuaWUpe2lmKC9oXGQvaS50ZXN0KGhUYWcpKXtpZihicm93c2VyLmdlY2tvKXt2YXIgaD1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHN0YXJ0LFsiaDEiLCJoMiIsImgzIiwiaDQiLCJoNSIsImg2IiwiYmxvY2txdW90ZSIsImNhcHRpb24iLCJ0YWJsZSJdLHRydWUpO2lmKCFoKXttZS5kb2N1bWVudC5leGVjQ29tbWFuZCgiZm9ybWF0QmxvY2siLGZhbHNlLCI8cD4iKTtkb1NhdmU9MX19ZWxzZXtpZihzdGFydC5ub2RlVHlwZT09MSl7dmFyIHRtcD1tZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIiksZGl2O3JhbmdlLmluc2VydE5vZGUodG1wKTtkaXY9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZSh0bXAsImRpdiIsdHJ1ZSk7aWYoZGl2KXt2YXIgcD1tZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIik7d2hpbGUoZGl2LmZpcnN0Q2hpbGQpe3AuYXBwZW5kQ2hpbGQoZGl2LmZpcnN0Q2hpbGQpfWRpdi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwLGRpdik7ZG9tVXRpbHMucmVtb3ZlKGRpdik7cmFuZ2Uuc2V0U3RhcnRCZWZvcmUodG1wKS5zZXRDdXJzb3IoKTtkb1NhdmU9MX1kb21VdGlscy5yZW1vdmUodG1wKX19aWYobWUudW5kb01hbmdlciYmZG9TYXZlKXttZS51bmRvTWFuZ2VyLnNhdmUoKX19YnJvd3Nlci5vcGVyYSYmcmFuZ2Uuc2VsZWN0KCl9ZWxzZXttZS5maXJlRXZlbnQoInNhdmVTY2VuZSIsdHJ1ZSx0cnVlKX19fSk7bWUuYWRkTGlzdGVuZXIoImtleWRvd24iLGZ1bmN0aW9uKHR5cGUsZXZ0KXt2YXIga2V5Q29kZT1ldnQua2V5Q29kZXx8ZXZ0LndoaWNoO2lmKGtleUNvZGU9PTEzKXtpZihtZS5maXJlRXZlbnQoImJlZm9yZWVudGVya2V5ZG93biIpKXtkb21VdGlscy5wcmV2ZW50RGVmYXVsdChldnQpO3JldHVybn1tZS5maXJlRXZlbnQoInNhdmVTY2VuZSIsdHJ1ZSx0cnVlKTtoVGFnPSIiO3ZhciByYW5nZT1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtpZighcmFuZ2UuY29sbGFwc2VkKXt2YXIgc3RhcnQ9cmFuZ2Uuc3RhcnRDb250YWluZXIsZW5kPXJhbmdlLmVuZENvbnRhaW5lcixzdGFydFRkPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUoc3RhcnQsInRkIix0cnVlKSxlbmRUZD1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKGVuZCwidGQiLHRydWUpO2lmKHN0YXJ0VGQmJmVuZFRkJiZzdGFydFRkIT09ZW5kVGR8fCFzdGFydFRkJiZlbmRUZHx8c3RhcnRUZCYmIWVuZFRkKXtldnQucHJldmVudERlZmF1bHQ/ZXZ0LnByZXZlbnREZWZhdWx0KCk6KGV2dC5yZXR1cm5WYWx1ZT1mYWxzZSk7cmV0dXJufX1pZih0YWc9PSJwIil7aWYoIWJyb3dzZXIuaWUpe3N0YXJ0PWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocmFuZ2Uuc3RhcnRDb250YWluZXIsWyJvbCIsInVsIiwicCIsImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiIsImJsb2NrcXVvdGUiLCJjYXB0aW9uIl0sdHJ1ZSk7aWYoIXN0YXJ0JiYhYnJvd3Nlci5vcGVyYSl7bWUuZG9jdW1lbnQuZXhlY0NvbW1hbmQoImZvcm1hdEJsb2NrIixmYWxzZSwiPHA+Iik7aWYoYnJvd3Nlci5nZWNrbyl7cmFuZ2U9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7c3RhcnQ9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShyYW5nZS5zdGFydENvbnRhaW5lciwicCIsdHJ1ZSk7c3RhcnQmJmRvbVV0aWxzLnJlbW92ZURpcnR5QXR0cihzdGFydCl9fWVsc2V7aFRhZz1zdGFydC50YWdOYW1lO3N0YXJ0LnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InAiJiZicm93c2VyLmdlY2tvJiZkb21VdGlscy5yZW1vdmVEaXJ0eUF0dHIoc3RhcnQpfX19fX0pO2Jyb3dzZXIuaWUmJm1lLmFkZExpc3RlbmVyKCJzZXREaXNhYmxlZCIsZnVuY3Rpb24oKXskKG1lLmJvZHkpLmZpbmQoInAiKS5lYWNoKGZ1bmN0aW9uKGkscCl7aWYoZG9tVXRpbHMuaXNFbXB0eUJsb2NrKHApKXtwLmlubmVySFRNTD0iJm5ic3A7In19KX0pfTtVTS5jb21tYW5kcy5wcmV2aWV3PXtleGVjQ29tbWFuZDpmdW5jdGlvbigpe3ZhciB3PXdpbmRvdy5vcGVuKCIiLCJfYmxhbmsiLCIiKSxkPXcuZG9jdW1lbnQsYz10aGlzLmdldENvbnRlbnQobnVsbCxudWxsLHRydWUpLHBhdGg9dGhpcy5nZXRPcHQoIlVNRURJVE9SX0hPTUVfVVJMIiksZm9ybXVsYT1jLmluZGV4T2YoIm1hdGhxdWlsbC1lbWJlZGRlZC1sYXRleCIpIT0tMT8nPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSInK3BhdGgrJ3RoaXJkLXBhcnR5L21hdGhxdWlsbC9tYXRocXVpbGwuY3NzIi8+PHNjcmlwdCBzcmM9IicrcGF0aCsndGhpcmQtcGFydHkvanF1ZXJ5Lm1pbi5qcyI+PFwvc2NyaXB0PjxzY3JpcHQgc3JjPSInK3BhdGgrJ3RoaXJkLXBhcnR5L21hdGhxdWlsbC9tYXRocXVpbGwubWluLmpzIj48XC9zY3JpcHQ+JzoiIjtkLm9wZW4oKTtkLndyaXRlKCI8aHRtbD48aGVhZD4iK2Zvcm11bGErIjwvaGVhZD48Ym9keT48ZGl2PiIrYysiPC9kaXY+PC9ib2R5PjwvaHRtbD4iKTtkLmNsb3NlKCl9LG5vdE5lZWRVbmRvOjF9O1VNLnBsdWdpbnMuYmFzZXN0eWxlPWZ1bmN0aW9uKCl7dmFyIGJhc2VzdHlsZXM9WyJib2xkIiwidW5kZXJsaW5lIiwic3VwZXJzY3JpcHQiLCJzdWJzY3JpcHQiLCJpdGFsaWMiLCJzdHJpa2V0aHJvdWdoIl0sbWU9dGhpczttZS5hZGRzaG9ydGN1dGtleSh7Qm9sZDoiY3RybCs2NiIsSXRhbGljOiJjdHJsKzczIixVbmRlcmxpbmU6ImN0cmwrc2hpZnQrODUiLHN0cmlrZVRocm91Z2g6ImN0cmwrc2hpZnQrODMifSk7bWUuYWRkT3V0cHV0UnVsZShmdW5jdGlvbihyb290KXskLmVhY2gocm9vdC5nZXROb2Rlc0J5VGFnTmFtZSgiYiBpIHUgc3RyaWtlIHMiKSxmdW5jdGlvbihpLG5vZGUpe3N3aXRjaChub2RlLnRhZ05hbWUpe2Nhc2UiYiI6bm9kZS50YWdOYW1lPSJzdHJvbmciO2JyZWFrO2Nhc2UiaSI6bm9kZS50YWdOYW1lPSJlbSI7YnJlYWs7Y2FzZSJ1Ijpub2RlLnRhZ05hbWU9InNwYW4iO25vZGUuc2V0U3R5bGUoInRleHQtZGVjb3JhdGlvbiIsInVuZGVybGluZSIpO2JyZWFrO2Nhc2UicyI6Y2FzZSJzdHJpa2UiOm5vZGUudGFnTmFtZT0ic3BhbiI7bm9kZS5zZXRTdHlsZSgidGV4dC1kZWNvcmF0aW9uIiwibGluZS10aHJvdWdoIil9fSl9KTskLmVhY2goYmFzZXN0eWxlcyxmdW5jdGlvbihpLGNtZCl7bWUuY29tbWFuZHNbY21kXT17ZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kTmFtZSl7dmFyIHJuZz10aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpO2lmKHJuZy5jb2xsYXBzZWQmJnRoaXMucXVlcnlDb21tYW5kU3RhdGUoY21kTmFtZSkhPTEpe3ZhciBub2RlPXRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh7Ym9sZDoic3Ryb25nIix1bmRlcmxpbmU6InUiLHN1cGVyc2NyaXB0OiJzdXAiLHN1YnNjcmlwdDoic3ViIixpdGFsaWM6ImVtIixzdHJpa2V0aHJvdWdoOiJzdHJpa2UifVtjbWROYW1lXSk7cm5nLmluc2VydE5vZGUobm9kZSkuc2V0U3RhcnQobm9kZSwwKS5zZXRDdXJzb3IoZmFsc2UpO3JldHVybiB0cnVlfWVsc2V7cmV0dXJuIHRoaXMuZG9jdW1lbnQuZXhlY0NvbW1hbmQoY21kTmFtZSl9fSxxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbihjbWROYW1lKXtpZihicm93c2VyLmdlY2tvKXtyZXR1cm4gdGhpcy5kb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZShjbWROYW1lKX12YXIgcGF0aD10aGlzLnNlbGVjdGlvbi5nZXRTdGFydEVsZW1lbnRQYXRoKCkscmVzdWx0PWZhbHNlOyQuZWFjaChwYXRoLGZ1bmN0aW9uKGksbil7c3dpdGNoKGNtZE5hbWUpe2Nhc2UiYm9sZCI6aWYobi5ub2RlTmFtZT09IlNUUk9ORyJ8fG4ubm9kZU5hbWU9PSJCIil7cmVzdWx0PTE7cmV0dXJuIGZhbHNlfWJyZWFrO2Nhc2UidW5kZXJsaW5lIjppZihuLm5vZGVOYW1lPT0iVSJ8fG4ubm9kZU5hbWU9PSJTUEFOIiYmJChuKS5jc3MoInRleHQtZGVjb3JhdGlvbiIpPT0idW5kZXJsaW5lIil7cmVzdWx0PTE7cmV0dXJuIGZhbHNlfWJyZWFrO2Nhc2Uic3VwZXJzY3JpcHQiOmlmKG4ubm9kZU5hbWU9PSJTVVAiKXtyZXN1bHQ9MTtyZXR1cm4gZmFsc2V9YnJlYWs7Y2FzZSJzdWJzY3JpcHQiOmlmKG4ubm9kZU5hbWU9PSJTVUIiKXtyZXN1bHQ9MTtyZXR1cm4gZmFsc2V9YnJlYWs7Y2FzZSJpdGFsaWMiOmlmKG4ubm9kZU5hbWU9PSJFTSJ8fG4ubm9kZU5hbWU9PSJJIil7cmVzdWx0PTE7cmV0dXJuIGZhbHNlfWJyZWFrO2Nhc2Uic3RyaWtldGhyb3VnaCI6aWYobi5ub2RlTmFtZT09IlMifHxuLm5vZGVOYW1lPT0iU1RSSUtFInx8bi5ub2RlTmFtZT09IlNQQU4iJiYkKG4pLmNzcygidGV4dC1kZWNvcmF0aW9uIik9PSJsaW5lLXRocm91Z2giKXtyZXN1bHQ9MTtyZXR1cm4gZmFsc2V9YnJlYWt9fSk7cmV0dXJuIHJlc3VsdH19fSl9O1VNLnBsdWdpbnMudmlkZW89ZnVuY3Rpb24oKXt2YXIgbWU9dGhpcyxkaXY7ZnVuY3Rpb24gY3JlYXRJbnNlcnRTdHIodXJsLHdpZHRoLGhlaWdodCxpZCxhbGlnbix0b0VtYmVkKXtyZXR1cm4gIXRvRW1iZWQ/IjxpbWcgIisoaWQ/J2lkPSInK2lkKyciJzoiIikrJyB3aWR0aD0iJyt3aWR0aCsnIiBoZWlnaHQ9IicraGVpZ2h0KyciIF91cmw9IicrdXJsKyciIGNsYXNzPSJlZHVpLWZha2VkLXZpZGVvIiBzcmM9IicrbWUub3B0aW9ucy5VTUVESVRPUl9IT01FX1VSTCsndGhlbWVzL2RlZmF1bHQvaW1hZ2VzL3NwYWNlci5naWYiIHN0eWxlPSJiYWNrZ3JvdW5kOnVybCgnK21lLm9wdGlvbnMuVU1FRElUT1JfSE9NRV9VUkwrInRoZW1lcy9kZWZhdWx0L2ltYWdlcy92aWRlb2xvZ28uZ2lmKSBuby1yZXBlYXQgY2VudGVyIGNlbnRlcjsgYm9yZGVyOjFweCBzb2xpZCBncmF5OyIrKGFsaWduPyJmbG9hdDoiK2FsaWduKyI7IjoiIikrJyIgLz4nOic8ZW1iZWQgdHlwZT0iYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giIGNsYXNzPSJlZHVpLWZha2VkLXZpZGVvIiBwbHVnaW5zcGFnZT0iaHR0cDovL3d3dy5tYWNyb21lZGlhLmNvbS9nby9nZXRmbGFzaHBsYXllciIgc3JjPSInK3VybCsnIiB3aWR0aD0iJyt3aWR0aCsnIiBoZWlnaHQ9IicraGVpZ2h0KyciJysoYWxpZ24/JyBzdHlsZT0iZmxvYXQ6JythbGlnbisnIic6IiIpKycgd21vZGU9InRyYW5zcGFyZW50IiBwbGF5PSJ0cnVlIiBsb29wPSJmYWxzZSIgbWVudT0iZmFsc2UiIGFsbG93c2NyaXB0YWNjZXNzPSJuZXZlciIgYWxsb3dmdWxsc2NyZWVuPSJ0cnVlIiA+J31mdW5jdGlvbiBzd2l0Y2hJbWdBbmRFbWJlZChyb290LGltZzJlbWJlZCl7dXRpbHMuZWFjaChyb290LmdldE5vZGVzQnlUYWdOYW1lKGltZzJlbWJlZD8iaW1nIjoiZW1iZWQiKSxmdW5jdGlvbihub2RlKXtpZihub2RlLmdldEF0dHIoImNsYXNzIik9PSJlZHVpLWZha2VkLXZpZGVvIil7dmFyIGh0bWw9Y3JlYXRJbnNlcnRTdHIoaW1nMmVtYmVkP25vZGUuZ2V0QXR0cigiX3VybCIpOm5vZGUuZ2V0QXR0cigic3JjIiksbm9kZS5nZXRBdHRyKCJ3aWR0aCIpLG5vZGUuZ2V0QXR0cigiaGVpZ2h0IiksbnVsbCxub2RlLmdldFN0eWxlKCJmbG9hdCIpfHwiIixpbWcyZW1iZWQpO25vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoVU0udU5vZGUuY3JlYXRlRWxlbWVudChodG1sKSxub2RlKX19KX1tZS5hZGRPdXRwdXRSdWxlKGZ1bmN0aW9uKHJvb3Qpe3N3aXRjaEltZ0FuZEVtYmVkKHJvb3QsdHJ1ZSl9KTttZS5hZGRJbnB1dFJ1bGUoZnVuY3Rpb24ocm9vdCl7c3dpdGNoSW1nQW5kRW1iZWQocm9vdCl9KTttZS5jb21tYW5kcy5pbnNlcnR2aWRlbz17ZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kLHZpZGVvT2Jqcyl7dmlkZW9PYmpzPXV0aWxzLmlzQXJyYXkodmlkZW9PYmpzKT92aWRlb09ianM6W3ZpZGVvT2Jqc107dmFyIGh0bWw9W10saWQ9InRtcFZlZGlvIjtmb3IodmFyIGk9MCx2aSxsZW49dmlkZW9PYmpzLmxlbmd0aDtpPGxlbjtpKyspe3ZpPXZpZGVvT2Jqc1tpXTtodG1sLnB1c2goY3JlYXRJbnNlcnRTdHIodmkudXJsLHZpLndpZHRofHw0MjAsdmkuaGVpZ2h0fHwyODAsaWQraSx2aS5hbGlnbixmYWxzZSkpfW1lLmV4ZWNDb21tYW5kKCJpbnNlcnRodG1sIixodG1sLmpvaW4oIiIpLHRydWUpfSxxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbigpe3ZhciBpbWc9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCkuZ2V0Q2xvc2VkTm9kZSgpLGZsYWc9aW1nJiYoaW1nLmNsYXNzTmFtZT09ImVkdWktZmFrZWQtdmlkZW8iKTtyZXR1cm4gZmxhZz8xOjB9fX07VU0ucGx1Z2lucy5zZWxlY3RhbGw9ZnVuY3Rpb24oKXt2YXIgbWU9dGhpczttZS5jb21tYW5kcy5zZWxlY3RhbGw9e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXMsYm9keT1tZS5ib2R5LHJhbmdlPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpO3JhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhib2R5KTtpZihkb21VdGlscy5pc0VtcHR5QmxvY2soYm9keSkpe2lmKGJyb3dzZXIub3BlcmEmJmJvZHkuZmlyc3RDaGlsZCYmYm9keS5maXJzdENoaWxkLm5vZGVUeXBlPT0xKXtyYW5nZS5zZXRTdGFydEF0Rmlyc3QoYm9keS5maXJzdENoaWxkKX1yYW5nZS5jb2xsYXBzZSh0cnVlKX1yYW5nZS5zZWxlY3QodHJ1ZSl9LG5vdE5lZWRVbmRvOjF9O21lLmFkZHNob3J0Y3V0a2V5KHtzZWxlY3RBbGw6ImN0cmwrNjUifSl9O1VNLnBsdWdpbnMucmVtb3ZlZm9ybWF0PWZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7bWUuc2V0T3B0KHtyZW1vdmVGb3JtYXRUYWdzOiJiLGJpZyxjb2RlLGRlbCxkZm4sZW0sZm9udCxpLGlucyxrYmQscSxzYW1wLHNtYWxsLHNwYW4sc3RyaWtlLHN0cm9uZyxzdWIsc3VwLHR0LHUsdmFyIixyZW1vdmVGb3JtYXRBdHRyaWJ1dGVzOiJjbGFzcyxzdHlsZSxsYW5nLHdpZHRoLGhlaWdodCxhbGlnbixoc3BhY2UsdmFsaWduIn0pO21lLmNvbW1hbmRzLnJlbW92ZWZvcm1hdD17ZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kTmFtZSx0YWdzLHN0eWxlLGF0dHJzLG5vdEluY2x1ZGVBKXt2YXIgdGFnUmVnPW5ldyBSZWdFeHAoIl4oPzoiKyh0YWdzfHx0aGlzLm9wdGlvbnMucmVtb3ZlRm9ybWF0VGFncykucmVwbGFjZSgvLC9nLCJ8IikrIikkIiwiaSIpLHJlbW92ZUZvcm1hdEF0dHJpYnV0ZXM9c3R5bGU/W106KGF0dHJzfHx0aGlzLm9wdGlvbnMucmVtb3ZlRm9ybWF0QXR0cmlidXRlcykuc3BsaXQoIiwiKSxyYW5nZT1uZXcgZG9tLlJhbmdlKHRoaXMuZG9jdW1lbnQpLGJvb2ttYXJrLG5vZGUscGFyZW50LGZpbHRlcj1mdW5jdGlvbihub2RlKXtyZXR1cm4gbm9kZS5ub2RlVHlwZT09MX07ZnVuY3Rpb24gaXNSZWR1bmRhbnRTcGFuKG5vZGUpe2lmKG5vZGUubm9kZVR5cGU9PTN8fG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpIT0ic3BhbiIpe3JldHVybiAwfWlmKGJyb3dzZXIuaWUpe3ZhciBhdHRycz1ub2RlLmF0dHJpYnV0ZXM7aWYoYXR0cnMubGVuZ3RoKXtmb3IodmFyIGk9MCxsPWF0dHJzLmxlbmd0aDtpPGw7aSsrKXtpZihhdHRyc1tpXS5zcGVjaWZpZWQpe3JldHVybiAwfX1yZXR1cm4gMX19cmV0dXJuICFub2RlLmF0dHJpYnV0ZXMubGVuZ3RofWZ1bmN0aW9uIGRvUmVtb3ZlKHJhbmdlKXt2YXIgYm9va21hcmsxPXJhbmdlLmNyZWF0ZUJvb2ttYXJrKCk7aWYocmFuZ2UuY29sbGFwc2VkKXtyYW5nZS5lbmxhcmdlKHRydWUpfWlmKCFub3RJbmNsdWRlQSl7dmFyIGFOb2RlPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocmFuZ2Uuc3RhcnRDb250YWluZXIsImEiLHRydWUpO2lmKGFOb2RlKXtyYW5nZS5zZXRTdGFydEJlZm9yZShhTm9kZSl9YU5vZGU9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShyYW5nZS5lbmRDb250YWluZXIsImEiLHRydWUpO2lmKGFOb2RlKXtyYW5nZS5zZXRFbmRBZnRlcihhTm9kZSl9fWJvb2ttYXJrPXJhbmdlLmNyZWF0ZUJvb2ttYXJrKCk7bm9kZT1ib29rbWFyay5zdGFydDt3aGlsZSgocGFyZW50PW5vZGUucGFyZW50Tm9kZSkmJiFkb21VdGlscy5pc0Jsb2NrRWxtKHBhcmVudCkpe2RvbVV0aWxzLmJyZWFrUGFyZW50KG5vZGUscGFyZW50KTtkb21VdGlscy5jbGVhckVtcHR5U2libGluZyhub2RlKX1pZihib29rbWFyay5lbmQpe25vZGU9Ym9va21hcmsuZW5kO3doaWxlKChwYXJlbnQ9bm9kZS5wYXJlbnROb2RlKSYmIWRvbVV0aWxzLmlzQmxvY2tFbG0ocGFyZW50KSl7ZG9tVXRpbHMuYnJlYWtQYXJlbnQobm9kZSxwYXJlbnQpO2RvbVV0aWxzLmNsZWFyRW1wdHlTaWJsaW5nKG5vZGUpfXZhciBjdXJyZW50PWRvbVV0aWxzLmdldE5leHREb21Ob2RlKGJvb2ttYXJrLnN0YXJ0LGZhbHNlLGZpbHRlciksbmV4dDt3aGlsZShjdXJyZW50KXtpZihjdXJyZW50PT1ib29rbWFyay5lbmQpe2JyZWFrfW5leHQ9ZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoY3VycmVudCx0cnVlLGZpbHRlcik7aWYoIWR0ZC4kZW1wdHlbY3VycmVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCldJiYhZG9tVXRpbHMuaXNCb29rbWFya05vZGUoY3VycmVudCkpe2lmKHRhZ1JlZy50ZXN0KGN1cnJlbnQudGFnTmFtZSkpe2lmKHN0eWxlKXtkb21VdGlscy5yZW1vdmVTdHlsZShjdXJyZW50LHN0eWxlKTtpZihpc1JlZHVuZGFudFNwYW4oY3VycmVudCkmJnN0eWxlIT0idGV4dC1kZWNvcmF0aW9uIil7ZG9tVXRpbHMucmVtb3ZlKGN1cnJlbnQsdHJ1ZSl9fWVsc2V7ZG9tVXRpbHMucmVtb3ZlKGN1cnJlbnQsdHJ1ZSl9fWVsc2V7aWYoIWR0ZC4kdGFibGVDb250ZW50W2N1cnJlbnQudGFnTmFtZV0mJiFkdGQuJGxpc3RbY3VycmVudC50YWdOYW1lXSl7ZG9tVXRpbHMucmVtb3ZlQXR0cmlidXRlcyhjdXJyZW50LHJlbW92ZUZvcm1hdEF0dHJpYnV0ZXMpO2lmKGlzUmVkdW5kYW50U3BhbihjdXJyZW50KSl7ZG9tVXRpbHMucmVtb3ZlKGN1cnJlbnQsdHJ1ZSl9fX19Y3VycmVudD1uZXh0fX12YXIgcE49Ym9va21hcmsuc3RhcnQucGFyZW50Tm9kZTtpZihkb21VdGlscy5pc0Jsb2NrRWxtKHBOKSYmIWR0ZC4kdGFibGVDb250ZW50W3BOLnRhZ05hbWVdJiYhZHRkLiRsaXN0W3BOLnRhZ05hbWVdKXtkb21VdGlscy5yZW1vdmVBdHRyaWJ1dGVzKHBOLHJlbW92ZUZvcm1hdEF0dHJpYnV0ZXMpfXBOPWJvb2ttYXJrLmVuZC5wYXJlbnROb2RlO2lmKGJvb2ttYXJrLmVuZCYmZG9tVXRpbHMuaXNCbG9ja0VsbShwTikmJiFkdGQuJHRhYmxlQ29udGVudFtwTi50YWdOYW1lXSYmIWR0ZC4kbGlzdFtwTi50YWdOYW1lXSl7ZG9tVXRpbHMucmVtb3ZlQXR0cmlidXRlcyhwTixyZW1vdmVGb3JtYXRBdHRyaWJ1dGVzKX1yYW5nZS5tb3ZlVG9Cb29rbWFyayhib29rbWFyaykubW92ZVRvQm9va21hcmsoYm9va21hcmsxKTt2YXIgbm9kZT1yYW5nZS5zdGFydENvbnRhaW5lcix0bXAsY29sbGFwc2VkPXJhbmdlLmNvbGxhcHNlZDt3aGlsZShub2RlLm5vZGVUeXBlPT0xJiZkb21VdGlscy5pc0VtcHR5Tm9kZShub2RlKSYmZHRkLiRyZW1vdmVFbXB0eVtub2RlLnRhZ05hbWVdKXt0bXA9bm9kZS5wYXJlbnROb2RlO3JhbmdlLnNldFN0YXJ0QmVmb3JlKG5vZGUpO2lmKHJhbmdlLnN0YXJ0Q29udGFpbmVyPT09cmFuZ2UuZW5kQ29udGFpbmVyKXtyYW5nZS5lbmRPZmZzZXQtLX1kb21VdGlscy5yZW1vdmUobm9kZSk7bm9kZT10bXB9aWYoIWNvbGxhcHNlZCl7bm9kZT1yYW5nZS5lbmRDb250YWluZXI7d2hpbGUobm9kZS5ub2RlVHlwZT09MSYmZG9tVXRpbHMuaXNFbXB0eU5vZGUobm9kZSkmJmR0ZC4kcmVtb3ZlRW1wdHlbbm9kZS50YWdOYW1lXSl7dG1wPW5vZGUucGFyZW50Tm9kZTtyYW5nZS5zZXRFbmRCZWZvcmUobm9kZSk7ZG9tVXRpbHMucmVtb3ZlKG5vZGUpO25vZGU9dG1wfX19cmFuZ2U9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtpZighcmFuZ2UuY29sbGFwc2VkKXtkb1JlbW92ZShyYW5nZSk7cmFuZ2Uuc2VsZWN0KCl9fX19O1VNLnBsdWdpbnMua2V5c3Ryb2tlcz1mdW5jdGlvbigpe3ZhciBtZT10aGlzO3ZhciBjb2xsYXBzZWQ9dHJ1ZTttZS5hZGRMaXN0ZW5lcigia2V5ZG93biIsZnVuY3Rpb24odHlwZSxldnQpe3ZhciBrZXlDb2RlPWV2dC5rZXlDb2RlfHxldnQud2hpY2gscm5nPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpO2lmKCFybmcuY29sbGFwc2VkJiYhKGV2dC5jdHJsS2V5fHxldnQuc2hpZnRLZXl8fGV2dC5hbHRLZXl8fGV2dC5tZXRhS2V5KSYmKGtleUNvZGU+PTY1JiZrZXlDb2RlPD05MHx8a2V5Q29kZT49NDgmJmtleUNvZGU8PTU3fHxrZXlDb2RlPj05NiYma2V5Q29kZTw9MTExfHx7MTM6MSw4OjEsNDY6MX1ba2V5Q29kZV0pKXt2YXIgdG1wTm9kZT1ybmcuc3RhcnRDb250YWluZXI7aWYoZG9tVXRpbHMuaXNGaWxsQ2hhcih0bXBOb2RlKSl7cm5nLnNldFN0YXJ0QmVmb3JlKHRtcE5vZGUpfXRtcE5vZGU9cm5nLmVuZENvbnRhaW5lcjtpZihkb21VdGlscy5pc0ZpbGxDaGFyKHRtcE5vZGUpKXtybmcuc2V0RW5kQWZ0ZXIodG1wTm9kZSl9cm5nLnR4dFRvRWxtQm91bmRhcnkoKTtpZihybmcuZW5kQ29udGFpbmVyJiZybmcuZW5kQ29udGFpbmVyLm5vZGVUeXBlPT0xKXt0bXBOb2RlPXJuZy5lbmRDb250YWluZXIuY2hpbGROb2Rlc1tybmcuZW5kT2Zmc2V0XTtpZih0bXBOb2RlJiZkb21VdGlscy5pc0JyKHRtcE5vZGUpKXtybmcuc2V0RW5kQWZ0ZXIodG1wTm9kZSl9fWlmKHJuZy5zdGFydE9mZnNldD09MCl7dG1wTm9kZT1ybmcuc3RhcnRDb250YWluZXI7aWYoZG9tVXRpbHMuaXNCb3VuZGFyeU5vZGUodG1wTm9kZSwiZmlyc3RDaGlsZCIpKXt0bXBOb2RlPXJuZy5lbmRDb250YWluZXI7aWYocm5nLmVuZE9mZnNldD09KHRtcE5vZGUubm9kZVR5cGU9PTM/dG1wTm9kZS5ub2RlVmFsdWUubGVuZ3RoOnRtcE5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpJiZkb21VdGlscy5pc0JvdW5kYXJ5Tm9kZSh0bXBOb2RlLCJsYXN0Q2hpbGQiKSl7bWUuZmlyZUV2ZW50KCJzYXZlU2NlbmUiKTttZS5ib2R5LmlubmVySFRNTD0iPHA+IisoYnJvd3Nlci5pZT8iIjoiPGJyLz4iKSsiPC9wPiI7cm5nLnNldFN0YXJ0KG1lLmJvZHkuZmlyc3RDaGlsZCwwKS5zZXRDdXJzb3IoZmFsc2UsdHJ1ZSk7bWUuX3NlbGVjdGlvbkNoYW5nZSgpO3JldHVybn19fX1pZihrZXlDb2RlPT04KXtybmc9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7Y29sbGFwc2VkPXJuZy5jb2xsYXBzZWQ7aWYobWUuZmlyZUV2ZW50KCJkZWxrZXlkb3duIixldnQpKXtyZXR1cm59dmFyIHN0YXJ0LGVuZDtpZihybmcuY29sbGFwc2VkJiZybmcuaW5GaWxsQ2hhcigpKXtzdGFydD1ybmcuc3RhcnRDb250YWluZXI7aWYoZG9tVXRpbHMuaXNGaWxsQ2hhcihzdGFydCkpe3JuZy5zZXRTdGFydEJlZm9yZShzdGFydCkuc2hyaW5rQm91bmRhcnkodHJ1ZSkuY29sbGFwc2UodHJ1ZSk7ZG9tVXRpbHMucmVtb3ZlKHN0YXJ0KX1lbHNle3N0YXJ0Lm5vZGVWYWx1ZT1zdGFydC5ub2RlVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKCJeIitkb21VdGlscy5maWxsQ2hhciksIiIpO3JuZy5zdGFydE9mZnNldC0tO3JuZy5jb2xsYXBzZSh0cnVlKS5zZWxlY3QodHJ1ZSl9fWlmKHN0YXJ0PXJuZy5nZXRDbG9zZWROb2RlKCkpe21lLmZpcmVFdmVudCgic2F2ZVNjZW5lIik7cm5nLnNldFN0YXJ0QmVmb3JlKHN0YXJ0KTtkb21VdGlscy5yZW1vdmUoc3RhcnQpO3JuZy5zZXRDdXJzb3IoKTttZS5maXJlRXZlbnQoInNhdmVTY2VuZSIpO2RvbVV0aWxzLnByZXZlbnREZWZhdWx0KGV2dCk7cmV0dXJufWlmKCFicm93c2VyLmllKXtzdGFydD1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJuZy5zdGFydENvbnRhaW5lciwidGFibGUiLHRydWUpO2VuZD1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJuZy5lbmRDb250YWluZXIsInRhYmxlIix0cnVlKTtpZihzdGFydCYmIWVuZHx8IXN0YXJ0JiZlbmR8fHN0YXJ0IT09ZW5kKXtldnQucHJldmVudERlZmF1bHQoKTtyZXR1cm59fXN0YXJ0PXJuZy5zdGFydENvbnRhaW5lcjtpZihybmcuY29sbGFwc2VkJiZzdGFydC5ub2RlVHlwZT09MSl7dmFyIGN1cnJlbnROb2RlPXN0YXJ0LmNoaWxkTm9kZXNbcm5nLnN0YXJ0T2Zmc2V0LTFdO2lmKGN1cnJlbnROb2RlJiZjdXJyZW50Tm9kZS5ub2RlVHlwZT09MSYmY3VycmVudE5vZGUudGFnTmFtZT09IkJSIil7bWUuZmlyZUV2ZW50KCJzYXZlU2NlbmUiKTtybmcuc2V0U3RhcnRCZWZvcmUoY3VycmVudE5vZGUpLmNvbGxhcHNlKHRydWUpO2RvbVV0aWxzLnJlbW92ZShjdXJyZW50Tm9kZSk7cm5nLnNlbGVjdCgpO21lLmZpcmVFdmVudCgic2F2ZVNjZW5lIil9fWlmKGJyb3dzZXIuY2hyb21lKXtpZihybmcuY29sbGFwc2VkKXt3aGlsZShybmcuc3RhcnRPZmZzZXQ9PTAmJiFkb21VdGlscy5pc0VtcHR5QmxvY2socm5nLnN0YXJ0Q29udGFpbmVyKSl7cm5nLnNldFN0YXJ0QmVmb3JlKHJuZy5zdGFydENvbnRhaW5lcil9dmFyIHByZT1ybmcuc3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1tybmcuc3RhcnRPZmZzZXQtMV07aWYocHJlJiZwcmUubm9kZU5hbWU9PSJCUiIpe3JuZy5zZXRTdGFydEJlZm9yZShwcmUpO21lLmZpcmVFdmVudCgic2F2ZVNjZW5lIik7JChwcmUpLnJlbW92ZSgpO3JuZy5zZXRDdXJzb3IoKTttZS5maXJlRXZlbnQoInNhdmVTY2VuZSIpfX19fWlmKGJyb3dzZXIuZ2Vja28mJmtleUNvZGU9PTQ2KXt2YXIgcmFuZ2U9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7aWYocmFuZ2UuY29sbGFwc2VkKXtzdGFydD1yYW5nZS5zdGFydENvbnRhaW5lcjtpZihkb21VdGlscy5pc0VtcHR5QmxvY2soc3RhcnQpKXt2YXIgcGFyZW50PXN0YXJ0LnBhcmVudE5vZGU7d2hpbGUoZG9tVXRpbHMuZ2V0Q2hpbGRDb3VudChwYXJlbnQpPT0xJiYhZG9tVXRpbHMuaXNCb2R5KHBhcmVudCkpe3N0YXJ0PXBhcmVudDtwYXJlbnQ9cGFyZW50LnBhcmVudE5vZGV9aWYoc3RhcnQ9PT1wYXJlbnQubGFzdENoaWxkKXtldnQucHJldmVudERlZmF1bHQoKX1yZXR1cm59fX19KTttZS5hZGRMaXN0ZW5lcigia2V5dXAiLGZ1bmN0aW9uKHR5cGUsZXZ0KXt2YXIga2V5Q29kZT1ldnQua2V5Q29kZXx8ZXZ0LndoaWNoLHJuZyxtZT10aGlzO2lmKGtleUNvZGU9PTgpe2lmKG1lLmZpcmVFdmVudCgiZGVsa2V5dXAiKSl7cmV0dXJufXJuZz1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtpZihybmcuY29sbGFwc2VkKXt2YXIgdG1wTm9kZSxhdXRvQ2xlYXJUYWdOYW1lPVsiaDEiLCJoMiIsImgzIiwiaDQiLCJoNSIsImg2Il07aWYodG1wTm9kZT1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJuZy5zdGFydENvbnRhaW5lcixhdXRvQ2xlYXJUYWdOYW1lLHRydWUpKXtpZihkb21VdGlscy5pc0VtcHR5QmxvY2sodG1wTm9kZSkpe3ZhciBwcmU9dG1wTm9kZS5wcmV2aW91c1NpYmxpbmc7aWYocHJlJiZwcmUubm9kZU5hbWUhPSJUQUJMRSIpe2RvbVV0aWxzLnJlbW92ZSh0bXBOb2RlKTtybmcuc2V0U3RhcnRBdExhc3QocHJlKS5zZXRDdXJzb3IoZmFsc2UsdHJ1ZSk7cmV0dXJufWVsc2V7dmFyIG5leHQ9dG1wTm9kZS5uZXh0U2libGluZztpZihuZXh0JiZuZXh0Lm5vZGVOYW1lIT0iVEFCTEUiKXtkb21VdGlscy5yZW1vdmUodG1wTm9kZSk7cm5nLnNldFN0YXJ0QXRGaXJzdChuZXh0KS5zZXRDdXJzb3IoZmFsc2UsdHJ1ZSk7cmV0dXJufX19fWlmKGRvbVV0aWxzLmlzQm9keShybmcuc3RhcnRDb250YWluZXIpKXt2YXIgdG1wTm9kZT1kb21VdGlscy5jcmVhdGVFbGVtZW50KG1lLmRvY3VtZW50LCJwIix7aW5uZXJIVE1MOmJyb3dzZXIuaWU/ZG9tVXRpbHMuZmlsbENoYXI6Ijxici8+In0pO3JuZy5pbnNlcnROb2RlKHRtcE5vZGUpLnNldFN0YXJ0KHRtcE5vZGUsMCkuc2V0Q3Vyc29yKGZhbHNlLHRydWUpfX1pZighY29sbGFwc2VkJiYocm5nLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlPT0zfHxybmcuc3RhcnRDb250YWluZXIubm9kZVR5cGU9PTEmJmRvbVV0aWxzLmlzRW1wdHlCbG9jayhybmcuc3RhcnRDb250YWluZXIpKSl7aWYoYnJvd3Nlci5pZSl7dmFyIHNwYW49cm5nLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtybmcuaW5zZXJ0Tm9kZShzcGFuKS5zZXRTdGFydEJlZm9yZShzcGFuKS5jb2xsYXBzZSh0cnVlKTtybmcuc2VsZWN0KCk7ZG9tVXRpbHMucmVtb3ZlKHNwYW4pfWVsc2V7cm5nLnNlbGVjdCgpfX19fSl9O1VNLnBsdWdpbnMuYXV0b3NhdmU9ZnVuY3Rpb24oKXt2YXIgbWU9dGhpcyxsYXN0U2F2ZVRpbWU9bmV3IERhdGUoKSxNSU5fVElNRT0yMCxzYXZlS2V5PW51bGw7bWUuc2V0T3B0KCJzYXZlSW50ZXJ2YWwiLDUwMCk7dmFyIExvY2FsU3RvcmFnZT1VTS5Mb2NhbFN0b3JhZ2U9KGZ1bmN0aW9uKCl7dmFyIHN0b3JhZ2U9d2luZG93LmxvY2FsU3RvcmFnZXx8Z2V0VXNlckRhdGEoKXx8bnVsbCxMT0NBTF9GSUxFPSJsb2NhbFN0b3JhZ2UiO3JldHVybntzYXZlTG9jYWxEYXRhOmZ1bmN0aW9uKGtleSxkYXRhKXtpZihzdG9yYWdlJiZkYXRhKXtzdG9yYWdlLnNldEl0ZW0oa2V5LGRhdGEpO3JldHVybiB0cnVlfXJldHVybiBmYWxzZX0sZ2V0TG9jYWxEYXRhOmZ1bmN0aW9uKGtleSl7aWYoc3RvcmFnZSl7cmV0dXJuIHN0b3JhZ2UuZ2V0SXRlbShrZXkpfXJldHVybiBudWxsfSxyZW1vdmVJdGVtOmZ1bmN0aW9uKGtleSl7c3RvcmFnZSYmc3RvcmFnZS5yZW1vdmVJdGVtKGtleSl9fTtmdW5jdGlvbiBnZXRVc2VyRGF0YSgpe3ZhciBjb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Y29udGFpbmVyLnN0eWxlLmRpc3BsYXk9Im5vbmUiO2lmKCFjb250YWluZXIuYWRkQmVoYXZpb3Ipe3JldHVybiBudWxsfWNvbnRhaW5lci5hZGRCZWhhdmlvcigiI2RlZmF1bHQjdXNlcmRhdGEiKTtyZXR1cm57Z2V0SXRlbTpmdW5jdGlvbihrZXkpe3ZhciByZXN1bHQ9bnVsbDt0cnl7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO2NvbnRhaW5lci5sb2FkKExPQ0FMX0ZJTEUpO3Jlc3VsdD1jb250YWluZXIuZ2V0QXR0cmlidXRlKGtleSk7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChjb250YWluZXIpfWNhdGNoKGUpe31yZXR1cm4gcmVzdWx0fSxzZXRJdGVtOmZ1bmN0aW9uKGtleSx2YWx1ZSl7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO2NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoa2V5LHZhbHVlKTtjb250YWluZXIuc2F2ZShMT0NBTF9GSUxFKTtkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGNvbnRhaW5lcil9LHJlbW92ZUl0ZW06ZnVuY3Rpb24oa2V5KXtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7Y29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZShrZXkpO2NvbnRhaW5lci5zYXZlKExPQ0FMX0ZJTEUpO2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoY29udGFpbmVyKX19fX0pKCk7ZnVuY3Rpb24gc2F2ZShlZGl0b3Ipe3ZhciBzYXZlRGF0YT1udWxsO2lmKG5ldyBEYXRlKCktbGFzdFNhdmVUaW1lPE1JTl9USU1FKXtyZXR1cm59aWYoIWVkaXRvci5oYXNDb250ZW50cygpKXtzYXZlS2V5JiZMb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShzYXZlS2V5KTtyZXR1cm59bGFzdFNhdmVUaW1lPW5ldyBEYXRlKCk7ZWRpdG9yLl9zYXZlRmxhZz1udWxsO3NhdmVEYXRhPW1lLmJvZHkuaW5uZXJIVE1MO2lmKGVkaXRvci5maXJlRXZlbnQoImJlZm9yZWF1dG9zYXZlIix7Y29udGVudDpzYXZlRGF0YX0pPT09ZmFsc2Upe3JldHVybn1Mb2NhbFN0b3JhZ2Uuc2F2ZUxvY2FsRGF0YShzYXZlS2V5LHNhdmVEYXRhKTtlZGl0b3IuZmlyZUV2ZW50KCJhZnRlcmF1dG9zYXZlIix7Y29udGVudDpzYXZlRGF0YX0pfW1lLmFkZExpc3RlbmVyKCJyZWFkeSIsZnVuY3Rpb24oKXt2YXIgX3N1ZmZpeD0iLWRyYWZ0cy1kYXRhIixrZXk9bnVsbDtpZihtZS5rZXkpe2tleT1tZS5rZXkrX3N1ZmZpeH1lbHNle2tleT0obWUuY29udGFpbmVyLnBhcmVudE5vZGUuaWR8fCJ1ZS1jb21tb24iKStfc3VmZml4fXNhdmVLZXk9KGxvY2F0aW9uLnByb3RvY29sK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUpLnJlcGxhY2UoL1suOlwvXS9nLCJfIikra2V5fSk7bWUuYWRkTGlzdGVuZXIoImNvbnRlbnRjaGFuZ2UiLGZ1bmN0aW9uKCl7aWYoIXNhdmVLZXkpe3JldHVybn1pZihtZS5fc2F2ZUZsYWcpe3dpbmRvdy5jbGVhclRpbWVvdXQobWUuX3NhdmVGbGFnKX1pZihtZS5vcHRpb25zLnNhdmVJbnRlcnZhbD4wKXttZS5fc2F2ZUZsYWc9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtzYXZlKG1lKX0sbWUub3B0aW9ucy5zYXZlSW50ZXJ2YWwpfWVsc2V7c2F2ZShtZSl9fSk7bWUuY29tbWFuZHMuY2xlYXJsb2NhbGRhdGE9e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZCxuYW1lKXtpZihzYXZlS2V5JiZMb2NhbFN0b3JhZ2UuZ2V0TG9jYWxEYXRhKHNhdmVLZXkpKXtMb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShzYXZlS2V5KX19LG5vdE5lZWRVbmRvOnRydWUsaWdub3JlQ29udGVudENoYW5nZTp0cnVlfTttZS5jb21tYW5kcy5nZXRsb2NhbGRhdGE9e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZCxuYW1lKXtyZXR1cm4gc2F2ZUtleT9Mb2NhbFN0b3JhZ2UuZ2V0TG9jYWxEYXRhKHNhdmVLZXkpfHwiIjoiIn0sbm90TmVlZFVuZG86dHJ1ZSxpZ25vcmVDb250ZW50Q2hhbmdlOnRydWV9O21lLmNvbW1hbmRzLmRyYWZ0cz17ZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kLG5hbWUpe2lmKHNhdmVLZXkpe21lLmJvZHkuaW5uZXJIVE1MPUxvY2FsU3RvcmFnZS5nZXRMb2NhbERhdGEoc2F2ZUtleSl8fCI8cD4iKyhicm93c2VyLmllPyImbmJzcDsiOiI8YnIvPiIpKyI8L3A+IjttZS5mb2N1cyh0cnVlKX19LHF1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHNhdmVLZXk/KExvY2FsU3RvcmFnZS5nZXRMb2NhbERhdGEoc2F2ZUtleSk9PT1udWxsPy0xOjApOi0xfSxub3ROZWVkVW5kbzp0cnVlLGlnbm9yZUNvbnRlbnRDaGFuZ2U6dHJ1ZX19O1VNLnBsdWdpbnMuYXV0b3VwbG9hZD1mdW5jdGlvbigpe3ZhciBtZT10aGlzO21lLnNldE9wdCgicGFzdGVJbWFnZUVuYWJsZWQiLHRydWUpO21lLnNldE9wdCgiZHJvcEZpbGVFbmFibGVkIix0cnVlKTt2YXIgc2VuZEFuZEluc2VydEltYWdlPWZ1bmN0aW9uKGZpbGUsZWRpdG9yKXt2YXIgZmQ9bmV3IEZvcm1EYXRhKCk7ZmQuYXBwZW5kKGVkaXRvci5vcHRpb25zLmltYWdlRmllbGROYW1lfHwidXBmaWxlIixmaWxlLGZpbGUubmFtZXx8KCJibG9iLiIrZmlsZS50eXBlLnN1YnN0cigiaW1hZ2UvIi5sZW5ndGgpKSk7ZmQuYXBwZW5kKCJ0eXBlIiwiYWpheCIpO3ZhciB4aHI9bmV3IFhNTEh0dHBSZXF1ZXN0KCk7eGhyLm9wZW4oInBvc3QiLG1lLm9wdGlvbnMuaW1hZ2VVcmwsdHJ1ZSk7eGhyLnNldFJlcXVlc3RIZWFkZXIoIlgtUmVxdWVzdGVkLVdpdGgiLCJYTUxIdHRwUmVxdWVzdCIpO3hoci5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixmdW5jdGlvbihlKXt0cnl7dmFyIGpzb249ZXZhbCgiKCIrZS50YXJnZXQucmVzcG9uc2UrIikiKSxsaW5rPWpzb24udXJsLHBpY0xpbms9bWUub3B0aW9ucy5pbWFnZVBhdGgrbGluaztlZGl0b3IuZXhlY0NvbW1hbmQoImluc2VydGltYWdlIix7c3JjOnBpY0xpbmssX3NyYzpwaWNMaW5rfSl9Y2F0Y2goZXIpe319KTt4aHIuc2VuZChmZCl9O2Z1bmN0aW9uIGdldFBhc3RlSW1hZ2UoZSl7cmV0dXJuIGUuY2xpcGJvYXJkRGF0YSYmZS5jbGlwYm9hcmREYXRhLml0ZW1zJiZlLmNsaXBib2FyZERhdGEuaXRlbXMubGVuZ3RoPT0xJiYvXmltYWdlXC8vLnRlc3QoZS5jbGlwYm9hcmREYXRhLml0ZW1zWzBdLnR5cGUpP2UuY2xpcGJvYXJkRGF0YS5pdGVtczpudWxsfWZ1bmN0aW9uIGdldERyb3BJbWFnZShlKXtyZXR1cm4gZS5kYXRhVHJhbnNmZXImJmUuZGF0YVRyYW5zZmVyLmZpbGVzP2UuZGF0YVRyYW5zZmVyLmZpbGVzOm51bGx9bWUuYWRkTGlzdGVuZXIoInJlYWR5IixmdW5jdGlvbigpe2lmKHdpbmRvdy5Gb3JtRGF0YSYmd2luZG93LkZpbGVSZWFkZXIpe3ZhciBhdXRvVXBsb2FkSGFuZGxlcj1mdW5jdGlvbihlKXt2YXIgaGFzSW1nPWZhbHNlLGl0ZW1zO2l0ZW1zPWUudHlwZT09InBhc3RlIj9nZXRQYXN0ZUltYWdlKGUub3JpZ2luYWxFdmVudCk6Z2V0RHJvcEltYWdlKGUub3JpZ2luYWxFdmVudCk7aWYoaXRlbXMpe3ZhciBsZW49aXRlbXMubGVuZ3RoLGZpbGU7d2hpbGUobGVuLS0pe2ZpbGU9aXRlbXNbbGVuXTtpZihmaWxlLmdldEFzRmlsZSl7ZmlsZT1maWxlLmdldEFzRmlsZSgpfWlmKGZpbGUmJmZpbGUuc2l6ZT4wJiYvaW1hZ2VcL1x3Ky9pLnRlc3QoZmlsZS50eXBlKSl7c2VuZEFuZEluc2VydEltYWdlKGZpbGUsbWUpO2hhc0ltZz10cnVlfX1pZihoYXNJbWcpe3JldHVybiBmYWxzZX19fTttZS5nZXRPcHQoInBhc3RlSW1hZ2VFbmFibGVkIikmJm1lLiRib2R5Lm9uKCJwYXN0ZSIsYXV0b1VwbG9hZEhhbmRsZXIpO21lLmdldE9wdCgiZHJvcEZpbGVFbmFibGVkIikmJm1lLiRib2R5Lm9uKCJkcm9wIixhdXRvVXBsb2FkSGFuZGxlcik7bWUuJGJvZHkub24oImRyYWdvdmVyIixmdW5jdGlvbihlKXtpZihlLm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyLnR5cGVzWzBdPT0iRmlsZXMiKXtyZXR1cm4gZmFsc2V9fSl9fSl9O1VNLnBsdWdpbnMuZm9ybXVsYT1mdW5jdGlvbigpe3ZhciBtZT10aGlzO2Z1bmN0aW9uIGdldEFjdGl2ZUlmcmFtZSgpe3JldHVybiBtZS4kYm9keS5maW5kKCJpZnJhbWUuZWR1aS1mb3JtdWxhLWFjdGl2ZSIpWzBdfHxudWxsfWZ1bmN0aW9uIGJsdXJBY3RpdmVJZnJhbWUoKXt2YXIgaWZyYW1lPWdldEFjdGl2ZUlmcmFtZSgpO2lmcmFtZSYmaWZyYW1lLmNvbnRlbnRXaW5kb3cuZm9ybXVsYS5ibHVyKCl9bWUuYWRkSW5wdXRSdWxlKGZ1bmN0aW9uKHJvb3QpeyQuZWFjaChyb290LmdldE5vZGVzQnlUYWdOYW1lKCJzcGFuIiksZnVuY3Rpb24oaSxub2RlKXtpZihub2RlLmhhc0NsYXNzKCJtYXRocXVpbGwtZW1iZWRkZWQtbGF0ZXgiKSl7dmFyIGZpcnN0Q2hpbGQsbGF0ZXg9IiI7d2hpbGUoZmlyc3RDaGlsZD1ub2RlLmZpcnN0Q2hpbGQoKSl7bGF0ZXgrPWZpcnN0Q2hpbGQuZGF0YTtub2RlLnJlbW92ZUNoaWxkKGZpcnN0Q2hpbGQpfW5vZGUudGFnTmFtZT0iaWZyYW1lIjtub2RlLnNldEF0dHIoe2ZyYW1lYm9yZGVyOiIwIixzcmM6bWUuZ2V0T3B0KCJVTUVESVRPUl9IT01FX1VSTCIpKyJkaWFsb2dzL2Zvcm11bGEvZm9ybXVsYS5odG1sIiwiZGF0YS1sYXRleCI6dXRpbHMudW5odG1sKGxhdGV4KX0pfX0pfSk7bWUuYWRkT3V0cHV0UnVsZShmdW5jdGlvbihyb290KXskLmVhY2gocm9vdC5nZXROb2Rlc0J5VGFnTmFtZSgiaWZyYW1lIiksZnVuY3Rpb24oaSxub2RlKXtpZihub2RlLmhhc0NsYXNzKCJtYXRocXVpbGwtZW1iZWRkZWQtbGF0ZXgiKSl7bm9kZS50YWdOYW1lPSJzcGFuIjtub2RlLmFwcGVuZENoaWxkKFVNLnVOb2RlLmNyZWF0ZVRleHQobm9kZS5nZXRBdHRyKCJkYXRhLWxhdGV4IikpKTtub2RlLnNldEF0dHIoe2ZyYW1lYm9yZGVyOiIiLHNyYzoiIiwiZGF0YS1sYXRleCI6IiJ9KX19KX0pO21lLmFkZExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKXtibHVyQWN0aXZlSWZyYW1lKCl9KTttZS5hZGRMaXN0ZW5lcigiYWZ0ZXJleGVjY29tbWFuZCIsZnVuY3Rpb24odHlwZSxjbWQpe2lmKGNtZCE9ImZvcm11bGEiKXtibHVyQWN0aXZlSWZyYW1lKCl9fSk7bWUuY29tbWFuZHMuZm9ybXVsYT17ZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kLGxhdGV4KXt2YXIgaWZyYW1lPWdldEFjdGl2ZUlmcmFtZSgpO2lmKGlmcmFtZSl7aWZyYW1lLmNvbnRlbnRXaW5kb3cuZm9ybXVsYS5pbnNlcnRMYXRleChsYXRleCl9ZWxzZXttZS5leGVjQ29tbWFuZCgiaW5zZXJ0aHRtbCIsJzxzcGFuIGNsYXNzPSJtYXRocXVpbGwtZW1iZWRkZWQtbGF0ZXgiPicrbGF0ZXgrIjwvc3Bhbj4iKTticm93c2VyLmllJiZicm93c2VyLmllOWJlbG93JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHJuZz1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxzdGFydENvbnRhaW5lcj1ybmcuc3RhcnRDb250YWluZXI7aWYoc3RhcnRDb250YWluZXIubm9kZVR5cGU9PTEmJiFzdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW3JuZy5zdGFydE9mZnNldF0pe3JuZy5pbnNlcnROb2RlKG1lLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIgIikpO3JuZy5zZXRDdXJzb3IoKX19LDEwMCl9fSxxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbihjbWQpe3JldHVybiAwfSxxdWVyeUNvbW1hbmRWYWx1ZTpmdW5jdGlvbihjbWQpe3ZhciBpZnJhbWU9Z2V0QWN0aXZlSWZyYW1lKCk7cmV0dXJuIGlmcmFtZSYmaWZyYW1lLmNvbnRlbnRXaW5kb3cuZm9ybXVsYS5nZXRMYXRleCgpfX19OyhmdW5jdGlvbigkKXskLnBhcnNlVG1wbD1mdW5jdGlvbiBwYXJzZShzdHIsZGF0YSl7dmFyIHRtcGw9InZhciBfX3A9W10scHJpbnQ9ZnVuY3Rpb24oKXtfX3AucHVzaC5hcHBseShfX3AsYXJndW1lbnRzKTt9O3dpdGgob2JqfHx7fSl7X19wLnB1c2goJyIrc3RyLnJlcGxhY2UoL1xcL2csIlxcXFwiKS5yZXBsYWNlKC8nL2csIlxcJyIpLnJlcGxhY2UoLzwlPShbXHNcU10rPyklPi9nLGZ1bmN0aW9uKG1hdGNoLGNvZGUpe3JldHVybiInLCIrY29kZS5yZXBsYWNlKC9cXCcvZywiJyIpKyIsJyJ9KS5yZXBsYWNlKC88JShbXHNcU10rPyklPi9nLGZ1bmN0aW9uKG1hdGNoLGNvZGUpe3JldHVybiInKTsiK2NvZGUucmVwbGFjZSgvXFwnL2csIiciKS5yZXBsYWNlKC9bXHJcblx0XS9nLCIgIikrIl9fcC5wdXNoKCcifSkucmVwbGFjZSgvXHIvZywiXFxyIikucmVwbGFjZSgvXG4vZywiXFxuIikucmVwbGFjZSgvXHQvZywiXFx0IikrIicpO31yZXR1cm4gX19wLmpvaW4oJycpOyI7dmFyIGZ1bmM9bmV3IEZ1bmN0aW9uKCJvYmoiLHRtcGwpO3JldHVybiBkYXRhP2Z1bmMoZGF0YSk6ZnVuY307JC5leHRlbmQyPWZ1bmN0aW9uKHQscyl7dmFyIGE9YXJndW1lbnRzLG5vdENvdmVyPSQudHlwZShhW2EubGVuZ3RoLTFdKT09ImJvb2xlYW4iP2FbYS5sZW5ndGgtMV06ZmFsc2UsbGVuPSQudHlwZShhW2EubGVuZ3RoLTFdKT09ImJvb2xlYW4iP2EubGVuZ3RoLTE6YS5sZW5ndGg7Zm9yKHZhciBpPTE7aTxsZW47aSsrKXt2YXIgeD1hW2ldO2Zvcih2YXIgayBpbiB4KXtpZighbm90Q292ZXJ8fCF0Lmhhc093blByb3BlcnR5KGspKXt0W2tdPXhba119fX1yZXR1cm4gdH07JC5JRTY9ISF3aW5kb3cuQWN0aXZlWE9iamVjdCYmcGFyc2VGbG9hdChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9tc2llIChcZCspL2kpWzFdKT09Njt2YXIgX2V2ZW50SGFuZGxlcj1bXTt2YXIgX3dpZGdldD1mdW5jdGlvbigpe307dmFyIF9wcmVmaXg9ImVkdWkiO193aWRnZXQucHJvdG90eXBlPXtvbjpmdW5jdGlvbihldixjYil7dGhpcy5yb290KCkub24oZXYsJC5wcm94eShjYix0aGlzKSk7cmV0dXJuIHRoaXN9LG9mZjpmdW5jdGlvbihldixjYil7dGhpcy5yb290KCkub2ZmKGV2LCQucHJveHkoY2IsdGhpcykpO3JldHVybiB0aGlzfSx0cmlnZ2VyOmZ1bmN0aW9uKGV2LGRhdGEpe3JldHVybiB0aGlzLnJvb3QoKS50cmlnZ2VyKGV2LGRhdGEpPT09ZmFsc2U/ZmFsc2U6dGhpc30scm9vdDpmdW5jdGlvbigkZWwpe3JldHVybiB0aGlzLl8kZWx8fCh0aGlzLl8kZWw9JGVsKX0sZGVzdHJveTpmdW5jdGlvbigpe30sZGF0YTpmdW5jdGlvbihrZXksdmFsKXtpZih2YWwhPT11bmRlZmluZWQpe3RoaXMucm9vdCgpLmRhdGEoX3ByZWZpeCtrZXksdmFsKTtyZXR1cm4gdGhpc31lbHNle3JldHVybiB0aGlzLnJvb3QoKS5kYXRhKF9wcmVmaXgra2V5KX19LHJlZ2lzdGVyOmZ1bmN0aW9uKGV2ZW50TmFtZSwkZWwsZm4pe19ldmVudEhhbmRsZXIucHVzaCh7ZXZ0bmFtZTpldmVudE5hbWUsIiRlbHMiOiQuaXNBcnJheSgkZWwpPyRlbDpbJGVsXSxoYW5kbGVyOiQucHJveHkoZm4sJGVsKX0pfX07JC5mbi5lZHVpPWZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaj90aGlzLmRhdGEoImVkdWl3aWRnZXQiLG9iaik6dGhpcy5kYXRhKCJlZHVpd2lkZ2V0Iil9O2Z1bmN0aW9uIF9jcmVhdGVDbGFzcyhDbGFzc09iaixwcm9wZXJ0aWVzLHN1cHBlckNsYXNzKXtDbGFzc09iai5wcm90b3R5cGU9JC5leHRlbmQyKCQuZXh0ZW5kKHt9LHByb3BlcnRpZXMpLChVTS51aVtzdXBwZXJDbGFzc118fF93aWRnZXQpLnByb3RvdHlwZSx0cnVlKTtDbGFzc09iai5wcm90b3R5cGUuc3VwcGVyPShVTS51aVtzdXBwZXJDbGFzc118fF93aWRnZXQpLnByb3RvdHlwZTtpZihVTS51aVtzdXBwZXJDbGFzc10mJlVNLnVpW3N1cHBlckNsYXNzXS5wcm90b3R5cGUuZGVmYXVsdE9wdCl7dmFyIHBhcmVudERlZmF1bHRPcHRpb25zPVVNLnVpW3N1cHBlckNsYXNzXS5wcm90b3R5cGUuZGVmYXVsdE9wdCxzdWJEZWZhdWx0T3B0aW9ucz1DbGFzc09iai5wcm90b3R5cGUuZGVmYXVsdE9wdDtDbGFzc09iai5wcm90b3R5cGUuZGVmYXVsdE9wdD0kLmV4dGVuZCh7fSxwYXJlbnREZWZhdWx0T3B0aW9ucyxzdWJEZWZhdWx0T3B0aW9uc3x8e30pfXJldHVybiBDbGFzc09ian12YXIgX2d1aWQ9MTtmdW5jdGlvbiBtZXJnZVRvSlEoQ2xhc3NPYmosY2xhc3NOYW1lKXskW19wcmVmaXgrY2xhc3NOYW1lXT1DbGFzc09iajskLmZuW19wcmVmaXgrY2xhc3NOYW1lXT1mdW5jdGlvbihvcHQpe3ZhciByZXN1bHQsYXJncz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7dGhpcy5lYWNoKGZ1bmN0aW9uKGksZWwpe3ZhciAkdGhpcz0kKGVsKTt2YXIgb2JqPSR0aGlzLmVkdWkoKTtpZighb2JqKXtDbGFzc09iaighb3B0fHwhJC5pc1BsYWluT2JqZWN0KG9wdCk/e306b3B0LCR0aGlzKTskdGhpcy5lZHVpKG9iail9aWYoJC50eXBlKG9wdCk9PSJzdHJpbmciKXtpZihvcHQ9PSJ0aGlzIil7cmVzdWx0PW9ian1lbHNle3Jlc3VsdD1vYmpbb3B0XS5hcHBseShvYmosYXJncyk7aWYocmVzdWx0IT09b2JqJiZyZXN1bHQhPT11bmRlZmluZWQpe3JldHVybiBmYWxzZX1yZXN1bHQ9bnVsbH19fSk7cmV0dXJuIHJlc3VsdCE9PW51bGw/cmVzdWx0OnRoaXN9fVVNLnVpPXtkZWZpbmU6ZnVuY3Rpb24oY2xhc3NOYW1lLHByb3BlcnRpZXMsc3VwcGVyQ2xhc3Mpe3ZhciBDbGFzc09iaj1VTS51aVtjbGFzc05hbWVdPV9jcmVhdGVDbGFzcyhmdW5jdGlvbihvcHRpb25zLCRlbCl7dmFyIF9vYmo9ZnVuY3Rpb24oKXt9OyQuZXh0ZW5kKF9vYmoucHJvdG90eXBlLENsYXNzT2JqLnByb3RvdHlwZSx7Z3VpZDpjbGFzc05hbWUrX2d1aWQrKyx3aWRnZXROYW1lOmNsYXNzTmFtZX0pO3ZhciBvYmo9bmV3IF9vYmo7aWYoJC50eXBlKG9wdGlvbnMpPT0ic3RyaW5nIil7b2JqLmluaXQmJm9iai5pbml0KHt9KTtvYmoucm9vdCgpLmVkdWkob2JqKTtvYmoucm9vdCgpLmZpbmQoImEiKS5jbGljayhmdW5jdGlvbihldnQpe2V2dC5wcmV2ZW50RGVmYXVsdCgpfSk7cmV0dXJuIG9iai5yb290KClbX3ByZWZpeCtjbGFzc05hbWVdLmFwcGx5KG9iai5yb290KCksYXJndW1lbnRzKX1lbHNleyRlbCYmb2JqLnJvb3QoJGVsKTtvYmouaW5pdCYmb2JqLmluaXQoIW9wdGlvbnN8fCQuaXNQbGFpbk9iamVjdChvcHRpb25zKT8kLmV4dGVuZDIob3B0aW9uc3x8e30sb2JqLmRlZmF1bHRPcHR8fHt9LHRydWUpOm9wdGlvbnMpO3RyeXtvYmoucm9vdCgpLmZpbmQoImEiKS5jbGljayhmdW5jdGlvbihldnQpe2V2dC5wcmV2ZW50RGVmYXVsdCgpfSl9Y2F0Y2goZSl7fXJldHVybiBvYmoucm9vdCgpLmVkdWkob2JqKX19LHByb3BlcnRpZXMsc3VwcGVyQ2xhc3MpO21lcmdlVG9KUShDbGFzc09iaixjbGFzc05hbWUpfX07JChmdW5jdGlvbigpeyQoZG9jdW1lbnQpLm9uKCJjbGljayBtb3VzZXVwIG1vdXNlZG93biBkYmxjbGljayBtb3VzZW92ZXIiLGZ1bmN0aW9uKGV2dCl7JC5lYWNoKF9ldmVudEhhbmRsZXIsZnVuY3Rpb24oaSxvYmope2lmKG9iai5ldnRuYW1lPT1ldnQudHlwZSl7JC5lYWNoKG9iai4kZWxzLGZ1bmN0aW9uKGksJGVsKXtpZigkZWxbMF0hPT1ldnQudGFyZ2V0JiYhJC5jb250YWlucygkZWxbMF0sZXZ0LnRhcmdldCkpe29iai5oYW5kbGVyKGV2dCl9fSl9fSl9KX0pfSkoalF1ZXJ5KTtVTS51aS5kZWZpbmUoImJ1dHRvbiIse3RwbDonPDwlaWYoIXRleHR0eXBlKXslPmRpdiBjbGFzcz0iZWR1aS1idG4gZWR1aS1idG4tPCU9aWNvbiU+IDwlaWYobmFtZSl7JT5lZHVpLWJ0bi1uYW1lLTwlPW5hbWUlPjwlfSU+IiB1bnNlbGVjdGFibGU9Im9uIiBvbm1vdXNlZG93bj0icmV0dXJuIGZhbHNlIiA8JX1lbHNleyU+YSBjbGFzcz0iZWR1aS10ZXh0LWJ0biI8JX0lPjwlIGlmKHRpdGxlKSB7JT4gZGF0YS1vcmlnaW5hbC10aXRsZT0iPCU9dGl0bGUlPiIgPCV9OyU+PiA8JSBpZihpY29uKSB7JT48ZGl2IHVuc2VsZWN0YWJsZT0ib24iIGNsYXNzPSJlZHVpLWljb24tPCU9aWNvbiU+IGVkdWktaWNvbiI+PC9kaXY+PCUgfTsgJT48JWlmKHRleHQpIHslPjxzcGFuIHVuc2VsZWN0YWJsZT0ib24iIG9ubW91c2Vkb3duPSJyZXR1cm4gZmFsc2UiIGNsYXNzPSJlZHVpLWJ1dHRvbi1sYWJlbCI+PCU9dGV4dCU+PC9zcGFuPjwlfSU+PCVpZihjYXJldCAmJiB0ZXh0KXslPjxzcGFuIGNsYXNzPSJlZHVpLWJ1dHRvbi1zcGFjaW5nIj48L3NwYW4+PCV9JT48JSBpZihjYXJldCkgeyU+PHNwYW4gdW5zZWxlY3RhYmxlPSJvbiIgb25tb3VzZWRvd249InJldHVybiBmYWxzZSIgY2xhc3M9ImVkdWktY2FyZXQiPjwvc3Bhbj48JSB9OyU+PC88JWlmKCF0ZXh0dHlwZSl7JT5kaXY8JX1lbHNleyU+YTwlfSU+PicsZGVmYXVsdE9wdDp7dGV4dDoiIix0aXRsZToiIixpY29uOiIiLHdpZHRoOiIiLGNhcmV0OmZhbHNlLHRleHR0eXBlOmZhbHNlLGNsaWNrOmZ1bmN0aW9uKCl7fX0saW5pdDpmdW5jdGlvbihvcHRpb25zKXt2YXIgbWU9dGhpczttZS5yb290KCQoJC5wYXJzZVRtcGwobWUudHBsLG9wdGlvbnMpKSkuY2xpY2soZnVuY3Rpb24oZXZ0KXttZS53cmFwY2xpY2sob3B0aW9ucy5jbGljayxldnQpfSk7bWUucm9vdCgpLmhvdmVyKGZ1bmN0aW9uKCl7aWYoIW1lLnJvb3QoKS5oYXNDbGFzcygiZWR1aS1kaXNhYmxlZCIpKXttZS5yb290KCkudG9nZ2xlQ2xhc3MoImVkdWktaG92ZXIiKX19KTtyZXR1cm4gbWV9LHdyYXBjbGljazpmdW5jdGlvbihmbixldnQpe2lmKCF0aGlzLmRpc2FibGVkKCkpe3RoaXMucm9vdCgpLnRyaWdnZXIoIndyYXBjbGljayIpOyQucHJveHkoZm4sdGhpcyxldnQpKCl9cmV0dXJuIHRoaXN9LGxhYmVsOmZ1bmN0aW9uKHRleHQpe2lmKHRleHQ9PT11bmRlZmluZWQpe3JldHVybiB0aGlzLnJvb3QoKS5maW5kKCIuZWR1aS1idXR0b24tbGFiZWwiKS50ZXh0KCl9ZWxzZXt0aGlzLnJvb3QoKS5maW5kKCIuZWR1aS1idXR0b24tbGFiZWwiKS50ZXh0KHRleHQpO3JldHVybiB0aGlzfX0sZGlzYWJsZWQ6ZnVuY3Rpb24oc3RhdGUpe2lmKHN0YXRlPT09dW5kZWZpbmVkKXtyZXR1cm4gdGhpcy5yb290KCkuaGFzQ2xhc3MoImVkdWktZGlzYWJsZWQiKX10aGlzLnJvb3QoKS50b2dnbGVDbGFzcygiZWR1aS1kaXNhYmxlZCIsc3RhdGUpO2lmKHRoaXMucm9vdCgpLmhhc0NsYXNzKCJlZHVpLWRpc2FibGVkIikpe3RoaXMucm9vdCgpLnJlbW92ZUNsYXNzKCJlZHVpLWhvdmVyIil9cmV0dXJuIHRoaXN9LGFjdGl2ZTpmdW5jdGlvbihzdGF0ZSl7aWYoc3RhdGU9PT11bmRlZmluZWQpe3JldHVybiB0aGlzLnJvb3QoKS5oYXNDbGFzcygiZWR1aS1hY3RpdmUiKX10aGlzLnJvb3QoKS50b2dnbGVDbGFzcygiZWR1aS1hY3RpdmUiLHN0YXRlKTtyZXR1cm4gdGhpc30sbWVyZ2VXaXRoOmZ1bmN0aW9uKCRvYmope3ZhciBtZT10aGlzO21lLmRhdGEoIiRtZXJnZU9iaiIsJG9iaik7JG9iai5lZHVpKCkuZGF0YSgiJG1lcmdlT2JqIixtZS5yb290KCkpO2lmKCEkLmNvbnRhaW5zKGRvY3VtZW50LmJvZHksJG9ialswXSkpeyRvYmouYXBwZW5kVG8obWUucm9vdCgpKX1tZS5vbigiY2xpY2siLGZ1bmN0aW9uKCl7bWUud3JhcGNsaWNrKGZ1bmN0aW9uKCl7JG9iai5lZHVpKCkuc2hvdygpfSl9KS5yZWdpc3RlcigiY2xpY2siLG1lLnJvb3QoKSxmdW5jdGlvbihldnQpeyRvYmouaGlkZSgpfSl9fSk7KGZ1bmN0aW9uKCl7VU0udWkuZGVmaW5lKCJ0b29sYmFyIix7dHBsOic8ZGl2IGNsYXNzPSJlZHVpLXRvb2xiYXIiICA+PGRpdiBjbGFzcz0iZWR1aS1idG4tdG9vbGJhciIgdW5zZWxlY3RhYmxlPSJvbiIgb25tb3VzZWRvd249InJldHVybiBmYWxzZSIgID48L2Rpdj48L2Rpdj4nLGluaXQ6ZnVuY3Rpb24oKXt2YXIgJHJvb3Q9dGhpcy5yb290KCQodGhpcy50cGwpKTt0aGlzLmRhdGEoIiRidG5Ub29sYmFyIiwkcm9vdC5maW5kKCIuZWR1aS1idG4tdG9vbGJhciIpKX0sYXBwZW5kVG9CdG5tZW51OmZ1bmN0aW9uKGRhdGEpe3ZhciAkY29udD10aGlzLmRhdGEoIiRidG5Ub29sYmFyIik7ZGF0YT0kLmlzQXJyYXkoZGF0YSk/ZGF0YTpbZGF0YV07JC5lYWNoKGRhdGEsZnVuY3Rpb24oaSwkaXRlbSl7JGNvbnQuYXBwZW5kKCRpdGVtKX0pfX0pfSkoKTtVTS51aS5kZWZpbmUoIm1lbnUiLHtzaG93OmZ1bmN0aW9uKCRvYmosZGlyLGZubmFtZSx0b3BPZmZzZXQsbGVmdE9mZnNldCl7Zm5uYW1lPWZubmFtZXx8InBvc2l0aW9uIjtpZih0aGlzLnRyaWdnZXIoImJlZm9yZXNob3ciKT09PWZhbHNlKXtyZXR1cm59ZWxzZXt0aGlzLnJvb3QoKS5jc3MoJC5leHRlbmQoe2Rpc3BsYXk6ImJsb2NrIn0sJG9iaj97dG9wOiRvYmpbZm5uYW1lXSgpLnRvcCsoZGlyPT0icmlnaHQiPzA6JG9iai5vdXRlckhlaWdodCgpKS0odG9wT2Zmc2V0fHwwKSxsZWZ0OiRvYmpbZm5uYW1lXSgpLmxlZnQrKGRpcj09InJpZ2h0Ij8kb2JqLm91dGVyV2lkdGgoKTowKS0obGVmdE9mZnNldHx8MCl9Ont9KSk7dGhpcy50cmlnZ2VyKCJhZnRlcnNob3ciKX19LGhpZGU6ZnVuY3Rpb24oYWxsKXt2YXIgJHBhcmVudG1lbnU7aWYodGhpcy50cmlnZ2VyKCJiZWZvcmVoaWRlIik9PT1mYWxzZSl7cmV0dXJufWVsc2V7aWYoJHBhcmVudG1lbnU9dGhpcy5yb290KCkuZGF0YSgicGFyZW50bWVudSIpKXtpZigkcGFyZW50bWVudS5kYXRhKCJwYXJlbnRtZW51Iil8fGFsbCl7JHBhcmVudG1lbnUuZWR1aSgpLmhpZGUoKX19dGhpcy5yb290KCkuY3NzKCJkaXNwbGF5Iiwibm9uZSIpO3RoaXMudHJpZ2dlcigiYWZ0ZXJoaWRlIil9fSxhdHRhY2hUbzpmdW5jdGlvbigkb2JqKXt2YXIgbWU9dGhpcztpZighJG9iai5kYXRhKCIkbWVyZ2VPYmoiKSl7JG9iai5kYXRhKCIkbWVyZ2VPYmoiLG1lLnJvb3QoKSk7JG9iai5vbigid3JhcGNsaWNrIixmdW5jdGlvbihldnQpe21lLnNob3coKX0pO21lLnJlZ2lzdGVyKCJjbGljayIsJG9iaixmdW5jdGlvbihldnQpe21lLmhpZGUoKX0pO21lLmRhdGEoIiRtZXJnZU9iaiIsJG9iail9fX0pO1VNLnVpLmRlZmluZSgiZHJvcG1lbnUiLHt0bXBsOic8dWwgY2xhc3M9ImVkdWktZHJvcGRvd24tbWVudSIgYXJpYS1sYWJlbGxlZGJ5PSJkcm9wZG93bk1lbnUiID48JWZvcih2YXIgaT0wLGNpO2NpPWRhdGFbaSsrXTspeyU+PCVpZihjaS5kaXZpZGVyKXslPjxsaSBjbGFzcz0iZWR1aS1kaXZpZGVyIj48L2xpPjwlfWVsc2V7JT48bGkgPCVpZihjaS5hY3RpdmV8fGNpLmRpc2FibGVkKXslPmNsYXNzPSI8JT0gY2kuYWN0aXZlfHwgXCdcJyAlPiA8JT1jaS5kaXNhYmxlZHx8XCdcJyAlPiIgPCV9JT4gZGF0YS12YWx1ZT0iPCU9IGNpLnZhbHVlJT4iPjxhIGhyZWY9IiMiIHRhYmluZGV4PSItMSI+PGVtIGNsYXNzPSJlZHVpLWRyb3BtZW51LWNoZWNrYm94Ij48aSBjbGFzcz0iZWR1aS1pY29uLW9rIj48L2k+PC9lbT48JT0gY2kubGFiZWwlPjwvYT48L2xpPjwlfSU+PCV9JT48L3VsPicsZGVmYXVsdE9wdDp7ZGF0YTpbXSxjbGljazpmdW5jdGlvbigpe319LGluaXQ6ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIG1lPXRoaXM7dmFyIGV2ZW50TmFtZT17Y2xpY2s6MSxtb3VzZW92ZXI6MSxtb3VzZW91dDoxfTt0aGlzLnJvb3QoJCgkLnBhcnNlVG1wbCh0aGlzLnRtcGwsb3B0aW9ucykpKS5vbigiY2xpY2siLCdsaVtjbGFzcyE9ImVkdWktZGlzYWJsZWQgZWR1aS1kaXZpZGVyIGVkdWktZHJvcGRvd24tc3VibWVudSJdJyxmdW5jdGlvbihldnQpeyQucHJveHkob3B0aW9ucy5jbGljayxtZSxldnQsJCh0aGlzKS5kYXRhKCJ2YWx1ZSIpLCQodGhpcykpKCl9KS5maW5kKCJsaSIpLmVhY2goZnVuY3Rpb24oaSxlbCl7dmFyICR0aGlzPSQodGhpcyk7aWYoISR0aGlzLmhhc0NsYXNzKCJlZHVpLWRpc2FibGVkIGVkdWktZGl2aWRlciBlZHVpLWRyb3Bkb3duLXN1Ym1lbnUiKSl7dmFyIGRhdGE9b3B0aW9ucy5kYXRhW2ldOyQuZWFjaChldmVudE5hbWUsZnVuY3Rpb24oayl7ZGF0YVtrXSYmJHRoaXNba10oZnVuY3Rpb24oZXZ0KXskLnByb3h5KGRhdGFba10sZWwpKGV2dCxkYXRhLG1lLnJvb3QpfSl9KX19KX0sZGlzYWJsZWQ6ZnVuY3Rpb24oY2IpeyQoImxpW2NsYXNzIT1lZHVpLWRpdmlkZXJdIix0aGlzLnJvb3QoKSkuZWFjaChmdW5jdGlvbigpe3ZhciAkZWw9JCh0aGlzKTtpZihjYj09PXRydWUpeyRlbC5hZGRDbGFzcygiZWR1aS1kaXNhYmxlZCIpfWVsc2V7aWYoJC5pc0Z1bmN0aW9uKGNiKSl7JGVsLnRvZ2dsZUNsYXNzKCJlZHVpLWRpc2FibGVkIixjYihsaSkpfWVsc2V7JGVsLnJlbW92ZUNsYXNzKCJlZHVpLWRpc2FibGVkIil9fX0pfSx2YWw6ZnVuY3Rpb24odmFsKXt2YXIgY3VycmVudFZhbDskKCdsaVtjbGFzcyE9ImVkdWktZGl2aWRlciBlZHVpLWRpc2FibGVkIGVkdWktZHJvcGRvd24tc3VibWVudSJdJyx0aGlzLnJvb3QoKSkuZWFjaChmdW5jdGlvbigpe3ZhciAkZWw9JCh0aGlzKTtpZih2YWw9PT11bmRlZmluZWQpe2lmKCRlbC5maW5kKCJlbS5lZHVpLWRyb3BtZW51LWNoZWNrZWQiKS5sZW5ndGgpe2N1cnJlbnRWYWw9JGVsLmRhdGEoInZhbHVlIik7cmV0dXJuIGZhbHNlfX1lbHNleyRlbC5maW5kKCJlbSIpLnRvZ2dsZUNsYXNzKCJlZHVpLWRyb3BtZW51LWNoZWNrZWQiLCRlbC5kYXRhKCJ2YWx1ZSIpPT12YWwpfX0pO2lmKHZhbD09PXVuZGVmaW5lZCl7cmV0dXJuIGN1cnJlbnRWYWx9fSxhZGRTdWJtZW51OmZ1bmN0aW9uKGxhYmVsLG1lbnUsaW5kZXgpe2luZGV4PWluZGV4fHwwO3ZhciAkbGlzdD0kKCJsaVtjbGFzcyE9ZWR1aS1kaXZpZGVyXSIsdGhpcy5yb290KCkpO3ZhciAkbm9kZT0kKCc8bGkgY2xhc3M9ImVkdWktZHJvcGRvd24tc3VibWVudSI+PGEgdGFiaW5kZXg9Ii0xIiBocmVmPSIjIj4nK2xhYmVsKyI8L2E+PC9saT4iKS5hcHBlbmQobWVudSk7aWYoaW5kZXg+PTAmJmluZGV4PCRsaXN0Lmxlbmd0aCl7JG5vZGUuaW5zZXJ0QmVmb3JlKCRsaXN0W2luZGV4XSl9ZWxzZXtpZihpbmRleDwwKXskbm9kZS5pbnNlcnRCZWZvcmUoJGxpc3RbMF0pfWVsc2V7aWYoaW5kZXg+PSRsaXN0Lmxlbmd0aCl7JG5vZGUuYXBwZW5kVG8oJGxpc3QpfX19fX0sIm1lbnUiKTtVTS51aS5kZWZpbmUoInNwbGl0YnV0dG9uIix7dHBsOic8ZGl2IGNsYXNzPSJlZHVpLXNwbGl0YnV0dG9uIDwlaWYgKG5hbWUpeyU+ZWR1aS1zcGxpdGJ1dHRvbi08JT0gbmFtZSAlPjwlfSU+IiAgdW5zZWxlY3RhYmxlPSJvbiIgPCVpZih0aXRsZSl7JT5kYXRhLW9yaWdpbmFsLXRpdGxlPSI8JT10aXRsZSU+IjwlfSU+PjxkaXYgY2xhc3M9ImVkdWktYnRuIiAgdW5zZWxlY3RhYmxlPSJvbiIgPjwlaWYoaWNvbil7JT48ZGl2ICB1bnNlbGVjdGFibGU9Im9uIiBjbGFzcz0iZWR1aS1pY29uLTwlPWljb24lPiBlZHVpLWljb24iPjwvZGl2PjwlfSU+PCVpZih0ZXh0KXslPjwlPXRleHQlPjwlfSU+PC9kaXY+PGRpdiAgdW5zZWxlY3RhYmxlPSJvbiIgY2xhc3M9ImVkdWktYnRuIGVkdWktZHJvcGRvd24tdG9nZ2xlIiA+PGRpdiAgdW5zZWxlY3RhYmxlPSJvbiIgY2xhc3M9ImVkdWktY2FyZXQiPjwvZGl2PjwvZGl2PjwvZGl2PicsZGVmYXVsdE9wdDp7dGV4dDoiIix0aXRsZToiIixjbGljazpmdW5jdGlvbigpe319LGluaXQ6ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIG1lPXRoaXM7bWUucm9vdCgkKCQucGFyc2VUbXBsKG1lLnRwbCxvcHRpb25zKSkpO21lLnJvb3QoKS5maW5kKCIuZWR1aS1idG46Zmlyc3QiKS5jbGljayhmdW5jdGlvbihldnQpe2lmKCFtZS5kaXNhYmxlZCgpKXskLnByb3h5KG9wdGlvbnMuY2xpY2ssbWUpKCl9fSk7bWUucm9vdCgpLmZpbmQoIi5lZHVpLWRyb3Bkb3duLXRvZ2dsZSIpLmNsaWNrKGZ1bmN0aW9uKCl7aWYoIW1lLmRpc2FibGVkKCkpe21lLnRyaWdnZXIoImFycm93Y2xpY2siKX19KTttZS5yb290KCkuaG92ZXIoZnVuY3Rpb24oKXtpZighbWUucm9vdCgpLmhhc0NsYXNzKCJlZHVpLWRpc2FibGVkIikpe21lLnJvb3QoKS50b2dnbGVDbGFzcygiZWR1aS1ob3ZlciIpfX0pO3JldHVybiBtZX0sd3JhcGNsaWNrOmZ1bmN0aW9uKGZuLGV2dCl7aWYoIXRoaXMuZGlzYWJsZWQoKSl7JC5wcm94eShmbix0aGlzLGV2dCkoKX1yZXR1cm4gdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oc3RhdGUpe2lmKHN0YXRlPT09dW5kZWZpbmVkKXtyZXR1cm4gdGhpcy5yb290KCkuaGFzQ2xhc3MoImVkdWktZGlzYWJsZWQiKX10aGlzLnJvb3QoKS50b2dnbGVDbGFzcygiZWR1aS1kaXNhYmxlZCIsc3RhdGUpLmZpbmQoIi5lZHVpLWJ0biIpLnRvZ2dsZUNsYXNzKCJlZHVpLWRpc2FibGVkIixzdGF0ZSk7cmV0dXJuIHRoaXN9LGFjdGl2ZTpmdW5jdGlvbihzdGF0ZSl7aWYoc3RhdGU9PT11bmRlZmluZWQpe3JldHVybiB0aGlzLnJvb3QoKS5oYXNDbGFzcygiZWR1aS1hY3RpdmUiKX10aGlzLnJvb3QoKS50b2dnbGVDbGFzcygiZWR1aS1hY3RpdmUiLHN0YXRlKS5maW5kKCIuZWR1aS1idG46Zmlyc3QiKS50b2dnbGVDbGFzcygiZWR1aS1hY3RpdmUiLHN0YXRlKTtyZXR1cm4gdGhpc30sbWVyZ2VXaXRoOmZ1bmN0aW9uKCRvYmope3ZhciBtZT10aGlzO21lLmRhdGEoIiRtZXJnZU9iaiIsJG9iaik7JG9iai5lZHVpKCkuZGF0YSgiJG1lcmdlT2JqIixtZS5yb290KCkpO2lmKCEkLmNvbnRhaW5zKGRvY3VtZW50LmJvZHksJG9ialswXSkpeyRvYmouYXBwZW5kVG8obWUucm9vdCgpKX1tZS5yb290KCkuZGVsZWdhdGUoIi5lZHVpLWRyb3Bkb3duLXRvZ2dsZSIsImNsaWNrIixmdW5jdGlvbigpe21lLndyYXBjbGljayhmdW5jdGlvbigpeyRvYmouZWR1aSgpLnNob3coKX0pfSk7bWUucmVnaXN0ZXIoImNsaWNrIixtZS5yb290KCkuZmluZCgiLmVkdWktZHJvcGRvd24tdG9nZ2xlIiksZnVuY3Rpb24oZXZ0KXskb2JqLmhpZGUoKX0pfX0pO1VNLnVpLmRlZmluZSgiY29sb3JzcGxpdGJ1dHRvbiIse3RwbDonPGRpdiBjbGFzcz0iZWR1aS1zcGxpdGJ1dHRvbiA8JWlmIChuYW1lKXslPmVkdWktc3BsaXRidXR0b24tPCU9IG5hbWUgJT48JX0lPiIgIHVuc2VsZWN0YWJsZT0ib24iIDwlaWYodGl0bGUpeyU+ZGF0YS1vcmlnaW5hbC10aXRsZT0iPCU9dGl0bGUlPiI8JX0lPj48ZGl2IGNsYXNzPSJlZHVpLWJ0biIgIHVuc2VsZWN0YWJsZT0ib24iID48JWlmKGljb24peyU+PGRpdiAgdW5zZWxlY3RhYmxlPSJvbiIgY2xhc3M9ImVkdWktaWNvbi08JT1pY29uJT4gZWR1aS1pY29uIj48L2Rpdj48JX0lPjxkaXYgY2xhc3M9ImVkdWktc3BsaXRidXR0b24tY29sb3ItbGFiZWwiIDwlaWYgKGNvbG9yKSB7JT5zdHlsZT0iYmFja2dyb3VuZDogPCU9Y29sb3IlPiI8JX0lPj48L2Rpdj48JWlmKHRleHQpeyU+PCU9dGV4dCU+PCV9JT48L2Rpdj48ZGl2ICB1bnNlbGVjdGFibGU9Im9uIiBjbGFzcz0iZWR1aS1idG4gZWR1aS1kcm9wZG93bi10b2dnbGUiID48ZGl2ICB1bnNlbGVjdGFibGU9Im9uIiBjbGFzcz0iZWR1aS1jYXJldCI+PC9kaXY+PC9kaXY+PC9kaXY+JyxkZWZhdWx0T3B0Ontjb2xvcjoiIn0saW5pdDpmdW5jdGlvbihvcHRpb25zKXt2YXIgbWU9dGhpczttZS5zdXBwZXIuaW5pdC5jYWxsKG1lLG9wdGlvbnMpfSxjb2xvckxhYmVsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdCgpLmZpbmQoIi5lZHVpLXNwbGl0YnV0dG9uLWNvbG9yLWxhYmVsIil9fSwic3BsaXRidXR0b24iKTtVTS51aS5kZWZpbmUoInBvcHVwIix7dHBsOic8ZGl2IGNsYXNzPSJlZHVpLWRyb3Bkb3duLW1lbnUgZWR1aS1wb3B1cCI8JWlmKCE8JT1zdG9wcHJvcCU+KXslPm9ubW91c2Vkb3duPSJyZXR1cm4gZmFsc2UiPCV9JT4+PGRpdiBjbGFzcz0iZWR1aS1wb3B1cC1ib2R5IiB1bnNlbGVjdGFibGU9Im9uIiBvbm1vdXNlZG93bj0icmV0dXJuIGZhbHNlIj48JT1zdWJ0cGwlPjwvZGl2PjxkaXYgY2xhc3M9ImVkdWktcG9wdXAtY2FyZXQiPjwvZGl2PjwvZGl2PicsZGVmYXVsdE9wdDp7c3RvcHByb3A6ZmFsc2Usc3VidHBsOiIiLHdpZHRoOiIiLGhlaWdodDoiIn0saW5pdDpmdW5jdGlvbihvcHRpb25zKXt0aGlzLnJvb3QoJCgkLnBhcnNlVG1wbCh0aGlzLnRwbCxvcHRpb25zKSkpO3JldHVybiB0aGlzfSxtZXJnZVRwbDpmdW5jdGlvbihkYXRhKXtyZXR1cm4gJC5wYXJzZVRtcGwodGhpcy50cGwse3N1YnRwbDpkYXRhfSl9LHNob3c6ZnVuY3Rpb24oJG9iaixwb3NPYmope2lmKCFwb3NPYmope3Bvc09iaj17fX12YXIgZm5uYW1lPXBvc09iai5mbm5hbWV8fCJwb3NpdGlvbiI7aWYodGhpcy50cmlnZ2VyKCJiZWZvcmVzaG93Iik9PT1mYWxzZSl7cmV0dXJufWVsc2V7dGhpcy5yb290KCkuY3NzKCQuZXh0ZW5kKHtkaXNwbGF5OiJibG9jayJ9LCRvYmo/e3RvcDokb2JqW2ZubmFtZV0oKS50b3ArKHBvc09iai5kaXI9PSJyaWdodCI/MDokb2JqLm91dGVySGVpZ2h0KCkpLShwb3NPYmoub2Zmc2V0VG9wfHwwKSxsZWZ0OiRvYmpbZm5uYW1lXSgpLmxlZnQrKHBvc09iai5kaXI9PSJyaWdodCI/JG9iai5vdXRlcldpZHRoKCk6MCktKHBvc09iai5vZmZzZXRMZWZ0fHwwKSxwb3NpdGlvbjoiYWJzb2x1dGUifTp7fSkpO3RoaXMucm9vdCgpLmZpbmQoIi5lZHVpLXBvcHVwLWNhcmV0IikuY3NzKHt0b3A6cG9zT2JqLmNhcmV0VG9wfHwwLGxlZnQ6cG9zT2JqLmNhcmV0TGVmdHx8MCxwb3NpdGlvbjoiYWJzb2x1dGUifSkuYWRkQ2xhc3MocG9zT2JqLmNhcmV0RGlyfHwidXAiKX10aGlzLnRyaWdnZXIoImFmdGVyc2hvdyIpfSxoaWRlOmZ1bmN0aW9uKCl7dGhpcy5yb290KCkuY3NzKCJkaXNwbGF5Iiwibm9uZSIpO3RoaXMudHJpZ2dlcigiYWZ0ZXJoaWRlIil9LGF0dGFjaFRvOmZ1bmN0aW9uKCRvYmoscG9zT2JqKXt2YXIgbWU9dGhpcztpZighJG9iai5kYXRhKCIkbWVyZ2VPYmoiKSl7JG9iai5kYXRhKCIkbWVyZ2VPYmoiLG1lLnJvb3QoKSk7JG9iai5vbigid3JhcGNsaWNrIixmdW5jdGlvbihldnQpe21lLnNob3coJG9iaixwb3NPYmopfSk7bWUucmVnaXN0ZXIoImNsaWNrIiwkb2JqLGZ1bmN0aW9uKGV2dCl7bWUuaGlkZSgpfSk7bWUuZGF0YSgiJG1lcmdlT2JqIiwkb2JqKX19LGdldEJvZHlDb250YWluZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yb290KCkuZmluZCgiLmVkdWktcG9wdXAtYm9keSIpfX0pO1VNLnVpLmRlZmluZSgic2NhbGUiLHt0cGw6JzxkaXYgY2xhc3M9ImVkdWktc2NhbGUiIHVuc2VsZWN0YWJsZT0ib24iPjxzcGFuIGNsYXNzPSJlZHVpLXNjYWxlLWhhbmQwIj48L3NwYW4+PHNwYW4gY2xhc3M9ImVkdWktc2NhbGUtaGFuZDEiPjwvc3Bhbj48c3BhbiBjbGFzcz0iZWR1aS1zY2FsZS1oYW5kMiI+PC9zcGFuPjxzcGFuIGNsYXNzPSJlZHVpLXNjYWxlLWhhbmQzIj48L3NwYW4+PHNwYW4gY2xhc3M9ImVkdWktc2NhbGUtaGFuZDQiPjwvc3Bhbj48c3BhbiBjbGFzcz0iZWR1aS1zY2FsZS1oYW5kNSI+PC9zcGFuPjxzcGFuIGNsYXNzPSJlZHVpLXNjYWxlLWhhbmQ2Ij48L3NwYW4+PHNwYW4gY2xhc3M9ImVkdWktc2NhbGUtaGFuZDciPjwvc3Bhbj48L2Rpdj4nLGRlZmF1bHRPcHQ6eyRkb2M6JChkb2N1bWVudCksJHdyYXA6JChkb2N1bWVudCl9LGluaXQ6ZnVuY3Rpb24ob3B0aW9ucyl7aWYob3B0aW9ucy4kZG9jKXt0aGlzLmRlZmF1bHRPcHQuJGRvYz1vcHRpb25zLiRkb2N9aWYob3B0aW9ucy4kd3JhcCl7dGhpcy5kZWZhdWx0T3B0LiR3cmFwPW9wdGlvbnMuJHdyYXB9dGhpcy5yb290KCQoJC5wYXJzZVRtcGwodGhpcy50cGwsb3B0aW9ucykpKTt0aGlzLmluaXRTdHlsZSgpO3RoaXMuc3RhcnRQb3M9dGhpcy5wcmVQb3M9e3g6MCx5OjB9O3RoaXMuZHJhZ0lkPS0xO3JldHVybiB0aGlzfSxpbml0U3R5bGU6ZnVuY3Rpb24oKXt1dGlscy5jc3NSdWxlKCJlZHVpLXN0eWxlLXNjYWxlIiwiLmVkdWktc2NhbGV7ZGlzcGxheTpub25lO3Bvc2l0aW9uOmFic29sdXRlO2JvcmRlcjoxcHggc29saWQgIzM4QjJDRTtjdXJzb3I6aGFuZDt9LmVkdWktc2NhbGUgc3Bhbntwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7d2lkdGg6N3B4O2hlaWdodDo3cHg7b3ZlcmZsb3c6aGlkZGVuO2ZvbnQtc2l6ZTowcHg7ZGlzcGxheTpibG9jaztiYWNrZ3JvdW5kLWNvbG9yOiMzQzlERDA7fS5lZHVpLXNjYWxlIC5lZHVpLXNjYWxlLWhhbmQwe2N1cnNvcjpudy1yZXNpemU7dG9wOjA7bWFyZ2luLXRvcDotNHB4O2xlZnQ6MDttYXJnaW4tbGVmdDotNHB4O30uZWR1aS1zY2FsZSAuZWR1aS1zY2FsZS1oYW5kMXtjdXJzb3I6bi1yZXNpemU7dG9wOjA7bWFyZ2luLXRvcDotNHB4O2xlZnQ6NTAlO21hcmdpbi1sZWZ0Oi00cHg7fS5lZHVpLXNjYWxlIC5lZHVpLXNjYWxlLWhhbmQye2N1cnNvcjpuZS1yZXNpemU7dG9wOjA7bWFyZ2luLXRvcDotNHB4O2xlZnQ6MTAwJTttYXJnaW4tbGVmdDotM3B4O30uZWR1aS1zY2FsZSAuZWR1aS1zY2FsZS1oYW5kM3tjdXJzb3I6dy1yZXNpemU7dG9wOjUwJTttYXJnaW4tdG9wOi00cHg7bGVmdDowO21hcmdpbi1sZWZ0Oi00cHg7fS5lZHVpLXNjYWxlIC5lZHVpLXNjYWxlLWhhbmQ0e2N1cnNvcjplLXJlc2l6ZTt0b3A6NTAlO21hcmdpbi10b3A6LTRweDtsZWZ0OjEwMCU7bWFyZ2luLWxlZnQ6LTNweDt9LmVkdWktc2NhbGUgLmVkdWktc2NhbGUtaGFuZDV7Y3Vyc29yOnN3LXJlc2l6ZTt0b3A6MTAwJTttYXJnaW4tdG9wOi0zcHg7bGVmdDowO21hcmdpbi1sZWZ0Oi00cHg7fS5lZHVpLXNjYWxlIC5lZHVpLXNjYWxlLWhhbmQ2e2N1cnNvcjpzLXJlc2l6ZTt0b3A6MTAwJTttYXJnaW4tdG9wOi0zcHg7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LTRweDt9LmVkdWktc2NhbGUgLmVkdWktc2NhbGUtaGFuZDd7Y3Vyc29yOnNlLXJlc2l6ZTt0b3A6MTAwJTttYXJnaW4tdG9wOi0zcHg7bGVmdDoxMDAlO21hcmdpbi1sZWZ0Oi0zcHg7fSIpfSxfZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciBtZT10aGlzLCRkb2M9bWUuZGVmYXVsdE9wdC4kZG9jO3N3aXRjaChlLnR5cGUpe2Nhc2UibW91c2Vkb3duIjp2YXIgaGFuZD1lLnRhcmdldHx8ZS5zcmNFbGVtZW50LGhhbmQ7aWYoaGFuZC5jbGFzc05hbWUuaW5kZXhPZigiZWR1aS1zY2FsZS1oYW5kIikhPS0xKXttZS5kcmFnSWQ9aGFuZC5jbGFzc05hbWUuc2xpY2UoLTEpO21lLnN0YXJ0UG9zLng9bWUucHJlUG9zLng9ZS5jbGllbnRYO21lLnN0YXJ0UG9zLnk9bWUucHJlUG9zLnk9ZS5jbGllbnRZOyRkb2MuYmluZCgibW91c2Vtb3ZlIiwkLnByb3h5KG1lLl9ldmVudEhhbmRsZXIsbWUpKX1icmVhaztjYXNlIm1vdXNlbW92ZSI6aWYobWUuZHJhZ0lkIT0tMSl7bWUudXBkYXRlQ29udGFpbmVyU3R5bGUobWUuZHJhZ0lkLHt4OmUuY2xpZW50WC1tZS5wcmVQb3MueCx5OmUuY2xpZW50WS1tZS5wcmVQb3MueX0pO21lLnByZVBvcy54PWUuY2xpZW50WDttZS5wcmVQb3MueT1lLmNsaWVudFk7bWUudXBkYXRlVGFyZ2V0RWxlbWVudCgpfWJyZWFrO2Nhc2UibW91c2V1cCI6aWYobWUuZHJhZ0lkIT0tMSl7bWUuZHJhZ0lkPS0xO21lLnVwZGF0ZVRhcmdldEVsZW1lbnQoKTt2YXIgJHRhcmdldD1tZS5kYXRhKCIkc2NhbGVUYXJnZXQiKTtpZigkdGFyZ2V0LnBhcmVudCgpKXttZS5hdHRhY2hUbyhtZS5kYXRhKCIkc2NhbGVUYXJnZXQiKSl9fSRkb2MudW5iaW5kKCJtb3VzZW1vdmUiLCQucHJveHkobWUuX2V2ZW50SGFuZGxlcixtZSkpO2JyZWFrO2RlZmF1bHQ6YnJlYWt9fSx1cGRhdGVUYXJnZXRFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXMsJHJvb3Q9bWUucm9vdCgpLCR0YXJnZXQ9bWUuZGF0YSgiJHNjYWxlVGFyZ2V0Iik7JHRhcmdldC5jc3Moe3dpZHRoOiRyb290LndpZHRoKCksaGVpZ2h0OiRyb290LmhlaWdodCgpfSk7bWUuYXR0YWNoVG8oJHRhcmdldCl9LHVwZGF0ZUNvbnRhaW5lclN0eWxlOmZ1bmN0aW9uKGRpcixvZmZzZXQpe3ZhciBtZT10aGlzLCRkb209bWUucm9vdCgpLHRtcCxyZWN0PVtbMCwwLC0xLC0xXSxbMCwwLDAsLTFdLFswLDAsMSwtMV0sWzAsMCwtMSwwXSxbMCwwLDEsMF0sWzAsMCwtMSwxXSxbMCwwLDAsMV0sWzAsMCwxLDFdXTtpZihyZWN0W2Rpcl1bMF0hPTApe3RtcD1wYXJzZUludCgkZG9tLm9mZnNldCgpLmxlZnQpK29mZnNldC54OyRkb20uY3NzKCJsZWZ0IixtZS5fdmFsaWRTY2FsZWRQcm9wKCJsZWZ0Iix0bXApKX1pZihyZWN0W2Rpcl1bMV0hPTApe3RtcD1wYXJzZUludCgkZG9tLm9mZnNldCgpLnRvcCkrb2Zmc2V0Lnk7JGRvbS5jc3MoInRvcCIsbWUuX3ZhbGlkU2NhbGVkUHJvcCgidG9wIix0bXApKX1pZihyZWN0W2Rpcl1bMl0hPTApe3RtcD0kZG9tLndpZHRoKCkrcmVjdFtkaXJdWzJdKm9mZnNldC54OyRkb20uY3NzKCJ3aWR0aCIsbWUuX3ZhbGlkU2NhbGVkUHJvcCgid2lkdGgiLHRtcCkpfWlmKHJlY3RbZGlyXVszXSE9MCl7dG1wPSRkb20uaGVpZ2h0KCkrcmVjdFtkaXJdWzNdKm9mZnNldC55OyRkb20uY3NzKCJoZWlnaHQiLG1lLl92YWxpZFNjYWxlZFByb3AoImhlaWdodCIsdG1wKSl9fSxfdmFsaWRTY2FsZWRQcm9wOmZ1bmN0aW9uKHByb3AsdmFsdWUpe3ZhciAkZWxlPXRoaXMucm9vdCgpLCR3cmFwPXRoaXMuZGVmYXVsdE9wdC4kZG9jLGNhbGM9ZnVuY3Rpb24odmFsLGEsYil7cmV0dXJuKHZhbCthKT5iP2ItYTp2YWx1ZX07dmFsdWU9aXNOYU4odmFsdWUpPzA6dmFsdWU7c3dpdGNoKHByb3Ape2Nhc2UibGVmdCI6cmV0dXJuIHZhbHVlPDA/MDpjYWxjKHZhbHVlLCRlbGUud2lkdGgoKSwkd3JhcC53aWR0aCgpKTtjYXNlInRvcCI6cmV0dXJuIHZhbHVlPDA/MDpjYWxjKHZhbHVlLCRlbGUuaGVpZ2h0KCksJHdyYXAuaGVpZ2h0KCkpO2Nhc2Uid2lkdGgiOnJldHVybiB2YWx1ZTw9MD8xOmNhbGModmFsdWUsJGVsZS5vZmZzZXQoKS5sZWZ0LCR3cmFwLndpZHRoKCkpO2Nhc2UiaGVpZ2h0IjpyZXR1cm4gdmFsdWU8PTA/MTpjYWxjKHZhbHVlLCRlbGUub2Zmc2V0KCkudG9wLCR3cmFwLmhlaWdodCgpKX19LHNob3c6ZnVuY3Rpb24oJG9iail7dmFyIG1lPXRoaXM7aWYoJG9iail7bWUuYXR0YWNoVG8oJG9iail9bWUucm9vdCgpLmJpbmQoIm1vdXNlZG93biIsJC5wcm94eShtZS5fZXZlbnRIYW5kbGVyLG1lKSk7bWUuZGVmYXVsdE9wdC4kZG9jLmJpbmQoIm1vdXNldXAiLCQucHJveHkobWUuX2V2ZW50SGFuZGxlcixtZSkpO21lLnJvb3QoKS5zaG93KCk7bWUudHJpZ2dlcigiYWZ0ZXJzaG93Iil9LGhpZGU6ZnVuY3Rpb24oKXt2YXIgbWU9dGhpczttZS5yb290KCkudW5iaW5kKCJtb3VzZWRvd24iLCQucHJveHkobWUuX2V2ZW50SGFuZGxlcixtZSkpO21lLmRlZmF1bHRPcHQuJGRvYy51bmJpbmQoIm1vdXNldXAiLCQucHJveHkobWUuX2V2ZW50SGFuZGxlcixtZSkpO21lLnJvb3QoKS5oaWRlKCk7bWUudHJpZ2dlcigiYWZ0ZXJoaWRlIil9LGF0dGFjaFRvOmZ1bmN0aW9uKCRvYmope3ZhciBtZT10aGlzLGltZ1Bvcz0kb2JqLm9mZnNldCgpLCRyb290PW1lLnJvb3QoKSwkd3JhcD1tZS5kZWZhdWx0T3B0LiR3cmFwLHBvc09iaj0kd3JhcC5vZmZzZXQoKTttZS5kYXRhKCIkc2NhbGVUYXJnZXQiLCRvYmopO21lLnJvb3QoKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsd2lkdGg6JG9iai53aWR0aCgpLGhlaWdodDokb2JqLmhlaWdodCgpLGxlZnQ6aW1nUG9zLmxlZnQtcG9zT2JqLmxlZnQtcGFyc2VJbnQoJHdyYXAuY3NzKCJib3JkZXItbGVmdC13aWR0aCIpKS1wYXJzZUludCgkcm9vdC5jc3MoImJvcmRlci1sZWZ0LXdpZHRoIikpLHRvcDppbWdQb3MudG9wLXBvc09iai50b3AtcGFyc2VJbnQoJHdyYXAuY3NzKCJib3JkZXItdG9wLXdpZHRoIikpLXBhcnNlSW50KCRyb290LmNzcygiYm9yZGVyLXRvcC13aWR0aCIpKX0pfSxnZXRTY2FsZVRhcmdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEoIiRzY2FsZVRhcmdldCIpWzBdfX0pO1VNLnVpLmRlZmluZSgiY29sb3JwaWNrZXIiLHt0cGw6ZnVuY3Rpb24ob3B0KXt2YXIgQ09MT1JTPSgiZmZmZmZmLDAwMDAwMCxlZWVjZTEsMWY0OTdkLDRmODFiZCxjMDUwNGQsOWJiYjU5LDgwNjRhMiw0YmFjYzYsZjc5NjQ2LGYyZjJmMiw3ZjdmN2YsZGRkOWMzLGM2ZDlmMCxkYmU1ZjEsZjJkY2RiLGViZjFkZCxlNWUwZWMsZGJlZWYzLGZkZWFkYSxkOGQ4ZDgsNTk1OTU5LGM0YmQ5Nyw4ZGIzZTIsYjhjY2U0LGU1YjliNyxkN2UzYmMsY2NjMWQ5LGI3ZGRlOCxmYmQ1YjUsYmZiZmJmLDNmM2YzZiw5Mzg5NTMsNTQ4ZGQ0LDk1YjNkNyxkOTk2OTQsYzNkNjliLGIyYTJjNyw5MmNkZGMsZmFjMDhmLGE1YTVhNSwyNjI2MjYsNDk0NDI5LDE3MzY1ZCwzNjYwOTIsOTUzNzM0LDc2OTIzYyw1ZjQ5N2EsMzE4NTliLGUzNmMwOSw3ZjdmN2YsMGMwYzBjLDFkMWIxMCwwZjI0M2UsMjQ0MDYxLDYzMjQyMyw0ZjYxMjgsM2YzMTUxLDIwNTg2Nyw5NzQ4MDYsYzAwMDAwLGZmMDAwMCxmZmMwMDAsZmZmZjAwLDkyZDA1MCwwMGIwNTAsMDBiMGYwLDAwNzBjMCwwMDIwNjAsNzAzMGEwLCIpLnNwbGl0KCIsIik7dmFyIGh0bWw9JzxkaXYgdW5zZWxlY3RhYmxlPSJvbiIgb25tb3VzZWRvd249InJldHVybiBmYWxzZSIgY2xhc3M9ImVkdWktY29sb3JwaWNrZXI8JWlmIChuYW1lKXslPiBlZHVpLWNvbG9ycGlja2VyLTwlPW5hbWUlPjwlfSU+IiA+PHRhYmxlIHVuc2VsZWN0YWJsZT0ib24iIG9ubW91c2Vkb3duPSJyZXR1cm4gZmFsc2UiPjx0cj48dGQgY29sc3Bhbj0iMTAiPicrb3B0LmxhbmdfdGhlbWVDb2xvcisnPC90ZD4gPC90cj48dHIgY2xhc3M9ImVkdWktY29sb3JwaWNrZXItZmlyc3Ryb3ciID4nO2Zvcih2YXIgaT0wO2k8Q09MT1JTLmxlbmd0aDtpKyspe2lmKGkmJmklMTA9PT0wKXtodG1sKz0iPC90cj4iKyhpPT02MD8nPHRyPjx0ZCBjb2xzcGFuPSIxMCI+JytvcHQubGFuZ19zdGFuZGFyZENvbG9yKyI8L3RkPjwvdHI+IjoiIikrIjx0ciIrKGk9PTYwPycgY2xhc3M9ImVkdWktY29sb3JwaWNrZXItZmlyc3Ryb3ciJzoiIikrIj4ifWh0bWwrPWk8NzA/Jzx0ZD48YSB1bnNlbGVjdGFibGU9Im9uIiBvbm1vdXNlZG93bj0icmV0dXJuIGZhbHNlIiB0aXRsZT0iJytDT0xPUlNbaV0rJyIgY2xhc3M9ImVkdWktY29sb3JwaWNrZXItY29sb3JjZWxsIiBkYXRhLWNvbG9yPSIjJytDT0xPUlNbaV0rJyIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6IycrQ09MT1JTW2ldKyI7Ym9yZGVyOnNvbGlkICNjY2M7IisoaTwxMHx8aT49NjA/ImJvcmRlci13aWR0aDoxcHg7IjppPj0xMCYmaTwyMD8iYm9yZGVyLXdpZHRoOjFweCAxcHggMCAxcHg7IjoiYm9yZGVyLXdpZHRoOjAgMXB4IDAgMXB4OyIpKyciPjwvYT48L3RkPic6IiJ9aHRtbCs9IjwvdHI+PC90YWJsZT48L2Rpdj4iO3JldHVybiBodG1sfSxpbml0OmZ1bmN0aW9uKG9wdGlvbnMpe3ZhciBtZT10aGlzO21lLnJvb3QoJCgkLnBhcnNlVG1wbChtZS5zdXBwZXIubWVyZ2VUcGwobWUudHBsKG9wdGlvbnMpKSxvcHRpb25zKSkpO21lLnJvb3QoKS5vbigiY2xpY2siLGZ1bmN0aW9uKGUpe21lLnRyaWdnZXIoInBpY2tjb2xvciIsJChlLnRhcmdldCkuZGF0YSgiY29sb3IiKSl9KX19LCJwb3B1cCIpOyhmdW5jdGlvbigpe3ZhciB3aWRnZXROYW1lPSJjb21ib2JveCIsaXRlbUNsYXNzTmFtZT0iZWR1aS1jb21ib2JveC1pdGVtIixIT1ZFUl9DTEFTUz0iZWR1aS1jb21ib2JveC1pdGVtLWhvdmVyIixJQ09OX0NMQVNTPSJlZHVpLWNvbWJvYm94LWNoZWNrZWQtaWNvbiIsbGFiZWxDbGFzc05hbWU9ImVkdWktY29tYm9ib3gtaXRlbS1sYWJlbCI7VU0udWkuZGVmaW5lKHdpZGdldE5hbWUsKGZ1bmN0aW9uKCl7cmV0dXJue3RwbDonPHVsIGNsYXNzPSJkcm9wZG93bi1tZW51IGVkdWktY29tYm9ib3gtbWVudTwlaWYgKGNvbWJvYm94TmFtZSE9PVwnXCcpIHslPiBlZHVpLWNvbWJvYm94LTwlPWNvbWJvYm94TmFtZSU+PCV9JT4iIHVuc2VsZWN0YWJsZT0ib24iIG9ubW91c2Vkb3duPSJyZXR1cm4gZmFsc2UiIHJvbGU9Im1lbnUiIGFyaWEtbGFiZWxsZWRieT0iZHJvcGRvd25NZW51Ij48JWlmKGF1dG9SZWNvcmQpIHslPjwlZm9yKCB2YXIgaT0wLCBsZW4gPSByZWNvcmRTdGFjay5sZW5ndGg7IGk8bGVuOyBpKysgKSB7JT48JXZhciBpbmRleCA9IHJlY29yZFN0YWNrW2ldOyU+PGxpIGNsYXNzPSI8JT1pdGVtQ2xhc3NOYW1lJT48JWlmKCBzZWxlY3RlZCA9PSBpbmRleCApIHslPiBlZHVpLWNvbWJvYm94LWNoZWNrZWQ8JX0lPiIgZGF0YS1pdGVtLWluZGV4PSI8JT1pbmRleCU+IiB1bnNlbGVjdGFibGU9Im9uIiBvbm1vdXNlZG93bj0icmV0dXJuIGZhbHNlIj48c3BhbiBjbGFzcz0iZWR1aS1jb21ib2JveC1pY29uIiB1bnNlbGVjdGFibGU9Im9uIiBvbm1vdXNlZG93bj0icmV0dXJuIGZhbHNlIj48L3NwYW4+PGxhYmVsIGNsYXNzPSI8JT1sYWJlbENsYXNzTmFtZSU+IiBzdHlsZT0iPCU9aXRlbVN0eWxlc1sgaW5kZXggXSU+IiB1bnNlbGVjdGFibGU9Im9uIiBvbm1vdXNlZG93bj0icmV0dXJuIGZhbHNlIj48JT1pdGVtc1tpbmRleF0lPjwvbGFiZWw+PC9saT48JX0lPjwlaWYoIGkgKSB7JT48bGkgY2xhc3M9ImVkdWktY29tYm9ib3gtaXRlbS1zZXBhcmF0b3IiPjwvbGk+PCV9JT48JX0lPjwlZm9yKCB2YXIgaT0wLCBsYWJlbDsgbGFiZWwgPSBpdGVtc1tpXTsgaSsrICkgeyU+PGxpIGNsYXNzPSI8JT1pdGVtQ2xhc3NOYW1lJT48JWlmKCBzZWxlY3RlZCA9PSBpICkgeyU+IGVkdWktY29tYm9ib3gtY2hlY2tlZDwlfSU+IGVkdWktY29tYm9ib3gtaXRlbS08JT1pJT4iIGRhdGEtaXRlbS1pbmRleD0iPCU9aSU+IiB1bnNlbGVjdGFibGU9Im9uIiBvbm1vdXNlZG93bj0icmV0dXJuIGZhbHNlIj48c3BhbiBjbGFzcz0iZWR1aS1jb21ib2JveC1pY29uIiB1bnNlbGVjdGFibGU9Im9uIiBvbm1vdXNlZG93bj0icmV0dXJuIGZhbHNlIj48L3NwYW4+PGxhYmVsIGNsYXNzPSI8JT1sYWJlbENsYXNzTmFtZSU+IiBzdHlsZT0iPCU9aXRlbVN0eWxlc1sgaSBdJT4iIHVuc2VsZWN0YWJsZT0ib24iIG9ubW91c2Vkb3duPSJyZXR1cm4gZmFsc2UiPjwlPWxhYmVsJT48L2xhYmVsPjwvbGk+PCV9JT48L3VsPicsZGVmYXVsdE9wdDp7cmVjb3JkU3RhY2s6W10saXRlbXM6W10sdmFsdWU6W10sY29tYm9ib3hOYW1lOiIiLHNlbGVjdGVkOiIiLGF1dG9SZWNvcmQ6dHJ1ZSxyZWNvcmRDb3VudDo1fSxpbml0OmZ1bmN0aW9uKG9wdGlvbnMpe3ZhciBtZT10aGlzOyQuZXh0ZW5kKG1lLl9vcHRpb25BZGFwdGF0aW9uKG9wdGlvbnMpLG1lLl9jcmVhdGVJdGVtTWFwcGluZyhvcHRpb25zLnJlY29yZFN0YWNrLG9wdGlvbnMuaXRlbXMpLHtpdGVtQ2xhc3NOYW1lOml0ZW1DbGFzc05hbWUsaWNvbkNsYXNzOklDT05fQ0xBU1MsbGFiZWxDbGFzc05hbWU6bGFiZWxDbGFzc05hbWV9KTt0aGlzLl90cmFuc1N0YWNrKG9wdGlvbnMpO21lLnJvb3QoJCgkLnBhcnNlVG1wbChtZS50cGwsb3B0aW9ucykpKTt0aGlzLmRhdGEoIm9wdGlvbnMiLG9wdGlvbnMpLmluaXRFdmVudCgpfSxpbml0RXZlbnQ6ZnVuY3Rpb24oKXt2YXIgbWU9dGhpczttZS5pbml0U2VsZWN0SXRlbSgpO3RoaXMuaW5pdEl0ZW1BY3RpdmUoKX0saW5pdFNlbGVjdEl0ZW06ZnVuY3Rpb24oKXt2YXIgbWU9dGhpcyxsYWJlbENsYXNzPSIuIitsYWJlbENsYXNzTmFtZTttZS5yb290KCkuZGVsZWdhdGUoIi4iK2l0ZW1DbGFzc05hbWUsImNsaWNrIixmdW5jdGlvbigpe3ZhciAkbGk9JCh0aGlzKSxpbmRleD0kbGkuYXR0cigiZGF0YS1pdGVtLWluZGV4Iik7bWUudHJpZ2dlcigiY29tYm9ib3hzZWxlY3QiLHtpbmRleDppbmRleCxsYWJlbDokbGkuZmluZChsYWJlbENsYXNzKS50ZXh0KCksdmFsdWU6bWUuZGF0YSgib3B0aW9ucyIpLnZhbHVlW2luZGV4XX0pLnNlbGVjdChpbmRleCk7bWUuaGlkZSgpO3JldHVybiBmYWxzZX0pfSxpbml0SXRlbUFjdGl2ZTpmdW5jdGlvbigpe3ZhciBmbj17bW91c2VlbnRlcjoiYWRkQ2xhc3MiLG1vdXNlbGVhdmU6InJlbW92ZUNsYXNzIn07aWYoJC5JRTYpe3RoaXMucm9vdCgpLmRlbGVnYXRlKCIuIitpdGVtQ2xhc3NOYW1lLCJtb3VzZWVudGVyIG1vdXNlbGVhdmUiLGZ1bmN0aW9uKGV2dCl7JCh0aGlzKVtmbltldnQudHlwZV1dKEhPVkVSX0NMQVNTKX0pLm9uZSgiYWZ0ZXJoaWRlIixmdW5jdGlvbigpe30pfX0sc2VsZWN0OmZ1bmN0aW9uKGluZGV4KXt2YXIgaXRlbUNvdW50PXRoaXMuZGF0YSgib3B0aW9ucyIpLml0ZW1Db3VudCxpdGVtcz10aGlzLmRhdGEoIm9wdGlvbnMiKS5hdXRvd2lkdGhpdGVtO2lmKGl0ZW1zJiYhaXRlbXMubGVuZ3RoKXtpdGVtcz10aGlzLmRhdGEoIm9wdGlvbnMiKS5pdGVtc31pZihpdGVtQ291bnQ9PTApe3JldHVybiBudWxsfWlmKGluZGV4PDApe2luZGV4PWl0ZW1Db3VudCtpbmRleCVpdGVtQ291bnR9ZWxzZXtpZihpbmRleD49aXRlbUNvdW50KXtpbmRleD1pdGVtQ291bnQtMX19dGhpcy50cmlnZ2VyKCJjaGFuZ2ViZWZvcmUiLGl0ZW1zW2luZGV4XSk7dGhpcy5fdXBkYXRlKGluZGV4KTt0aGlzLnRyaWdnZXIoImNoYW5nZWFmdGVyIixpdGVtc1tpbmRleF0pO3JldHVybiBudWxsfSxzZWxlY3RJdGVtQnlMYWJlbDpmdW5jdGlvbihsYWJlbCl7dmFyIGl0ZW1NYXBwaW5nPXRoaXMuZGF0YSgib3B0aW9ucyIpLml0ZW1NYXBwaW5nLG1lPXRoaXMsaW5kZXg9bnVsbDshJC5pc0FycmF5KGxhYmVsKSYmKGxhYmVsPVtsYWJlbF0pOyQuZWFjaChsYWJlbCxmdW5jdGlvbihpLGl0ZW0pe2luZGV4PWl0ZW1NYXBwaW5nW2l0ZW1dO2lmKGluZGV4IT09dW5kZWZpbmVkKXttZS5zZWxlY3QoaW5kZXgpO3JldHVybiBmYWxzZX19KX0sX3RyYW5zU3RhY2s6ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIHRlbXA9W10saXRlbUluZGV4PS0xLHNlbGVjdGVkPS0xOyQuZWFjaChvcHRpb25zLnJlY29yZFN0YWNrLGZ1bmN0aW9uKGluZGV4LGl0ZW0pe2l0ZW1JbmRleD1vcHRpb25zLml0ZW1NYXBwaW5nW2l0ZW1dO2lmKCQuaXNOdW1lcmljKGl0ZW1JbmRleCkpe3RlbXAucHVzaChpdGVtSW5kZXgpO2lmKGl0ZW09PW9wdGlvbnMuc2VsZWN0ZWQpe3NlbGVjdGVkPWl0ZW1JbmRleH19fSk7b3B0aW9ucy5yZWNvcmRTdGFjaz10ZW1wO29wdGlvbnMuc2VsZWN0ZWQ9c2VsZWN0ZWQ7dGVtcD1udWxsfSxfb3B0aW9uQWRhcHRhdGlvbjpmdW5jdGlvbihvcHRpb25zKXtpZighKCJpdGVtU3R5bGVzIiBpbiBvcHRpb25zKSl7b3B0aW9ucy5pdGVtU3R5bGVzPVtdO2Zvcih2YXIgaT0wLGxlbj1vcHRpb25zLml0ZW1zLmxlbmd0aDtpPGxlbjtpKyspe29wdGlvbnMuaXRlbVN0eWxlcy5wdXNoKCIiKX19b3B0aW9ucy5hdXRvd2lkdGhpdGVtPW9wdGlvbnMuYXV0b3dpZHRoaXRlbXx8b3B0aW9ucy5pdGVtcztvcHRpb25zLml0ZW1Db3VudD1vcHRpb25zLml0ZW1zLmxlbmd0aDtyZXR1cm4gb3B0aW9uc30sX2NyZWF0ZUl0ZW1NYXBwaW5nOmZ1bmN0aW9uKHN0YWNrSXRlbSxpdGVtcyl7dmFyIHRlbXA9e30scmVzdWx0PXtyZWNvcmRTdGFjazpbXSxtYXBwaW5nOnt9fTskLmVhY2goaXRlbXMsZnVuY3Rpb24oaW5kZXgsaXRlbSl7dGVtcFtpdGVtXT1pbmRleH0pO3Jlc3VsdC5pdGVtTWFwcGluZz10ZW1wOyQuZWFjaChzdGFja0l0ZW0sZnVuY3Rpb24oaW5kZXgsaXRlbSl7aWYodGVtcFtpdGVtXSE9PXVuZGVmaW5lZCl7cmVzdWx0LnJlY29yZFN0YWNrLnB1c2godGVtcFtpdGVtXSk7cmVzdWx0Lm1hcHBpbmdbaXRlbV09dGVtcFtpdGVtXX19KTtyZXR1cm4gcmVzdWx0fSxfdXBkYXRlOmZ1bmN0aW9uKGluZGV4KXt2YXIgb3B0aW9ucz10aGlzLmRhdGEoIm9wdGlvbnMiKSxuZXdTdGFjaz1bXSxuZXdDaGlsZHM9bnVsbDskLmVhY2gob3B0aW9ucy5yZWNvcmRTdGFjayxmdW5jdGlvbihpLGl0ZW0pe2lmKGl0ZW0hPWluZGV4KXtuZXdTdGFjay5wdXNoKGl0ZW0pfX0pO25ld1N0YWNrLnVuc2hpZnQoaW5kZXgpO2lmKG5ld1N0YWNrLmxlbmd0aD5vcHRpb25zLnJlY29yZENvdW50KXtuZXdTdGFjay5sZW5ndGg9b3B0aW9ucy5yZWNvcmRDb3VudH1vcHRpb25zLnJlY29yZFN0YWNrPW5ld1N0YWNrO29wdGlvbnMuc2VsZWN0ZWQ9aW5kZXg7bmV3Q2hpbGRzPSQoJC5wYXJzZVRtcGwodGhpcy50cGwsb3B0aW9ucykpO3RoaXMucm9vdCgpLmh0bWwobmV3Q2hpbGRzLmh0bWwoKSk7bmV3Q2hpbGRzPW51bGw7bmV3U3RhY2s9bnVsbH19fSkoKSwibWVudSIpfSkoKTsoZnVuY3Rpb24oKXt2YXIgd2lkZ2V0TmFtZT0iYnV0dG9uY29tYm9ib3giO1VNLnVpLmRlZmluZSh3aWRnZXROYW1lLChmdW5jdGlvbigpe3JldHVybntkZWZhdWx0T3B0OntsYWJlbDoiIix0aXRsZToiIn0saW5pdDpmdW5jdGlvbihvcHRpb25zKXt2YXIgbWU9dGhpczt2YXIgYnRuV2lkZ2V0PSQuZWR1aWJ1dHRvbih7Y2FyZXQ6dHJ1ZSxuYW1lOm9wdGlvbnMuY29tYm9ib3hOYW1lLHRpdGxlOm9wdGlvbnMudGl0bGUsdGV4dDpvcHRpb25zLmxhYmVsLGNsaWNrOmZ1bmN0aW9uKCl7bWUuc2hvdyh0aGlzLnJvb3QoKSl9fSk7bWUuc3VwcGVyLmluaXQuY2FsbChtZSxvcHRpb25zKTttZS5vbigiY2hhbmdlYmVmb3JlIixmdW5jdGlvbihlLGxhYmVsKXtidG5XaWRnZXQuZWR1aWJ1dHRvbigibGFiZWwiLGxhYmVsKX0pO21lLmRhdGEoImJ1dHRvbiIsYnRuV2lkZ2V0KTttZS5hdHRhY2hUbyhidG5XaWRnZXQpfSxidXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhKCJidXR0b24iKX19fSkoKSwiY29tYm9ib3giKX0pKCk7VU0udWkuZGVmaW5lKCJtb2RhbCIse3RwbDonPGRpdiBjbGFzcz0iZWR1aS1tb2RhbCIgdGFiaW5kZXg9Ii0xIiA+PGRpdiBjbGFzcz0iZWR1aS1tb2RhbC1oZWFkZXIiPjxkaXYgY2xhc3M9ImVkdWktY2xvc2UiIGRhdGEtaGlkZT0ibW9kYWwiPjwvZGl2PjxoMyBjbGFzcz0iZWR1aS10aXRsZSI+PCU9dGl0bGUlPjwvaDM+PC9kaXY+PGRpdiBjbGFzcz0iZWR1aS1tb2RhbC1ib2R5IiAgc3R5bGU9IjwlaWYod2lkdGgpeyU+d2lkdGg6PCU9d2lkdGglPnB4OzwlfSU+PCVpZihoZWlnaHQpeyU+aGVpZ2h0OjwlPWhlaWdodCU+cHg7PCV9JT4iPiA8L2Rpdj48JSBpZihjYW5jZWxsYWJlbCB8fCBva2xhYmVsKSB7JT48ZGl2IGNsYXNzPSJlZHVpLW1vZGFsLWZvb3RlciI+PGRpdiBjbGFzcz0iZWR1aS1tb2RhbC10aXAiPjwvZGl2PjwlaWYob2tsYWJlbCl7JT48ZGl2IGNsYXNzPSJlZHVpLWJ0biBlZHVpLWJ0bi1wcmltYXJ5IiBkYXRhLW9rPSJtb2RhbCI+PCU9b2tsYWJlbCU+PC9kaXY+PCV9JT48JWlmKGNhbmNlbGxhYmVsKXslPjxkaXYgY2xhc3M9ImVkdWktYnRuIiBkYXRhLWhpZGU9Im1vZGFsIj48JT1jYW5jZWxsYWJlbCU+PC9kaXY+PCV9JT48L2Rpdj48JX0lPjwvZGl2PicsZGVmYXVsdE9wdDp7dGl0bGU6IiIsY2FuY2VsbGFiZWw6IiIsb2tsYWJlbDoiIix3aWR0aDoiIixoZWlnaHQ6IiIsYmFja2Ryb3A6dHJ1ZSxrZXlib2FyZDp0cnVlfSxpbml0OmZ1bmN0aW9uKG9wdGlvbnMpe3ZhciBtZT10aGlzO21lLnJvb3QoJCgkLnBhcnNlVG1wbChtZS50cGwsb3B0aW9uc3x8e30pKSk7bWUuZGF0YSgib3B0aW9ucyIsb3B0aW9ucyk7aWYob3B0aW9ucy5va0ZuKXttZS5vbigib2siLCQucHJveHkob3B0aW9ucy5va0ZuLG1lKSl9aWYob3B0aW9ucy5jYW5jZWxGbil7bWUub24oImJlZm9yZWhpZGUiLCQucHJveHkob3B0aW9ucy5jYW5jZWxGbixtZSkpfW1lLnJvb3QoKS5kZWxlZ2F0ZSgnW2RhdGEtaGlkZT0ibW9kYWwiXScsImNsaWNrIiwkLnByb3h5KG1lLmhpZGUsbWUpKS5kZWxlZ2F0ZSgnW2RhdGEtb2s9Im1vZGFsIl0nLCJjbGljayIsJC5wcm94eShtZS5vayxtZSkpOyQoJ1tkYXRhLWhpZGU9Im1vZGFsIl0sW2RhdGEtb2s9Im1vZGFsIl0nLG1lLnJvb3QoKSkuaG92ZXIoZnVuY3Rpb24oKXskKHRoaXMpLnRvZ2dsZUNsYXNzKCJlZHVpLWhvdmVyIil9KX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7cmV0dXJuIG1lWyFtZS5kYXRhKCJpc1Nob3duIik/InNob3ciOiJoaWRlIl0oKX0sc2hvdzpmdW5jdGlvbigpe3ZhciBtZT10aGlzO21lLnRyaWdnZXIoImJlZm9yZXNob3ciKTtpZihtZS5kYXRhKCJpc1Nob3duIikpe3JldHVybn1tZS5kYXRhKCJpc1Nob3duIix0cnVlKTttZS5lc2NhcGUoKTttZS5iYWNrZHJvcChmdW5jdGlvbigpe21lLmF1dG9DZW50ZXIoKTttZS5yb290KCkuc2hvdygpLmZvY3VzKCkudHJpZ2dlcigiYWZ0ZXJzaG93Iil9KX0sc2hvd1RpcDpmdW5jdGlvbih0ZXh0KXskKCIuZWR1aS1tb2RhbC10aXAiLHRoaXMucm9vdCgpKS5odG1sKHRleHQpLmZhZGVJbigpfSxoaWRlVGlwOmZ1bmN0aW9uKHRleHQpeyQoIi5lZHVpLW1vZGFsLXRpcCIsdGhpcy5yb290KCkpLmZhZGVPdXQoZnVuY3Rpb24oKXskKHRoaXMpLmh0bWwoIiIpfSl9LGF1dG9DZW50ZXI6ZnVuY3Rpb24oKXshJC5JRTYmJnRoaXMucm9vdCgpLmNzcygibWFyZ2luLWxlZnQiLC0odGhpcy5yb290KCkud2lkdGgoKS8yKSl9LGhpZGU6ZnVuY3Rpb24oKXt2YXIgbWU9dGhpczttZS50cmlnZ2VyKCJiZWZvcmVoaWRlIik7aWYoIW1lLmRhdGEoImlzU2hvd24iKSl7cmV0dXJufW1lLmRhdGEoImlzU2hvd24iLGZhbHNlKTttZS5lc2NhcGUoKTttZS5oaWRlTW9kYWwoKX0sZXNjYXBlOmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7aWYobWUuZGF0YSgiaXNTaG93biIpJiZtZS5kYXRhKCJvcHRpb25zIikua2V5Ym9hcmQpe21lLnJvb3QoKS5vbigia2V5dXAiLGZ1bmN0aW9uKGUpe2Uud2hpY2g9PTI3JiZtZS5oaWRlKCl9KX1lbHNle2lmKCFtZS5kYXRhKCJpc1Nob3duIikpe21lLnJvb3QoKS5vZmYoImtleXVwIil9fX0saGlkZU1vZGFsOmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7bWUucm9vdCgpLmhpZGUoKTttZS5iYWNrZHJvcChmdW5jdGlvbigpe21lLnJlbW92ZUJhY2tkcm9wKCk7bWUudHJpZ2dlcigiYWZ0ZXJoaWRlIil9KX0scmVtb3ZlQmFja2Ryb3A6ZnVuY3Rpb24oKXt0aGlzLiRiYWNrZHJvcCYmdGhpcy4kYmFja2Ryb3AucmVtb3ZlKCk7dGhpcy4kYmFja2Ryb3A9bnVsbH0sYmFja2Ryb3A6ZnVuY3Rpb24oY2FsbGJhY2spe3ZhciBtZT10aGlzO2lmKG1lLmRhdGEoImlzU2hvd24iKSYmbWUuZGF0YSgib3B0aW9ucyIpLmJhY2tkcm9wKXttZS4kYmFja2Ryb3A9JCgnPGRpdiBjbGFzcz0iZWR1aS1tb2RhbC1iYWNrZHJvcCIgLz4nKS5jbGljayhtZS5kYXRhKCJvcHRpb25zIikuYmFja2Ryb3A9PSJzdGF0aWMiPyQucHJveHkobWUucm9vdCgpWzBdLmZvY3VzLG1lLnJvb3QoKVswXSk6JC5wcm94eShtZS5oaWRlLG1lKSl9bWUudHJpZ2dlcigiYWZ0ZXJiYWNrZHJvcCIpO2NhbGxiYWNrJiZjYWxsYmFjaygpfSxhdHRhY2hUbzpmdW5jdGlvbigkb2JqKXt2YXIgbWU9dGhpcztpZighJG9iai5kYXRhKCIkbWVyZ2VPYmoiKSl7JG9iai5kYXRhKCIkbWVyZ2VPYmoiLG1lLnJvb3QoKSk7JG9iai5vbigiY2xpY2siLGZ1bmN0aW9uKCl7bWUudG9nZ2xlKCRvYmopfSk7bWUuZGF0YSgiJG1lcmdlT2JqIiwkb2JqKX19LG9rOmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7bWUudHJpZ2dlcigiYmVmb3Jlb2siKTtpZihtZS50cmlnZ2VyKCJvayIsbWUpPT09ZmFsc2Upe3JldHVybn1tZS5oaWRlKCl9LGdldEJvZHlDb250YWluZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yb290KCkuZmluZCgiLmVkdWktbW9kYWwtYm9keSIpfX0pO1VNLnVpLmRlZmluZSgidG9vbHRpcCIse3RwbDonPGRpdiBjbGFzcz0iZWR1aS10b29sdGlwIiB1bnNlbGVjdGFibGU9Im9uIiBvbm1vdXNlZG93bj0icmV0dXJuIGZhbHNlIj48ZGl2IGNsYXNzPSJlZHVpLXRvb2x0aXAtYXJyb3ciIHVuc2VsZWN0YWJsZT0ib24iIG9ubW91c2Vkb3duPSJyZXR1cm4gZmFsc2UiPjwvZGl2PjxkaXYgY2xhc3M9ImVkdWktdG9vbHRpcC1pbm5lciIgdW5zZWxlY3RhYmxlPSJvbiIgb25tb3VzZWRvd249InJldHVybiBmYWxzZSI+PC9kaXY+PC9kaXY+Jyxpbml0OmZ1bmN0aW9uKG9wdGlvbnMpe3ZhciBtZT10aGlzO21lLnJvb3QoJCgkLnBhcnNlVG1wbChtZS50cGwsb3B0aW9uc3x8e30pKSl9LGNvbnRlbnQ6ZnVuY3Rpb24oZSl7dmFyIG1lPXRoaXMsdGl0bGU9JChlLmN1cnJlbnRUYXJnZXQpLmF0dHIoImRhdGEtb3JpZ2luYWwtdGl0bGUiKTttZS5yb290KCkuZmluZCgiLmVkdWktdG9vbHRpcC1pbm5lciIpWyJ0ZXh0Il0odGl0bGUpfSxwb3NpdGlvbjpmdW5jdGlvbihlKXt2YXIgbWU9dGhpcywkb2JqPSQoZS5jdXJyZW50VGFyZ2V0KTttZS5yb290KCkuY3NzKCQuZXh0ZW5kKHtkaXNwbGF5OiJibG9jayJ9LCRvYmo/e3RvcDokb2JqLm91dGVySGVpZ2h0KCksbGVmdDooKCRvYmoub3V0ZXJXaWR0aCgpLW1lLnJvb3QoKS5vdXRlcldpZHRoKCkpLzIpfTp7fSkpfSxzaG93OmZ1bmN0aW9uKGUpe2lmKCQoZS5jdXJyZW50VGFyZ2V0KS5oYXNDbGFzcygiZWR1aS1kaXNhYmxlZCIpKXtyZXR1cm59dmFyIG1lPXRoaXM7bWUuY29udGVudChlKTttZS5yb290KCkuYXBwZW5kVG8oJChlLmN1cnJlbnRUYXJnZXQpKTttZS5wb3NpdGlvbihlKTttZS5yb290KCkuY3NzKCJkaXNwbGF5IiwiYmxvY2siKX0saGlkZTpmdW5jdGlvbigpe3ZhciBtZT10aGlzO21lLnJvb3QoKS5jc3MoImRpc3BsYXkiLCJub25lIil9LGF0dGFjaFRvOmZ1bmN0aW9uKCRvYmope3ZhciBtZT10aGlzO2Z1bmN0aW9uIHRtcCgkb2JqKXt2YXIgbWU9dGhpcztpZighJC5jb250YWlucyhkb2N1bWVudC5ib2R5LG1lLnJvb3QoKVswXSkpe21lLnJvb3QoKS5hcHBlbmRUbygkb2JqKX1tZS5kYXRhKCJ0b29sdGlwIixtZS5yb290KCkpOyRvYmouZWFjaChmdW5jdGlvbigpe2lmKCQodGhpcykuYXR0cigiZGF0YS1vcmlnaW5hbC10aXRsZSIpKXskKHRoaXMpLm9uKCJtb3VzZWVudGVyIiwkLnByb3h5KG1lLnNob3csbWUpKS5vbigibW91c2VsZWF2ZSBjbGljayIsJC5wcm94eShtZS5oaWRlLG1lKSl9fSl9aWYoJC50eXBlKCRvYmopPT09InVuZGVmaW5lZCIpeyQoIltkYXRhLW9yaWdpbmFsLXRpdGxlXSIpLmVhY2goZnVuY3Rpb24oaSxlbCl7dG1wLmNhbGwobWUsJChlbCkpfSl9ZWxzZXtpZighJG9iai5kYXRhKCJ0b29sdGlwIikpe3RtcC5jYWxsKG1lLCRvYmopfX19fSk7VU0udWkuZGVmaW5lKCJ0YWIiLHtpbml0OmZ1bmN0aW9uKG9wdGlvbnMpe3ZhciBtZT10aGlzLHNscj1vcHRpb25zLnNlbGVjdG9yO2lmKCQudHlwZShzbHIpKXttZS5yb290KCQoc2xyLG9wdGlvbnMuY29udGV4dCkpO21lLmRhdGEoImNvbnRleHQiLG9wdGlvbnMuY29udGV4dCk7JChzbHIsbWUuZGF0YSgiY29udGV4dCIpKS5vbigiY2xpY2siLGZ1bmN0aW9uKGUpe21lLnNob3coZSl9KX19LHNob3c6ZnVuY3Rpb24oZSl7dmFyIG1lPXRoaXMsJGN1cj0kKGUudGFyZ2V0KSwkdWw9JGN1ci5jbG9zZXN0KCJ1bCIpLHNlbGVjdG9yLHByZXZpb3VzLCR0YXJnZXQsZTtzZWxlY3Rvcj0kY3VyLmF0dHIoImRhdGEtY29udGV4dCIpO3NlbGVjdG9yPXNlbGVjdG9yJiZzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxzXSokKS8sIiIpO3ZhciAkdG1wPSRjdXIucGFyZW50KCJsaSIpO2lmKCEkdG1wLmxlbmd0aHx8JHRtcC5oYXNDbGFzcygiZWR1aS1hY3RpdmUiKSl7cmV0dXJufXByZXZpb3VzPSR1bC5maW5kKCIuZWR1aS1hY3RpdmU6bGFzdCBhIilbMF07ZT0kLkV2ZW50KCJiZWZvcmVzaG93Iix7dGFyZ2V0OiRjdXJbMF0scmVsYXRlZFRhcmdldDpwcmV2aW91c30pO21lLnRyaWdnZXIoZSk7aWYoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7cmV0dXJufSR0YXJnZXQ9JChzZWxlY3RvcixtZS5kYXRhKCJjb250ZXh0IikpO21lLmFjdGl2YXRlKCRjdXIucGFyZW50KCJsaSIpLCR1bCk7bWUuYWN0aXZhdGUoJHRhcmdldCwkdGFyZ2V0LnBhcmVudCgpLGZ1bmN0aW9uKCl7bWUudHJpZ2dlcih7dHlwZToiYWZ0ZXJzaG93IixyZWxhdGVkVGFyZ2V0OnByZXZpb3VzfSl9KX0sYWN0aXZhdGU6ZnVuY3Rpb24oZWxlbWVudCxjb250YWluZXIsY2FsbGJhY2spe2lmKGVsZW1lbnQ9PT11bmRlZmluZWQpe3JldHVybiAkKCIuZWR1aS10YWItaXRlbS5lZHVpLWFjdGl2ZSIsdGhpcy5yb290KCkpLmluZGV4KCl9dmFyICRhY3RpdmU9Y29udGFpbmVyLmZpbmQoIj4gLmVkdWktYWN0aXZlIik7JGFjdGl2ZS5yZW1vdmVDbGFzcygiZWR1aS1hY3RpdmUiKTtlbGVtZW50LmFkZENsYXNzKCJlZHVpLWFjdGl2ZSIpO2NhbGxiYWNrJiZjYWxsYmFjaygpfX0pO1VNLnVpLmRlZmluZSgic2VwYXJhdG9yIix7dHBsOic8ZGl2IGNsYXNzPSJlZHVpLXNlcGFyYXRvciIgdW5zZWxlY3RhYmxlPSJvbiIgb25tb3VzZWRvd249InJldHVybiBmYWxzZSIgPjwvZGl2PicsaW5pdDpmdW5jdGlvbihvcHRpb25zKXt2YXIgbWU9dGhpczttZS5yb290KCQoJC5wYXJzZVRtcGwobWUudHBsLG9wdGlvbnMpKSk7cmV0dXJuIG1lfX0pOyhmdW5jdGlvbigpe3ZhciBfZWRpdG9yVUk9e30sX2VkaXRvcnM9e30sX3JlYWR5Rm49W10sX2FjdGl2ZVdpZGdldD1udWxsLF93aWRnZXREYXRhPXt9LF93aWRnZXRDYWxsQmFjaz17fSxfY2FjaGVVST17fSxfbWF4WkluZGV4PW51bGw7dXRpbHMuZXh0ZW5kKFVNLHtkZWZhdWx0V2lkdGg6NTAwLGRlZmF1bHRIZWlnaHQ6NTAwLHJlZ2lzdGVyVUk6ZnVuY3Rpb24obmFtZSxmbil7dXRpbHMuZWFjaChuYW1lLnNwbGl0KC9ccysvKSxmdW5jdGlvbih1aW5hbWUpe19lZGl0b3JVSVt1aW5hbWVdPWZufSl9LHNldEVkaXRvcjpmdW5jdGlvbihlZGl0b3IpeyFfZWRpdG9yc1tlZGl0b3IuaWRdJiYoX2VkaXRvcnNbZWRpdG9yLmlkXT1lZGl0b3IpfSxyZWdpc3RlcldpZGdldDpmdW5jdGlvbihuYW1lLHBybyxjYil7X3dpZGdldERhdGFbbmFtZV09JC5leHRlbmQyKHBybyx7JHJvb3Q6IiIsX3ByZXZlbnREZWZhdWx0OmZhbHNlLHJvb3Q6ZnVuY3Rpb24oJGVsKXtyZXR1cm4gdGhpcy4kcm9vdHx8KHRoaXMuJHJvb3Q9JGVsKX0scHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt0aGlzLl9wcmV2ZW50RGVmYXVsdD10cnVlfSxjbGVhcjpmYWxzZX0pO2lmKGNiKXtfd2lkZ2V0Q2FsbEJhY2tbbmFtZV09Y2J9fSxnZXRXaWRnZXREYXRhOmZ1bmN0aW9uKG5hbWUpe3JldHVybiBfd2lkZ2V0RGF0YVtuYW1lXX0sc2V0V2lkZ2V0Qm9keTpmdW5jdGlvbihuYW1lLCR3aWRnZXQsZWRpdG9yKXtpZighZWRpdG9yLl93aWRnZXREYXRhKXt1dGlscy5leHRlbmQoZWRpdG9yLHtfd2lkZ2V0RGF0YTp7fSxnZXRXaWRnZXREYXRhOmZ1bmN0aW9uKG5hbWUpe3JldHVybiB0aGlzLl93aWRnZXREYXRhW25hbWVdfSxnZXRXaWRnZXRDYWxsYmFjazpmdW5jdGlvbih3aWRnZXROYW1lKXt2YXIgbWU9dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gX3dpZGdldENhbGxCYWNrW3dpZGdldE5hbWVdLmFwcGx5KG1lLFttZSwkd2lkZ2V0XS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApKSl9fX0pfXZhciBwcm89X3dpZGdldERhdGFbbmFtZV07aWYoIXBybyl7cmV0dXJuIG51bGx9cHJvPWVkaXRvci5fd2lkZ2V0RGF0YVtuYW1lXTtpZighcHJvKXtwcm89X3dpZGdldERhdGFbbmFtZV07cHJvPWVkaXRvci5fd2lkZ2V0RGF0YVtuYW1lXT0kLnR5cGUocHJvKT09ImZ1bmN0aW9uIj9wcm86dXRpbHMuY2xvbmUocHJvKX1wcm8ucm9vdCgkd2lkZ2V0LmVkdWkoKS5nZXRCb2R5Q29udGFpbmVyKCkpO3Byby5pbml0Q29udGVudChlZGl0b3IsJHdpZGdldCk7aWYoIXByby5fcHJldmVudERlZmF1bHQpe3Byby5pbml0RXZlbnQoZWRpdG9yLCR3aWRnZXQpfXByby53aWR0aCYmJHdpZGdldC53aWR0aChwcm8ud2lkdGgpfSxzZXRBY3RpdmVXaWRnZXQ6ZnVuY3Rpb24oJHdpZGdldCl7X2FjdGl2ZVdpZGdldD0kd2lkZ2V0fSxnZXRFZGl0b3I6ZnVuY3Rpb24oaWQsb3B0aW9ucyl7dmFyIGVkaXRvcj1fZWRpdG9yc1tpZF18fChfZWRpdG9yc1tpZF09dGhpcy5jcmVhdGVFZGl0b3IoaWQsb3B0aW9ucykpO19tYXhaSW5kZXg9X21heFpJbmRleD9NYXRoLm1heChlZGl0b3IuZ2V0T3B0KCJ6SW5kZXgiKSxfbWF4WkluZGV4KTplZGl0b3IuZ2V0T3B0KCJ6SW5kZXgiKTtyZXR1cm4gZWRpdG9yfSxzZXRUb3BFZGl0b3I6ZnVuY3Rpb24oZWRpdG9yKXskLmVhY2goX2VkaXRvcnMsZnVuY3Rpb24oaSxvKXtpZihlZGl0b3I9PW8pe2VkaXRvci4kY29udGFpbmVyJiZlZGl0b3IuJGNvbnRhaW5lci5jc3MoInpJbmRleCIsX21heFpJbmRleCsxKX1lbHNle28uJGNvbnRhaW5lciYmby4kY29udGFpbmVyLmNzcygiekluZGV4IixvLmdldE9wdCgiekluZGV4IikpfX0pfSxjbGVhckNhY2hlOmZ1bmN0aW9uKGlkKXtpZihfZWRpdG9yc1tpZF0pe2RlbGV0ZSBfZWRpdG9yc1tpZF19fSxkZWxFZGl0b3I6ZnVuY3Rpb24oaWQpe3ZhciBlZGl0b3I7aWYoZWRpdG9yPV9lZGl0b3JzW2lkXSl7ZWRpdG9yLmRlc3Ryb3koKX19LHJlYWR5OmZ1bmN0aW9uKGZuKXtfcmVhZHlGbi5wdXNoKGZuKX0sY3JlYXRlRWRpdG9yOmZ1bmN0aW9uKGlkLG9wdCl7dmFyIGVkaXRvcj1uZXcgVU0uRWRpdG9yKG9wdCk7dmFyIFQ9dGhpcztlZGl0b3IubGFuZ0lzUmVhZHk/JC5wcm94eShyZW5kZXJVSSxUKSgpOmVkaXRvci5hZGRMaXN0ZW5lcigibGFuZ1JlYWR5IiwkLnByb3h5KHJlbmRlclVJLFQpKTtmdW5jdGlvbiByZW5kZXJVSSgpe3ZhciAkY29udGFpbmVyPXRoaXMuY3JlYXRlVUkoIiMiK2lkLGVkaXRvcik7ZWRpdG9yLmtleT1pZDtlZGl0b3IucmVhZHkoZnVuY3Rpb24oKXskLmVhY2goX3JlYWR5Rm4sZnVuY3Rpb24oaW5kZXgsZm4peyQucHJveHkoZm4sZWRpdG9yKSgpfSl9KTt2YXIgb3B0aW9ucz1lZGl0b3Iub3B0aW9ucztpZihvcHRpb25zLmluaXRpYWxGcmFtZVdpZHRoKXtvcHRpb25zLm1pbkZyYW1lV2lkdGg9b3B0aW9ucy5pbml0aWFsRnJhbWVXaWR0aH1lbHNle29wdGlvbnMubWluRnJhbWVXaWR0aD1vcHRpb25zLmluaXRpYWxGcmFtZVdpZHRoPWVkaXRvci4kYm9keS53aWR0aCgpfHxVTS5kZWZhdWx0V2lkdGh9JGNvbnRhaW5lci5jc3Moe3dpZHRoOm9wdGlvbnMuaW5pdGlhbEZyYW1lV2lkdGgsekluZGV4OmVkaXRvci5nZXRPcHQoInpJbmRleCIpfSk7VU0uYnJvd3Nlci5pZSYmVU0uYnJvd3Nlci52ZXJzaW9uPT09NiYmZG9jdW1lbnQuZXhlY0NvbW1hbmQoIkJhY2tncm91bmRJbWFnZUNhY2hlIixmYWxzZSx0cnVlKTtlZGl0b3IucmVuZGVyKGlkKTskLmVkdWl0b29sdGlwJiYkLmVkdWl0b29sdGlwKCJhdHRhY2hUbyIsJCgiW2RhdGEtb3JpZ2luYWwtdGl0bGVdIiwkY29udGFpbmVyKSkuY3NzKCJ6LWluZGV4IixlZGl0b3IuZ2V0T3B0KCJ6SW5kZXgiKSsxKTskY29udGFpbmVyLmZpbmQoImEiKS5jbGljayhmdW5jdGlvbihldnQpe2V2dC5wcmV2ZW50RGVmYXVsdCgpfSk7ZWRpdG9yLmZpcmVFdmVudCgiYWZ0ZXJ1aXJlYWR5Iil9cmV0dXJuIGVkaXRvcn0sY3JlYXRlVUk6ZnVuY3Rpb24oaWQsZWRpdG9yKXt2YXIgJGVkaXRvckNvbnQ9JChpZCksJGNvbnRhaW5lcj0kKCc8ZGl2IGNsYXNzPSJlZHVpLWNvbnRhaW5lciI+PGRpdiBjbGFzcz0iZWR1aS1lZGl0b3ItYm9keSI+PC9kaXY+PC9kaXY+JykuaW5zZXJ0QmVmb3JlKCRlZGl0b3JDb250KTtlZGl0b3IuJGNvbnRhaW5lcj0kY29udGFpbmVyO2VkaXRvci5jb250YWluZXI9JGNvbnRhaW5lclswXTtlZGl0b3IuJGJvZHk9JGVkaXRvckNvbnQ7aWYoYnJvd3Nlci5pZSYmYnJvd3Nlci5pZTlhYm92ZSl7dmFyICRzcGFuPSQoJzxzcGFuIHN0eWxlPSJwYWRkaW5nOjA7bWFyZ2luOjA7aGVpZ2h0OjA7d2lkdGg6MCI+PC9zcGFuPicpOyRzcGFuLmluc2VydEFmdGVyKCRjb250YWluZXIpfSQuZWFjaChfZWRpdG9yVUksZnVuY3Rpb24obix2KXt2YXIgd2lkZ2V0PXYuY2FsbChlZGl0b3Isbik7aWYod2lkZ2V0KXtfY2FjaGVVSVtuXT13aWRnZXR9fSk7JGNvbnRhaW5lci5maW5kKCIuZWR1aS1lZGl0b3ItYm9keSIpLmFwcGVuZCgkZWRpdG9yQ29udCkuYmVmb3JlKHRoaXMuY3JlYXRlVG9vbGJhcihlZGl0b3Iub3B0aW9ucyxlZGl0b3IpKTskY29udGFpbmVyLmZpbmQoIi5lZHVpLXRvb2xiYXIiKS5hcHBlbmQoJCgnPGRpdiBjbGFzcz0iZWR1aS1kaWFsb2ctY29udGFpbmVyIj48L2Rpdj4nKSk7cmV0dXJuICRjb250YWluZXJ9LGNyZWF0ZVRvb2xiYXI6ZnVuY3Rpb24ob3B0aW9ucyxlZGl0b3Ipe3ZhciAkdG9vbGJhcj0kLmVkdWl0b29sYmFyKCksdG9vbGJhcj0kdG9vbGJhci5lZHVpKCk7aWYob3B0aW9ucy50b29sYmFyJiZvcHRpb25zLnRvb2xiYXIubGVuZ3RoKXt2YXIgYnRucz1bXTskLmVhY2gob3B0aW9ucy50b29sYmFyLGZ1bmN0aW9uKGksdWlOYW1lcyl7JC5lYWNoKHVpTmFtZXMuc3BsaXQoL1xzKy8pLGZ1bmN0aW9uKGluZGV4LG5hbWUpe2lmKG5hbWU9PSJ8Iil7JC5lZHVpc2VwYXJhdG9yJiZidG5zLnB1c2goJC5lZHVpc2VwYXJhdG9yKCkpfWVsc2V7dmFyIHVpPV9jYWNoZVVJW25hbWVdO2lmKG5hbWU9PSJmdWxsc2NyZWVuIil7dWkmJmJ0bnMudW5zaGlmdCh1aSl9ZWxzZXt1aSYmYnRucy5wdXNoKHVpKX19fSk7YnRucy5sZW5ndGgmJnRvb2xiYXIuYXBwZW5kVG9CdG5tZW51KGJ0bnMpfSl9ZWxzZXskdG9vbGJhci5maW5kKCIuZWR1aS1idG4tdG9vbGJhciIpLnJlbW92ZSgpfXJldHVybiAkdG9vbGJhcn19KX0pKCk7VU0ucmVnaXN0ZXJVSSgiYm9sZCBpdGFsaWMgcmVkbyB1bmRvIHVuZGVybGluZSBzdHJpa2V0aHJvdWdoIHN1cGVyc2NyaXB0IHN1YnNjcmlwdCBpbnNlcnRvcmRlcmVkbGlzdCBpbnNlcnR1bm9yZGVyZWRsaXN0IGNsZWFyZG9jIHNlbGVjdGFsbCBsaW5rIHVubGluayBwcmludCBwcmV2aWV3IGp1c3RpZnlsZWZ0IGp1c3RpZnljZW50ZXIganVzdGlmeXJpZ2h0IGp1c3RpZnlmdWxsIHJlbW92ZWZvcm1hdCBob3Jpem9udGFsIGRyYWZ0cyIsZnVuY3Rpb24obmFtZSl7dmFyIG1lPXRoaXM7dmFyICRidG49JC5lZHVpYnV0dG9uKHtpY29uOm5hbWUsY2xpY2s6ZnVuY3Rpb24oKXttZS5leGVjQ29tbWFuZChuYW1lKX0sdGl0bGU6dGhpcy5nZXRMYW5nKCJsYWJlbE1hcCIpW25hbWVdfHwiIn0pO3RoaXMuYWRkTGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgc3RhdGU9dGhpcy5xdWVyeUNvbW1hbmRTdGF0ZShuYW1lKTskYnRuLmVkdWkoKS5kaXNhYmxlZChzdGF0ZT09LTEpLmFjdGl2ZShzdGF0ZT09MSl9KTtyZXR1cm4gJGJ0bn0pOyhmdW5jdGlvbigpe3ZhciBTVEFUVVNfQ0FDSEU9e30sU1RBVFVTX0xJU1Q9WyJ3aWR0aCIsImhlaWdodCIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsIm1hcmdpbiIsInBhZGRpbmciLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiXSxDT05URU5UX0FSRUFfU1RBVFVTPXt9LERPQ1VNRU5UX1NUQVRVUz17fSxET0NVTUVOVF9FTEVNRU5UX1NUQVRVUz17fSxGVUxMU0NSRUVOUz17fTtVTS5yZWdpc3RlclVJKCJmdWxsc2NyZWVuIixmdW5jdGlvbihuYW1lKXt2YXIgbWU9dGhpcywkYnV0dG9uPSQuZWR1aWJ1dHRvbih7aWNvbjoiZnVsbHNjcmVlbiIsdGl0bGU6KG1lLm9wdGlvbnMubGFiZWxNYXAmJm1lLm9wdGlvbnMubGFiZWxNYXBbbmFtZV0pfHxtZS5nZXRMYW5nKCJsYWJlbE1hcC4iK25hbWUpLGNsaWNrOmZ1bmN0aW9uKCl7bWUuZXhlY0NvbW1hbmQobmFtZSk7VU0uc2V0VG9wRWRpdG9yKG1lKX19KTttZS5hZGRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIixmdW5jdGlvbigpe3ZhciBzdGF0ZT10aGlzLnF1ZXJ5Q29tbWFuZFN0YXRlKG5hbWUpOyRidXR0b24uZWR1aSgpLmRpc2FibGVkKHN0YXRlPT0tMSkuYWN0aXZlKHN0YXRlPT0xKX0pO21lLmFkZExpc3RlbmVyKCJyZWFkeSIsZnVuY3Rpb24oKXttZS5vcHRpb25zLmZ1bGxzY3JlZW4mJkZ1bGxzY3JlZW4uZ2V0SW5zdGFuY2UobWUpLnRvZ2dsZSgpfSk7cmV0dXJuICRidXR0b259KTtVTS5jb21tYW5kcy5mdWxsc2NyZWVuPXtleGVjQ29tbWFuZDpmdW5jdGlvbihjbWROYW1lKXtGdWxsc2NyZWVuLmdldEluc3RhbmNlKHRoaXMpLnRvZ2dsZSgpfSxxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbihjbWROYW1lKXtyZXR1cm4gdGhpcy5fZWR1aV9mdWxsc2NyZWVuX3N0YXR1c30sbm90TmVlZFVuZG86MX07ZnVuY3Rpb24gRnVsbHNjcmVlbihlZGl0b3Ipe3ZhciBtZT10aGlzO2lmKCFlZGl0b3Ipe3Rocm93IG5ldyBFcnJvcigiaW52YWxpZCBwYXJhbXMsIG5vdGZvdW5kIGVkaXRvciIpfW1lLmVkaXRvcj1lZGl0b3I7RlVMTFNDUkVFTlNbZWRpdG9yLnVpZF09dGhpcztlZGl0b3IuYWRkTGlzdGVuZXIoImRlc3Ryb3kiLGZ1bmN0aW9uKCl7ZGVsZXRlIEZVTExTQ1JFRU5TW2VkaXRvci51aWRdO21lLmVkaXRvcj1udWxsfSl9RnVsbHNjcmVlbi5wcm90b3R5cGU9e3RvZ2dsZTpmdW5jdGlvbigpe3ZhciBlZGl0b3I9dGhpcy5lZGl0b3IsX2VkdWlfZnVsbHNjcmVlbl9zdGF0dXM9dGhpcy5pc0Z1bGxTdGF0ZSgpO2VkaXRvci5maXJlRXZlbnQoImJlZm9yZWZ1bGxzY3JlZW5jaGFuZ2UiLCFfZWR1aV9mdWxsc2NyZWVuX3N0YXR1cyk7dGhpcy51cGRhdGUoIV9lZHVpX2Z1bGxzY3JlZW5fc3RhdHVzKTshX2VkdWlfZnVsbHNjcmVlbl9zdGF0dXM/dGhpcy5lbmxhcmdlKCk6dGhpcy5yZXZlcnQoKTtlZGl0b3IuZmlyZUV2ZW50KCJhZnRlcmZ1bGxzY3JlZW5jaGFuZ2UiLCFfZWR1aV9mdWxsc2NyZWVuX3N0YXR1cyk7aWYoZWRpdG9yLmJvZHkuY29udGVudEVkaXRhYmxlPT09InRydWUiKXtlZGl0b3IuZmlyZUV2ZW50KCJmdWxsc2NyZWVuY2hhbmdlZCIsIV9lZHVpX2Z1bGxzY3JlZW5fc3RhdHVzKX1lZGl0b3IuZmlyZUV2ZW50KCJzZWxlY3Rpb25jaGFuZ2UiKX0sZW5sYXJnZTpmdW5jdGlvbigpe3RoaXMuc2F2ZVNhdGF1cygpO3RoaXMuc2V0RG9jdW1lbnRTdGF0dXMoKTt0aGlzLnJlc2l6ZSgpfSxyZXZlcnQ6ZnVuY3Rpb24oKXt2YXIgb3B0aW9ucz10aGlzLmVkaXRvci5vcHRpb25zLGhlaWdodD0vJSQvLnRlc3Qob3B0aW9ucy5pbml0aWFsRnJhbWVIZWlnaHQpPyIxMDAlIjoob3B0aW9ucy5pbml0aWFsRnJhbWVIZWlnaHQtdGhpcy5nZXRTdHlsZVZhbHVlKCJwYWRkaW5nLXRvcCIpLXRoaXMuZ2V0U3R5bGVWYWx1ZSgicGFkZGluZy1ib3R0b20iKS10aGlzLmdldFN0eWxlVmFsdWUoImJvcmRlci13aWR0aCIpKTskLklFNiYmdGhpcy5nZXRFZGl0b3JIb2xkZXIoKS5zdHlsZS5zZXRFeHByZXNzaW9uKCJoZWlnaHQiLCJ0aGlzLnNjcm9sbEhlaWdodCA8PSAiK2hlaWdodCsnID8gIicraGVpZ2h0KydweCIgOiAiYXV0byInKTt0aGlzLnJldmVydENvbnRhaW5lclN0YXR1cygpO3RoaXMucmV2ZXJ0Q29udGVudEFyZWFTdGF0dXMoKTt0aGlzLnJldmVydERvY3VtZW50U3RhdHVzKCl9LHVwZGF0ZTpmdW5jdGlvbihpc0Z1bGwpe3RoaXMuZWRpdG9yLl9lZHVpX2Z1bGxzY3JlZW5fc3RhdHVzPWlzRnVsbH0scmVzaXplOmZ1bmN0aW9uKCl7dmFyICR3aW49bnVsbCxoZWlnaHQ9MCx3aWR0aD0wLGJvcmRlcldpZHRoPTAscGFkZGluZ1dpZHRoPTAsZWRpdG9yPXRoaXMuZWRpdG9yLG1lPXRoaXMsYm91bmQ9bnVsbCxlZGl0b3JCb2R5PW51bGw7aWYoIXRoaXMuaXNGdWxsU3RhdGUoKSl7cmV0dXJufSR3aW49JCh3aW5kb3cpO3dpZHRoPSR3aW4ud2lkdGgoKTtoZWlnaHQ9JHdpbi5oZWlnaHQoKTtlZGl0b3JCb2R5PXRoaXMuZ2V0RWRpdG9ySG9sZGVyKCk7Ym9yZGVyV2lkdGg9cGFyc2VJbnQoZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShlZGl0b3JCb2R5LCJib3JkZXItd2lkdGgiKSwxMCl8fDA7Ym9yZGVyV2lkdGgrPXBhcnNlSW50KGRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUoZWRpdG9yLmNvbnRhaW5lciwiYm9yZGVyLXdpZHRoIiksMTApfHwwO3BhZGRpbmdXaWR0aCs9cGFyc2VJbnQoZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShlZGl0b3JCb2R5LCJwYWRkaW5nLWxlZnQiKSwxMCkrcGFyc2VJbnQoZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShlZGl0b3JCb2R5LCJwYWRkaW5nLXJpZ2h0IiksMTApfHwwOyQuSUU2JiZlZGl0b3JCb2R5LnN0eWxlLnNldEV4cHJlc3Npb24oImhlaWdodCIsbnVsbCk7Ym91bmQ9dGhpcy5nZXRCb3VuZCgpOyQoZWRpdG9yLmNvbnRhaW5lcikuY3NzKHt3aWR0aDp3aWR0aCsicHgiLGhlaWdodDpoZWlnaHQrInB4Iixwb3NpdGlvbjohJC5JRTY/ImZpeGVkIjoiYWJzb2x1dGUiLHRvcDpib3VuZC50b3AsbGVmdDpib3VuZC5sZWZ0LG1hcmdpbjowLHBhZGRpbmc6MCxvdmVyZmxvd1g6ImhpZGRlbiIsb3ZlcmZsb3dZOiJoaWRkZW4ifSk7JChlZGl0b3JCb2R5KS5jc3Moe3dpZHRoOndpZHRoLTIqYm9yZGVyV2lkdGgtcGFkZGluZ1dpZHRoKyJweCIsaGVpZ2h0OmhlaWdodC0yKmJvcmRlcldpZHRoLShlZGl0b3Iub3B0aW9ucy53aXRob3V0VG9vbGJhcj8wOiQoIi5lZHVpLXRvb2xiYXIiLGVkaXRvci5jb250YWluZXIpLm91dGVySGVpZ2h0KCkpLSQoIi5lZHVpLWJvdHRvbWJhciIsZWRpdG9yLmNvbnRhaW5lcikub3V0ZXJIZWlnaHQoKSsicHgiLG92ZXJmbG93WDoiaGlkZGVuIixvdmVyZmxvd1k6ImF1dG8ifSl9LHNhdmVTYXRhdXM6ZnVuY3Rpb24oKXt2YXIgc3R5bGVzPXRoaXMuZWRpdG9yLmNvbnRhaW5lci5zdHlsZSx0bXA9bnVsbCxjYWNoZT17fTtmb3IodmFyIGk9MCxsZW49U1RBVFVTX0xJU1QubGVuZ3RoO2k8bGVuO2krKyl7dG1wPVNUQVRVU19MSVNUW2ldO2NhY2hlW3RtcF09c3R5bGVzW3RtcF19U1RBVFVTX0NBQ0hFW3RoaXMuZWRpdG9yLnVpZF09Y2FjaGU7dGhpcy5zYXZlQ29udGVudEFyZWFTdGF0dXMoKTt0aGlzLnNhdmVEb2N1bWVudFN0YXR1cygpfSxzYXZlQ29udGVudEFyZWFTdGF0dXM6ZnVuY3Rpb24oKXt2YXIgJGhvbGRlcj0kKHRoaXMuZ2V0RWRpdG9ySG9sZGVyKCkpO0NPTlRFTlRfQVJFQV9TVEFUVVNbdGhpcy5lZGl0b3IudWlkXT17d2lkdGg6JGhvbGRlci5jc3MoIndpZHRoIiksb3ZlcmZsb3dYOiRob2xkZXIuY3NzKCJvdmVyZmxvd1giKSxvdmVyZmxvd1k6JGhvbGRlci5jc3MoIm92ZXJmbG93WSIpLGhlaWdodDokaG9sZGVyLmNzcygiaGVpZ2h0Iil9fSxzYXZlRG9jdW1lbnRTdGF0dXM6ZnVuY3Rpb24oKXt2YXIgJGRvYz0kKHRoaXMuZ2V0RWRpdG9yRG9jdW1lbnRCb2R5KCkpO0RPQ1VNRU5UX1NUQVRVU1t0aGlzLmVkaXRvci51aWRdPXtvdmVyZmxvd1g6JGRvYy5jc3MoIm92ZXJmbG93WCIpLG92ZXJmbG93WTokZG9jLmNzcygib3ZlcmZsb3dZIil9O0RPQ1VNRU5UX0VMRU1FTlRfU1RBVFVTW3RoaXMuZWRpdG9yLnVpZF09e292ZXJmbG93WDokKHRoaXMuZ2V0RWRpdG9yRG9jdW1lbnRFbGVtZW50KCkpLmNzcygib3ZlcmZsb3dYIiksb3ZlcmZsb3dZOiQodGhpcy5nZXRFZGl0b3JEb2N1bWVudEVsZW1lbnQoKSkuY3NzKCJvdmVyZmxvd1kiKX19LHJldmVydENvbnRhaW5lclN0YXR1czpmdW5jdGlvbigpeyQodGhpcy5lZGl0b3IuY29udGFpbmVyKS5jc3ModGhpcy5nZXRFZGl0b3JTdGF0dXMoKSl9LHJldmVydENvbnRlbnRBcmVhU3RhdHVzOmZ1bmN0aW9uKCl7dmFyIGhvbGRlcj10aGlzLmdldEVkaXRvckhvbGRlcigpLHN0YXRlPXRoaXMuZ2V0Q29udGVudEFyZWFTdGF0dXMoKTtpZih0aGlzLnN1cHBvcnRNaW4oKSl7ZGVsZXRlIHN0YXRlLmhlaWdodDtob2xkZXIuc3R5bGUuaGVpZ2h0PW51bGx9JChob2xkZXIpLmNzcyhzdGF0ZSl9LHJldmVydERvY3VtZW50U3RhdHVzOmZ1bmN0aW9uKCl7dmFyIHN0YXR1cz10aGlzLmdldERvY3VtZW50U3RhdHVzKCk7JCh0aGlzLmdldEVkaXRvckRvY3VtZW50Qm9keSgpKS5jc3MoIm92ZXJmbG93WCIsc3RhdHVzLmJvZHkub3ZlcmZsb3dYKTskKHRoaXMuZ2V0RWRpdG9yRG9jdW1lbnRFbGVtZW50KCkpLmNzcygib3ZlcmZsb3dZIixzdGF0dXMuaHRtbC5vdmVyZmxvd1kpfSxzZXREb2N1bWVudFN0YXR1czpmdW5jdGlvbigpeyQodGhpcy5nZXRFZGl0b3JEb2N1bWVudEJvZHkoKSkuY3NzKHtvdmVyZmxvd1g6ImhpZGRlbiIsb3ZlcmZsb3dZOiJoaWRkZW4ifSk7JCh0aGlzLmdldEVkaXRvckRvY3VtZW50RWxlbWVudCgpKS5jc3Moe292ZXJmbG93WDoiaGlkZGVuIixvdmVyZmxvd1k6ImhpZGRlbiJ9KX0saXNGdWxsU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLmVkaXRvci5fZWR1aV9mdWxsc2NyZWVuX3N0YXR1c30sZ2V0RWRpdG9yU3RhdHVzOmZ1bmN0aW9uKCl7cmV0dXJuIFNUQVRVU19DQUNIRVt0aGlzLmVkaXRvci51aWRdfSxnZXRDb250ZW50QXJlYVN0YXR1czpmdW5jdGlvbigpe3JldHVybiBDT05URU5UX0FSRUFfU1RBVFVTW3RoaXMuZWRpdG9yLnVpZF19LGdldEVkaXRvckRvY3VtZW50RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci5jb250YWluZXIub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LGdldEVkaXRvckRvY3VtZW50Qm9keTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci5jb250YWluZXIub3duZXJEb2N1bWVudC5ib2R5fSxnZXRFZGl0b3JIb2xkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3IuYm9keX0sZ2V0RG9jdW1lbnRTdGF0dXM6ZnVuY3Rpb24oKXtyZXR1cm57Ym9keTpET0NVTUVOVF9TVEFUVVNbdGhpcy5lZGl0b3IudWlkXSxodG1sOkRPQ1VNRU5UX0VMRU1FTlRfU1RBVFVTW3RoaXMuZWRpdG9yLnVpZF19fSxzdXBwb3J0TWluOmZ1bmN0aW9uKCl7dmFyIG5vZGU9bnVsbDtpZighdGhpcy5fc3VwcG9ydCl7bm9kZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLl9zdXBwb3J0PSJtaW5XaWR0aCIgaW4gbm9kZS5zdHlsZTtub2RlPW51bGx9cmV0dXJuIHRoaXMuX3N1cHBvcnR9LGdldEJvdW5kOmZ1bmN0aW9uKCl7dmFyIHRhZ3M9e2h0bWw6dHJ1ZSxib2R5OnRydWV9LHJlc3VsdD17dG9wOjAsbGVmdDowfSxvZmZzZXRQYXJlbnQ9bnVsbDtpZighJC5JRTYpe3JldHVybiByZXN1bHR9b2Zmc2V0UGFyZW50PXRoaXMuZWRpdG9yLmNvbnRhaW5lci5vZmZzZXRQYXJlbnQ7aWYob2Zmc2V0UGFyZW50JiYhdGFnc1tvZmZzZXRQYXJlbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pe3RhZ3M9b2Zmc2V0UGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3Jlc3VsdC50b3A9LXRhZ3MudG9wO3Jlc3VsdC5sZWZ0PS10YWdzLmxlZnR9cmV0dXJuIHJlc3VsdH0sZ2V0U3R5bGVWYWx1ZTpmdW5jdGlvbihhdHRyKXtyZXR1cm4gcGFyc2VJbnQoZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmdldEVkaXRvckhvbGRlcigpLGF0dHIpKX19OyQuZXh0ZW5kKEZ1bGxzY3JlZW4se2xpc3RlbjpmdW5jdGlvbigpe3ZhciB0aW1lcj1udWxsO2lmKEZ1bGxzY3JlZW4uX2hhc0Z1bGxzY3JlZW5MaXN0ZW5lcil7cmV0dXJufUZ1bGxzY3JlZW4uX2hhc0Z1bGxzY3JlZW5MaXN0ZW5lcj10cnVlOyQod2luZG93KS5vbigicmVzaXplIixmdW5jdGlvbigpe2lmKHRpbWVyIT09bnVsbCl7d2luZG93LmNsZWFyVGltZW91dCh0aW1lcik7dGltZXI9bnVsbH10aW1lcj13aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2Zvcih2YXIga2V5IGluIEZVTExTQ1JFRU5TKXtGVUxMU0NSRUVOU1trZXldLnJlc2l6ZSgpfXRpbWVyPW51bGx9LDUwKX0pfSxnZXRJbnN0YW5jZTpmdW5jdGlvbihlZGl0b3Ipe2lmKCFGVUxMU0NSRUVOU1tlZGl0b3IudWlkXSl7bmV3IEZ1bGxzY3JlZW4oZWRpdG9yKX1yZXR1cm4gRlVMTFNDUkVFTlNbZWRpdG9yLnVpZF19fSk7RnVsbHNjcmVlbi5saXN0ZW4oKX0pKCk7VU0ucmVnaXN0ZXJVSSgibGluayBpbWFnZSB2aWRlbyBtYXAgZm9ybXVsYSIsZnVuY3Rpb24obmFtZSl7dmFyIG1lPXRoaXMsY3VycmVudFJhbmdlLCRkaWFsb2csb3B0PXt0aXRsZToobWUub3B0aW9ucy5sYWJlbE1hcCYmbWUub3B0aW9ucy5sYWJlbE1hcFtuYW1lXSl8fG1lLmdldExhbmcoImxhYmVsTWFwLiIrbmFtZSksdXJsOm1lLm9wdGlvbnMuVU1FRElUT1JfSE9NRV9VUkwrImRpYWxvZ3MvIituYW1lKyIvIituYW1lKyIuanMifTt2YXIgJGJ0bj0kLmVkdWlidXR0b24oe2ljb246bmFtZSx0aXRsZTp0aGlzLmdldExhbmcoImxhYmVsTWFwIilbbmFtZV18fCIifSk7dXRpbHMubG9hZEZpbGUoZG9jdW1lbnQse3NyYzpvcHQudXJsLHRhZzoic2NyaXB0Iix0eXBlOiJ0ZXh0L2phdmFzY3JpcHQiLGRlZmVyOiJkZWZlciJ9LGZ1bmN0aW9uKCl7dmFyIGRhdGE9VU0uZ2V0V2lkZ2V0RGF0YShuYW1lKTtpZighZGF0YSl7cmV0dXJufWlmKGRhdGEuYnV0dG9ucyl7dmFyIG9rPWRhdGEuYnV0dG9ucy5vaztpZihvayl7b3B0Lm9rbGFiZWw9b2subGFiZWx8fG1lLmdldExhbmcoIm9rIik7aWYob2suZXhlYyl7b3B0Lm9rRm49ZnVuY3Rpb24oKXtyZXR1cm4gJC5wcm94eShvay5leGVjLG51bGwsbWUsJGRpYWxvZykoKX19fXZhciBjYW5jZWw9ZGF0YS5idXR0b25zLmNhbmNlbDtpZihjYW5jZWwpe29wdC5jYW5jZWxsYWJlbD1jYW5jZWwubGFiZWx8fG1lLmdldExhbmcoImNhbmNlbCIpO2lmKGNhbmNlbC5leGVjKXtvcHQuY2FuY2VsRm49ZnVuY3Rpb24oKXtyZXR1cm4gJC5wcm94eShjYW5jZWwuZXhlYyxudWxsLG1lLCRkaWFsb2cpKCl9fX19ZGF0YS53aWR0aCYmKG9wdC53aWR0aD1kYXRhLndpZHRoKTtkYXRhLmhlaWdodCYmKG9wdC5oZWlnaHQ9ZGF0YS5oZWlnaHQpOyRkaWFsb2c9JC5lZHVpbW9kYWwob3B0KTskZGlhbG9nLmF0dHIoImlkIiwiZWR1aS1kaWFsb2ctIituYW1lKS5hZGRDbGFzcygiZWR1aS1kaWFsb2ctIituYW1lKS5maW5kKCIuZWR1aS1tb2RhbC1ib2R5IikuYWRkQ2xhc3MoImVkdWktZGlhbG9nLSIrbmFtZSsiLWJvZHkiKTskZGlhbG9nLmVkdWkoKS5vbigiYmVmb3JlaGlkZSIsZnVuY3Rpb24oKXt2YXIgcm5nPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpO2lmKHJuZy5lcXVhbHMoY3VycmVudFJhbmdlKSl7cm5nLnNlbGVjdCgpfX0pLm9uKCJiZWZvcmVzaG93IixmdW5jdGlvbigpe3ZhciAkcm9vdD10aGlzLnJvb3QoKSx3aW49bnVsbCxvZmZzZXQ9bnVsbDtjdXJyZW50UmFuZ2U9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7aWYoISRyb290LnBhcmVudCgpWzBdKXttZS4kY29udGFpbmVyLmZpbmQoIi5lZHVpLWRpYWxvZy1jb250YWluZXIiKS5hcHBlbmQoJHJvb3QpfWlmKCQuSUU2KXt3aW49e3dpZHRoOiQod2luZG93KS53aWR0aCgpLGhlaWdodDokKHdpbmRvdykuaGVpZ2h0KCl9O29mZnNldD0kcm9vdC5wYXJlbnRzKCIuZWR1aS10b29sYmFyIilbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7JHJvb3QuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLG1hcmdpbjowLGxlZnQ6KHdpbi53aWR0aC0kcm9vdC53aWR0aCgpKS8yLW9mZnNldC5sZWZ0LHRvcDoxMDAtb2Zmc2V0LnRvcH0pfVVNLnNldFdpZGdldEJvZHkobmFtZSwkZGlhbG9nLG1lKTtVTS5zZXRUb3BFZGl0b3IobWUpfSkub24oImFmdGVyYmFja2Ryb3AiLGZ1bmN0aW9uKCl7dGhpcy4kYmFja2Ryb3AuY3NzKCJ6SW5kZXgiLG1lLmdldE9wdCgiekluZGV4IikrMSkuYXBwZW5kVG8obWUuJGNvbnRhaW5lci5maW5kKCIuZWR1aS1kaWFsb2ctY29udGFpbmVyIikpOyRkaWFsb2cuY3NzKCJ6SW5kZXgiLG1lLmdldE9wdCgiekluZGV4IikrMil9KS5vbigiYmVmb3Jlb2siLGZ1bmN0aW9uKCl7dHJ5e2N1cnJlbnRSYW5nZS5zZWxlY3QoKX1jYXRjaChlKXt9fSkuYXR0YWNoVG8oJGJ0bil9KTttZS5hZGRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIixmdW5jdGlvbigpe3ZhciBzdGF0ZT10aGlzLnF1ZXJ5Q29tbWFuZFN0YXRlKG5hbWUpOyRidG4uZWR1aSgpLmRpc2FibGVkKHN0YXRlPT0tMSkuYWN0aXZlKHN0YXRlPT0xKX0pO3JldHVybiAkYnRufSk7VU0ucmVnaXN0ZXJVSSgiZW1vdGlvbiBmb3JtdWxhIixmdW5jdGlvbihuYW1lKXt2YXIgbWU9dGhpcyx1cmw9bWUub3B0aW9ucy5VTUVESVRPUl9IT01FX1VSTCsiZGlhbG9ncy8iK25hbWUrIi8iK25hbWUrIi5qcyI7dmFyICRidG49JC5lZHVpYnV0dG9uKHtpY29uOm5hbWUsdGl0bGU6dGhpcy5nZXRMYW5nKCJsYWJlbE1hcCIpW25hbWVdfHwiIn0pO3V0aWxzLmxvYWRGaWxlKGRvY3VtZW50LHtzcmM6dXJsLHRhZzoic2NyaXB0Iix0eXBlOiJ0ZXh0L2phdmFzY3JpcHQiLGRlZmVyOiJkZWZlciJ9LGZ1bmN0aW9uKCl7dmFyIG9wdD17dXJsOnVybH07dmFyIGRhdGE9VU0uZ2V0V2lkZ2V0RGF0YShuYW1lKTtkYXRhLndpZHRoJiYob3B0LndpZHRoPWRhdGEud2lkdGgpO2RhdGEuaGVpZ2h0JiYob3B0LmhlaWdodD1kYXRhLmhlaWdodCk7JC5lZHVpcG9wdXAob3B0KS5jc3MoInpJbmRleCIsbWUub3B0aW9ucy56SW5kZXgrMSkuYWRkQ2xhc3MoImVkdWktcG9wdXAtIituYW1lKS5lZHVpKCkub24oImJlZm9yZXNob3ciLGZ1bmN0aW9uKCl7dmFyICRyb290PXRoaXMucm9vdCgpO2lmKCEkcm9vdC5wYXJlbnQoKS5sZW5ndGgpe21lLiRjb250YWluZXIuZmluZCgiLmVkdWktZGlhbG9nLWNvbnRhaW5lciIpLmFwcGVuZCgkcm9vdCl9VU0uc2V0V2lkZ2V0Qm9keShuYW1lLCRyb290LG1lKTtVTS5zZXRUb3BFZGl0b3IobWUpfSkuYXR0YWNoVG8oJGJ0bix7b2Zmc2V0VG9wOi01LG9mZnNldExlZnQ6MTAsY2FyZXRMZWZ0OjExLGNhcmV0VG9wOi04fSk7bWUuYWRkTGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgc3RhdGU9dGhpcy5xdWVyeUNvbW1hbmRTdGF0ZShuYW1lKTskYnRuLmVkdWkoKS5kaXNhYmxlZChzdGF0ZT09LTEpLmFjdGl2ZShzdGF0ZT09MSl9KX0pO3JldHVybiAkYnRufSk7VU0ucmVnaXN0ZXJVSSgiaW1hZ2VzY2FsZSIsZnVuY3Rpb24oKXt2YXIgbWU9dGhpcywkaW1hZ2VzY2FsZTttZS5zZXRPcHQoImltYWdlU2NhbGVFbmFibGVkIix0cnVlKTtpZihicm93c2VyLndlYmtpdCYmbWUuZ2V0T3B0KCJpbWFnZVNjYWxlRW5hYmxlZCIpKXttZS5hZGRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKHR5cGUsZSl7dmFyIHJhbmdlPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLGltZz1yYW5nZS5nZXRDbG9zZWROb2RlKCksdGFyZ2V0PWUudGFyZ2V0O2lmKGltZyYmaW1nLnRhZ05hbWU9PSJJTUciJiZ0YXJnZXQ9PWltZyl7aWYoISRpbWFnZXNjYWxlKXskaW1hZ2VzY2FsZT0kLmVkdWlzY2FsZSh7IiR3cmFwIjptZS4kY29udGFpbmVyfSkuY3NzKCJ6SW5kZXgiLG1lLm9wdGlvbnMuekluZGV4KTttZS4kY29udGFpbmVyLmFwcGVuZCgkaW1hZ2VzY2FsZSk7dmFyIF9rZXlEb3duSGFuZGxlcj1mdW5jdGlvbigpeyRpbWFnZXNjYWxlLmVkdWkoKS5oaWRlKCl9LF9tb3VzZURvd25IYW5kbGVyPWZ1bmN0aW9uKGUpe3ZhciBlbGU9ZS50YXJnZXR8fGUuc3JjRWxlbWVudDtpZihlbGUmJmVsZS5jbGFzc05hbWUuaW5kZXhPZigiZWR1aS1zY2FsZSIpPT0tMSl7X2tleURvd25IYW5kbGVyKGUpfX0sdGltZXI7JGltYWdlc2NhbGUuZWR1aSgpLm9uKCJhZnRlcnNob3ciLGZ1bmN0aW9uKCl7JChkb2N1bWVudCkuYmluZCgia2V5ZG93biIsX2tleURvd25IYW5kbGVyKTskKGRvY3VtZW50KS5iaW5kKCJtb3VzZWRvd24iLF9tb3VzZURvd25IYW5kbGVyKTttZS5zZWxlY3Rpb24uZ2V0TmF0aXZlKCkucmVtb3ZlQWxsUmFuZ2VzKCl9KS5vbigiYWZ0ZXJoaWRlIixmdW5jdGlvbigpeyQoZG9jdW1lbnQpLnVuYmluZCgia2V5ZG93biIsX2tleURvd25IYW5kbGVyKTskKGRvY3VtZW50KS51bmJpbmQoIm1vdXNlZG93biIsX21vdXNlRG93bkhhbmRsZXIpO3ZhciB0YXJnZXQ9JGltYWdlc2NhbGUuZWR1aSgpLmdldFNjYWxlVGFyZ2V0KCk7aWYodGFyZ2V0LnBhcmVudE5vZGUpe21lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLnNlbGVjdE5vZGUodGFyZ2V0KS5zZWxlY3QoKX19KS5vbigibW91c2Vkb3duIixmdW5jdGlvbihlKXttZS5zZWxlY3Rpb24uZ2V0TmF0aXZlKCkucmVtb3ZlQWxsUmFuZ2VzKCk7dmFyIGVsZT1lLnRhcmdldHx8ZS5zcmNFbGVtZW50O2lmKGVsZSYmZWxlLmNsYXNzTmFtZS5pbmRleE9mKCJlZHVpLXNjYWxlLWhhbmQiKT09LTEpe3RpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXskaW1hZ2VzY2FsZS5lZHVpKCkuaGlkZSgpfSwyMDApfX0pLm9uKCJtb3VzZXVwIixmdW5jdGlvbihlKXt2YXIgZWxlPWUudGFyZ2V0fHxlLnNyY0VsZW1lbnQ7aWYoZWxlJiZlbGUuY2xhc3NOYW1lLmluZGV4T2YoImVkdWktc2NhbGUtaGFuZCIpPT0tMSl7Y2xlYXJUaW1lb3V0KHRpbWVyKX19KX0kaW1hZ2VzY2FsZS5lZHVpKCkuc2hvdygkKGltZykpfWVsc2V7aWYoJGltYWdlc2NhbGUmJiRpbWFnZXNjYWxlLmNzcygiZGlzcGxheSIpIT0ibm9uZSIpeyRpbWFnZXNjYWxlLmVkdWkoKS5oaWRlKCl9fX0pO21lLmFkZExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24odHlwZSxlKXtpZihlLnRhcmdldC50YWdOYW1lPT0iSU1HIil7dmFyIHJhbmdlPW5ldyBkb20uUmFuZ2UobWUuZG9jdW1lbnQsbWUuYm9keSk7cmFuZ2Uuc2VsZWN0Tm9kZShlLnRhcmdldCkuc2VsZWN0KCl9fSl9fSk7VU0ucmVnaXN0ZXJVSSgiYXV0b2Zsb2F0IixmdW5jdGlvbigpe3ZhciBtZT10aGlzLGxhbmc9bWUuZ2V0TGFuZygpO21lLnNldE9wdCh7YXV0b0Zsb2F0RW5hYmxlZDp0cnVlLHRvcE9mZnNldDowfSk7dmFyIG9wdHNBdXRvRmxvYXRFbmFibGVkPW1lLm9wdGlvbnMuYXV0b0Zsb2F0RW5hYmxlZCE9PWZhbHNlLHRvcE9mZnNldD1tZS5vcHRpb25zLnRvcE9mZnNldDtpZighb3B0c0F1dG9GbG9hdEVuYWJsZWQpe3JldHVybn1tZS5yZWFkeShmdW5jdGlvbigpe3ZhciBMdGVJRTY9YnJvd3Nlci5pZSYmYnJvd3Nlci52ZXJzaW9uPD02LHF1aXJrcz1icm93c2VyLnF1aXJrcztmdW5jdGlvbiBjaGVja0hhc1VJKCl7aWYoIVVNLnVpKXthbGVydChsYW5nLmF1dG9mbG9hdE1zZyk7cmV0dXJuIDB9cmV0dXJuIDF9ZnVuY3Rpb24gZml4SUU2Rml4ZWRQb3MoKXt2YXIgZG9jU3R5bGU9ZG9jdW1lbnQuYm9keS5zdHlsZTtkb2NTdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9J3VybCgiYWJvdXQ6YmxhbmsiKSc7ZG9jU3R5bGUuYmFja2dyb3VuZEF0dGFjaG1lbnQ9ImZpeGVkIn12YXIgYmFrQ3NzVGV4dCxwbGFjZUhvbGRlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0b29sYmFyQm94LG9yZ1RvcCxnZXRQb3NpdGlvbj1mdW5jdGlvbihlbGVtZW50KXt2YXIgYmNyO3RyeXtiY3I9ZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1jYXRjaChlKXtiY3I9e2xlZnQ6MCx0b3A6MCxoZWlnaHQ6MCx3aWR0aDowfX12YXIgcmVjdD17bGVmdDpNYXRoLnJvdW5kKGJjci5sZWZ0KSx0b3A6TWF0aC5yb3VuZChiY3IudG9wKSxoZWlnaHQ6TWF0aC5yb3VuZChiY3IuYm90dG9tLWJjci50b3ApLHdpZHRoOk1hdGgucm91bmQoYmNyLnJpZ2h0LWJjci5sZWZ0KX07dmFyIGRvYzt3aGlsZSgoZG9jPWVsZW1lbnQub3duZXJEb2N1bWVudCkhPT1kb2N1bWVudCYmKGVsZW1lbnQ9ZG9tVXRpbHMuZ2V0V2luZG93KGRvYykuZnJhbWVFbGVtZW50KSl7YmNyPWVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmVjdC5sZWZ0Kz1iY3IubGVmdDtyZWN0LnRvcCs9YmNyLnRvcH1yZWN0LmJvdHRvbT1yZWN0LnRvcCtyZWN0LmhlaWdodDtyZWN0LnJpZ2h0PXJlY3QubGVmdCtyZWN0LndpZHRoO3JldHVybiByZWN0fTt2YXIgaXNGdWxsU2NyZWVuaW5nPWZhbHNlO2Z1bmN0aW9uIHNldEZsb2F0aW5nKCl7aWYoaXNGdWxsU2NyZWVuaW5nKXtyZXR1cm59dmFyIHRvb2JhckJveFBvcz1kb21VdGlscy5nZXRYWSh0b29sYmFyQm94KSxvcmlnYWxGbG9hdD1kb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKHRvb2xiYXJCb3gsInBvc2l0aW9uIiksb3JpZ2FsTGVmdD1kb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKHRvb2xiYXJCb3gsImxlZnQiKTt0b29sYmFyQm94LnN0eWxlLndpZHRoPXRvb2xiYXJCb3gub2Zmc2V0V2lkdGgrInB4Ijt0b29sYmFyQm94LnN0eWxlLnpJbmRleD1tZS5vcHRpb25zLnpJbmRleCoxKzE7dG9vbGJhckJveC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwbGFjZUhvbGRlcix0b29sYmFyQm94KTtpZihMdGVJRTZ8fChxdWlya3MmJmJyb3dzZXIuaWUpKXtpZih0b29sYmFyQm94LnN0eWxlLnBvc2l0aW9uIT0iYWJzb2x1dGUiKXt0b29sYmFyQm94LnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSJ9dG9vbGJhckJveC5zdHlsZS50b3A9KGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wfHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKS1vcmdUb3ArdG9wT2Zmc2V0KyJweCJ9ZWxzZXtpZih0b29sYmFyQm94LnN0eWxlLnBvc2l0aW9uIT0iZml4ZWQiKXt0b29sYmFyQm94LnN0eWxlLnBvc2l0aW9uPSJmaXhlZCI7dG9vbGJhckJveC5zdHlsZS50b3A9dG9wT2Zmc2V0KyJweCI7KChvcmlnYWxGbG9hdD09ImFic29sdXRlInx8b3JpZ2FsRmxvYXQ9PSJyZWxhdGl2ZSIpJiZwYXJzZUZsb2F0KG9yaWdhbExlZnQpKSYmKHRvb2xiYXJCb3guc3R5bGUubGVmdD10b29iYXJCb3hQb3MueCsicHgiKX19fWZ1bmN0aW9uIHVuc2V0RmxvYXRpbmcoKXtpZihwbGFjZUhvbGRlci5wYXJlbnROb2RlKXtwbGFjZUhvbGRlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHBsYWNlSG9sZGVyKX10b29sYmFyQm94LnN0eWxlLmNzc1RleHQ9YmFrQ3NzVGV4dH1mdW5jdGlvbiB1cGRhdGVGbG9hdGluZygpe3ZhciByZWN0Mz1nZXRQb3NpdGlvbihtZS5jb250YWluZXIpO3ZhciBvZmZzZXQ9bWUub3B0aW9ucy50b29sYmFyVG9wT2Zmc2V0fHwwO2lmKHJlY3QzLnRvcDwwJiZyZWN0My5ib3R0b20tdG9vbGJhckJveC5vZmZzZXRIZWlnaHQ+b2Zmc2V0KXtzZXRGbG9hdGluZygpfWVsc2V7dW5zZXRGbG9hdGluZygpfX12YXIgZGVmZXJfdXBkYXRlRmxvYXRpbmc9dXRpbHMuZGVmZXIoZnVuY3Rpb24oKXt1cGRhdGVGbG9hdGluZygpfSxicm93c2VyLmllPzIwMDoxMDAsdHJ1ZSk7bWUuYWRkTGlzdGVuZXIoImRlc3Ryb3kiLGZ1bmN0aW9uKCl7JCh3aW5kb3cpLm9mZigic2Nyb2xsIHJlc2l6ZSIsdXBkYXRlRmxvYXRpbmcpO21lLnJlbW92ZUxpc3RlbmVyKCJrZXlkb3duIixkZWZlcl91cGRhdGVGbG9hdGluZyl9KTtpZihjaGVja0hhc1VJKG1lKSl7dG9vbGJhckJveD0kKCIuZWR1aS10b29sYmFyIixtZS5jb250YWluZXIpWzBdO21lLmFkZExpc3RlbmVyKCJhZnRlcnVpcmVhZHkiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe29yZ1RvcD0kKHRvb2xiYXJCb3gpLm9mZnNldCgpLnRvcH0sMTAwKX0pO2Jha0Nzc1RleHQ9dG9vbGJhckJveC5zdHlsZS5jc3NUZXh0O3BsYWNlSG9sZGVyLnN0eWxlLmhlaWdodD10b29sYmFyQm94Lm9mZnNldEhlaWdodCsicHgiO2lmKEx0ZUlFNil7Zml4SUU2Rml4ZWRQb3MoKX0kKHdpbmRvdykub24oInNjcm9sbCByZXNpemUiLHVwZGF0ZUZsb2F0aW5nKTttZS5hZGRMaXN0ZW5lcigia2V5ZG93biIsZGVmZXJfdXBkYXRlRmxvYXRpbmcpO21lLmFkZExpc3RlbmVyKCJyZXNpemUiLGZ1bmN0aW9uKCl7dW5zZXRGbG9hdGluZygpO3BsYWNlSG9sZGVyLnN0eWxlLmhlaWdodD10b29sYmFyQm94Lm9mZnNldEhlaWdodCsicHgiO3VwZGF0ZUZsb2F0aW5nKCl9KTttZS5hZGRMaXN0ZW5lcigiYmVmb3JlZnVsbHNjcmVlbmNoYW5nZSIsZnVuY3Rpb24odCxlbmFibGVkKXtpZihlbmFibGVkKXt1bnNldEZsb2F0aW5nKCk7aXNGdWxsU2NyZWVuaW5nPWVuYWJsZWR9fSk7bWUuYWRkTGlzdGVuZXIoImZ1bGxzY3JlZW5jaGFuZ2VkIixmdW5jdGlvbih0LGVuYWJsZWQpe2lmKCFlbmFibGVkKXt1cGRhdGVGbG9hdGluZygpfWlzRnVsbFNjcmVlbmluZz1lbmFibGVkfSk7bWUuYWRkTGlzdGVuZXIoInNvdXJjZW1vZGVjaGFuZ2VkIixmdW5jdGlvbih0LGVuYWJsZWQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt1cGRhdGVGbG9hdGluZygpfSwwKX0pO21lLmFkZExpc3RlbmVyKCJjbGVhckRvYyIsZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dXBkYXRlRmxvYXRpbmcoKX0sMCl9KX19KX0pO1VNLnJlZ2lzdGVyVUkoInNvdXJjZSIsZnVuY3Rpb24obmFtZSl7dmFyIG1lPXRoaXM7bWUuYWRkTGlzdGVuZXIoImZ1bGxzY3JlZW5jaGFuZ2VkIixmdW5jdGlvbigpe21lLiRjb250YWluZXIuZmluZCgidGV4dGFyZWEiKS53aWR0aChtZS4kYm9keS53aWR0aCgpLTEwKS5oZWlnaHQobWUuJGJvZHkuaGVpZ2h0KCkpfSk7dmFyICRidG49JC5lZHVpYnV0dG9uKHtpY29uOm5hbWUsY2xpY2s6ZnVuY3Rpb24oKXttZS5leGVjQ29tbWFuZChuYW1lKTtVTS5zZXRUb3BFZGl0b3IobWUpfSx0aXRsZTp0aGlzLmdldExhbmcoImxhYmVsTWFwIilbbmFtZV18fCIifSk7dGhpcy5hZGRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIixmdW5jdGlvbigpe3ZhciBzdGF0ZT10aGlzLnF1ZXJ5Q29tbWFuZFN0YXRlKG5hbWUpOyRidG4uZWR1aSgpLmRpc2FibGVkKHN0YXRlPT0tMSkuYWN0aXZlKHN0YXRlPT0xKX0pO3JldHVybiAkYnRufSk7VU0ucmVnaXN0ZXJVSSgicGFyYWdyYXBoIGZvbnRmYW1pbHkgZm9udHNpemUiLGZ1bmN0aW9uKG5hbWUpe3ZhciBtZT10aGlzLGxhYmVsPShtZS5vcHRpb25zLmxhYmVsTWFwJiZtZS5vcHRpb25zLmxhYmVsTWFwW25hbWVdKXx8bWUuZ2V0TGFuZygibGFiZWxNYXAuIituYW1lKSxvcHRpb25zPXtsYWJlbDpsYWJlbCx0aXRsZTpsYWJlbCxjb21ib2JveE5hbWU6bmFtZSxpdGVtczptZS5vcHRpb25zW25hbWVdfHxbXSxpdGVtU3R5bGVzOltdLHZhbHVlOltdLGF1dG93aWR0aGl0ZW06W119LCRjb21ib3g9bnVsbCxjb21ib2JveFdpZGdldD1udWxsO2lmKG9wdGlvbnMuaXRlbXMubGVuZ3RoPT0wKXtyZXR1cm4gbnVsbH1zd2l0Y2gobmFtZSl7Y2FzZSJwYXJhZ3JhcGgiOm9wdGlvbnM9dHJhbnNGb3JQYXJhZ3JhcGgob3B0aW9ucyk7YnJlYWs7Y2FzZSJmb250ZmFtaWx5IjpvcHRpb25zPXRyYW5zRm9yRm9udGZhbWlseShvcHRpb25zKTticmVhaztjYXNlImZvbnRzaXplIjpvcHRpb25zPXRyYW5zRm9yRm9udHNpemUob3B0aW9ucyk7YnJlYWt9JGNvbWJveD0kLmVkdWlidXR0b25jb21ib2JveChvcHRpb25zKS5jc3MoInpJbmRleCIsbWUuZ2V0T3B0KCJ6SW5kZXgiKSsxKTtjb21ib2JveFdpZGdldD0kY29tYm94LmVkdWkoKTtjb21ib2JveFdpZGdldC5vbigiY29tYm9ib3hzZWxlY3QiLGZ1bmN0aW9uKGV2dCxyZXMpe21lLmV4ZWNDb21tYW5kKG5hbWUscmVzLnZhbHVlKX0pLm9uKCJiZWZvcmVzaG93IixmdW5jdGlvbigpe2lmKCRjb21ib3gucGFyZW50KCkubGVuZ3RoPT09MCl7JGNvbWJveC5hcHBlbmRUbyhtZS4kY29udGFpbmVyLmZpbmQoIi5lZHVpLWRpYWxvZy1jb250YWluZXIiKSl9VU0uc2V0VG9wRWRpdG9yKG1lKX0pO3RoaXMuYWRkTGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsZnVuY3Rpb24oZXZ0KXt2YXIgc3RhdGU9dGhpcy5xdWVyeUNvbW1hbmRTdGF0ZShuYW1lKSx2YWx1ZT10aGlzLnF1ZXJ5Q29tbWFuZFZhbHVlKG5hbWUpO2NvbWJvYm94V2lkZ2V0LmJ1dHRvbigpLmVkdWkoKS5kaXNhYmxlZChzdGF0ZT09LTEpLmFjdGl2ZShzdGF0ZT09MSk7aWYodmFsdWUpe3ZhbHVlPXZhbHVlLnJlcGxhY2UoL1snIl0vZywiIikudG9Mb3dlckNhc2UoKS5zcGxpdCgvWyd8Il0/XHMqLFxzKltcMV0/Lyk7Y29tYm9ib3hXaWRnZXQuc2VsZWN0SXRlbUJ5TGFiZWwodmFsdWUpfX0pO3JldHVybiBjb21ib2JveFdpZGdldC5idXR0b24oKS5hZGRDbGFzcygiZWR1aS1jb21ib2JveCIpO2Z1bmN0aW9uIHdvcmRDb3VudEFkYXB0aXZlKHdvcmQsaGFzU3VmZml4KXt2YXIgJHRtcE5vZGU9JCgiPHNwYW4+IikuaHRtbCh3b3JkKS5jc3Moe2Rpc3BsYXk6ImlubGluZSIscG9zaXRpb246ImFic29sdXRlIix0b3A6LTEwMDAwMDAwLGxlZnQ6LTEwMDAwMH0pLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpLHdpZHRoPSR0bXBOb2RlLndpZHRoKCk7JHRtcE5vZGUucmVtb3ZlKCk7JHRtcE5vZGU9bnVsbDtpZih3aWR0aDw1MCl7cmV0dXJuIHdvcmR9ZWxzZXt3b3JkPXdvcmQuc2xpY2UoMCxoYXNTdWZmaXg/LTQ6LTEpO2lmKCF3b3JkLmxlbmd0aCl7cmV0dXJuIi4uLiJ9cmV0dXJuIHdvcmRDb3VudEFkYXB0aXZlKHdvcmQrIi4uLiIsdHJ1ZSl9fWZ1bmN0aW9uIHRyYW5zRm9yUGFyYWdyYXBoKG9wdGlvbnMpe3ZhciB0ZW1wSXRlbXM9W107Zm9yKHZhciBrZXkgaW4gb3B0aW9ucy5pdGVtcyl7b3B0aW9ucy52YWx1ZS5wdXNoKGtleSk7dGVtcEl0ZW1zLnB1c2goa2V5KTtvcHRpb25zLmF1dG93aWR0aGl0ZW0ucHVzaCh3b3JkQ291bnRBZGFwdGl2ZShrZXkpKX1vcHRpb25zLml0ZW1zPXRlbXBJdGVtcztvcHRpb25zLmF1dG9SZWNvcmQ9ZmFsc2U7cmV0dXJuIG9wdGlvbnN9ZnVuY3Rpb24gdHJhbnNGb3JGb250ZmFtaWx5KG9wdGlvbnMpe3ZhciB0ZW1wPW51bGwsdGVtcEl0ZW1zPVtdO2Zvcih2YXIgaT0wLGxlbj1vcHRpb25zLml0ZW1zLmxlbmd0aDtpPGxlbjtpKyspe3RlbXA9b3B0aW9ucy5pdGVtc1tpXS52YWw7dGVtcEl0ZW1zLnB1c2godGVtcC5zcGxpdCgvXHMqLFxzKi8pWzBdKTtvcHRpb25zLml0ZW1TdHlsZXMucHVzaCgiZm9udC1mYW1pbHk6ICIrdGVtcCk7b3B0aW9ucy52YWx1ZS5wdXNoKHRlbXApO29wdGlvbnMuYXV0b3dpZHRoaXRlbS5wdXNoKHdvcmRDb3VudEFkYXB0aXZlKHRlbXBJdGVtc1tpXSkpfW9wdGlvbnMuaXRlbXM9dGVtcEl0ZW1zO3JldHVybiBvcHRpb25zfWZ1bmN0aW9uIHRyYW5zRm9yRm9udHNpemUob3B0aW9ucyl7dmFyIHRlbXA9bnVsbCx0ZW1wSXRlbXM9W107b3B0aW9ucy5pdGVtU3R5bGVzPVtdO29wdGlvbnMudmFsdWU9W107Zm9yKHZhciBpPTAsbGVuPW9wdGlvbnMuaXRlbXMubGVuZ3RoO2k8bGVuO2krKyl7dGVtcD1vcHRpb25zLml0ZW1zW2ldO3RlbXBJdGVtcy5wdXNoKHRlbXApO29wdGlvbnMuaXRlbVN0eWxlcy5wdXNoKCJmb250LXNpemU6ICIrdGVtcCsicHgiKX1vcHRpb25zLnZhbHVlPW9wdGlvbnMuaXRlbXM7b3B0aW9ucy5pdGVtcz10ZW1wSXRlbXM7b3B0aW9ucy5hdXRvUmVjb3JkPWZhbHNlO3JldHVybiBvcHRpb25zfX0pO1VNLnJlZ2lzdGVyVUkoImZvcmVjb2xvciBiYWNrY29sb3IiLGZ1bmN0aW9uKG5hbWUpe2Z1bmN0aW9uIGdldEN1cnJlbnRDb2xvcigpe3JldHVybiBkb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKCRjb2xvckxhYmVsWzBdLCJiYWNrZ3JvdW5kLWNvbG9yIil9dmFyIG1lPXRoaXMsJGNvbG9yUGlja2VyV2lkZ2V0PW51bGwsJGNvbG9yTGFiZWw9bnVsbCwkYnRuPW51bGw7dGhpcy5hZGRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIixmdW5jdGlvbigpe3ZhciBzdGF0ZT10aGlzLnF1ZXJ5Q29tbWFuZFN0YXRlKG5hbWUpOyRidG4uZWR1aSgpLmRpc2FibGVkKHN0YXRlPT0tMSkuYWN0aXZlKHN0YXRlPT0xKX0pOyRidG49JC5lZHVpY29sb3JzcGxpdGJ1dHRvbih7aWNvbjpuYW1lLGNhcmV0OnRydWUsbmFtZTpuYW1lLHRpdGxlOm1lLmdldExhbmcoImxhYmVsTWFwIilbbmFtZV0sY2xpY2s6ZnVuY3Rpb24oKXttZS5leGVjQ29tbWFuZChuYW1lLGdldEN1cnJlbnRDb2xvcigpKX19KTskY29sb3JMYWJlbD0kYnRuLmVkdWkoKS5jb2xvckxhYmVsKCk7JGNvbG9yUGlja2VyV2lkZ2V0PSQuZWR1aWNvbG9ycGlja2VyKHtuYW1lOm5hbWUsbGFuZ19jbGVhckNvbG9yOm1lLmdldExhbmcoImNsZWFyQ29sb3IiKXx8IiIsbGFuZ190aGVtZUNvbG9yOm1lLmdldExhbmcoInRoZW1lQ29sb3IiKXx8IiIsbGFuZ19zdGFuZGFyZENvbG9yOm1lLmdldExhbmcoInN0YW5kYXJkQ29sb3IiKXx8IiJ9KS5vbigicGlja2NvbG9yIixmdW5jdGlvbihldnQsY29sb3Ipe3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JGNvbG9yTGFiZWwuY3NzKCJiYWNrZ3JvdW5kQ29sb3IiLGNvbG9yKTttZS5leGVjQ29tbWFuZChuYW1lLGNvbG9yKX0sMCl9KS5vbigic2hvdyIsZnVuY3Rpb24oKXtVTS5zZXRBY3RpdmVXaWRnZXQoY29sb3JQaWNrZXJXaWRnZXQucm9vdCgpKX0pLmNzcygiekluZGV4IixtZS5nZXRPcHQoInpJbmRleCIpKzEpOyRidG4uZWR1aSgpLm9uKCJhcnJvd2NsaWNrIixmdW5jdGlvbigpe2lmKCEkY29sb3JQaWNrZXJXaWRnZXQucGFyZW50KCkubGVuZ3RoKXttZS4kY29udGFpbmVyLmZpbmQoIi5lZHVpLWRpYWxvZy1jb250YWluZXIiKS5hcHBlbmQoJGNvbG9yUGlja2VyV2lkZ2V0KX0kY29sb3JQaWNrZXJXaWRnZXQuZWR1aSgpLnNob3coJGJ0bix7Y2FyZXREaXI6ImRvd24iLG9mZnNldFRvcDotNSxvZmZzZXRMZWZ0OjgsY2FyZXRMZWZ0OjExLGNhcmV0VG9wOi04fSk7VU0uc2V0VG9wRWRpdG9yKG1lKX0pLnJlZ2lzdGVyKCJjbGljayIsJGJ0bixmdW5jdGlvbigpeyRjb2xvclBpY2tlcldpZGdldC5lZHVpKCkuaGlkZSgpfSk7cmV0dXJuICRidG59KX0pKGpRdWVyeSk7KGZ1bmN0aW9uKCl7dmFyIGpRdWVyeT13aW5kb3cualF1ZXJ5LHVuZGVmaW5lZCxfLG1xQ21kSWQ9Im1hdGhxdWlsbC1jb21tYW5kLWlkIixtcUJsb2NrSWQ9Im1hdGhxdWlsbC1ibG9jay1pZCIsbWluPU1hdGgubWluLG1heD1NYXRoLm1heDt2YXIgX19zbGljZT1bXS5zbGljZTtmdW5jdGlvbiBub29wKCl7fWZ1bmN0aW9uIGJpbmQoY29ucyl7dmFyIGFyZ3M9X19zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gY29ucy5hcHBseSh0aGlzLGFyZ3MpfX1mdW5jdGlvbiBwcmF5KG1lc3NhZ2UsY29uZCl7aWYoIWNvbmQpe3Rocm93IG5ldyBFcnJvcigicHJheWVyIGZhaWxlZDogIittZXNzYWdlKX19dmFyIFA9KGZ1bmN0aW9uKHByb3RvdHlwZSxvd25Qcm9wZXJ0eSx1bmRlZmluZWQpe2Z1bmN0aW9uIGlzT2JqZWN0KG8pe3JldHVybiB0eXBlb2Ygbz09PSJvYmplY3QifWZ1bmN0aW9uIGlzRnVuY3Rpb24oZil7cmV0dXJuIHR5cGVvZiBmPT09ImZ1bmN0aW9uIn1mdW5jdGlvbiBCYXJlQ29uc3RydWN0b3IoKXt9ZnVuY3Rpb24gUChfc3VwZXJjbGFzcyxkZWZpbml0aW9uKXtpZihkZWZpbml0aW9uPT09dW5kZWZpbmVkKXtkZWZpbml0aW9uPV9zdXBlcmNsYXNzO19zdXBlcmNsYXNzPU9iamVjdH1mdW5jdGlvbiBDKCl7dmFyIHNlbGY9bmV3IEJhcmU7aWYoaXNGdW5jdGlvbihzZWxmLmluaXQpKXtzZWxmLmluaXQuYXBwbHkoc2VsZixhcmd1bWVudHMpfXJldHVybiBzZWxmfWZ1bmN0aW9uIEJhcmUoKXt9Qy5CYXJlPUJhcmU7dmFyIF9zdXBlcj1CYXJlQ29uc3RydWN0b3JbcHJvdG90eXBlXT1fc3VwZXJjbGFzc1twcm90b3R5cGVdO3ZhciBwcm90bz1CYXJlW3Byb3RvdHlwZV09Q1twcm90b3R5cGVdPW5ldyBCYXJlQ29uc3RydWN0b3I7dmFyIGV4dGVuc2lvbnM7cHJvdG8uY29uc3RydWN0b3I9QztDLm1peGluPWZ1bmN0aW9uKGRlZil7QmFyZVtwcm90b3R5cGVdPUNbcHJvdG90eXBlXT1QKEMsZGVmKVtwcm90b3R5cGVdO3JldHVybiBDfTtyZXR1cm4oQy5vcGVuPWZ1bmN0aW9uKGRlZil7ZXh0ZW5zaW9ucz17fTtpZihpc0Z1bmN0aW9uKGRlZikpe2V4dGVuc2lvbnM9ZGVmLmNhbGwoQyxwcm90byxfc3VwZXIsQyxfc3VwZXJjbGFzcyl9ZWxzZXtpZihpc09iamVjdChkZWYpKXtleHRlbnNpb25zPWRlZn19aWYoaXNPYmplY3QoZXh0ZW5zaW9ucykpe2Zvcih2YXIgZXh0IGluIGV4dGVuc2lvbnMpe2lmKG93blByb3BlcnR5LmNhbGwoZXh0ZW5zaW9ucyxleHQpKXtwcm90b1tleHRdPWV4dGVuc2lvbnNbZXh0XX19fWlmKCFpc0Z1bmN0aW9uKHByb3RvLmluaXQpKXtwcm90by5pbml0PV9zdXBlcmNsYXNzfXJldHVybiBDfSkoZGVmaW5pdGlvbil9cmV0dXJuIFB9KSgicHJvdG90eXBlIiwoe30pLmhhc093blByb3BlcnR5KTt2YXIgbWFuYWdlVGV4dGFyZWE9KGZ1bmN0aW9uKCl7dmFyIEtFWV9WQUxVRVM9ezg6IkJhY2tzcGFjZSIsOToiVGFiIiwxMDoiRW50ZXIiLDEzOiJFbnRlciIsMTY6IlNoaWZ0IiwxNzoiQ29udHJvbCIsMTg6IkFsdCIsMjA6IkNhcHNMb2NrIiwyNzoiRXNjIiwzMjoiU3BhY2ViYXIiLDMzOiJQYWdlVXAiLDM0OiJQYWdlRG93biIsMzU6IkVuZCIsMzY6IkhvbWUiLDM3OiJMZWZ0IiwzODoiVXAiLDM5OiJSaWdodCIsNDA6IkRvd24iLDQ1OiJJbnNlcnQiLDQ2OiJEZWwiLDE0NDoiTnVtTG9jayJ9O2Z1bmN0aW9uIHN0cmluZ2lmeShldnQpe3ZhciB3aGljaD1ldnQud2hpY2h8fGV2dC5rZXlDb2RlO3ZhciBrZXlWYWw9S0VZX1ZBTFVFU1t3aGljaF07dmFyIGtleTt2YXIgbW9kaWZpZXJzPVtdO2lmKGV2dC5jdHJsS2V5KXttb2RpZmllcnMucHVzaCgiQ3RybCIpfWlmKGV2dC5vcmlnaW5hbEV2ZW50JiZldnQub3JpZ2luYWxFdmVudC5tZXRhS2V5KXttb2RpZmllcnMucHVzaCgiTWV0YSIpfWlmKGV2dC5hbHRLZXkpe21vZGlmaWVycy5wdXNoKCJBbHQiKX1pZihldnQuc2hpZnRLZXkpe21vZGlmaWVycy5wdXNoKCJTaGlmdCIpfWtleT1rZXlWYWx8fFN0cmluZy5mcm9tQ2hhckNvZGUod2hpY2gpO2lmKCFtb2RpZmllcnMubGVuZ3RoJiYha2V5VmFsKXtyZXR1cm4ga2V5fW1vZGlmaWVycy5wdXNoKGtleSk7cmV0dXJuIG1vZGlmaWVycy5qb2luKCItIil9cmV0dXJuIGZ1bmN0aW9uIG1hbmFnZVRleHRhcmVhKGVsLG9wdHMpe3ZhciBrZXlkb3duPW51bGw7dmFyIGtleXByZXNzPW51bGw7aWYoIW9wdHMpe29wdHM9e319dmFyIHRleHRDYWxsYmFjaz1vcHRzLnRleHR8fG5vb3A7dmFyIGtleUNhbGxiYWNrPW9wdHMua2V5fHxub29wO3ZhciBwYXN0ZUNhbGxiYWNrPW9wdHMucGFzdGV8fG5vb3A7dmFyIG9uQ3V0PW9wdHMuY3V0fHxub29wO3ZhciB0ZXh0YXJlYT1qUXVlcnkoZWwpO3ZhciB0YXJnZXQ9alF1ZXJ5KG9wdHMuY29udGFpbmVyfHx0ZXh0YXJlYSk7dmFyIGNoZWNrVGV4dGFyZWE9bm9vcCx0aW1lb3V0SWQ7ZnVuY3Rpb24gY2hlY2tUZXh0YXJlYUZvcihjaGVja2VyKXtjaGVja1RleHRhcmVhPWNoZWNrZXI7Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7dGltZW91dElkPXNldFRpbWVvdXQoY2hlY2tlcil9dGFyZ2V0LmJpbmQoImtleWRvd24ga2V5cHJlc3MgaW5wdXQga2V5dXAgZm9jdXNvdXQgcGFzdGUiLGZ1bmN0aW9uKCl7Y2hlY2tUZXh0YXJlYSgpfSk7ZnVuY3Rpb24gc2VsZWN0KHRleHQpe2NoZWNrVGV4dGFyZWEoKTtjaGVja1RleHRhcmVhPW5vb3A7Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7dGV4dGFyZWEudmFsKHRleHQpO2lmKHRleHQpe3RleHRhcmVhWzBdLnNlbGVjdCgpfX1mdW5jdGlvbiBoYXNTZWxlY3Rpb24oKXt2YXIgZG9tPXRleHRhcmVhWzBdO2lmKCEoInNlbGVjdGlvblN0YXJ0IiBpbiBkb20pKXtyZXR1cm4gZmFsc2V9cmV0dXJuIGRvbS5zZWxlY3Rpb25TdGFydCE9PWRvbS5zZWxlY3Rpb25FbmR9ZnVuY3Rpb24gcG9wVGV4dChjYWxsYmFjayl7dmFyIHRleHQ9dGV4dGFyZWEudmFsKCk7dGV4dGFyZWEudmFsKCIiKTtpZih0ZXh0KXtjYWxsYmFjayh0ZXh0KX19ZnVuY3Rpb24gaGFuZGxlS2V5KCl7a2V5Q2FsbGJhY2soc3RyaW5naWZ5KGtleWRvd24pLGtleWRvd24pfWZ1bmN0aW9uIG9uS2V5ZG93bihlKXtrZXlkb3duPWU7a2V5cHJlc3M9bnVsbDtoYW5kbGVLZXkoKX1mdW5jdGlvbiBvbktleXByZXNzKGUpe2lmKGtleWRvd24mJmtleXByZXNzKXtoYW5kbGVLZXkoKX1rZXlwcmVzcz1lO2NoZWNrVGV4dGFyZWFGb3IodHlwZWRUZXh0KX1mdW5jdGlvbiB0eXBlZFRleHQoKXtpZihoYXNTZWxlY3Rpb24oKSl7cmV0dXJufXBvcFRleHQodGV4dENhbGxiYWNrKX1mdW5jdGlvbiBvbkJsdXIoKXtrZXlkb3duPWtleXByZXNzPW51bGx9ZnVuY3Rpb24gb25QYXN0ZShlKXt0ZXh0YXJlYS5mb2N1cygpO2NoZWNrVGV4dGFyZWFGb3IocGFzdGVkVGV4dCl9ZnVuY3Rpb24gcGFzdGVkVGV4dCgpe3BvcFRleHQocGFzdGVDYWxsYmFjayl9dGFyZ2V0LmJpbmQoe2tleWRvd246b25LZXlkb3duLGtleXByZXNzOm9uS2V5cHJlc3MsZm9jdXNvdXQ6b25CbHVyLGN1dDpvbkN1dCxwYXN0ZTpvblBhc3RlfSk7cmV0dXJue3NlbGVjdDpzZWxlY3R9fX0oKSk7dmFyIFBhcnNlcj1QKGZ1bmN0aW9uKF8sX3N1cGVyLFBhcnNlcil7ZnVuY3Rpb24gcGFyc2VFcnJvcihzdHJlYW0sbWVzc2FnZSl7aWYoc3RyZWFtKXtzdHJlYW09IiciK3N0cmVhbSsiJyJ9ZWxzZXtzdHJlYW09IkVPRiJ9dGhyb3ciUGFyc2UgRXJyb3I6ICIrbWVzc2FnZSsiIGF0ICIrc3RyZWFtfV8uaW5pdD1mdW5jdGlvbihib2R5KXt0aGlzLl89Ym9keX07Xy5wYXJzZT1mdW5jdGlvbihzdHJlYW0pe3JldHVybiB0aGlzLnNraXAoZW9mKS5fKHN0cmVhbSxzdWNjZXNzLHBhcnNlRXJyb3IpO2Z1bmN0aW9uIHN1Y2Nlc3Moc3RyZWFtLHJlc3VsdCl7cmV0dXJuIHJlc3VsdH19O18ub3I9ZnVuY3Rpb24oYWx0ZXJuYXRpdmUpe3ByYXkoIm9yIGlzIHBhc3NlZCBhIHBhcnNlciIsYWx0ZXJuYXRpdmUgaW5zdGFuY2VvZiBQYXJzZXIpO3ZhciBzZWxmPXRoaXM7cmV0dXJuIFBhcnNlcihmdW5jdGlvbihzdHJlYW0sb25TdWNjZXNzLG9uRmFpbHVyZSl7cmV0dXJuIHNlbGYuXyhzdHJlYW0sb25TdWNjZXNzLGZhaWx1cmUpO2Z1bmN0aW9uIGZhaWx1cmUobmV3U3RyZWFtKXtyZXR1cm4gYWx0ZXJuYXRpdmUuXyhzdHJlYW0sb25TdWNjZXNzLG9uRmFpbHVyZSl9fSl9O18udGhlbj1mdW5jdGlvbihuZXh0KXt2YXIgc2VsZj10aGlzO3JldHVybiBQYXJzZXIoZnVuY3Rpb24oc3RyZWFtLG9uU3VjY2VzcyxvbkZhaWx1cmUpe3JldHVybiBzZWxmLl8oc3RyZWFtLHN1Y2Nlc3Msb25GYWlsdXJlKTtmdW5jdGlvbiBzdWNjZXNzKG5ld1N0cmVhbSxyZXN1bHQpe3ZhciBuZXh0UGFyc2VyPShuZXh0IGluc3RhbmNlb2YgUGFyc2VyP25leHQ6bmV4dChyZXN1bHQpKTtwcmF5KCJhIHBhcnNlciBpcyByZXR1cm5lZCIsbmV4dFBhcnNlciBpbnN0YW5jZW9mIFBhcnNlcik7cmV0dXJuIG5leHRQYXJzZXIuXyhuZXdTdHJlYW0sb25TdWNjZXNzLG9uRmFpbHVyZSl9fSl9O18ubWFueT1mdW5jdGlvbigpe3ZhciBzZWxmPXRoaXM7cmV0dXJuIFBhcnNlcihmdW5jdGlvbihzdHJlYW0sb25TdWNjZXNzLG9uRmFpbHVyZSl7dmFyIHhzPVtdO3doaWxlKHNlbGYuXyhzdHJlYW0sc3VjY2VzcyxmYWlsdXJlKSl7fXJldHVybiBvblN1Y2Nlc3Moc3RyZWFtLHhzKTtmdW5jdGlvbiBzdWNjZXNzKG5ld1N0cmVhbSx4KXtzdHJlYW09bmV3U3RyZWFtO3hzLnB1c2goeCk7cmV0dXJuIHRydWV9ZnVuY3Rpb24gZmFpbHVyZSgpe3JldHVybiBmYWxzZX19KX07Xy50aW1lcz1mdW5jdGlvbihtaW4sbWF4KXtpZihhcmd1bWVudHMubGVuZ3RoPDIpe21heD1taW59dmFyIHNlbGY9dGhpcztyZXR1cm4gUGFyc2VyKGZ1bmN0aW9uKHN0cmVhbSxvblN1Y2Nlc3Msb25GYWlsdXJlKXt2YXIgeHM9W107dmFyIHJlc3VsdD10cnVlO3ZhciBmYWlsdXJlO2Zvcih2YXIgaT0wO2k8bWluO2krPTEpe3Jlc3VsdD1zZWxmLl8oc3RyZWFtLHN1Y2Nlc3MsZmlyc3RGYWlsdXJlKTtpZighcmVzdWx0KXtyZXR1cm4gb25GYWlsdXJlKHN0cmVhbSxmYWlsdXJlKX19Zm9yKDtpPG1heCYmcmVzdWx0O2krPTEpe3Jlc3VsdD1zZWxmLl8oc3RyZWFtLHN1Y2Nlc3Msc2Vjb25kRmFpbHVyZSl9cmV0dXJuIG9uU3VjY2VzcyhzdHJlYW0seHMpO2Z1bmN0aW9uIHN1Y2Nlc3MobmV3U3RyZWFtLHgpe3hzLnB1c2goeCk7c3RyZWFtPW5ld1N0cmVhbTtyZXR1cm4gdHJ1ZX1mdW5jdGlvbiBmaXJzdEZhaWx1cmUobmV3U3RyZWFtLG1zZyl7ZmFpbHVyZT1tc2c7c3RyZWFtPW5ld1N0cmVhbTtyZXR1cm4gZmFsc2V9ZnVuY3Rpb24gc2Vjb25kRmFpbHVyZShuZXdTdHJlYW0sbXNnKXtyZXR1cm4gZmFsc2V9fSl9O18ucmVzdWx0PWZ1bmN0aW9uKHJlcyl7cmV0dXJuIHRoaXMudGhlbihzdWNjZWVkKHJlcykpfTtfLmF0TW9zdD1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy50aW1lcygwLG4pfTtfLmF0TGVhc3Q9ZnVuY3Rpb24obil7dmFyIHNlbGY9dGhpcztyZXR1cm4gc2VsZi50aW1lcyhuKS50aGVuKGZ1bmN0aW9uKHN0YXJ0KXtyZXR1cm4gc2VsZi5tYW55KCkubWFwKGZ1bmN0aW9uKGVuZCl7cmV0dXJuIHN0YXJ0LmNvbmNhdChlbmQpfSl9KX07Xy5tYXA9ZnVuY3Rpb24oZm4pe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtyZXR1cm4gc3VjY2VlZChmbihyZXN1bHQpKX0pfTtfLnNraXA9ZnVuY3Rpb24odHdvKXtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7cmV0dXJuIHR3by5yZXN1bHQocmVzdWx0KX0pfTt2YXIgc3RyaW5nPXRoaXMuc3RyaW5nPWZ1bmN0aW9uKHN0cil7dmFyIGxlbj1zdHIubGVuZ3RoO3ZhciBleHBlY3RlZD0iZXhwZWN0ZWQgJyIrc3RyKyInIjtyZXR1cm4gUGFyc2VyKGZ1bmN0aW9uKHN0cmVhbSxvblN1Y2Nlc3Msb25GYWlsdXJlKXt2YXIgaGVhZD1zdHJlYW0uc2xpY2UoMCxsZW4pO2lmKGhlYWQ9PT1zdHIpe3JldHVybiBvblN1Y2Nlc3Moc3RyZWFtLnNsaWNlKGxlbiksaGVhZCl9ZWxzZXtyZXR1cm4gb25GYWlsdXJlKHN0cmVhbSxleHBlY3RlZCl9fSl9O3ZhciByZWdleD10aGlzLnJlZ2V4PWZ1bmN0aW9uKHJlKXtwcmF5KCJyZWdleHAgcGFyc2VyIGlzIGFuY2hvcmVkIixyZS50b1N0cmluZygpLmNoYXJBdCgxKT09PSJeIik7dmFyIGV4cGVjdGVkPSJleHBlY3RlZCAiK3JlO3JldHVybiBQYXJzZXIoZnVuY3Rpb24oc3RyZWFtLG9uU3VjY2VzcyxvbkZhaWx1cmUpe3ZhciBtYXRjaD1yZS5leGVjKHN0cmVhbSk7aWYobWF0Y2gpe3ZhciByZXN1bHQ9bWF0Y2hbMF07cmV0dXJuIG9uU3VjY2VzcyhzdHJlYW0uc2xpY2UocmVzdWx0Lmxlbmd0aCkscmVzdWx0KX1lbHNle3JldHVybiBvbkZhaWx1cmUoc3RyZWFtLGV4cGVjdGVkKX19KX07dmFyIHN1Y2NlZWQ9UGFyc2VyLnN1Y2NlZWQ9ZnVuY3Rpb24ocmVzdWx0KXtyZXR1cm4gUGFyc2VyKGZ1bmN0aW9uKHN0cmVhbSxvblN1Y2Nlc3Mpe3JldHVybiBvblN1Y2Nlc3Moc3RyZWFtLHJlc3VsdCl9KX07dmFyIGZhaWw9UGFyc2VyLmZhaWw9ZnVuY3Rpb24obXNnKXtyZXR1cm4gUGFyc2VyKGZ1bmN0aW9uKHN0cmVhbSxfLG9uRmFpbHVyZSl7cmV0dXJuIG9uRmFpbHVyZShzdHJlYW0sbXNnKX0pfTt2YXIgbGV0dGVyPVBhcnNlci5sZXR0ZXI9cmVnZXgoL15bYS16XS9pKTt2YXIgbGV0dGVycz1QYXJzZXIubGV0dGVycz1yZWdleCgvXlthLXpdKi9pKTt2YXIgZGlnaXQ9UGFyc2VyLmRpZ2l0PXJlZ2V4KC9eWzAtOV0vKTt2YXIgZGlnaXRzPVBhcnNlci5kaWdpdHM9cmVnZXgoL15bMC05XSovKTt2YXIgd2hpdGVzcGFjZT1QYXJzZXIud2hpdGVzcGFjZT1yZWdleCgvXlxzKy8pO3ZhciBvcHRXaGl0ZXNwYWNlPVBhcnNlci5vcHRXaGl0ZXNwYWNlPXJlZ2V4KC9eXHMqLyk7dmFyIGFueT1QYXJzZXIuYW55PVBhcnNlcihmdW5jdGlvbihzdHJlYW0sb25TdWNjZXNzLG9uRmFpbHVyZSl7aWYoIXN0cmVhbSl7cmV0dXJuIG9uRmFpbHVyZShzdHJlYW0sImV4cGVjdGVkIGFueSBjaGFyYWN0ZXIiKX1yZXR1cm4gb25TdWNjZXNzKHN0cmVhbS5zbGljZSgxKSxzdHJlYW0uY2hhckF0KDApKX0pO3ZhciBhbGw9UGFyc2VyLmFsbD1QYXJzZXIoZnVuY3Rpb24oc3RyZWFtLG9uU3VjY2VzcyxvbkZhaWx1cmUpe3JldHVybiBvblN1Y2Nlc3MoIiIsc3RyZWFtKX0pO3ZhciBlb2Y9UGFyc2VyLmVvZj1QYXJzZXIoZnVuY3Rpb24oc3RyZWFtLG9uU3VjY2VzcyxvbkZhaWx1cmUpe2lmKHN0cmVhbSl7cmV0dXJuIG9uRmFpbHVyZShzdHJlYW0sImV4cGVjdGVkIEVPRiIpfXJldHVybiBvblN1Y2Nlc3Moc3RyZWFtLHN0cmVhbSl9KX0pO3ZhciBMPS0xO3ZhciBSPTE7ZnVuY3Rpb24gcHJheURpcmVjdGlvbihkaXIpe3ByYXkoImEgZGlyZWN0aW9uIHdhcyBwYXNzZWQiLGRpcj09PUx8fGRpcj09PVIpfXZhciAkPVAoalF1ZXJ5LGZ1bmN0aW9uKF8pe18uaW5zRGlyT2Y9ZnVuY3Rpb24oZGlyLGVsKXtyZXR1cm4gZGlyPT09TD90aGlzLmluc2VydEJlZm9yZShlbC5maXJzdCgpKTp0aGlzLmluc2VydEFmdGVyKGVsLmxhc3QoKSl9O18uaW5zQXREaXJFbmQ9ZnVuY3Rpb24oZGlyLGVsKXtyZXR1cm4gZGlyPT09TD90aGlzLnByZXBlbmRUbyhlbCk6dGhpcy5hcHBlbmRUbyhlbCl9fSk7dmFyIFBvaW50PVAoZnVuY3Rpb24oXyl7Xy5wYXJlbnQ9MDtfW0xdPTA7X1tSXT0wO18uaW5pdD1mdW5jdGlvbihwYXJlbnQsbGVmdHdhcmQscmlnaHR3YXJkKXt0aGlzLnBhcmVudD1wYXJlbnQ7dGhpc1tMXT1sZWZ0d2FyZDt0aGlzW1JdPXJpZ2h0d2FyZH19KTt2YXIgTm9kZT1QKGZ1bmN0aW9uKF8pe19bTF09MDtfW1JdPTA7Xy5wYXJlbnQ9MDtfLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLmVuZHM9e307dGhpcy5lbmRzW0xdPTA7dGhpcy5lbmRzW1JdPTB9O18uY2hpbGRyZW49ZnVuY3Rpb24oKXtyZXR1cm4gRnJhZ21lbnQodGhpcy5lbmRzW0xdLHRoaXMuZW5kc1tSXSl9O18uZWFjaENoaWxkPWZ1bmN0aW9uKGZuKXtyZXR1cm4gdGhpcy5jaGlsZHJlbigpLmVhY2goZm4pfTtfLmZvbGRDaGlsZHJlbj1mdW5jdGlvbihmb2xkLGZuKXtyZXR1cm4gdGhpcy5jaGlsZHJlbigpLmZvbGQoZm9sZCxmbil9O18uYWRvcHQ9ZnVuY3Rpb24ocGFyZW50LGxlZnR3YXJkLHJpZ2h0d2FyZCl7RnJhZ21lbnQodGhpcyx0aGlzKS5hZG9wdChwYXJlbnQsbGVmdHdhcmQscmlnaHR3YXJkKTtyZXR1cm4gdGhpc307Xy5kaXNvd249ZnVuY3Rpb24oKXtGcmFnbWVudCh0aGlzLHRoaXMpLmRpc293bigpO3JldHVybiB0aGlzfX0pO3ZhciBGcmFnbWVudD1QKGZ1bmN0aW9uKF8pe18uaW5pdD1mdW5jdGlvbihsZWZ0RW5kLHJpZ2h0RW5kKXtwcmF5KCJubyBoYWxmLWVtcHR5IGZyYWdtZW50cyIsIWxlZnRFbmQ9PT0hcmlnaHRFbmQpO3RoaXMuZW5kcz17fTtpZighbGVmdEVuZCl7cmV0dXJufXByYXkoImxlZnQgZW5kIG5vZGUgaXMgcGFzc2VkIHRvIEZyYWdtZW50IixsZWZ0RW5kIGluc3RhbmNlb2YgTm9kZSk7cHJheSgicmlnaHQgZW5kIG5vZGUgaXMgcGFzc2VkIHRvIEZyYWdtZW50IixyaWdodEVuZCBpbnN0YW5jZW9mIE5vZGUpO3ByYXkoImxlZnRFbmQgYW5kIHJpZ2h0RW5kIGhhdmUgdGhlIHNhbWUgcGFyZW50IixsZWZ0RW5kLnBhcmVudD09PXJpZ2h0RW5kLnBhcmVudCk7dGhpcy5lbmRzW0xdPWxlZnRFbmQ7dGhpcy5lbmRzW1JdPXJpZ2h0RW5kfTtmdW5jdGlvbiBwcmF5V2VsbEZvcm1lZChwYXJlbnQsbGVmdHdhcmQscmlnaHR3YXJkKXtwcmF5KCJhIHBhcmVudCBpcyBhbHdheXMgcHJlc2VudCIscGFyZW50KTtwcmF5KCJsZWZ0d2FyZCBpcyBwcm9wZXJseSBzZXQgdXAiLChmdW5jdGlvbigpe2lmKCFsZWZ0d2FyZCl7cmV0dXJuIHBhcmVudC5lbmRzW0xdPT09cmlnaHR3YXJkfXJldHVybiBsZWZ0d2FyZFtSXT09PXJpZ2h0d2FyZCYmbGVmdHdhcmQucGFyZW50PT09cGFyZW50fSkoKSk7cHJheSgicmlnaHR3YXJkIGlzIHByb3Blcmx5IHNldCB1cCIsKGZ1bmN0aW9uKCl7aWYoIXJpZ2h0d2FyZCl7cmV0dXJuIHBhcmVudC5lbmRzW1JdPT09bGVmdHdhcmR9cmV0dXJuIHJpZ2h0d2FyZFtMXT09PWxlZnR3YXJkJiZyaWdodHdhcmQucGFyZW50PT09cGFyZW50fSkoKSl9Xy5hZG9wdD1mdW5jdGlvbihwYXJlbnQsbGVmdHdhcmQscmlnaHR3YXJkKXtwcmF5V2VsbEZvcm1lZChwYXJlbnQsbGVmdHdhcmQscmlnaHR3YXJkKTt2YXIgc2VsZj10aGlzO3NlbGYuZGlzb3duZWQ9ZmFsc2U7dmFyIGxlZnRFbmQ9c2VsZi5lbmRzW0xdO2lmKCFsZWZ0RW5kKXtyZXR1cm4gdGhpc312YXIgcmlnaHRFbmQ9c2VsZi5lbmRzW1JdO2lmKGxlZnR3YXJkKXt9ZWxzZXtwYXJlbnQuZW5kc1tMXT1sZWZ0RW5kfWlmKHJpZ2h0d2FyZCl7cmlnaHR3YXJkW0xdPXJpZ2h0RW5kfWVsc2V7cGFyZW50LmVuZHNbUl09cmlnaHRFbmR9c2VsZi5lbmRzW1JdW1JdPXJpZ2h0d2FyZDtzZWxmLmVhY2goZnVuY3Rpb24oZWwpe2VsW0xdPWxlZnR3YXJkO2VsLnBhcmVudD1wYXJlbnQ7aWYobGVmdHdhcmQpe2xlZnR3YXJkW1JdPWVsfWxlZnR3YXJkPWVsfSk7cmV0dXJuIHNlbGZ9O18uZGlzb3duPWZ1bmN0aW9uKCl7dmFyIHNlbGY9dGhpczt2YXIgbGVmdEVuZD1zZWxmLmVuZHNbTF07aWYoIWxlZnRFbmR8fHNlbGYuZGlzb3duZWQpe3JldHVybiBzZWxmfXNlbGYuZGlzb3duZWQ9dHJ1ZTt2YXIgcmlnaHRFbmQ9c2VsZi5lbmRzW1JdO3ZhciBwYXJlbnQ9bGVmdEVuZC5wYXJlbnQ7cHJheVdlbGxGb3JtZWQocGFyZW50LGxlZnRFbmRbTF0sbGVmdEVuZCk7cHJheVdlbGxGb3JtZWQocGFyZW50LHJpZ2h0RW5kLHJpZ2h0RW5kW1JdKTtpZihsZWZ0RW5kW0xdKXtsZWZ0RW5kW0xdW1JdPXJpZ2h0RW5kW1JdfWVsc2V7cGFyZW50LmVuZHNbTF09cmlnaHRFbmRbUl19aWYocmlnaHRFbmRbUl0pe3JpZ2h0RW5kW1JdW0xdPWxlZnRFbmRbTF19ZWxzZXtwYXJlbnQuZW5kc1tSXT1sZWZ0RW5kW0xdfXJldHVybiBzZWxmfTtfLmVhY2g9ZnVuY3Rpb24oZm4pe3ZhciBzZWxmPXRoaXM7dmFyIGVsPXNlbGYuZW5kc1tMXTtpZighZWwpe3JldHVybiBzZWxmfWZvcig7ZWwhPT1zZWxmLmVuZHNbUl1bUl07ZWw9ZWxbUl0pe2lmKGZuLmNhbGwoc2VsZixlbCk9PT1mYWxzZSl7YnJlYWt9fXJldHVybiBzZWxmfTtfLmZvbGQ9ZnVuY3Rpb24oZm9sZCxmbil7dGhpcy5lYWNoKGZ1bmN0aW9uKGVsKXtmb2xkPWZuLmNhbGwodGhpcyxmb2xkLGVsKX0pO3JldHVybiBmb2xkfX0pO3ZhciB1dWlkPShmdW5jdGlvbigpe3ZhciBpZD0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBpZCs9MX19KSgpO3ZhciBNYXRoRWxlbWVudD1QKE5vZGUsZnVuY3Rpb24oXyxfc3VwZXIpe18uaW5pdD1mdW5jdGlvbihvYmope19zdXBlci5pbml0LmNhbGwodGhpcyk7dGhpcy5pZD11dWlkKCk7TWF0aEVsZW1lbnRbdGhpcy5pZF09dGhpc307Xy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbTWF0aEVsZW1lbnQgIit0aGlzLmlkKyJdIn07Xy5idWJibGU9ZnVuY3Rpb24oZXZlbnQpe3ZhciBhcmdzPV9fc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7Zm9yKHZhciBhbmNlc3Rvcj10aGlzO2FuY2VzdG9yO2FuY2VzdG9yPWFuY2VzdG9yLnBhcmVudCl7dmFyIHJlcz1hbmNlc3RvcltldmVudF0mJmFuY2VzdG9yW2V2ZW50XS5hcHBseShhbmNlc3RvcixhcmdzKTtpZihyZXM9PT1mYWxzZSl7YnJlYWt9fXJldHVybiB0aGlzfTtfLnBvc3RPcmRlcj1mdW5jdGlvbihmbil7dmFyIGFyZ3M9X19zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtpZih0eXBlb2YgZm49PT0ic3RyaW5nIil7dmFyIG1ldGhvZE5hbWU9Zm47Zm49ZnVuY3Rpb24oZWwpe2lmKG1ldGhvZE5hbWUgaW4gZWwpe2VsW21ldGhvZE5hbWVdLmFwcGx5KGVsLGFyZ3MpfX19KGZ1bmN0aW9uIHJlY3Vyc2UoZGVzYyl7ZGVzYy5lYWNoQ2hpbGQocmVjdXJzZSk7Zm4oZGVzYyl9KSh0aGlzKX07Xy5qUT0kKCk7Xy5qUWFkZD1mdW5jdGlvbihqUSl7dGhpcy5qUT10aGlzLmpRLmFkZChqUSl9O3RoaXMualFpemU9ZnVuY3Rpb24oaHRtbCl7dmFyIGpRPSQoaHRtbCk7alEuZmluZCgiKiIpLmFuZFNlbGYoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGpRPSQodGhpcyksY21kSWQ9alEuYXR0cigibWF0aHF1aWxsLWNvbW1hbmQtaWQiKSxibG9ja0lkPWpRLmF0dHIoIm1hdGhxdWlsbC1ibG9jay1pZCIpO2lmKGNtZElkKXtNYXRoRWxlbWVudFtjbWRJZF0ualFhZGQoalEpfWlmKGJsb2NrSWQpe01hdGhFbGVtZW50W2Jsb2NrSWRdLmpRYWRkKGpRKX19KTtyZXR1cm4galF9O18uZmluYWxpemVJbnNlcnQ9ZnVuY3Rpb24oKXt2YXIgc2VsZj10aGlzO3NlbGYucG9zdE9yZGVyKCJmaW5hbGl6ZVRyZWUiKTtzZWxmLnBvc3RPcmRlcigiYmx1ciIpO3NlbGYucG9zdE9yZGVyKCJyZXNwYWNlIik7aWYoc2VsZltSXS5yZXNwYWNlKXtzZWxmW1JdLnJlc3BhY2UoKX1pZihzZWxmW0xdLnJlc3BhY2Upe3NlbGZbTF0ucmVzcGFjZSgpfXNlbGYucG9zdE9yZGVyKCJyZWRyYXciKTtzZWxmLmJ1YmJsZSgicmVkcmF3Iil9fSk7dmFyIE1hdGhDb21tYW5kPVAoTWF0aEVsZW1lbnQsZnVuY3Rpb24oXyxfc3VwZXIpe18uaW5pdD1mdW5jdGlvbihjdHJsU2VxLGh0bWxUZW1wbGF0ZSx0ZXh0VGVtcGxhdGUpe3ZhciBjbWQ9dGhpcztfc3VwZXIuaW5pdC5jYWxsKGNtZCk7aWYoIWNtZC5jdHJsU2VxKXtjbWQuY3RybFNlcT1jdHJsU2VxfWlmKGh0bWxUZW1wbGF0ZSl7Y21kLmh0bWxUZW1wbGF0ZT1odG1sVGVtcGxhdGV9aWYodGV4dFRlbXBsYXRlKXtjbWQudGV4dFRlbXBsYXRlPXRleHRUZW1wbGF0ZX19O18ucmVwbGFjZXM9ZnVuY3Rpb24ocmVwbGFjZWRGcmFnbWVudCl7cmVwbGFjZWRGcmFnbWVudC5kaXNvd24oKTt0aGlzLnJlcGxhY2VkRnJhZ21lbnQ9cmVwbGFjZWRGcmFnbWVudH07Xy5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZm9sZENoaWxkcmVuKHRydWUsZnVuY3Rpb24oaXNFbXB0eSxjaGlsZCl7cmV0dXJuIGlzRW1wdHkmJmNoaWxkLmlzRW1wdHkoKX0pfTtfLnBhcnNlcj1mdW5jdGlvbigpe3ZhciBibG9jaz1sYXRleE1hdGhQYXJzZXIuYmxvY2s7dmFyIHNlbGY9dGhpcztyZXR1cm4gYmxvY2sudGltZXMoc2VsZi5udW1CbG9ja3MoKSkubWFwKGZ1bmN0aW9uKGJsb2Nrcyl7c2VsZi5ibG9ja3M9YmxvY2tzO2Zvcih2YXIgaT0wO2k8YmxvY2tzLmxlbmd0aDtpKz0xKXtibG9ja3NbaV0uYWRvcHQoc2VsZixzZWxmLmVuZHNbUl0sMCl9cmV0dXJuIHNlbGZ9KX07Xy5jcmVhdGVMZWZ0T2Y9ZnVuY3Rpb24oY3Vyc29yKXt2YXIgY21kPXRoaXM7dmFyIHJlcGxhY2VkRnJhZ21lbnQ9Y21kLnJlcGxhY2VkRnJhZ21lbnQ7Y21kLmNyZWF0ZUJsb2NrcygpO01hdGhFbGVtZW50LmpRaXplKGNtZC5odG1sKCkpO2lmKHJlcGxhY2VkRnJhZ21lbnQpe3JlcGxhY2VkRnJhZ21lbnQuYWRvcHQoY21kLmVuZHNbTF0sMCwwKTtyZXBsYWNlZEZyYWdtZW50LmpRLmFwcGVuZFRvKGNtZC5lbmRzW0xdLmpRKX1jdXJzb3IualEuYmVmb3JlKGNtZC5qUSk7Y3Vyc29yW0xdPWNtZC5hZG9wdChjdXJzb3IucGFyZW50LGN1cnNvcltMXSxjdXJzb3JbUl0pO2NtZC5maW5hbGl6ZUluc2VydChjdXJzb3IpO2NtZC5wbGFjZUN1cnNvcihjdXJzb3IpfTtfLmNyZWF0ZUJsb2Nrcz1mdW5jdGlvbigpe3ZhciBjbWQ9dGhpcyxudW1CbG9ja3M9Y21kLm51bUJsb2NrcygpLGJsb2Nrcz1jbWQuYmxvY2tzPUFycmF5KG51bUJsb2Nrcyk7Zm9yKHZhciBpPTA7aTxudW1CbG9ja3M7aSs9MSl7dmFyIG5ld0Jsb2NrPWJsb2Nrc1tpXT1NYXRoQmxvY2soKTtuZXdCbG9jay5hZG9wdChjbWQsY21kLmVuZHNbUl0sMCl9fTtfLnJlc3BhY2U9bm9vcDtfLnBsYWNlQ3Vyc29yPWZ1bmN0aW9uKGN1cnNvcil7Y3Vyc29yLmluc0F0UmlnaHRFbmQodGhpcy5mb2xkQ2hpbGRyZW4odGhpcy5lbmRzW0xdLGZ1bmN0aW9uKGxlZnR3YXJkLGNoaWxkKXtyZXR1cm4gbGVmdHdhcmQuaXNFbXB0eSgpP2xlZnR3YXJkOmNoaWxkfSkpfTtfLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuZGlzb3duKCk7dGhpcy5qUS5yZW1vdmUoKTt0aGlzLnBvc3RPcmRlcihmdW5jdGlvbihlbCl7ZGVsZXRlIE1hdGhFbGVtZW50W2VsLmlkXX0pO3JldHVybiB0aGlzfTtfLm51bUJsb2Nrcz1mdW5jdGlvbigpe3ZhciBtYXRjaGVzPXRoaXMuaHRtbFRlbXBsYXRlLm1hdGNoKC8mXGQrL2cpO3JldHVybiBtYXRjaGVzP21hdGNoZXMubGVuZ3RoOjB9O18uaHRtbD1mdW5jdGlvbigpe3ZhciBjbWQ9dGhpczt2YXIgYmxvY2tzPWNtZC5ibG9ja3M7dmFyIGNtZElkPSIgbWF0aHF1aWxsLWNvbW1hbmQtaWQ9IitjbWQuaWQ7dmFyIHRva2Vucz1jbWQuaHRtbFRlbXBsYXRlLm1hdGNoKC88W148Pl0rPnxbXjw+XSsvZyk7cHJheSgibm8gdW5tYXRjaGVkIGFuZ2xlIGJyYWNrZXRzIix0b2tlbnMuam9pbigiIik9PT10aGlzLmh0bWxUZW1wbGF0ZSk7Zm9yKHZhciBpPTAsdG9rZW49dG9rZW5zWzBdO3Rva2VuO2krPTEsdG9rZW49dG9rZW5zW2ldKXtpZih0b2tlbi5zbGljZSgtMik9PT0iLz4iKXt0b2tlbnNbaV09dG9rZW4uc2xpY2UoMCwtMikrY21kSWQrIi8+In1lbHNle2lmKHRva2VuLmNoYXJBdCgwKT09PSI8Iil7cHJheSgibm90IGFuIHVubWF0Y2hlZCB0b3AtbGV2ZWwgY2xvc2UgdGFnIix0b2tlbi5jaGFyQXQoMSkhPT0iLyIpO3Rva2Vuc1tpXT10b2tlbi5zbGljZSgwLC0xKStjbWRJZCsiPiI7dmFyIG5lc3Rpbmc9MTtkb3tpKz0xLHRva2VuPXRva2Vuc1tpXTtwcmF5KCJubyBtaXNzaW5nIGNsb3NlIHRhZ3MiLHRva2VuKTtpZih0b2tlbi5zbGljZSgwLDIpPT09IjwvIil7bmVzdGluZy09MX1lbHNle2lmKHRva2VuLmNoYXJBdCgwKT09PSI8IiYmdG9rZW4uc2xpY2UoLTIpIT09Ii8+Iil7bmVzdGluZys9MX19fXdoaWxlKG5lc3Rpbmc+MCl9fX1yZXR1cm4gdG9rZW5zLmpvaW4oIiIpLnJlcGxhY2UoLz4mKFxkKykvZyxmdW5jdGlvbigkMCwkMSl7cmV0dXJuIiBtYXRocXVpbGwtYmxvY2staWQ9IitibG9ja3NbJDFdLmlkKyI+IitibG9ja3NbJDFdLmpvaW4oImh0bWwiKX0pfTtfLmxhdGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZm9sZENoaWxkcmVuKHRoaXMuY3RybFNlcSxmdW5jdGlvbihsYXRleCxjaGlsZCl7cmV0dXJuIGxhdGV4KyJ7IisoY2hpbGQubGF0ZXgoKXx8IiAiKSsifSJ9KX07Xy50ZXh0VGVtcGxhdGU9WyIiXTtfLnRleHQ9ZnVuY3Rpb24oKXt2YXIgY21kPXRoaXMsaT0wO3JldHVybiBjbWQuZm9sZENoaWxkcmVuKGNtZC50ZXh0VGVtcGxhdGVbaV0sZnVuY3Rpb24odGV4dCxjaGlsZCl7aSs9MTt2YXIgY2hpbGRfdGV4dD1jaGlsZC50ZXh0KCk7aWYodGV4dCYmY21kLnRleHRUZW1wbGF0ZVtpXT09PSIoIiYmY2hpbGRfdGV4dFswXT09PSIoIiYmY2hpbGRfdGV4dC5zbGljZSgtMSk9PT0iKSIpe3JldHVybiB0ZXh0K2NoaWxkX3RleHQuc2xpY2UoMSwtMSkrY21kLnRleHRUZW1wbGF0ZVtpXX1yZXR1cm4gdGV4dCtjaGlsZC50ZXh0KCkrKGNtZC50ZXh0VGVtcGxhdGVbaV18fCIiKX0pfX0pO3ZhciBTeW1ib2w9UChNYXRoQ29tbWFuZCxmdW5jdGlvbihfLF9zdXBlcil7Xy5pbml0PWZ1bmN0aW9uKGN0cmxTZXEsaHRtbCx0ZXh0KXtpZighdGV4dCl7dGV4dD1jdHJsU2VxJiZjdHJsU2VxLmxlbmd0aD4xP2N0cmxTZXEuc2xpY2UoMSk6Y3RybFNlcX1fc3VwZXIuaW5pdC5jYWxsKHRoaXMsY3RybFNlcSxodG1sLFt0ZXh0XSl9O18ucGFyc2VyPWZ1bmN0aW9uKCl7cmV0dXJuIFBhcnNlci5zdWNjZWVkKHRoaXMpfTtfLm51bUJsb2Nrcz1mdW5jdGlvbigpe3JldHVybiAwfTtfLnJlcGxhY2VzPWZ1bmN0aW9uKHJlcGxhY2VkRnJhZ21lbnQpe3JlcGxhY2VkRnJhZ21lbnQucmVtb3ZlKCl9O18uY3JlYXRlQmxvY2tzPW5vb3A7Xy5sYXRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN0cmxTZXF9O18udGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHRUZW1wbGF0ZX07Xy5wbGFjZUN1cnNvcj1ub29wO18uaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0cnVlfX0pO3ZhciBNYXRoQmxvY2s9UChNYXRoRWxlbWVudCxmdW5jdGlvbihfKXtfLmpvaW49ZnVuY3Rpb24obWV0aG9kTmFtZSl7cmV0dXJuIHRoaXMuZm9sZENoaWxkcmVuKCIiLGZ1bmN0aW9uKGZvbGQsY2hpbGQpe3JldHVybiBmb2xkK2NoaWxkW21ldGhvZE5hbWVdKCl9KX07Xy5sYXRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmpvaW4oImxhdGV4Iil9O18udGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZHNbTF09PT10aGlzLmVuZHNbUl0/dGhpcy5lbmRzW0xdLnRleHQoKToiKCIrdGhpcy5qb2luKCJ0ZXh0IikrIikifTtfLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmRzW0xdPT09MCYmdGhpcy5lbmRzW1JdPT09MH07Xy53cml0ZT1mdW5jdGlvbihjdXJzb3IsY2gscmVwbGFjZWRGcmFnbWVudCl7dmFyIGNtZDtpZihjaC5tYXRjaCgvXlthLWVnLXpBLVpdJC8pKXtjbWQ9VmFyaWFibGUoY2gpfWVsc2V7aWYoY21kPUNoYXJDbWRzW2NoXXx8TGF0ZXhDbWRzW2NoXSl7Y21kPWNtZChjaCl9ZWxzZXtjbWQ9VmFuaWxsYVN5bWJvbChjaCl9fWlmKHJlcGxhY2VkRnJhZ21lbnQpe2NtZC5yZXBsYWNlcyhyZXBsYWNlZEZyYWdtZW50KX1jbWQuY3JlYXRlTGVmdE9mKGN1cnNvcil9O18uZm9jdXM9ZnVuY3Rpb24oKXt0aGlzLmpRLmFkZENsYXNzKCJoYXNDdXJzb3IiKTt0aGlzLmpRLnJlbW92ZUNsYXNzKCJlbXB0eSIpO3JldHVybiB0aGlzfTtfLmJsdXI9ZnVuY3Rpb24oKXt0aGlzLmpRLnJlbW92ZUNsYXNzKCJoYXNDdXJzb3IiKTtpZih0aGlzLmlzRW1wdHkoKSl7dGhpcy5qUS5hZGRDbGFzcygiZW1wdHkiKX1yZXR1cm4gdGhpc319KTt2YXIgTWF0aEZyYWdtZW50PVAoRnJhZ21lbnQsZnVuY3Rpb24oXyxfc3VwZXIpe18uaW5pdD1mdW5jdGlvbihsZWZ0RW5kLHJpZ2h0RW5kKXtfc3VwZXIuaW5pdC5jYWxsKHRoaXMsbGVmdEVuZCxyaWdodEVuZHx8bGVmdEVuZCk7dGhpcy5qUT10aGlzLmZvbGQoJCgpLGZ1bmN0aW9uKGpRLGNoaWxkKXtyZXR1cm4gY2hpbGQualEuYWRkKGpRKX0pfTtfLmxhdGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZm9sZCgiIixmdW5jdGlvbihsYXRleCxlbCl7cmV0dXJuIGxhdGV4K2VsLmxhdGV4KCl9KX07Xy5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmpRLnJlbW92ZSgpO3RoaXMuZWFjaChmdW5jdGlvbihlbCl7ZWwucG9zdE9yZGVyKGZ1bmN0aW9uKGRlc2Mpe2RlbGV0ZSBNYXRoRWxlbWVudFtkZXNjLmlkXX0pfSk7cmV0dXJuIHRoaXMuZGlzb3duKCl9fSk7ZnVuY3Rpb24gY3JlYXRlUm9vdChqUSxyb290LHRleHRib3gsZWRpdGFibGUpe3ZhciBjb250ZW50cz1qUS5jb250ZW50cygpLmRldGFjaCgpO2lmKCF0ZXh0Ym94KXtqUS5hZGRDbGFzcygibWF0aHF1aWxsLXJlbmRlcmVkLW1hdGgiKX1yb290LmpRPWpRLmF0dHIobXFCbG9ja0lkLHJvb3QuaWQpO3Jvb3QucmV2ZXJ0PWZ1bmN0aW9uKCl7alEuZW1wdHkoKS51bmJpbmQoIi5tYXRocXVpbGwiKS5yZW1vdmVDbGFzcygibWF0aHF1aWxsLXJlbmRlcmVkLW1hdGggbWF0aHF1aWxsLWVkaXRhYmxlIG1hdGhxdWlsbC10ZXh0Ym94IikuYXBwZW5kKGNvbnRlbnRzKX07dmFyIGN1cnNvcj1yb290LmN1cnNvcj1DdXJzb3Iocm9vdCk7cm9vdC5yZW5kZXJMYXRleChjb250ZW50cy50ZXh0KCkpO3ZhciB0ZXh0YXJlYVNwYW49cm9vdC50ZXh0YXJlYT0kKCc8c3BhbiBjbGFzcz0idGV4dGFyZWEiPjx0ZXh0YXJlYT48L3RleHRhcmVhPjwvc3Bhbj4nKSx0ZXh0YXJlYT10ZXh0YXJlYVNwYW4uY2hpbGRyZW4oKTt2YXIgdGV4dGFyZWFTZWxlY3Rpb25UaW1lb3V0O3Jvb3Quc2VsZWN0aW9uQ2hhbmdlZD1mdW5jdGlvbigpe2lmKHRleHRhcmVhU2VsZWN0aW9uVGltZW91dD09PXVuZGVmaW5lZCl7dGV4dGFyZWFTZWxlY3Rpb25UaW1lb3V0PXNldFRpbWVvdXQoc2V0VGV4dGFyZWFTZWxlY3Rpb24pfWZvcmNlSUVSZWRyYXcoalFbMF0pfTtmdW5jdGlvbiBzZXRUZXh0YXJlYVNlbGVjdGlvbigpe3RleHRhcmVhU2VsZWN0aW9uVGltZW91dD11bmRlZmluZWQ7dmFyIGxhdGV4PWN1cnNvci5zZWxlY3Rpb24/IiQiK2N1cnNvci5zZWxlY3Rpb24ubGF0ZXgoKSsiJCI6IiI7dGV4dGFyZWFNYW5hZ2VyLnNlbGVjdChsYXRleCl9alEuYmluZCgic2VsZWN0c3RhcnQubWF0aHF1aWxsIixmdW5jdGlvbihlKXtpZihlLnRhcmdldCE9PXRleHRhcmVhWzBdKXtlLnByZXZlbnREZWZhdWx0KCl9ZS5zdG9wUHJvcGFnYXRpb24oKX0pO3ZhciBhbnRpY3Vyc29yLGJsaW5rPWN1cnNvci5ibGluaztqUS5iaW5kKCJtb3VzZWRvd24ubWF0aHF1aWxsIixmdW5jdGlvbihlKXtmdW5jdGlvbiBtb3VzZW1vdmUoZSl7Y3Vyc29yLnNlZWsoJChlLnRhcmdldCksZS5wYWdlWCxlLnBhZ2VZKTtpZihjdXJzb3JbTF0hPT1hbnRpY3Vyc29yW0xdfHxjdXJzb3IucGFyZW50IT09YW50aWN1cnNvci5wYXJlbnQpe2N1cnNvci5zZWxlY3RGcm9tKGFudGljdXJzb3IpfXJldHVybiBmYWxzZX1mdW5jdGlvbiBkb2Ntb3VzZW1vdmUoZSl7ZGVsZXRlIGUudGFyZ2V0O3JldHVybiBtb3VzZW1vdmUoZSl9ZnVuY3Rpb24gbW91c2V1cChlKXthbnRpY3Vyc29yPXVuZGVmaW5lZDtjdXJzb3IuYmxpbms9Ymxpbms7aWYoIWN1cnNvci5zZWxlY3Rpb24pe2lmKGVkaXRhYmxlKXtjdXJzb3Iuc2hvdygpfWVsc2V7dGV4dGFyZWFTcGFuLmRldGFjaCgpfX1qUS51bmJpbmQoIm1vdXNlbW92ZSIsbW91c2Vtb3ZlKTskKGUudGFyZ2V0Lm93bmVyRG9jdW1lbnQpLnVuYmluZCgibW91c2Vtb3ZlIixkb2Ntb3VzZW1vdmUpLnVuYmluZCgibW91c2V1cCIsbW91c2V1cCl9c2V0VGltZW91dChmdW5jdGlvbigpe3RleHRhcmVhLmZvY3VzKCl9KTtjdXJzb3IuYmxpbms9bm9vcDtjdXJzb3Iuc2VlaygkKGUudGFyZ2V0KSxlLnBhZ2VYLGUucGFnZVkpO2FudGljdXJzb3I9UG9pbnQoY3Vyc29yLnBhcmVudCxjdXJzb3JbTF0sY3Vyc29yW1JdKTtpZighZWRpdGFibGUpe2pRLnByZXBlbmQodGV4dGFyZWFTcGFuKX1qUS5tb3VzZW1vdmUobW91c2Vtb3ZlKTskKGUudGFyZ2V0Lm93bmVyRG9jdW1lbnQpLm1vdXNlbW92ZShkb2Ntb3VzZW1vdmUpLm1vdXNldXAobW91c2V1cCk7cmV0dXJuIGZhbHNlfSk7aWYoIWVkaXRhYmxlKXt2YXIgdGV4dGFyZWFNYW5hZ2VyPW1hbmFnZVRleHRhcmVhKHRleHRhcmVhLHtjb250YWluZXI6alF9KTtqUS5iaW5kKCJjdXQgcGFzdGUiLGZhbHNlKS5iaW5kKCJjb3B5IixzZXRUZXh0YXJlYVNlbGVjdGlvbikucHJlcGVuZCgnPHNwYW4gY2xhc3M9InNlbGVjdGFibGUiPiQnK3Jvb3QubGF0ZXgoKSsiJDwvc3Bhbj4iKTt0ZXh0YXJlYS5ibHVyKGZ1bmN0aW9uKCl7Y3Vyc29yLmNsZWFyU2VsZWN0aW9uKCk7c2V0VGltZW91dChkZXRhY2gpfSk7ZnVuY3Rpb24gZGV0YWNoKCl7dGV4dGFyZWFTcGFuLmRldGFjaCgpfXJldHVybn12YXIgdGV4dGFyZWFNYW5hZ2VyPW1hbmFnZVRleHRhcmVhKHRleHRhcmVhLHtjb250YWluZXI6alEsa2V5OmZ1bmN0aW9uKGtleSxldnQpe2N1cnNvci5wYXJlbnQuYnViYmxlKCJvbktleSIsa2V5LGV2dCl9LHRleHQ6ZnVuY3Rpb24odGV4dCl7Y3Vyc29yLnBhcmVudC5idWJibGUoIm9uVGV4dCIsdGV4dCl9LGN1dDpmdW5jdGlvbihlKXtpZihjdXJzb3Iuc2VsZWN0aW9uKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Y3Vyc29yLnByZXBhcmVFZGl0KCk7Y3Vyc29yLnBhcmVudC5idWJibGUoInJlZHJhdyIpfSl9ZS5zdG9wUHJvcGFnYXRpb24oKX0scGFzdGU6ZnVuY3Rpb24odGV4dCl7aWYodGV4dC5zbGljZSgwLDEpPT09IiQiJiZ0ZXh0LnNsaWNlKC0xKT09PSIkIil7dGV4dD10ZXh0LnNsaWNlKDEsLTEpfWVsc2V7dGV4dD0iXFx0ZXh0eyIrdGV4dCsifSJ9Y3Vyc29yLndyaXRlTGF0ZXgodGV4dCkuc2hvdygpfX0pO2pRLnByZXBlbmQodGV4dGFyZWFTcGFuKTtqUS5hZGRDbGFzcygibWF0aHF1aWxsLWVkaXRhYmxlIik7aWYodGV4dGJveCl7alEuYWRkQ2xhc3MoIm1hdGhxdWlsbC10ZXh0Ym94Iil9dGV4dGFyZWEuZm9jdXMoZnVuY3Rpb24oZSl7aWYoIWN1cnNvci5wYXJlbnQpe2N1cnNvci5pbnNBdFJpZ2h0RW5kKHJvb3QpfWN1cnNvci5wYXJlbnQualEuYWRkQ2xhc3MoImhhc0N1cnNvciIpO2lmKGN1cnNvci5zZWxlY3Rpb24pe2N1cnNvci5zZWxlY3Rpb24ualEucmVtb3ZlQ2xhc3MoImJsdXIiKTtzZXRUaW1lb3V0KHJvb3Quc2VsZWN0aW9uQ2hhbmdlZCl9ZWxzZXtjdXJzb3Iuc2hvdygpfWUuc3RvcFByb3BhZ2F0aW9uKCl9KS5ibHVyKGZ1bmN0aW9uKGUpe2N1cnNvci5oaWRlKCkucGFyZW50LmJsdXIoKTtpZihjdXJzb3Iuc2VsZWN0aW9uKXtjdXJzb3Iuc2VsZWN0aW9uLmpRLmFkZENsYXNzKCJibHVyIil9ZS5zdG9wUHJvcGFnYXRpb24oKX0pO2pRLmJpbmQoImZvY3VzLm1hdGhxdWlsbCBibHVyLm1hdGhxdWlsbCIsZnVuY3Rpb24oZSl7dGV4dGFyZWEudHJpZ2dlcihlKX0pLmJsdXIoKX12YXIgUm9vdE1hdGhCbG9jaz1QKE1hdGhCbG9jayxmdW5jdGlvbihfLF9zdXBlcil7Xy5sYXRleD1mdW5jdGlvbigpe3JldHVybiBfc3VwZXIubGF0ZXguY2FsbCh0aGlzKS5yZXBsYWNlKC8oXFxbYS16XSspICg/IVthLXpdKS9pZywiJDEiKX07Xy50ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZm9sZENoaWxkcmVuKCIiLGZ1bmN0aW9uKHRleHQsY2hpbGQpe3JldHVybiB0ZXh0K2NoaWxkLnRleHQoKX0pfTtfLnJlbmRlckxhdGV4PWZ1bmN0aW9uKGxhdGV4KXt2YXIgalE9dGhpcy5qUTtqUS5jaGlsZHJlbigpLnNsaWNlKDEpLnJlbW92ZSgpO3RoaXMuZW5kc1tMXT10aGlzLmVuZHNbUl09MDtkZWxldGUgdGhpcy5jdXJzb3Iuc2VsZWN0aW9uO3RoaXMuY3Vyc29yLmluc0F0UmlnaHRFbmQodGhpcykud3JpdGVMYXRleChsYXRleCl9O18ub25LZXk9ZnVuY3Rpb24oa2V5LGUpe3N3aXRjaChrZXkpe2Nhc2UiQ3RybC1TaGlmdC1CYWNrc3BhY2UiOmNhc2UiQ3RybC1CYWNrc3BhY2UiOndoaWxlKHRoaXMuY3Vyc29yW0xdfHx0aGlzLmN1cnNvci5zZWxlY3Rpb24pe3RoaXMuY3Vyc29yLmJhY2tzcGFjZSgpfWJyZWFrO2Nhc2UiU2hpZnQtQmFja3NwYWNlIjpjYXNlIkJhY2tzcGFjZSI6dGhpcy5jdXJzb3IuYmFja3NwYWNlKCk7YnJlYWs7Y2FzZSJFc2MiOmNhc2UiVGFiIjpjYXNlIlNwYWNlYmFyIjp2YXIgcGFyZW50PXRoaXMuY3Vyc29yLnBhcmVudDtpZihwYXJlbnQ9PT10aGlzLmN1cnNvci5yb290KXtpZihrZXk9PT0iU3BhY2ViYXIiKXtlLnByZXZlbnREZWZhdWx0KCl9cmV0dXJufXRoaXMuY3Vyc29yLnByZXBhcmVNb3ZlKCk7aWYocGFyZW50W1JdKXt0aGlzLmN1cnNvci5pbnNBdExlZnRFbmQocGFyZW50W1JdKX1lbHNle3RoaXMuY3Vyc29yLmluc1JpZ2h0T2YocGFyZW50LnBhcmVudCl9YnJlYWs7Y2FzZSJTaGlmdC1UYWIiOmNhc2UiU2hpZnQtRXNjIjpjYXNlIlNoaWZ0LVNwYWNlYmFyIjp2YXIgcGFyZW50PXRoaXMuY3Vyc29yLnBhcmVudDtpZihwYXJlbnQ9PT10aGlzLmN1cnNvci5yb290KXtpZihrZXk9PT0iU2hpZnQtU3BhY2ViYXIiKXtlLnByZXZlbnREZWZhdWx0KCl9cmV0dXJufXRoaXMuY3Vyc29yLnByZXBhcmVNb3ZlKCk7aWYocGFyZW50W0xdKXt0aGlzLmN1cnNvci5pbnNBdFJpZ2h0RW5kKHBhcmVudFtMXSl9ZWxzZXt0aGlzLmN1cnNvci5pbnNMZWZ0T2YocGFyZW50LnBhcmVudCl9YnJlYWs7Y2FzZSJFbnRlciI6YnJlYWs7Y2FzZSJFbmQiOnRoaXMuY3Vyc29yLnByZXBhcmVNb3ZlKCkuaW5zQXRSaWdodEVuZCh0aGlzLmN1cnNvci5wYXJlbnQpO2JyZWFrO2Nhc2UiQ3RybC1FbmQiOnRoaXMuY3Vyc29yLnByZXBhcmVNb3ZlKCkuaW5zQXRSaWdodEVuZCh0aGlzKTticmVhaztjYXNlIlNoaWZ0LUVuZCI6d2hpbGUodGhpcy5jdXJzb3JbUl0pe3RoaXMuY3Vyc29yLnNlbGVjdFJpZ2h0KCl9YnJlYWs7Y2FzZSJDdHJsLVNoaWZ0LUVuZCI6d2hpbGUodGhpcy5jdXJzb3JbUl18fHRoaXMuY3Vyc29yLnBhcmVudCE9PXRoaXMpe3RoaXMuY3Vyc29yLnNlbGVjdFJpZ2h0KCl9YnJlYWs7Y2FzZSJIb21lIjp0aGlzLmN1cnNvci5wcmVwYXJlTW92ZSgpLmluc0F0TGVmdEVuZCh0aGlzLmN1cnNvci5wYXJlbnQpO2JyZWFrO2Nhc2UiQ3RybC1Ib21lIjp0aGlzLmN1cnNvci5wcmVwYXJlTW92ZSgpLmluc0F0TGVmdEVuZCh0aGlzKTticmVhaztjYXNlIlNoaWZ0LUhvbWUiOndoaWxlKHRoaXMuY3Vyc29yW0xdKXt0aGlzLmN1cnNvci5zZWxlY3RMZWZ0KCl9YnJlYWs7Y2FzZSJDdHJsLVNoaWZ0LUhvbWUiOndoaWxlKHRoaXMuY3Vyc29yW0xdfHx0aGlzLmN1cnNvci5wYXJlbnQhPT10aGlzKXt0aGlzLmN1cnNvci5zZWxlY3RMZWZ0KCl9YnJlYWs7Y2FzZSJMZWZ0Ijp0aGlzLmN1cnNvci5tb3ZlTGVmdCgpO2JyZWFrO2Nhc2UiU2hpZnQtTGVmdCI6dGhpcy5jdXJzb3Iuc2VsZWN0TGVmdCgpO2JyZWFrO2Nhc2UiQ3RybC1MZWZ0IjpicmVhaztjYXNlIlJpZ2h0Ijp0aGlzLmN1cnNvci5tb3ZlUmlnaHQoKTticmVhaztjYXNlIlNoaWZ0LVJpZ2h0Ijp0aGlzLmN1cnNvci5zZWxlY3RSaWdodCgpO2JyZWFrO2Nhc2UiQ3RybC1SaWdodCI6YnJlYWs7Y2FzZSJVcCI6dGhpcy5jdXJzb3IubW92ZVVwKCk7YnJlYWs7Y2FzZSJEb3duIjp0aGlzLmN1cnNvci5tb3ZlRG93bigpO2JyZWFrO2Nhc2UiU2hpZnQtVXAiOmlmKHRoaXMuY3Vyc29yW0xdKXt3aGlsZSh0aGlzLmN1cnNvcltMXSl7dGhpcy5jdXJzb3Iuc2VsZWN0TGVmdCgpfX1lbHNle3RoaXMuY3Vyc29yLnNlbGVjdExlZnQoKX1jYXNlIlNoaWZ0LURvd24iOmlmKHRoaXMuY3Vyc29yW1JdKXt3aGlsZSh0aGlzLmN1cnNvcltSXSl7dGhpcy5jdXJzb3Iuc2VsZWN0UmlnaHQoKX19ZWxzZXt0aGlzLmN1cnNvci5zZWxlY3RSaWdodCgpfWNhc2UiQ3RybC1VcCI6YnJlYWs7Y2FzZSJDdHJsLURvd24iOmJyZWFrO2Nhc2UiQ3RybC1TaGlmdC1EZWwiOmNhc2UiQ3RybC1EZWwiOndoaWxlKHRoaXMuY3Vyc29yW1JdfHx0aGlzLmN1cnNvci5zZWxlY3Rpb24pe3RoaXMuY3Vyc29yLmRlbGV0ZUZvcndhcmQoKX1icmVhaztjYXNlIlNoaWZ0LURlbCI6Y2FzZSJEZWwiOnRoaXMuY3Vyc29yLmRlbGV0ZUZvcndhcmQoKTticmVhaztjYXNlIk1ldGEtQSI6Y2FzZSJDdHJsLUEiOmlmKHRoaXMhPT10aGlzLmN1cnNvci5yb290KXtyZXR1cm59dGhpcy5jdXJzb3IucHJlcGFyZU1vdmUoKS5pbnNBdFJpZ2h0RW5kKHRoaXMpO3doaWxlKHRoaXMuY3Vyc29yW0xdKXt0aGlzLmN1cnNvci5zZWxlY3RMZWZ0KCl9YnJlYWs7ZGVmYXVsdDpyZXR1cm4gZmFsc2V9ZS5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiBmYWxzZX07Xy5vblRleHQ9ZnVuY3Rpb24oY2gpe3RoaXMuY3Vyc29yLndyaXRlKGNoKTtyZXR1cm4gZmFsc2V9fSk7dmFyIFJvb3RNYXRoQ29tbWFuZD1QKE1hdGhDb21tYW5kLGZ1bmN0aW9uKF8sX3N1cGVyKXtfLmluaXQ9ZnVuY3Rpb24oY3Vyc29yKXtfc3VwZXIuaW5pdC5jYWxsKHRoaXMsIiQiKTt0aGlzLmN1cnNvcj1jdXJzb3J9O18uaHRtbFRlbXBsYXRlPSc8c3BhbiBjbGFzcz0ibWF0aHF1aWxsLXJlbmRlcmVkLW1hdGgiPiYwPC9zcGFuPic7Xy5jcmVhdGVCbG9ja3M9ZnVuY3Rpb24oKXt0aGlzLmVuZHNbTF09dGhpcy5lbmRzW1JdPVJvb3RNYXRoQmxvY2soKTt0aGlzLmJsb2Nrcz1bdGhpcy5lbmRzW0xdXTt0aGlzLmVuZHNbTF0ucGFyZW50PXRoaXM7dGhpcy5lbmRzW0xdLmN1cnNvcj10aGlzLmN1cnNvcjt0aGlzLmVuZHNbTF0ud3JpdGU9ZnVuY3Rpb24oY3Vyc29yLGNoLHJlcGxhY2VkRnJhZ21lbnQpe2lmKGNoIT09IiQiKXtNYXRoQmxvY2sucHJvdG90eXBlLndyaXRlLmNhbGwodGhpcyxjdXJzb3IsY2gscmVwbGFjZWRGcmFnbWVudCl9ZWxzZXtpZih0aGlzLmlzRW1wdHkoKSl7Y3Vyc29yLmluc1JpZ2h0T2YodGhpcy5wYXJlbnQpLmJhY2tzcGFjZSgpLnNob3coKTtWYW5pbGxhU3ltYm9sKCJcXCQiLCIkIikuY3JlYXRlTGVmdE9mKGN1cnNvcil9ZWxzZXtpZighY3Vyc29yW1JdKXtjdXJzb3IuaW5zUmlnaHRPZih0aGlzLnBhcmVudCl9ZWxzZXtpZighY3Vyc29yW0xdKXtjdXJzb3IuaW5zTGVmdE9mKHRoaXMucGFyZW50KX1lbHNle01hdGhCbG9jay5wcm90b3R5cGUud3JpdGUuY2FsbCh0aGlzLGN1cnNvcixjaCxyZXBsYWNlZEZyYWdtZW50KX19fX19fTtfLmxhdGV4PWZ1bmN0aW9uKCl7cmV0dXJuIiQiK3RoaXMuZW5kc1tMXS5sYXRleCgpKyIkIn19KTt2YXIgUm9vdFRleHRCbG9jaz1QKE1hdGhCbG9jayxmdW5jdGlvbihfKXtfLnJlbmRlckxhdGV4PWZ1bmN0aW9uKGxhdGV4KXt2YXIgc2VsZj10aGlzO3ZhciBjdXJzb3I9c2VsZi5jdXJzb3I7c2VsZi5qUS5jaGlsZHJlbigpLnNsaWNlKDEpLnJlbW92ZSgpO3NlbGYuZW5kc1tMXT1zZWxmLmVuZHNbUl09MDtkZWxldGUgY3Vyc29yLnNlbGVjdGlvbjtjdXJzb3Iuc2hvdygpLmluc0F0UmlnaHRFbmQoc2VsZik7dmFyIHJlZ2V4PVBhcnNlci5yZWdleDt2YXIgc3RyaW5nPVBhcnNlci5zdHJpbmc7dmFyIGVvZj1QYXJzZXIuZW9mO3ZhciBhbGw9UGFyc2VyLmFsbDt2YXIgbWF0aE1vZGU9c3RyaW5nKCIkIikudGhlbihsYXRleE1hdGhQYXJzZXIpLnNraXAoc3RyaW5nKCIkIikub3IoZW9mKSkubWFwKGZ1bmN0aW9uKGJsb2NrKXt2YXIgcm9vdE1hdGhDb21tYW5kPVJvb3RNYXRoQ29tbWFuZChjdXJzb3IpO3Jvb3RNYXRoQ29tbWFuZC5jcmVhdGVCbG9ja3MoKTt2YXIgcm9vdE1hdGhCbG9jaz1yb290TWF0aENvbW1hbmQuZW5kc1tMXTtibG9jay5jaGlsZHJlbigpLmFkb3B0KHJvb3RNYXRoQmxvY2ssMCwwKTtyZXR1cm4gcm9vdE1hdGhDb21tYW5kfSk7dmFyIGVzY2FwZWREb2xsYXI9c3RyaW5nKCJcXCQiKS5yZXN1bHQoIiQiKTt2YXIgdGV4dENoYXI9ZXNjYXBlZERvbGxhci5vcihyZWdleCgvXlteJF0vKSkubWFwKFZhbmlsbGFTeW1ib2wpO3ZhciBsYXRleFRleHQ9bWF0aE1vZGUub3IodGV4dENoYXIpLm1hbnkoKTt2YXIgY29tbWFuZHM9bGF0ZXhUZXh0LnNraXAoZW9mKS5vcihhbGwucmVzdWx0KGZhbHNlKSkucGFyc2UobGF0ZXgpO2lmKGNvbW1hbmRzKXtmb3IodmFyIGk9MDtpPGNvbW1hbmRzLmxlbmd0aDtpKz0xKXtjb21tYW5kc1tpXS5hZG9wdChzZWxmLHNlbGYuZW5kc1tSXSwwKX12YXIgaHRtbD1zZWxmLmpvaW4oImh0bWwiKTtNYXRoRWxlbWVudC5qUWl6ZShodG1sKS5hcHBlbmRUbyhzZWxmLmpRKTt0aGlzLmZpbmFsaXplSW5zZXJ0KCl9fTtfLm9uS2V5PWZ1bmN0aW9uKGtleSl7aWYoa2V5PT09IlNwYWNlYmFyInx8a2V5PT09IlNoaWZ0LVNwYWNlYmFyIil7cmV0dXJufVJvb3RNYXRoQmxvY2sucHJvdG90eXBlLm9uS2V5LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Xy5vblRleHQ9Um9vdE1hdGhCbG9jay5wcm90b3R5cGUub25UZXh0O18ud3JpdGU9ZnVuY3Rpb24oY3Vyc29yLGNoLHJlcGxhY2VkRnJhZ21lbnQpe2lmKHJlcGxhY2VkRnJhZ21lbnQpe3JlcGxhY2VkRnJhZ21lbnQucmVtb3ZlKCl9aWYoY2g9PT0iJCIpe1Jvb3RNYXRoQ29tbWFuZChjdXJzb3IpLmNyZWF0ZUxlZnRPZihjdXJzb3IpfWVsc2V7dmFyIGh0bWw7aWYoY2g9PT0iPCIpe2h0bWw9IiZsdDsifWVsc2V7aWYoY2g9PT0iPiIpe2h0bWw9IiZndDsifX1WYW5pbGxhU3ltYm9sKGNoLGh0bWwpLmNyZWF0ZUxlZnRPZihjdXJzb3IpfX19KTt2YXIgQ2hhckNtZHM9e30sTGF0ZXhDbWRzPXt9O3ZhciBzY2FsZSxmb3JjZUlFUmVkcmF3PW5vb3AsZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGRpdl9zdHlsZT1kaXYuc3R5bGUsdHJhbnNmb3JtUHJvcE5hbWVzPXt0cmFuc2Zvcm06MSxXZWJraXRUcmFuc2Zvcm06MSxNb3pUcmFuc2Zvcm06MSxPVHJhbnNmb3JtOjEsbXNUcmFuc2Zvcm06MX0sdHJhbnNmb3JtUHJvcE5hbWU7Zm9yKHZhciBwcm9wIGluIHRyYW5zZm9ybVByb3BOYW1lcyl7aWYocHJvcCBpbiBkaXZfc3R5bGUpe3RyYW5zZm9ybVByb3BOYW1lPXByb3A7YnJlYWt9fWlmKHRyYW5zZm9ybVByb3BOYW1lKXtzY2FsZT1mdW5jdGlvbihqUSx4LHkpe2pRLmNzcyh0cmFuc2Zvcm1Qcm9wTmFtZSwic2NhbGUoIit4KyIsIit5KyIpIil9fWVsc2V7aWYoImZpbHRlciIgaW4gZGl2X3N0eWxlKXtmb3JjZUlFUmVkcmF3PWZ1bmN0aW9uKGVsKXtlbC5jbGFzc05hbWU9ZWwuY2xhc3NOYW1lfTtzY2FsZT1mdW5jdGlvbihqUSx4LHkpe3gvPSgxKyh5LTEpLzIpO2pRLmNzcygiZm9udFNpemUiLHkrImVtIik7aWYoIWpRLmhhc0NsYXNzKCJtYXRyaXhlZC1jb250YWluZXIiKSl7alEuYWRkQ2xhc3MoIm1hdHJpeGVkLWNvbnRhaW5lciIpLndyYXBJbm5lcignPHNwYW4gY2xhc3M9Im1hdHJpeGVkIj48L3NwYW4+Jyl9dmFyIGlubmVyalE9alEuY2hpbGRyZW4oKS5jc3MoImZpbHRlciIsInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5NYXRyaXgoTTExPSIreCsiLFNpemluZ01ldGhvZD0nYXV0byBleHBhbmQnKSIpO2Z1bmN0aW9uIGNhbGN1bGF0ZU1hcmdpblJpZ2h0KCl7alEuY3NzKCJtYXJnaW5SaWdodCIsKGlubmVyalEud2lkdGgoKS0xKSooeC0xKS94KyJweCIpfWNhbGN1bGF0ZU1hcmdpblJpZ2h0KCk7dmFyIGludGVydmFsSWQ9c2V0SW50ZXJ2YWwoY2FsY3VsYXRlTWFyZ2luUmlnaHQpOyQod2luZG93KS5sb2FkKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGludGVydmFsSWQpO2NhbGN1bGF0ZU1hcmdpblJpZ2h0KCl9KX19ZWxzZXtzY2FsZT1mdW5jdGlvbihqUSx4LHkpe2pRLmNzcygiZm9udFNpemUiLHkrImVtIil9fX12YXIgU3R5bGU9UChNYXRoQ29tbWFuZCxmdW5jdGlvbihfLF9zdXBlcil7Xy5pbml0PWZ1bmN0aW9uKGN0cmxTZXEsdGFnTmFtZSxhdHRycyl7X3N1cGVyLmluaXQuY2FsbCh0aGlzLGN0cmxTZXEsIjwiK3RhZ05hbWUrIiAiK2F0dHJzKyI+JjA8LyIrdGFnTmFtZSsiPiIpfX0pO0xhdGV4Q21kcy5tYXRocm09YmluZChTdHlsZSwiXFxtYXRocm0iLCJzcGFuIiwnY2xhc3M9InJvbWFuIGZvbnQiJyk7TGF0ZXhDbWRzLm1hdGhpdD1iaW5kKFN0eWxlLCJcXG1hdGhpdCIsImkiLCdjbGFzcz0iZm9udCInKTtMYXRleENtZHMubWF0aGJmPWJpbmQoU3R5bGUsIlxcbWF0aGJmIiwiYiIsJ2NsYXNzPSJmb250IicpO0xhdGV4Q21kcy5tYXRoc2Y9YmluZChTdHlsZSwiXFxtYXRoc2YiLCJzcGFuIiwnY2xhc3M9InNhbnMtc2VyaWYgZm9udCInKTtMYXRleENtZHMubWF0aHR0PWJpbmQoU3R5bGUsIlxcbWF0aHR0Iiwic3BhbiIsJ2NsYXNzPSJtb25vc3BhY2UgZm9udCInKTtMYXRleENtZHMudW5kZXJsaW5lPWJpbmQoU3R5bGUsIlxcdW5kZXJsaW5lIiwic3BhbiIsJ2NsYXNzPSJub24tbGVhZiB1bmRlcmxpbmUiJyk7TGF0ZXhDbWRzLm92ZXJsaW5lPUxhdGV4Q21kcy5iYXI9YmluZChTdHlsZSwiXFxvdmVybGluZSIsInNwYW4iLCdjbGFzcz0ibm9uLWxlYWYgb3ZlcmxpbmUiJyk7dmFyIFN1cFN1Yj1QKE1hdGhDb21tYW5kLGZ1bmN0aW9uKF8sX3N1cGVyKXtfLmluaXQ9ZnVuY3Rpb24oY3RybFNlcSx0YWcsdGV4dCl7X3N1cGVyLmluaXQuY2FsbCh0aGlzLGN0cmxTZXEsIjwiK3RhZysnIGNsYXNzPSJub24tbGVhZiI+JjA8LycrdGFnKyI+IixbdGV4dF0pfTtfLmZpbmFsaXplVHJlZT1mdW5jdGlvbigpe3ByYXkoIlN1cFN1YiBpcyBvbmx5IF8gYW5kIF4iLHRoaXMuY3RybFNlcT09PSJeInx8dGhpcy5jdHJsU2VxPT09Il8iKTtpZih0aGlzLmN0cmxTZXE9PT0iXyIpe3RoaXMuZG93bj10aGlzLmVuZHNbTF07dGhpcy5lbmRzW0xdLnVwPWluc0xlZnRPZk1lVW5sZXNzQXRFbmR9ZWxzZXt0aGlzLnVwPXRoaXMuZW5kc1tMXTt0aGlzLmVuZHNbTF0uZG93bj1pbnNMZWZ0T2ZNZVVubGVzc0F0RW5kfWZ1bmN0aW9uIGluc0xlZnRPZk1lVW5sZXNzQXRFbmQoY3Vyc29yKXt2YXIgY21kPXRoaXMucGFyZW50LGFuY2VzdG9yQ21kPWN1cnNvcjtkb3tpZihhbmNlc3RvckNtZFtSXSl7Y3Vyc29yLmluc0xlZnRPZihjbWQpO3JldHVybiBmYWxzZX1hbmNlc3RvckNtZD1hbmNlc3RvckNtZC5wYXJlbnQucGFyZW50fXdoaWxlKGFuY2VzdG9yQ21kIT09Y21kKTtjdXJzb3IuaW5zUmlnaHRPZihjbWQpO3JldHVybiBmYWxzZX19O18ubGF0ZXg9ZnVuY3Rpb24oKXt2YXIgbGF0ZXg9dGhpcy5lbmRzW0xdLmxhdGV4KCk7aWYobGF0ZXgubGVuZ3RoPT09MSl7cmV0dXJuIHRoaXMuY3RybFNlcStsYXRleH1lbHNle3JldHVybiB0aGlzLmN0cmxTZXErInsiKyhsYXRleHx8IiAiKSsifSJ9fTtfLnJlZHJhdz1mdW5jdGlvbigpe2lmKHRoaXNbTF0pe3RoaXNbTF0ucmVzcGFjZSgpfWlmKCEodGhpc1tMXSBpbnN0YW5jZW9mIFN1cFN1Yikpe3RoaXMucmVzcGFjZSgpO2lmKHRoaXNbUl0mJiEodGhpc1tSXSBpbnN0YW5jZW9mIFN1cFN1Yikpe3RoaXNbUl0ucmVzcGFjZSgpfX19O18ucmVzcGFjZT1mdW5jdGlvbigpe2lmKHRoaXNbTF0uY3RybFNlcT09PSJcXGludCAifHwodGhpc1tMXSBpbnN0YW5jZW9mIFN1cFN1YiYmdGhpc1tMXS5jdHJsU2VxIT10aGlzLmN0cmxTZXEmJnRoaXNbTF1bTF0mJnRoaXNbTF1bTF0uY3RybFNlcT09PSJcXGludCAiKSl7aWYoIXRoaXMubGltaXQpe3RoaXMubGltaXQ9dHJ1ZTt0aGlzLmpRLmFkZENsYXNzKCJsaW1pdCIpfX1lbHNle2lmKHRoaXMubGltaXQpe3RoaXMubGltaXQ9ZmFsc2U7dGhpcy5qUS5yZW1vdmVDbGFzcygibGltaXQiKX19dGhpcy5yZXNwYWNlZD10aGlzW0xdIGluc3RhbmNlb2YgU3VwU3ViJiZ0aGlzW0xdLmN0cmxTZXEhPXRoaXMuY3RybFNlcSYmIXRoaXNbTF0ucmVzcGFjZWQ7aWYodGhpcy5yZXNwYWNlZCl7dmFyIGZvbnRTaXplPSt0aGlzLmpRLmNzcygiZm9udFNpemUiKS5zbGljZSgwLC0yKSxsZWZ0V2lkdGg9dGhpc1tMXS5qUS5vdXRlcldpZHRoKCksdGhpc1dpZHRoPXRoaXMualEub3V0ZXJXaWR0aCgpO3RoaXMualEuY3NzKHtsZWZ0Oih0aGlzLmxpbWl0JiZ0aGlzLmN0cmxTZXE9PT0iXyI/LTAuMjU6MCktbGVmdFdpZHRoL2ZvbnRTaXplKyJlbSIsbWFyZ2luUmlnaHQ6MC4xLW1pbih0aGlzV2lkdGgsbGVmdFdpZHRoKS9mb250U2l6ZSsiZW0ifSl9ZWxzZXtpZih0aGlzLmxpbWl0JiZ0aGlzLmN0cmxTZXE9PT0iXyIpe3RoaXMualEuY3NzKHtsZWZ0OiItLjI1ZW0iLG1hcmdpblJpZ2h0OiIifSl9ZWxzZXt0aGlzLmpRLmNzcyh7bGVmdDoiIixtYXJnaW5SaWdodDoiIn0pfX1pZih0aGlzW1JdIGluc3RhbmNlb2YgU3VwU3ViKXt0aGlzW1JdLnJlc3BhY2UoKX1yZXR1cm4gdGhpc319KTtMYXRleENtZHMuc3Vic2NyaXB0PUxhdGV4Q21kcy5fPWJpbmQoU3VwU3ViLCJfIiwic3ViIiwiXyIpO0xhdGV4Q21kcy5zdXBlcnNjcmlwdD1MYXRleENtZHMuc3Vwc2NyaXB0PUxhdGV4Q21kc1siXiJdPWJpbmQoU3VwU3ViLCJeIiwic3VwIiwiKioiKTt2YXIgRnJhY3Rpb249TGF0ZXhDbWRzLmZyYWM9TGF0ZXhDbWRzLmRmcmFjPUxhdGV4Q21kcy5jZnJhYz1MYXRleENtZHMuZnJhY3Rpb249UChNYXRoQ29tbWFuZCxmdW5jdGlvbihfLF9zdXBlcil7Xy5jdHJsU2VxPSJcXGZyYWMiO18uaHRtbFRlbXBsYXRlPSc8c3BhbiBjbGFzcz0iZnJhY3Rpb24gbm9uLWxlYWYiPjxzcGFuIGNsYXNzPSJudW1lcmF0b3IiPiYwPC9zcGFuPjxzcGFuIGNsYXNzPSJkZW5vbWluYXRvciI+JjE8L3NwYW4+PHNwYW4gc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjAiPiZuYnNwOzwvc3Bhbj48L3NwYW4+JztfLnRleHRUZW1wbGF0ZT1bIigiLCIvIiwiKSJdO18uZmluYWxpemVUcmVlPWZ1bmN0aW9uKCl7dGhpcy51cD10aGlzLmVuZHNbUl0udXA9dGhpcy5lbmRzW0xdO3RoaXMuZG93bj10aGlzLmVuZHNbTF0uZG93bj10aGlzLmVuZHNbUl19fSk7dmFyIExpdmVGcmFjdGlvbj1MYXRleENtZHMub3Zlcj1DaGFyQ21kc1siLyJdPVAoRnJhY3Rpb24sZnVuY3Rpb24oXyxfc3VwZXIpe18uY3JlYXRlTGVmdE9mPWZ1bmN0aW9uKGN1cnNvcil7aWYoIXRoaXMucmVwbGFjZWRGcmFnbWVudCl7dmFyIGxlZnR3YXJkPWN1cnNvcltMXTt3aGlsZShsZWZ0d2FyZCYmIShsZWZ0d2FyZCBpbnN0YW5jZW9mIEJpbmFyeU9wZXJhdG9yfHxsZWZ0d2FyZCBpbnN0YW5jZW9mIFRleHRCbG9ja3x8bGVmdHdhcmQgaW5zdGFuY2VvZiBCaWdTeW1ib2x8fCIsOzoiLnNwbGl0KCIiKS5pbmRleE9mKGxlZnR3YXJkLmN0cmxTZXEpPi0xKSl7bGVmdHdhcmQ9bGVmdHdhcmRbTF19aWYobGVmdHdhcmQgaW5zdGFuY2VvZiBCaWdTeW1ib2wmJmxlZnR3YXJkW1JdIGluc3RhbmNlb2YgU3VwU3ViKXtsZWZ0d2FyZD1sZWZ0d2FyZFtSXTtpZihsZWZ0d2FyZFtSXSBpbnN0YW5jZW9mIFN1cFN1YiYmbGVmdHdhcmRbUl0uY3RybFNlcSE9bGVmdHdhcmQuY3RybFNlcSl7bGVmdHdhcmQ9bGVmdHdhcmRbUl19fWlmKGxlZnR3YXJkIT09Y3Vyc29yW0xdKXt0aGlzLnJlcGxhY2VzKE1hdGhGcmFnbWVudChsZWZ0d2FyZFtSXXx8Y3Vyc29yLnBhcmVudC5lbmRzW0xdLGN1cnNvcltMXSkpO2N1cnNvcltMXT1sZWZ0d2FyZH19X3N1cGVyLmNyZWF0ZUxlZnRPZi5jYWxsKHRoaXMsY3Vyc29yKX19KTt2YXIgU3F1YXJlUm9vdD1MYXRleENtZHMuc3FydD1MYXRleENtZHNbIuKImiJdPVAoTWF0aENvbW1hbmQsZnVuY3Rpb24oXyxfc3VwZXIpe18uY3RybFNlcT0iXFxzcXJ0IjtfLmh0bWxUZW1wbGF0ZT0nPHNwYW4gY2xhc3M9Im5vbi1sZWFmIj48c3BhbiBjbGFzcz0ic2NhbGVkIHNxcnQtcHJlZml4Ij4mcmFkaWM7PC9zcGFuPjxzcGFuIGNsYXNzPSJub24tbGVhZiBzcXJ0LXN0ZW0iPiYwPC9zcGFuPjwvc3Bhbj4nO18udGV4dFRlbXBsYXRlPVsic3FydCgiLCIpIl07Xy5wYXJzZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbGF0ZXhNYXRoUGFyc2VyLm9wdEJsb2NrLnRoZW4oZnVuY3Rpb24ob3B0QmxvY2spe3JldHVybiBsYXRleE1hdGhQYXJzZXIuYmxvY2subWFwKGZ1bmN0aW9uKGJsb2NrKXt2YXIgbnRocm9vdD1OdGhSb290KCk7bnRocm9vdC5ibG9ja3M9W29wdEJsb2NrLGJsb2NrXTtvcHRCbG9jay5hZG9wdChudGhyb290LDAsMCk7YmxvY2suYWRvcHQobnRocm9vdCxvcHRCbG9jaywwKTtyZXR1cm4gbnRocm9vdH0pfSkub3IoX3N1cGVyLnBhcnNlci5jYWxsKHRoaXMpKX07Xy5yZWRyYXc9ZnVuY3Rpb24oKXt2YXIgYmxvY2s9dGhpcy5lbmRzW1JdLmpRO3NjYWxlKGJsb2NrLnByZXYoKSwxLGJsb2NrLmlubmVySGVpZ2h0KCkvK2Jsb2NrLmNzcygiZm9udFNpemUiKS5zbGljZSgwLC0yKS0wLjEpfX0pO3ZhciBWZWM9TGF0ZXhDbWRzLnZlYz1QKE1hdGhDb21tYW5kLGZ1bmN0aW9uKF8sX3N1cGVyKXtfLmN0cmxTZXE9IlxcdmVjIjtfLmh0bWxUZW1wbGF0ZT0nPHNwYW4gY2xhc3M9Im5vbi1sZWFmIj48c3BhbiBjbGFzcz0idmVjdG9yLXByZWZpeCI+JnJhcnI7PC9zcGFuPjxzcGFuIGNsYXNzPSJ2ZWN0b3Itc3RlbSI+JjA8L3NwYW4+PC9zcGFuPic7Xy50ZXh0VGVtcGxhdGU9WyJ2ZWMoIiwiKSJdfSk7dmFyIE50aFJvb3Q9TGF0ZXhDbWRzLm50aHJvb3Q9UChTcXVhcmVSb290LGZ1bmN0aW9uKF8sX3N1cGVyKXtfLmh0bWxUZW1wbGF0ZT0nPHN1cCBjbGFzcz0ibnRocm9vdCBub24tbGVhZiI+JjA8L3N1cD48c3BhbiBjbGFzcz0ic2NhbGVkIj48c3BhbiBjbGFzcz0ic3FydC1wcmVmaXggc2NhbGVkIj4mcmFkaWM7PC9zcGFuPjxzcGFuIGNsYXNzPSJzcXJ0LXN0ZW0gbm9uLWxlYWYiPiYxPC9zcGFuPjwvc3Bhbj4nO18udGV4dFRlbXBsYXRlPVsic3FydFsiLCJdKCIsIikiXTtfLmxhdGV4PWZ1bmN0aW9uKCl7cmV0dXJuIlxcc3FydFsiK3RoaXMuZW5kc1tMXS5sYXRleCgpKyJdeyIrdGhpcy5lbmRzW1JdLmxhdGV4KCkrIn0ifX0pO3ZhciBCcmFja2V0PVAoTWF0aENvbW1hbmQsZnVuY3Rpb24oXyxfc3VwZXIpe18uaW5pdD1mdW5jdGlvbihvcGVuLGNsb3NlLGN0cmxTZXEsZW5kKXtfc3VwZXIuaW5pdC5jYWxsKHRoaXMsIlxcbGVmdCIrY3RybFNlcSwnPHNwYW4gY2xhc3M9Im5vbi1sZWFmIj48c3BhbiBjbGFzcz0ic2NhbGVkIHBhcmVuIj4nK29wZW4rJzwvc3Bhbj48c3BhbiBjbGFzcz0ibm9uLWxlYWYiPiYwPC9zcGFuPjxzcGFuIGNsYXNzPSJzY2FsZWQgcGFyZW4iPicrY2xvc2UrIjwvc3Bhbj48L3NwYW4+Iixbb3BlbixjbG9zZV0pO3RoaXMuZW5kPSJcXHJpZ2h0IitlbmR9O18ualFhZGQ9ZnVuY3Rpb24oKXtfc3VwZXIualFhZGQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBqUT10aGlzLmpRO3RoaXMuYnJhY2tldGpRcz1qUS5jaGlsZHJlbigiOmZpcnN0IikuYWRkKGpRLmNoaWxkcmVuKCI6bGFzdCIpKX07Xy5sYXRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN0cmxTZXErdGhpcy5lbmRzW0xdLmxhdGV4KCkrdGhpcy5lbmR9O18ucmVkcmF3PWZ1bmN0aW9uKCl7dmFyIGJsb2NralE9dGhpcy5lbmRzW0xdLmpRO3ZhciBoZWlnaHQ9YmxvY2tqUS5vdXRlckhlaWdodCgpLytibG9ja2pRLmNzcygiZm9udFNpemUiKS5zbGljZSgwLC0yKTtzY2FsZSh0aGlzLmJyYWNrZXRqUXMsbWluKDErMC4yKihoZWlnaHQtMSksMS4yKSwxLjA1KmhlaWdodCl9fSk7TGF0ZXhDbWRzLmxlZnQ9UChNYXRoQ29tbWFuZCxmdW5jdGlvbihfKXtfLnBhcnNlcj1mdW5jdGlvbigpe3ZhciByZWdleD1QYXJzZXIucmVnZXg7dmFyIHN0cmluZz1QYXJzZXIuc3RyaW5nO3ZhciBzdWNjZWVkPVBhcnNlci5zdWNjZWVkO3ZhciBvcHRXaGl0ZXNwYWNlPVBhcnNlci5vcHRXaGl0ZXNwYWNlO3JldHVybiBvcHRXaGl0ZXNwYWNlLnRoZW4ocmVnZXgoL14oPzpbKFt8XXxcXFx7KS8pKS50aGVuKGZ1bmN0aW9uKG9wZW4pe2lmKG9wZW4uY2hhckF0KDApPT09IlxcIil7b3Blbj1vcGVuLnNsaWNlKDEpfXZhciBjbWQ9Q2hhckNtZHNbb3Blbl0oKTtyZXR1cm4gbGF0ZXhNYXRoUGFyc2VyLm1hcChmdW5jdGlvbihibG9jayl7Y21kLmJsb2Nrcz1bYmxvY2tdO2Jsb2NrLmFkb3B0KGNtZCwwLDApfSkudGhlbihzdHJpbmcoIlxccmlnaHQiKSkuc2tpcChvcHRXaGl0ZXNwYWNlKS50aGVuKHJlZ2V4KC9eKD86W1xdKXxdfFxcXH0pLykpLnRoZW4oZnVuY3Rpb24oY2xvc2Upe2lmKGNsb3NlLnNsaWNlKC0xKSE9PWNtZC5lbmQuc2xpY2UoLTEpKXtyZXR1cm4gUGFyc2VyLmZhaWwoIm9wZW4gZG9lc24ndCBtYXRjaCBjbG9zZSIpfXJldHVybiBzdWNjZWVkKGNtZCl9KX0pfX0pO0xhdGV4Q21kcy5yaWdodD1QKE1hdGhDb21tYW5kLGZ1bmN0aW9uKF8pe18ucGFyc2VyPWZ1bmN0aW9uKCl7cmV0dXJuIFBhcnNlci5mYWlsKCJ1bm1hdGNoZWQgXFxyaWdodCIpfX0pO0xhdGV4Q21kcy5sYnJhY2U9Q2hhckNtZHNbInsiXT1iaW5kKEJyYWNrZXQsInsiLCJ9IiwiXFx7IiwiXFx9Iik7TGF0ZXhDbWRzLmxhbmdsZT1MYXRleENtZHMubGFuZz1iaW5kKEJyYWNrZXQsIiZsYW5nOyIsIiZyYW5nOyIsIlxcbGFuZ2xlICIsIlxccmFuZ2xlICIpO3ZhciBDbG9zZUJyYWNrZXQ9UChCcmFja2V0LGZ1bmN0aW9uKF8sX3N1cGVyKXtfLmNyZWF0ZUxlZnRPZj1mdW5jdGlvbihjdXJzb3Ipe2lmKCFjdXJzb3JbUl0mJmN1cnNvci5wYXJlbnQucGFyZW50JiZjdXJzb3IucGFyZW50LnBhcmVudC5lbmQ9PT10aGlzLmVuZCYmIXRoaXMucmVwbGFjZWRGcmFnbWVudCl7Y3Vyc29yLmluc1JpZ2h0T2YoY3Vyc29yLnBhcmVudC5wYXJlbnQpfWVsc2V7X3N1cGVyLmNyZWF0ZUxlZnRPZi5jYWxsKHRoaXMsY3Vyc29yKX19O18ucGxhY2VDdXJzb3I9ZnVuY3Rpb24oY3Vyc29yKXt0aGlzLmVuZHNbTF0uYmx1cigpO2N1cnNvci5pbnNSaWdodE9mKHRoaXMpfX0pO0xhdGV4Q21kcy5yYnJhY2U9Q2hhckNtZHNbIn0iXT1iaW5kKENsb3NlQnJhY2tldCwieyIsIn0iLCJcXHsiLCJcXH0iKTtMYXRleENtZHMucmFuZ2xlPUxhdGV4Q21kcy5yYW5nPWJpbmQoQ2xvc2VCcmFja2V0LCImbGFuZzsiLCImcmFuZzsiLCJcXGxhbmdsZSAiLCJcXHJhbmdsZSAiKTt2YXIgcGFyZW5NaXhpbj1mdW5jdGlvbihfLF9zdXBlcil7Xy5pbml0PWZ1bmN0aW9uKG9wZW4sY2xvc2Upe19zdXBlci5pbml0LmNhbGwodGhpcyxvcGVuLGNsb3NlLG9wZW4sY2xvc2UpfX07dmFyIFBhcmVuPVAoQnJhY2tldCxwYXJlbk1peGluKTtMYXRleENtZHMubHBhcmVuPUNoYXJDbWRzWyIoIl09YmluZChQYXJlbiwiKCIsIikiKTtMYXRleENtZHMubGJyYWNrPUxhdGV4Q21kcy5sYnJhY2tldD1DaGFyQ21kc1siWyJdPWJpbmQoUGFyZW4sIlsiLCJdIik7dmFyIENsb3NlUGFyZW49UChDbG9zZUJyYWNrZXQscGFyZW5NaXhpbik7TGF0ZXhDbWRzLnJwYXJlbj1DaGFyQ21kc1siKSJdPWJpbmQoQ2xvc2VQYXJlbiwiKCIsIikiKTtMYXRleENtZHMucmJyYWNrPUxhdGV4Q21kcy5yYnJhY2tldD1DaGFyQ21kc1siXSJdPWJpbmQoQ2xvc2VQYXJlbiwiWyIsIl0iKTt2YXIgUGlwZXM9TGF0ZXhDbWRzLmxwaXBlPUxhdGV4Q21kcy5ycGlwZT1DaGFyQ21kc1sifCJdPVAoUGFyZW4sZnVuY3Rpb24oXyxfc3VwZXIpe18uaW5pdD1mdW5jdGlvbigpe19zdXBlci5pbml0LmNhbGwodGhpcywifCIsInwiKX07Xy5jcmVhdGVMZWZ0T2Y9Q2xvc2VCcmFja2V0LnByb3RvdHlwZS5jcmVhdGVMZWZ0T2Z9KTt2YXIgVGV4dEJsb2NrPUNoYXJDbWRzLiQ9TGF0ZXhDbWRzLnRleHQ9TGF0ZXhDbWRzLnRleHRub3JtYWw9TGF0ZXhDbWRzLnRleHRybT1MYXRleENtZHMudGV4dHVwPUxhdGV4Q21kcy50ZXh0bWQ9UChNYXRoQ29tbWFuZCxmdW5jdGlvbihfLF9zdXBlcil7Xy5jdHJsU2VxPSJcXHRleHQiO18uaHRtbFRlbXBsYXRlPSc8c3BhbiBjbGFzcz0idGV4dCI+JjA8L3NwYW4+JztfLnJlcGxhY2VzPWZ1bmN0aW9uKHJlcGxhY2VkVGV4dCl7aWYocmVwbGFjZWRUZXh0IGluc3RhbmNlb2YgTWF0aEZyYWdtZW50KXt0aGlzLnJlcGxhY2VkVGV4dD1yZXBsYWNlZFRleHQucmVtb3ZlKCkualEudGV4dCgpfWVsc2V7aWYodHlwZW9mIHJlcGxhY2VkVGV4dD09PSJzdHJpbmciKXt0aGlzLnJlcGxhY2VkVGV4dD1yZXBsYWNlZFRleHR9fX07Xy50ZXh0VGVtcGxhdGU9WyciJywnIiddO18ucGFyc2VyPWZ1bmN0aW9uKCl7dmFyIHNlbGY9dGhpczt2YXIgc3RyaW5nPVBhcnNlci5zdHJpbmc7dmFyIHJlZ2V4PVBhcnNlci5yZWdleDt2YXIgb3B0V2hpdGVzcGFjZT1QYXJzZXIub3B0V2hpdGVzcGFjZTtyZXR1cm4gb3B0V2hpdGVzcGFjZS50aGVuKHN0cmluZygieyIpKS50aGVuKHJlZ2V4KC9eW159XSovKSkuc2tpcChzdHJpbmcoIn0iKSkubWFwKGZ1bmN0aW9uKHRleHQpe3NlbGYuY3JlYXRlQmxvY2tzKCk7dmFyIGJsb2NrPXNlbGYuZW5kc1tMXTtmb3IodmFyIGk9MDtpPHRleHQubGVuZ3RoO2krPTEpe3ZhciBjaD1WYW5pbGxhU3ltYm9sKHRleHQuY2hhckF0KGkpKTtjaC5hZG9wdChibG9jayxibG9jay5lbmRzW1JdLDApfXJldHVybiBzZWxmfSl9O18uY3JlYXRlQmxvY2tzPWZ1bmN0aW9uKCl7dGhpcy5lbmRzW0xdPXRoaXMuZW5kc1tSXT1Jbm5lclRleHRCbG9jaygpO3RoaXMuYmxvY2tzPVt0aGlzLmVuZHNbTF1dO3RoaXMuZW5kc1tMXS5wYXJlbnQ9dGhpc307Xy5maW5hbGl6ZUluc2VydD1mdW5jdGlvbigpe3RoaXMuZW5kc1tMXS5ibHVyPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuYmx1cjtyZXR1cm4gdGhpc307X3N1cGVyLmZpbmFsaXplSW5zZXJ0LmNhbGwodGhpcyl9O18uY3JlYXRlTGVmdE9mPWZ1bmN0aW9uKGN1cnNvcil7X3N1cGVyLmNyZWF0ZUxlZnRPZi5jYWxsKHRoaXMsdGhpcy5jdXJzb3I9Y3Vyc29yKTtpZih0aGlzLnJlcGxhY2VkVGV4dCl7Zm9yKHZhciBpPTA7aTx0aGlzLnJlcGxhY2VkVGV4dC5sZW5ndGg7aSs9MSl7dGhpcy5lbmRzW0xdLndyaXRlKGN1cnNvcix0aGlzLnJlcGxhY2VkVGV4dC5jaGFyQXQoaSkpfX19fSk7dmFyIElubmVyVGV4dEJsb2NrPVAoTWF0aEJsb2NrLGZ1bmN0aW9uKF8sX3N1cGVyKXtfLm9uS2V5PWZ1bmN0aW9uKGtleSxlKXtpZihrZXk9PT0iU3BhY2ViYXIifHxrZXk9PT0iU2hpZnQtU3BhY2ViYXIiKXtyZXR1cm4gZmFsc2V9fTtfLmRlbGV0ZU91dE9mPWZ1bmN0aW9uKGRpcixjdXJzb3Ipe2lmKHRoaXMuaXNFbXB0eSgpKXtjdXJzb3IuaW5zUmlnaHRPZih0aGlzLnBhcmVudCl9fTtfLndyaXRlPWZ1bmN0aW9uKGN1cnNvcixjaCxyZXBsYWNlZEZyYWdtZW50KXtpZihyZXBsYWNlZEZyYWdtZW50KXtyZXBsYWNlZEZyYWdtZW50LnJlbW92ZSgpfWlmKGNoIT09IiQiKXt2YXIgaHRtbDtpZihjaD09PSI8Iil7aHRtbD0iJmx0OyJ9ZWxzZXtpZihjaD09PSI+Iil7aHRtbD0iJmd0OyJ9fVZhbmlsbGFTeW1ib2woY2gsaHRtbCkuY3JlYXRlTGVmdE9mKGN1cnNvcil9ZWxzZXtpZih0aGlzLmlzRW1wdHkoKSl7Y3Vyc29yLmluc1JpZ2h0T2YodGhpcy5wYXJlbnQpLmJhY2tzcGFjZSgpO1ZhbmlsbGFTeW1ib2woIlxcJCIsIiQiKS5jcmVhdGVMZWZ0T2YoY3Vyc29yKX1lbHNle2lmKCFjdXJzb3JbUl0pe2N1cnNvci5pbnNSaWdodE9mKHRoaXMucGFyZW50KX1lbHNle2lmKCFjdXJzb3JbTF0pe2N1cnNvci5pbnNMZWZ0T2YodGhpcy5wYXJlbnQpfWVsc2V7dmFyIHJpZ2h0d2FyZD1UZXh0QmxvY2soKTtyaWdodHdhcmQucmVwbGFjZXMoTWF0aEZyYWdtZW50KGN1cnNvcltSXSx0aGlzLmVuZHNbUl0pKTtjdXJzb3IuaW5zUmlnaHRPZih0aGlzLnBhcmVudCk7cmlnaHR3YXJkLmFkb3B0PWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuYWRvcHQ7dGhpcy5hZG9wdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpc1tMXT0wfTtyaWdodHdhcmQuY3JlYXRlTGVmdE9mKGN1cnNvcik7cmlnaHR3YXJkW0xdPXRoaXMucGFyZW50O2N1cnNvci5pbnNMZWZ0T2YocmlnaHR3YXJkKX19fX1yZXR1cm4gZmFsc2V9O18uYmx1cj1mdW5jdGlvbigpe3RoaXMualEucmVtb3ZlQ2xhc3MoImhhc0N1cnNvciIpO2lmKHRoaXMuaXNFbXB0eSgpKXt2YXIgdGV4dGJsb2NrPXRoaXMucGFyZW50LGN1cnNvcj10ZXh0YmxvY2suY3Vyc29yO2lmKGN1cnNvci5wYXJlbnQ9PT10aGlzKXt0aGlzLmpRLmFkZENsYXNzKCJlbXB0eSIpfWVsc2V7Y3Vyc29yLmhpZGUoKTt0ZXh0YmxvY2sucmVtb3ZlKCk7aWYoY3Vyc29yW1JdPT09dGV4dGJsb2NrKXtjdXJzb3JbUl09dGV4dGJsb2NrW1JdfWVsc2V7aWYoY3Vyc29yW0xdPT09dGV4dGJsb2NrKXtjdXJzb3JbTF09dGV4dGJsb2NrW0xdfX1jdXJzb3Iuc2hvdygpLnBhcmVudC5idWJibGUoInJlZHJhdyIpfX1yZXR1cm4gdGhpc307Xy5mb2N1cz1mdW5jdGlvbigpe19zdXBlci5mb2N1cy5jYWxsKHRoaXMpO3ZhciB0ZXh0YmxvY2s9dGhpcy5wYXJlbnQ7aWYodGV4dGJsb2NrW1JdLmN0cmxTZXE9PT10ZXh0YmxvY2suY3RybFNlcSl7dmFyIGlubmVyYmxvY2s9dGhpcyxjdXJzb3I9dGV4dGJsb2NrLmN1cnNvcixyaWdodHdhcmQ9dGV4dGJsb2NrW1JdLmVuZHNbTF07cmlnaHR3YXJkLmVhY2hDaGlsZChmdW5jdGlvbihjaGlsZCl7Y2hpbGQucGFyZW50PWlubmVyYmxvY2s7Y2hpbGQualEuYXBwZW5kVG8oaW5uZXJibG9jay5qUSl9KTtpZih0aGlzLmVuZHNbUl0pe3RoaXMuZW5kc1tSXVtSXT1yaWdodHdhcmQuZW5kc1tMXX1lbHNle3RoaXMuZW5kc1tMXT1yaWdodHdhcmQuZW5kc1tMXX1yaWdodHdhcmQuZW5kc1tMXVtMXT10aGlzLmVuZHNbUl07dGhpcy5lbmRzW1JdPXJpZ2h0d2FyZC5lbmRzW1JdO3JpZ2h0d2FyZC5wYXJlbnQucmVtb3ZlKCk7aWYoY3Vyc29yW0xdKXtjdXJzb3IuaW5zUmlnaHRPZihjdXJzb3JbTF0pfWVsc2V7Y3Vyc29yLmluc0F0TGVmdEVuZCh0aGlzKX1jdXJzb3IucGFyZW50LmJ1YmJsZSgicmVkcmF3Iil9ZWxzZXtpZih0ZXh0YmxvY2tbTF0uY3RybFNlcT09PXRleHRibG9jay5jdHJsU2VxKXt2YXIgY3Vyc29yPXRleHRibG9jay5jdXJzb3I7aWYoY3Vyc29yW0xdKXt0ZXh0YmxvY2tbTF0uZW5kc1tMXS5mb2N1cygpfWVsc2V7Y3Vyc29yLmluc0F0UmlnaHRFbmQodGV4dGJsb2NrW0xdLmVuZHNbTF0pfX19cmV0dXJuIHRoaXN9fSk7ZnVuY3Rpb24gbWFrZVRleHRCbG9jayhsYXRleCx0YWdOYW1lLGF0dHJzKXtyZXR1cm4gUChUZXh0QmxvY2sse2N0cmxTZXE6bGF0ZXgsaHRtbFRlbXBsYXRlOiI8Iit0YWdOYW1lKyIgIithdHRycysiPiYwPC8iK3RhZ05hbWUrIj4ifSl9TGF0ZXhDbWRzLmVtPUxhdGV4Q21kcy5pdGFsaWM9TGF0ZXhDbWRzLml0YWxpY3M9TGF0ZXhDbWRzLmVtcGg9TGF0ZXhDbWRzLnRleHRpdD1MYXRleENtZHMudGV4dHNsPW1ha2VUZXh0QmxvY2soIlxcdGV4dGl0IiwiaSIsJ2NsYXNzPSJ0ZXh0IicpO0xhdGV4Q21kcy5zdHJvbmc9TGF0ZXhDbWRzLmJvbGQ9TGF0ZXhDbWRzLnRleHRiZj1tYWtlVGV4dEJsb2NrKCJcXHRleHRiZiIsImIiLCdjbGFzcz0idGV4dCInKTtMYXRleENtZHMuc2Y9TGF0ZXhDbWRzLnRleHRzZj1tYWtlVGV4dEJsb2NrKCJcXHRleHRzZiIsInNwYW4iLCdjbGFzcz0ic2Fucy1zZXJpZiB0ZXh0IicpO0xhdGV4Q21kcy50dD1MYXRleENtZHMudGV4dHR0PW1ha2VUZXh0QmxvY2soIlxcdGV4dHR0Iiwic3BhbiIsJ2NsYXNzPSJtb25vc3BhY2UgdGV4dCInKTtMYXRleENtZHMudGV4dHNjPW1ha2VUZXh0QmxvY2soIlxcdGV4dHNjIiwic3BhbiIsJ3N0eWxlPSJmb250LXZhcmlhbnQ6c21hbGwtY2FwcyIgY2xhc3M9InRleHQiJyk7TGF0ZXhDbWRzLnVwcGVyY2FzZT1tYWtlVGV4dEJsb2NrKCJcXHVwcGVyY2FzZSIsInNwYW4iLCdzdHlsZT0idGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlIiBjbGFzcz0idGV4dCInKTtMYXRleENtZHMubG93ZXJjYXNlPW1ha2VUZXh0QmxvY2soIlxcbG93ZXJjYXNlIiwic3BhbiIsJ3N0eWxlPSJ0ZXh0LXRyYW5zZm9ybTpsb3dlcmNhc2UiIGNsYXNzPSJ0ZXh0IicpO3ZhciBMYXRleENvbW1hbmRJbnB1dD1DaGFyQ21kc1siXFwiXT1QKE1hdGhDb21tYW5kLGZ1bmN0aW9uKF8sX3N1cGVyKXtfLmN0cmxTZXE9IlxcIjtfLnJlcGxhY2VzPWZ1bmN0aW9uKHJlcGxhY2VkRnJhZ21lbnQpe3RoaXMuX3JlcGxhY2VkRnJhZ21lbnQ9cmVwbGFjZWRGcmFnbWVudC5kaXNvd24oKTt0aGlzLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gZmFsc2V9fTtfLmh0bWxUZW1wbGF0ZT0nPHNwYW4gY2xhc3M9ImxhdGV4LWNvbW1hbmQtaW5wdXQgbm9uLWxlYWYiPlxcPHNwYW4+JjA8L3NwYW4+PC9zcGFuPic7Xy50ZXh0VGVtcGxhdGU9WyJcXCJdO18uY3JlYXRlQmxvY2tzPWZ1bmN0aW9uKCl7X3N1cGVyLmNyZWF0ZUJsb2Nrcy5jYWxsKHRoaXMpO3RoaXMuZW5kc1tMXS5mb2N1cz1mdW5jdGlvbigpe3RoaXMucGFyZW50LmpRLmFkZENsYXNzKCJoYXNDdXJzb3IiKTtpZih0aGlzLmlzRW1wdHkoKSl7dGhpcy5wYXJlbnQualEucmVtb3ZlQ2xhc3MoImVtcHR5Iil9cmV0dXJuIHRoaXN9O3RoaXMuZW5kc1tMXS5ibHVyPWZ1bmN0aW9uKCl7dGhpcy5wYXJlbnQualEucmVtb3ZlQ2xhc3MoImhhc0N1cnNvciIpO2lmKHRoaXMuaXNFbXB0eSgpKXt0aGlzLnBhcmVudC5qUS5hZGRDbGFzcygiZW1wdHkiKX1yZXR1cm4gdGhpc319O18uY3JlYXRlTGVmdE9mPWZ1bmN0aW9uKGN1cnNvcil7X3N1cGVyLmNyZWF0ZUxlZnRPZi5jYWxsKHRoaXMsY3Vyc29yKTt0aGlzLmN1cnNvcj1jdXJzb3IuaW5zQXRSaWdodEVuZCh0aGlzLmVuZHNbTF0pO2lmKHRoaXMuX3JlcGxhY2VkRnJhZ21lbnQpe3ZhciBlbD10aGlzLmpRWzBdO3RoaXMualE9dGhpcy5fcmVwbGFjZWRGcmFnbWVudC5qUS5hZGRDbGFzcygiYmx1ciIpLmJpbmQoIm1vdXNlZG93biBtb3VzZW1vdmUiLGZ1bmN0aW9uKGUpeyQoZS50YXJnZXQ9ZWwpLnRyaWdnZXIoZSk7cmV0dXJuIGZhbHNlfSkuaW5zZXJ0QmVmb3JlKHRoaXMualEpLmFkZCh0aGlzLmpRKX10aGlzLmVuZHNbTF0ud3JpdGU9ZnVuY3Rpb24oY3Vyc29yLGNoLHJlcGxhY2VkRnJhZ21lbnQpe2lmKHJlcGxhY2VkRnJhZ21lbnQpe3JlcGxhY2VkRnJhZ21lbnQucmVtb3ZlKCl9aWYoY2gubWF0Y2goL1thLXpdL2kpKXtWYW5pbGxhU3ltYm9sKGNoKS5jcmVhdGVMZWZ0T2YoY3Vyc29yKX1lbHNle3RoaXMucGFyZW50LnJlbmRlckNvbW1hbmQoKTtpZihjaCE9PSJcXCJ8fCF0aGlzLmlzRW1wdHkoKSl7dGhpcy5wYXJlbnQucGFyZW50LndyaXRlKGN1cnNvcixjaCl9fX19O18ubGF0ZXg9ZnVuY3Rpb24oKXtyZXR1cm4iXFwiK3RoaXMuZW5kc1tMXS5sYXRleCgpKyIgIn07Xy5vbktleT1mdW5jdGlvbihrZXksZSl7aWYoa2V5PT09IlRhYiJ8fGtleT09PSJFbnRlciJ8fGtleT09PSJTcGFjZWJhciIpe3RoaXMucmVuZGVyQ29tbWFuZCgpO2UucHJldmVudERlZmF1bHQoKTtyZXR1cm4gZmFsc2V9fTtfLnJlbmRlckNvbW1hbmQ9ZnVuY3Rpb24oKXt0aGlzLmpRPXRoaXMualEubGFzdCgpO3RoaXMucmVtb3ZlKCk7aWYodGhpc1tSXSl7dGhpcy5jdXJzb3IuaW5zTGVmdE9mKHRoaXNbUl0pfWVsc2V7dGhpcy5jdXJzb3IuaW5zQXRSaWdodEVuZCh0aGlzLnBhcmVudCl9dmFyIGxhdGV4PXRoaXMuZW5kc1tMXS5sYXRleCgpLGNtZDtpZighbGF0ZXgpe2xhdGV4PSJiYWNrc2xhc2gifXRoaXMuY3Vyc29yLmluc2VydENtZChsYXRleCx0aGlzLl9yZXBsYWNlZEZyYWdtZW50KX19KTt2YXIgQmlub21pYWw9TGF0ZXhDbWRzLmJpbm9tPUxhdGV4Q21kcy5iaW5vbWlhbD1QKE1hdGhDb21tYW5kLGZ1bmN0aW9uKF8sX3N1cGVyKXtfLmN0cmxTZXE9IlxcYmlub20iO18uaHRtbFRlbXBsYXRlPSc8c3BhbiBjbGFzcz0icGFyZW4gc2NhbGVkIj4oPC9zcGFuPjxzcGFuIGNsYXNzPSJub24tbGVhZiI+PHNwYW4gY2xhc3M9ImFycmF5IG5vbi1sZWFmIj48c3Bhbj4mMDwvc3Bhbj48c3Bhbj4mMTwvc3Bhbj48L3NwYW4+PC9zcGFuPjxzcGFuIGNsYXNzPSJwYXJlbiBzY2FsZWQiPik8L3NwYW4+JztfLnRleHRUZW1wbGF0ZT1bImNob29zZSgiLCIsIiwiKSJdO18ucmVkcmF3PWZ1bmN0aW9uKCl7dmFyIGJsb2NralE9dGhpcy5qUS5lcSgxKTt2YXIgaGVpZ2h0PWJsb2NralEub3V0ZXJIZWlnaHQoKS8rYmxvY2tqUS5jc3MoImZvbnRTaXplIikuc2xpY2UoMCwtMik7dmFyIHBhcmVucz10aGlzLmpRLmZpbHRlcigiLnBhcmVuIik7c2NhbGUocGFyZW5zLG1pbigxKzAuMiooaGVpZ2h0LTEpLDEuMiksMS4wNSpoZWlnaHQpfX0pO3ZhciBDaG9vc2U9TGF0ZXhDbWRzLmNob29zZT1QKEJpbm9taWFsLGZ1bmN0aW9uKF8pe18uY3JlYXRlTGVmdE9mPUxpdmVGcmFjdGlvbi5wcm90b3R5cGUuY3JlYXRlTGVmdE9mfSk7dmFyIFZlY3Rvcj1MYXRleENtZHMudmVjdG9yPVAoTWF0aENvbW1hbmQsZnVuY3Rpb24oXyxfc3VwZXIpe18uY3RybFNlcT0iXFx2ZWN0b3IiO18uaHRtbFRlbXBsYXRlPSc8c3BhbiBjbGFzcz0iYXJyYXkiPjxzcGFuPiYwPC9zcGFuPjwvc3Bhbj4nO18ubGF0ZXg9ZnVuY3Rpb24oKXtyZXR1cm4iXFxiZWdpbnttYXRyaXh9Iit0aGlzLmZvbGRDaGlsZHJlbihbXSxmdW5jdGlvbihsYXRleCxjaGlsZCl7bGF0ZXgucHVzaChjaGlsZC5sYXRleCgpKTtyZXR1cm4gbGF0ZXh9KS5qb2luKCJcXFxcIikrIlxcZW5ke21hdHJpeH0ifTtfLnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4iWyIrdGhpcy5mb2xkQ2hpbGRyZW4oW10sZnVuY3Rpb24odGV4dCxjaGlsZCl7dGV4dC5wdXNoKGNoaWxkLnRleHQoKSk7cmV0dXJuIHRleHR9KS5qb2luKCkrIl0ifTtfLmNyZWF0ZUxlZnRPZj1mdW5jdGlvbihjdXJzb3Ipe19zdXBlci5jcmVhdGVMZWZ0T2YuY2FsbCh0aGlzLHRoaXMuY3Vyc29yPWN1cnNvcil9O18ub25LZXk9ZnVuY3Rpb24oa2V5LGUpe3ZhciBjdXJyZW50QmxvY2s9dGhpcy5jdXJzb3IucGFyZW50O2lmKGN1cnJlbnRCbG9jay5wYXJlbnQ9PT10aGlzKXtpZihrZXk9PT0iRW50ZXIiKXt2YXIgbmV3QmxvY2s9TWF0aEJsb2NrKCk7bmV3QmxvY2sucGFyZW50PXRoaXM7bmV3QmxvY2sualE9JCgiPHNwYW4+PC9zcGFuPiIpLmF0dHIobXFCbG9ja0lkLG5ld0Jsb2NrLmlkKS5pbnNlcnRBZnRlcihjdXJyZW50QmxvY2sualEpO2lmKGN1cnJlbnRCbG9ja1tSXSl7Y3VycmVudEJsb2NrW1JdW0xdPW5ld0Jsb2NrfWVsc2V7dGhpcy5lbmRzW1JdPW5ld0Jsb2NrfW5ld0Jsb2NrW1JdPWN1cnJlbnRCbG9ja1tSXTtjdXJyZW50QmxvY2tbUl09bmV3QmxvY2s7bmV3QmxvY2tbTF09Y3VycmVudEJsb2NrO3RoaXMuYnViYmxlKCJyZWRyYXciKS5jdXJzb3IuaW5zQXRSaWdodEVuZChuZXdCbG9jayk7ZS5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiBmYWxzZX1lbHNle2lmKGtleT09PSJUYWIiJiYhY3VycmVudEJsb2NrW1JdKXtpZihjdXJyZW50QmxvY2suaXNFbXB0eSgpKXtpZihjdXJyZW50QmxvY2tbTF0pe3RoaXMuY3Vyc29yLmluc1JpZ2h0T2YodGhpcyk7ZGVsZXRlIGN1cnJlbnRCbG9ja1tMXVtSXTt0aGlzLmVuZHNbUl09Y3VycmVudEJsb2NrW0xdO2N1cnJlbnRCbG9jay5qUS5yZW1vdmUoKTt0aGlzLmJ1YmJsZSgicmVkcmF3Iik7ZS5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiBmYWxzZX1lbHNle3JldHVybn19dmFyIG5ld0Jsb2NrPU1hdGhCbG9jaygpO25ld0Jsb2NrLnBhcmVudD10aGlzO25ld0Jsb2NrLmpRPSQoIjxzcGFuPjwvc3Bhbj4iKS5hdHRyKG1xQmxvY2tJZCxuZXdCbG9jay5pZCkuYXBwZW5kVG8odGhpcy5qUSk7dGhpcy5lbmRzW1JdPW5ld0Jsb2NrO2N1cnJlbnRCbG9ja1tSXT1uZXdCbG9jaztuZXdCbG9ja1tMXT1jdXJyZW50QmxvY2s7dGhpcy5idWJibGUoInJlZHJhdyIpLmN1cnNvci5pbnNBdFJpZ2h0RW5kKG5ld0Jsb2NrKTtlLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuIGZhbHNlfWVsc2V7aWYoZS53aGljaD09PTgpe2lmKGN1cnJlbnRCbG9jay5pc0VtcHR5KCkpe2lmKGN1cnJlbnRCbG9ja1tMXSl7dGhpcy5jdXJzb3IuaW5zQXRSaWdodEVuZChjdXJyZW50QmxvY2tbTF0pO2N1cnJlbnRCbG9ja1tMXVtSXT1jdXJyZW50QmxvY2tbUl19ZWxzZXt0aGlzLmN1cnNvci5pbnNMZWZ0T2YodGhpcyk7dGhpcy5lbmRzW0xdPWN1cnJlbnRCbG9ja1tSXX1pZihjdXJyZW50QmxvY2tbUl0pe2N1cnJlbnRCbG9ja1tSXVtMXT1jdXJyZW50QmxvY2tbTF19ZWxzZXt0aGlzLmVuZHNbUl09Y3VycmVudEJsb2NrW0xdfWN1cnJlbnRCbG9jay5qUS5yZW1vdmUoKTtpZih0aGlzLmlzRW1wdHkoKSl7dGhpcy5jdXJzb3IuZGVsZXRlRm9yd2FyZCgpfWVsc2V7dGhpcy5idWJibGUoInJlZHJhdyIpfWUucHJldmVudERlZmF1bHQoKTtyZXR1cm4gZmFsc2V9ZWxzZXtpZighdGhpcy5jdXJzb3JbTF0pe2UucHJldmVudERlZmF1bHQoKTtyZXR1cm4gZmFsc2V9fX19fX19fSk7TGF0ZXhDbWRzLmVkaXRhYmxlPVAoUm9vdE1hdGhDb21tYW5kLGZ1bmN0aW9uKF8sX3N1cGVyKXtfLmluaXQ9ZnVuY3Rpb24oKXtNYXRoQ29tbWFuZC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsIlxcZWRpdGFibGUiKX07Xy5qUWFkZD1mdW5jdGlvbigpe3ZhciBzZWxmPXRoaXM7X3N1cGVyLmpRYWRkLmFwcGx5KHNlbGYsYXJndW1lbnRzKTt2YXIgYmxvY2s9c2VsZi5lbmRzW0xdLmRpc293bigpO3ZhciBibG9ja2pRPXNlbGYualEuY2hpbGRyZW4oKS5kZXRhY2goKTtzZWxmLmVuZHNbTF09c2VsZi5lbmRzW1JdPVJvb3RNYXRoQmxvY2soKTtzZWxmLmJsb2Nrcz1bc2VsZi5lbmRzW0xdXTtzZWxmLmVuZHNbTF0ucGFyZW50PXNlbGY7Y3JlYXRlUm9vdChzZWxmLmpRLHNlbGYuZW5kc1tMXSxmYWxzZSx0cnVlKTtzZWxmLmN1cnNvcj1zZWxmLmVuZHNbTF0uY3Vyc29yO2Jsb2NrLmNoaWxkcmVuKCkuYWRvcHQoc2VsZi5lbmRzW0xdLDAsMCk7YmxvY2tqUS5hcHBlbmRUbyhzZWxmLmVuZHNbTF0ualEpO3NlbGYuZW5kc1tMXS5jdXJzb3IuaW5zQXRSaWdodEVuZChzZWxmLmVuZHNbTF0pfTtfLmxhdGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kc1tMXS5sYXRleCgpfTtfLnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmRzW0xdLnRleHQoKX19KTtMYXRleENtZHMuZj1iaW5kKFN5bWJvbCwiZiIsJzx2YXIgY2xhc3M9ImZsb3JpbiI+JmZub2Y7PC92YXI+PHNwYW4gc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjAiPiZuYnNwOzwvc3Bhbj4nKTt2YXIgVmFyaWFibGU9UChTeW1ib2wsZnVuY3Rpb24oXyxfc3VwZXIpe18uaW5pdD1mdW5jdGlvbihjaCxodG1sKXtfc3VwZXIuaW5pdC5jYWxsKHRoaXMsY2gsIjx2YXI+IisoaHRtbHx8Y2gpKyI8L3Zhcj4iKX07Xy50ZXh0PWZ1bmN0aW9uKCl7dmFyIHRleHQ9dGhpcy5jdHJsU2VxO2lmKHRoaXNbTF0mJiEodGhpc1tMXSBpbnN0YW5jZW9mIFZhcmlhYmxlKSYmISh0aGlzW0xdIGluc3RhbmNlb2YgQmluYXJ5T3BlcmF0b3IpKXt0ZXh0PSIqIit0ZXh0fWlmKHRoaXNbUl0mJiEodGhpc1tSXSBpbnN0YW5jZW9mIEJpbmFyeU9wZXJhdG9yKSYmISh0aGlzW1JdLmN0cmxTZXE9PT0iXiIpKXt0ZXh0Kz0iKiJ9cmV0dXJuIHRleHR9fSk7dmFyIFZhbmlsbGFTeW1ib2w9UChTeW1ib2wsZnVuY3Rpb24oXyxfc3VwZXIpe18uaW5pdD1mdW5jdGlvbihjaCxodG1sKXtfc3VwZXIuaW5pdC5jYWxsKHRoaXMsY2gsIjxzcGFuPiIrKGh0bWx8fGNoKSsiPC9zcGFuPiIpfX0pO0NoYXJDbWRzWyIgIl09YmluZChWYW5pbGxhU3ltYm9sLCJcXDoiLCIgIik7TGF0ZXhDbWRzLnByaW1lPUNoYXJDbWRzWyInIl09YmluZChWYW5pbGxhU3ltYm9sLCInIiwiJnByaW1lOyIpO3ZhciBOb25TeW1ib2xhU3ltYm9sPVAoU3ltYm9sLGZ1bmN0aW9uKF8sX3N1cGVyKXtfLmluaXQ9ZnVuY3Rpb24oY2gsaHRtbCl7X3N1cGVyLmluaXQuY2FsbCh0aGlzLGNoLCc8c3BhbiBjbGFzcz0ibm9uU3ltYm9sYSI+JysoaHRtbHx8Y2gpKyI8L3NwYW4+Iil9fSk7TGF0ZXhDbWRzWyJAIl09Tm9uU3ltYm9sYVN5bWJvbDtMYXRleENtZHNbIiYiXT1iaW5kKE5vblN5bWJvbGFTeW1ib2wsIlxcJiIsIiZhbXA7Iik7TGF0ZXhDbWRzWyIlIl09YmluZChOb25TeW1ib2xhU3ltYm9sLCJcXCUiLCIlIik7TGF0ZXhDbWRzLmFscGhhPUxhdGV4Q21kcy5iZXRhPUxhdGV4Q21kcy5nYW1tYT1MYXRleENtZHMuZGVsdGE9TGF0ZXhDbWRzLnpldGE9TGF0ZXhDbWRzLmV0YT1MYXRleENtZHMudGhldGE9TGF0ZXhDbWRzLmlvdGE9TGF0ZXhDbWRzLmthcHBhPUxhdGV4Q21kcy5tdT1MYXRleENtZHMubnU9TGF0ZXhDbWRzLnhpPUxhdGV4Q21kcy5yaG89TGF0ZXhDbWRzLnNpZ21hPUxhdGV4Q21kcy50YXU9TGF0ZXhDbWRzLmNoaT1MYXRleENtZHMucHNpPUxhdGV4Q21kcy5vbWVnYT1QKFZhcmlhYmxlLGZ1bmN0aW9uKF8sX3N1cGVyKXtfLmluaXQ9ZnVuY3Rpb24obGF0ZXgpe19zdXBlci5pbml0LmNhbGwodGhpcywiXFwiK2xhdGV4KyIgIiwiJiIrbGF0ZXgrIjsiKX19KTtMYXRleENtZHMucGhpPWJpbmQoVmFyaWFibGUsIlxccGhpICIsIiYjOTgxOyIpO0xhdGV4Q21kcy5waGl2PUxhdGV4Q21kcy52YXJwaGk9YmluZChWYXJpYWJsZSwiXFx2YXJwaGkgIiwiJnBoaTsiKTtMYXRleENtZHMuZXBzaWxvbj1iaW5kKFZhcmlhYmxlLCJcXGVwc2lsb24gIiwiJiMxMDEzOyIpO0xhdGV4Q21kcy5lcHNpdj1MYXRleENtZHMudmFyZXBzaWxvbj1iaW5kKFZhcmlhYmxlLCJcXHZhcmVwc2lsb24gIiwiJmVwc2lsb247Iik7TGF0ZXhDbWRzLnBpdj1MYXRleENtZHMudmFycGk9YmluZChWYXJpYWJsZSwiXFx2YXJwaSAiLCImcGl2OyIpO0xhdGV4Q21kcy5zaWdtYWY9TGF0ZXhDbWRzLnNpZ21hdj1MYXRleENtZHMudmFyc2lnbWE9YmluZChWYXJpYWJsZSwiXFx2YXJzaWdtYSAiLCImc2lnbWFmOyIpO0xhdGV4Q21kcy50aGV0YXY9TGF0ZXhDbWRzLnZhcnRoZXRhPUxhdGV4Q21kcy50aGV0YXN5bT1iaW5kKFZhcmlhYmxlLCJcXHZhcnRoZXRhICIsIiZ0aGV0YXN5bTsiKTtMYXRleENtZHMudXBzaWxvbj1MYXRleENtZHMudXBzaT1iaW5kKFZhcmlhYmxlLCJcXHVwc2lsb24gIiwiJnVwc2lsb247Iik7TGF0ZXhDbWRzLmdhbW1hZD1MYXRleENtZHMuR2FtbWFkPUxhdGV4Q21kcy5kaWdhbW1hPWJpbmQoVmFyaWFibGUsIlxcZGlnYW1tYSAiLCImIzk4OTsiKTtMYXRleENtZHMua2FwcGF2PUxhdGV4Q21kcy52YXJrYXBwYT1iaW5kKFZhcmlhYmxlLCJcXHZhcmthcHBhICIsIiYjMTAwODsiKTtMYXRleENtZHMucmhvdj1MYXRleENtZHMudmFycmhvPWJpbmQoVmFyaWFibGUsIlxcdmFycmhvICIsIiYjMTAwOTsiKTtMYXRleENtZHMucGk9TGF0ZXhDbWRzWyLPgCJdPWJpbmQoTm9uU3ltYm9sYVN5bWJvbCwiXFxwaSAiLCImcGk7Iik7TGF0ZXhDbWRzLmxhbWJkYT1iaW5kKE5vblN5bWJvbGFTeW1ib2wsIlxcbGFtYmRhICIsIiZsYW1iZGE7Iik7TGF0ZXhDbWRzLlVwc2lsb249TGF0ZXhDbWRzLlVwc2k9TGF0ZXhDbWRzLnVwc2loPUxhdGV4Q21kcy5VcHNpaD1iaW5kKFN5bWJvbCwiXFxVcHNpbG9uICIsJzx2YXIgc3R5bGU9ImZvbnQtZmFtaWx5OiBzZXJpZiI+JnVwc2loOzwvdmFyPicpO0xhdGV4Q21kcy5HYW1tYT1MYXRleENtZHMuRGVsdGE9TGF0ZXhDbWRzLlRoZXRhPUxhdGV4Q21kcy5MYW1iZGE9TGF0ZXhDbWRzLlhpPUxhdGV4Q21kcy5QaT1MYXRleENtZHMuU2lnbWE9TGF0ZXhDbWRzLlBoaT1MYXRleENtZHMuUHNpPUxhdGV4Q21kcy5PbWVnYT1MYXRleENtZHMuZm9yYWxsPVAoVmFuaWxsYVN5bWJvbCxmdW5jdGlvbihfLF9zdXBlcil7Xy5pbml0PWZ1bmN0aW9uKGxhdGV4KXtfc3VwZXIuaW5pdC5jYWxsKHRoaXMsIlxcIitsYXRleCsiICIsIiYiK2xhdGV4KyI7Iil9fSk7dmFyIExhdGV4RnJhZ21lbnQ9UChNYXRoQ29tbWFuZCxmdW5jdGlvbihfKXtfLmluaXQ9ZnVuY3Rpb24obGF0ZXgpe3RoaXMubGF0ZXg9bGF0ZXh9O18uY3JlYXRlTGVmdE9mPWZ1bmN0aW9uKGN1cnNvcil7Y3Vyc29yLndyaXRlTGF0ZXgodGhpcy5sYXRleCl9O18ucGFyc2VyPWZ1bmN0aW9uKCl7dmFyIGZyYWc9bGF0ZXhNYXRoUGFyc2VyLnBhcnNlKHRoaXMubGF0ZXgpLmNoaWxkcmVuKCk7cmV0dXJuIFBhcnNlci5zdWNjZWVkKGZyYWcpfX0pO0xhdGV4Q21kc1siwrkiXT1iaW5kKExhdGV4RnJhZ21lbnQsIl4xIik7TGF0ZXhDbWRzWyLCsiJdPWJpbmQoTGF0ZXhGcmFnbWVudCwiXjIiKTtMYXRleENtZHNbIsKzIl09YmluZChMYXRleEZyYWdtZW50LCJeMyIpO0xhdGV4Q21kc1siwrwiXT1iaW5kKExhdGV4RnJhZ21lbnQsIlxcZnJhYzE0Iik7TGF0ZXhDbWRzWyLCvSJdPWJpbmQoTGF0ZXhGcmFnbWVudCwiXFxmcmFjMTIiKTtMYXRleENtZHNbIsK+Il09YmluZChMYXRleEZyYWdtZW50LCJcXGZyYWMzNCIpO3ZhciBCaW5hcnlPcGVyYXRvcj1QKFN5bWJvbCxmdW5jdGlvbihfLF9zdXBlcil7Xy5pbml0PWZ1bmN0aW9uKGN0cmxTZXEsaHRtbCx0ZXh0KXtfc3VwZXIuaW5pdC5jYWxsKHRoaXMsY3RybFNlcSwnPHNwYW4gY2xhc3M9ImJpbmFyeS1vcGVyYXRvciI+JytodG1sKyI8L3NwYW4+Iix0ZXh0KX19KTt2YXIgUGx1c01pbnVzPVAoQmluYXJ5T3BlcmF0b3IsZnVuY3Rpb24oXyl7Xy5pbml0PVZhbmlsbGFTeW1ib2wucHJvdG90eXBlLmluaXQ7Xy5yZXNwYWNlPWZ1bmN0aW9uKCl7aWYoIXRoaXNbTF0pe3RoaXMualFbMF0uY2xhc3NOYW1lPSIifWVsc2V7aWYodGhpc1tMXSBpbnN0YW5jZW9mIEJpbmFyeU9wZXJhdG9yJiZ0aGlzW1JdJiYhKHRoaXNbUl0gaW5zdGFuY2VvZiBCaW5hcnlPcGVyYXRvcikpe3RoaXMualFbMF0uY2xhc3NOYW1lPSJ1bmFyeS1vcGVyYXRvciJ9ZWxzZXt0aGlzLmpRWzBdLmNsYXNzTmFtZT0iYmluYXJ5LW9wZXJhdG9yIn19cmV0dXJuIHRoaXN9fSk7TGF0ZXhDbWRzWyIrIl09YmluZChQbHVzTWludXMsIisiLCIrIik7TGF0ZXhDbWRzWyLigJMiXT1MYXRleENtZHNbIi0iXT1iaW5kKFBsdXNNaW51cywiLSIsIiZtaW51czsiKTtMYXRleENtZHNbIsKxIl09TGF0ZXhDbWRzLnBtPUxhdGV4Q21kcy5wbHVzbW49TGF0ZXhDbWRzLnBsdXNtaW51cz1iaW5kKFBsdXNNaW51cywiXFxwbSAiLCImcGx1c21uOyIpO0xhdGV4Q21kcy5tcD1MYXRleENtZHMubW5wbHVzPUxhdGV4Q21kcy5taW51c3BsdXM9YmluZChQbHVzTWludXMsIlxcbXAgIiwiJiM4NzIzOyIpO0NoYXJDbWRzWyIqIl09TGF0ZXhDbWRzLnNkb3Q9TGF0ZXhDbWRzLmNkb3Q9YmluZChCaW5hcnlPcGVyYXRvciwiXFxjZG90ICIsIiZtaWRkb3Q7Iik7TGF0ZXhDbWRzWyI9Il09YmluZChCaW5hcnlPcGVyYXRvciwiPSIsIj0iKTtMYXRleENtZHNbIjwiXT1iaW5kKEJpbmFyeU9wZXJhdG9yLCI8IiwiJmx0OyIpO0xhdGV4Q21kc1siPiJdPWJpbmQoQmluYXJ5T3BlcmF0b3IsIj4iLCImZ3Q7Iik7TGF0ZXhDbWRzLm5vdGluPUxhdGV4Q21kcy5zaW09TGF0ZXhDbWRzLmNvbmc9TGF0ZXhDbWRzLmVxdWl2PUxhdGV4Q21kcy5vcGx1cz1MYXRleENtZHMub3RpbWVzPVAoQmluYXJ5T3BlcmF0b3IsZnVuY3Rpb24oXyxfc3VwZXIpe18uaW5pdD1mdW5jdGlvbihsYXRleCl7X3N1cGVyLmluaXQuY2FsbCh0aGlzLCJcXCIrbGF0ZXgrIiAiLCImIitsYXRleCsiOyIpfX0pO0xhdGV4Q21kcy50aW1lcz1iaW5kKEJpbmFyeU9wZXJhdG9yLCJcXHRpbWVzICIsIiZ0aW1lczsiLCJbeF0iKTtMYXRleENtZHNbIsO3Il09TGF0ZXhDbWRzLmRpdj1MYXRleENtZHMuZGl2aWRlPUxhdGV4Q21kcy5kaXZpZGVzPWJpbmQoQmluYXJ5T3BlcmF0b3IsIlxcZGl2ICIsIiZkaXZpZGU7IiwiWy9dIik7TGF0ZXhDbWRzWyLiiaAiXT1MYXRleENtZHMubmU9TGF0ZXhDbWRzLm5lcT1iaW5kKEJpbmFyeU9wZXJhdG9yLCJcXG5lICIsIiZuZTsiKTtMYXRleENtZHMuYXN0PUxhdGV4Q21kcy5zdGFyPUxhdGV4Q21kcy5sb2FzdD1MYXRleENtZHMubG93YXN0PWJpbmQoQmluYXJ5T3BlcmF0b3IsIlxcYXN0ICIsIiZsb3dhc3Q7Iik7TGF0ZXhDbWRzLnRoZXJlZm9yPUxhdGV4Q21kcy50aGVyZWZvcmU9YmluZChCaW5hcnlPcGVyYXRvciwiXFx0aGVyZWZvcmUgIiwiJnRoZXJlNDsiKTtMYXRleENtZHMuY3V6PUxhdGV4Q21kcy5iZWNhdXNlPWJpbmQoQmluYXJ5T3BlcmF0b3IsIlxcYmVjYXVzZSAiLCImIzg3NTc7Iik7TGF0ZXhDbWRzLnByb3A9TGF0ZXhDbWRzLnByb3B0bz1iaW5kKEJpbmFyeU9wZXJhdG9yLCJcXHByb3B0byAiLCImcHJvcDsiKTtMYXRleENtZHNbIuKJiCJdPUxhdGV4Q21kcy5hc3ltcD1MYXRleENtZHMuYXBwcm94PWJpbmQoQmluYXJ5T3BlcmF0b3IsIlxcYXBwcm94ICIsIiZhc3ltcDsiKTtMYXRleENtZHMubHQ9YmluZChCaW5hcnlPcGVyYXRvciwiPCIsIiZsdDsiKTtMYXRleENtZHMuZ3Q9YmluZChCaW5hcnlPcGVyYXRvciwiPiIsIiZndDsiKTtMYXRleENtZHNbIuKJpCJdPUxhdGV4Q21kcy5sZT1MYXRleENtZHMubGVxPWJpbmQoQmluYXJ5T3BlcmF0b3IsIlxcbGUgIiwiJmxlOyIpO0xhdGV4Q21kc1si4omlIl09TGF0ZXhDbWRzLmdlPUxhdGV4Q21kcy5nZXE9YmluZChCaW5hcnlPcGVyYXRvciwiXFxnZSAiLCImZ2U7Iik7TGF0ZXhDbWRzLmlzaW49TGF0ZXhDbWRzWyJpbiJdPWJpbmQoQmluYXJ5T3BlcmF0b3IsIlxcaW4gIiwiJmlzaW47Iik7TGF0ZXhDbWRzLm5pPUxhdGV4Q21kcy5jb250YWlucz1iaW5kKEJpbmFyeU9wZXJhdG9yLCJcXG5pICIsIiZuaTsiKTtMYXRleENtZHMubm90bmk9TGF0ZXhDbWRzLm5pdG9uPUxhdGV4Q21kcy5ub3Rjb250YWlucz1MYXRleENtZHMuZG9lc25vdGNvbnRhaW49YmluZChCaW5hcnlPcGVyYXRvciwiXFxub3RcXG5pICIsIiYjODcxNjsiKTtMYXRleENtZHMuc3ViPUxhdGV4Q21kcy5zdWJzZXQ9YmluZChCaW5hcnlPcGVyYXRvciwiXFxzdWJzZXQgIiwiJnN1YjsiKTtMYXRleENtZHMuc3VwPUxhdGV4Q21kcy5zdXBzZXQ9TGF0ZXhDbWRzLnN1cGVyc2V0PWJpbmQoQmluYXJ5T3BlcmF0b3IsIlxcc3Vwc2V0ICIsIiZzdXA7Iik7TGF0ZXhDbWRzLm5zdWI9TGF0ZXhDbWRzLm5vdHN1Yj1MYXRleENtZHMubnN1YnNldD1MYXRleENtZHMubm90c3Vic2V0PWJpbmQoQmluYXJ5T3BlcmF0b3IsIlxcbm90XFxzdWJzZXQgIiwiJiM4ODM2OyIpO0xhdGV4Q21kcy5uc3VwPUxhdGV4Q21kcy5ub3RzdXA9TGF0ZXhDbWRzLm5zdXBzZXQ9TGF0ZXhDbWRzLm5vdHN1cHNldD1MYXRleENtZHMubnN1cGVyc2V0PUxhdGV4Q21kcy5ub3RzdXBlcnNldD1iaW5kKEJpbmFyeU9wZXJhdG9yLCJcXG5vdFxcc3Vwc2V0ICIsIiYjODgzNzsiKTtMYXRleENtZHMuc3ViZT1MYXRleENtZHMuc3ViZXE9TGF0ZXhDbWRzLnN1YnNldGU9TGF0ZXhDbWRzLnN1YnNldGVxPWJpbmQoQmluYXJ5T3BlcmF0b3IsIlxcc3Vic2V0ZXEgIiwiJnN1YmU7Iik7TGF0ZXhDbWRzLnN1cGU9TGF0ZXhDbWRzLnN1cGVxPUxhdGV4Q21kcy5zdXBzZXRlPUxhdGV4Q21kcy5zdXBzZXRlcT1MYXRleENtZHMuc3VwZXJzZXRlPUxhdGV4Q21kcy5zdXBlcnNldGVxPWJpbmQoQmluYXJ5T3BlcmF0b3IsIlxcc3Vwc2V0ZXEgIiwiJnN1cGU7Iik7TGF0ZXhDbWRzLm5zdWJlPUxhdGV4Q21kcy5uc3ViZXE9TGF0ZXhDbWRzLm5vdHN1YmU9TGF0ZXhDbWRzLm5vdHN1YmVxPUxhdGV4Q21kcy5uc3Vic2V0ZT1MYXRleENtZHMubnN1YnNldGVxPUxhdGV4Q21kcy5ub3RzdWJzZXRlPUxhdGV4Q21kcy5ub3RzdWJzZXRlcT1iaW5kKEJpbmFyeU9wZXJhdG9yLCJcXG5vdFxcc3Vic2V0ZXEgIiwiJiM4ODQwOyIpO0xhdGV4Q21kcy5uc3VwZT1MYXRleENtZHMubnN1cGVxPUxhdGV4Q21kcy5ub3RzdXBlPUxhdGV4Q21kcy5ub3RzdXBlcT1MYXRleENtZHMubnN1cHNldGU9TGF0ZXhDbWRzLm5zdXBzZXRlcT1MYXRleENtZHMubm90c3Vwc2V0ZT1MYXRleENtZHMubm90c3Vwc2V0ZXE9TGF0ZXhDbWRzLm5zdXBlcnNldGU9TGF0ZXhDbWRzLm5zdXBlcnNldGVxPUxhdGV4Q21kcy5ub3RzdXBlcnNldGU9TGF0ZXhDbWRzLm5vdHN1cGVyc2V0ZXE9YmluZChCaW5hcnlPcGVyYXRvciwiXFxub3RcXHN1cHNldGVxICIsIiYjODg0MTsiKTt2YXIgQmlnU3ltYm9sPVAoU3ltYm9sLGZ1bmN0aW9uKF8sX3N1cGVyKXtfLmluaXQ9ZnVuY3Rpb24oY2gsaHRtbCl7X3N1cGVyLmluaXQuY2FsbCh0aGlzLGNoLCI8YmlnPiIraHRtbCsiPC9iaWc+Iil9fSk7TGF0ZXhDbWRzWyLiiJEiXT1MYXRleENtZHMuc3VtPUxhdGV4Q21kcy5zdW1tYXRpb249YmluZChCaWdTeW1ib2wsIlxcc3VtICIsIiZzdW07Iik7TGF0ZXhDbWRzWyLiiI8iXT1MYXRleENtZHMucHJvZD1MYXRleENtZHMucHJvZHVjdD1iaW5kKEJpZ1N5bWJvbCwiXFxwcm9kICIsIiZwcm9kOyIpO0xhdGV4Q21kcy5jb3Byb2Q9TGF0ZXhDbWRzLmNvcHJvZHVjdD1iaW5kKEJpZ1N5bWJvbCwiXFxjb3Byb2QgIiwiJiM4NzIwOyIpO0xhdGV4Q21kc1si4oirIl09TGF0ZXhDbWRzWyJpbnQiXT1MYXRleENtZHMuaW50ZWdyYWw9YmluZChCaWdTeW1ib2wsIlxcaW50ICIsIiZpbnQ7Iik7TGF0ZXhDbWRzLk49TGF0ZXhDbWRzLm5hdHVyYWxzPUxhdGV4Q21kcy5OYXR1cmFscz1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcbWF0aGJie059IiwiJiM4NDY5OyIpO0xhdGV4Q21kcy5QPUxhdGV4Q21kcy5wcmltZXM9TGF0ZXhDbWRzLlByaW1lcz1MYXRleENtZHMucHJvamVjdGl2ZT1MYXRleENtZHMuUHJvamVjdGl2ZT1MYXRleENtZHMucHJvYmFiaWxpdHk9TGF0ZXhDbWRzLlByb2JhYmlsaXR5PWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxtYXRoYmJ7UH0iLCImIzg0NzM7Iik7TGF0ZXhDbWRzLlo9TGF0ZXhDbWRzLmludGVnZXJzPUxhdGV4Q21kcy5JbnRlZ2Vycz1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcbWF0aGJie1p9IiwiJiM4NDg0OyIpO0xhdGV4Q21kcy5RPUxhdGV4Q21kcy5yYXRpb25hbHM9TGF0ZXhDbWRzLlJhdGlvbmFscz1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcbWF0aGJie1F9IiwiJiM4NDc0OyIpO0xhdGV4Q21kcy5SPUxhdGV4Q21kcy5yZWFscz1MYXRleENtZHMuUmVhbHM9YmluZChWYW5pbGxhU3ltYm9sLCJcXG1hdGhiYntSfSIsIiYjODQ3NzsiKTtMYXRleENtZHMuQz1MYXRleENtZHMuY29tcGxleD1MYXRleENtZHMuQ29tcGxleD1MYXRleENtZHMuY29tcGxleGVzPUxhdGV4Q21kcy5Db21wbGV4ZXM9TGF0ZXhDbWRzLmNvbXBsZXhwbGFuZT1MYXRleENtZHMuQ29tcGxleHBsYW5lPUxhdGV4Q21kcy5Db21wbGV4UGxhbmU9YmluZChWYW5pbGxhU3ltYm9sLCJcXG1hdGhiYntDfSIsIiYjODQ1MDsiKTtMYXRleENtZHMuSD1MYXRleENtZHMuSGFtaWx0b25pYW49TGF0ZXhDbWRzLnF1YXRlcm5pb25zPUxhdGV4Q21kcy5RdWF0ZXJuaW9ucz1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcbWF0aGJie0h9IiwiJiM4NDYxOyIpO0xhdGV4Q21kcy5xdWFkPUxhdGV4Q21kcy5lbXNwPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxxdWFkICIsIiAgICAiKTtMYXRleENtZHMucXF1YWQ9YmluZChWYW5pbGxhU3ltYm9sLCJcXHFxdWFkICIsIiAgICAgICAgIik7TGF0ZXhDbWRzLmRpYW1vbmQ9YmluZChWYW5pbGxhU3ltYm9sLCJcXGRpYW1vbmQgIiwiJiM5NjcxOyIpO0xhdGV4Q21kcy5iaWd0cmlhbmdsZXVwPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxiaWd0cmlhbmdsZXVwICIsIiYjOTY1MTsiKTtMYXRleENtZHMub21pbnVzPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxvbWludXMgIiwiJiM4ODU0OyIpO0xhdGV4Q21kcy51cGx1cz1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcdXBsdXMgIiwiJiM4ODQ2OyIpO0xhdGV4Q21kcy5iaWd0cmlhbmdsZWRvd249YmluZChWYW5pbGxhU3ltYm9sLCJcXGJpZ3RyaWFuZ2xlZG93biAiLCImIzk2NjE7Iik7TGF0ZXhDbWRzLnNxY2FwPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxzcWNhcCAiLCImIzg4NTE7Iik7TGF0ZXhDbWRzLnRyaWFuZ2xlbGVmdD1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcdHJpYW5nbGVsZWZ0ICIsIiYjODg4MjsiKTtMYXRleENtZHMuc3FjdXA9YmluZChWYW5pbGxhU3ltYm9sLCJcXHNxY3VwICIsIiYjODg1MjsiKTtMYXRleENtZHMudHJpYW5nbGVyaWdodD1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcdHJpYW5nbGVyaWdodCAiLCImIzg4ODM7Iik7TGF0ZXhDbWRzLm9kb3Q9YmluZChWYW5pbGxhU3ltYm9sLCJcXG9kb3QgIiwiJiM4ODU3OyIpO0xhdGV4Q21kcy5iaWdjaXJjPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxiaWdjaXJjICIsIiYjOTcxMTsiKTtMYXRleENtZHMuZGFnZ2VyPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxkYWdnZXIgIiwiJiMwMTM0OyIpO0xhdGV4Q21kcy5kZGFnZ2VyPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxkZGFnZ2VyICIsIiYjMTM1OyIpO0xhdGV4Q21kcy53cj1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcd3IgIiwiJiM4NzY4OyIpO0xhdGV4Q21kcy5hbWFsZz1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcYW1hbGcgIiwiJiM4NzIwOyIpO0xhdGV4Q21kcy5tb2RlbHM9YmluZChWYW5pbGxhU3ltYm9sLCJcXG1vZGVscyAiLCImIzg4NzI7Iik7TGF0ZXhDbWRzLnByZWM9YmluZChWYW5pbGxhU3ltYm9sLCJcXHByZWMgIiwiJiM4ODI2OyIpO0xhdGV4Q21kcy5zdWNjPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxzdWNjICIsIiYjODgyNzsiKTtMYXRleENtZHMucHJlY2VxPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxwcmVjZXEgIiwiJiM4ODI4OyIpO0xhdGV4Q21kcy5zdWNjZXE9YmluZChWYW5pbGxhU3ltYm9sLCJcXHN1Y2NlcSAiLCImIzg4Mjk7Iik7TGF0ZXhDbWRzLnNpbWVxPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxzaW1lcSAiLCImIzg3NzE7Iik7TGF0ZXhDbWRzLm1pZD1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcbWlkICIsIiYjODczOTsiKTtMYXRleENtZHMubGw9YmluZChWYW5pbGxhU3ltYm9sLCJcXGxsICIsIiYjODgxMDsiKTtMYXRleENtZHMuZ2c9YmluZChWYW5pbGxhU3ltYm9sLCJcXGdnICIsIiYjODgxMTsiKTtMYXRleENtZHMucGFyYWxsZWw9YmluZChWYW5pbGxhU3ltYm9sLCJcXHBhcmFsbGVsICIsIiYjODc0MTsiKTtMYXRleENtZHMuYm93dGllPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxib3d0aWUgIiwiJiM4OTA0OyIpO0xhdGV4Q21kcy5zcXN1YnNldD1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcc3FzdWJzZXQgIiwiJiM4ODQ3OyIpO0xhdGV4Q21kcy5zcXN1cHNldD1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcc3FzdXBzZXQgIiwiJiM4ODQ4OyIpO0xhdGV4Q21kcy5zbWlsZT1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcc21pbGUgIiwiJiM4OTk1OyIpO0xhdGV4Q21kcy5zcXN1YnNldGVxPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxzcXN1YnNldGVxICIsIiYjODg0OTsiKTtMYXRleENtZHMuc3FzdXBzZXRlcT1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcc3FzdXBzZXRlcSAiLCImIzg4NTA7Iik7TGF0ZXhDbWRzLmRvdGVxPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxkb3RlcSAiLCImIzg3ODQ7Iik7TGF0ZXhDbWRzLmZyb3duPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxmcm93biAiLCImIzg5OTQ7Iik7TGF0ZXhDbWRzLnZkYXNoPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFx2ZGFzaCAiLCImIzg4NzA7Iik7TGF0ZXhDbWRzLmRhc2h2PWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxkYXNodiAiLCImIzg4Njc7Iik7TGF0ZXhDbWRzLmxvbmdsZWZ0YXJyb3c9YmluZChWYW5pbGxhU3ltYm9sLCJcXGxvbmdsZWZ0YXJyb3cgIiwiJiM4NTkyOyIpO0xhdGV4Q21kcy5sb25ncmlnaHRhcnJvdz1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcbG9uZ3JpZ2h0YXJyb3cgIiwiJiM4NTk0OyIpO0xhdGV4Q21kcy5Mb25nbGVmdGFycm93PWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxMb25nbGVmdGFycm93ICIsIiYjODY1NjsiKTtMYXRleENtZHMuTG9uZ3JpZ2h0YXJyb3c9YmluZChWYW5pbGxhU3ltYm9sLCJcXExvbmdyaWdodGFycm93ICIsIiYjODY1ODsiKTtMYXRleENtZHMubG9uZ2xlZnRyaWdodGFycm93PWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxsb25nbGVmdHJpZ2h0YXJyb3cgIiwiJiM4NTk2OyIpO0xhdGV4Q21kcy51cGRvd25hcnJvdz1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcdXBkb3duYXJyb3cgIiwiJiM4NTk3OyIpO0xhdGV4Q21kcy5Mb25nbGVmdHJpZ2h0YXJyb3c9YmluZChWYW5pbGxhU3ltYm9sLCJcXExvbmdsZWZ0cmlnaHRhcnJvdyAiLCImIzg2NjA7Iik7TGF0ZXhDbWRzLlVwZG93bmFycm93PWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxVcGRvd25hcnJvdyAiLCImIzg2NjE7Iik7TGF0ZXhDbWRzLm1hcHN0bz1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcbWFwc3RvICIsIiYjODYxNDsiKTtMYXRleENtZHMubmVhcnJvdz1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcbmVhcnJvdyAiLCImIzg1OTk7Iik7TGF0ZXhDbWRzLmhvb2tsZWZ0YXJyb3c9YmluZChWYW5pbGxhU3ltYm9sLCJcXGhvb2tsZWZ0YXJyb3cgIiwiJiM4NjE3OyIpO0xhdGV4Q21kcy5ob29rcmlnaHRhcnJvdz1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcaG9va3JpZ2h0YXJyb3cgIiwiJiM4NjE4OyIpO0xhdGV4Q21kcy5zZWFycm93PWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxzZWFycm93ICIsIiYjODYwMDsiKTtMYXRleENtZHMubGVmdGhhcnBvb251cD1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcbGVmdGhhcnBvb251cCAiLCImIzg2MzY7Iik7TGF0ZXhDbWRzLnJpZ2h0aGFycG9vbnVwPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxyaWdodGhhcnBvb251cCAiLCImIzg2NDA7Iik7TGF0ZXhDbWRzLnN3YXJyb3c9YmluZChWYW5pbGxhU3ltYm9sLCJcXHN3YXJyb3cgIiwiJiM4NjAxOyIpO0xhdGV4Q21kcy5sZWZ0aGFycG9vbmRvd249YmluZChWYW5pbGxhU3ltYm9sLCJcXGxlZnRoYXJwb29uZG93biAiLCImIzg2Mzc7Iik7TGF0ZXhDbWRzLnJpZ2h0aGFycG9vbmRvd249YmluZChWYW5pbGxhU3ltYm9sLCJcXHJpZ2h0aGFycG9vbmRvd24gIiwiJiM4NjQxOyIpO0xhdGV4Q21kcy5ud2Fycm93PWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxud2Fycm93ICIsIiYjODU5ODsiKTtMYXRleENtZHMubGRvdHM9YmluZChWYW5pbGxhU3ltYm9sLCJcXGxkb3RzICIsIiYjODIzMDsiKTtMYXRleENtZHMuY2RvdHM9YmluZChWYW5pbGxhU3ltYm9sLCJcXGNkb3RzICIsIiYjODk0MzsiKTtMYXRleENtZHMudmRvdHM9YmluZChWYW5pbGxhU3ltYm9sLCJcXHZkb3RzICIsIiYjODk0MjsiKTtMYXRleENtZHMuZGRvdHM9YmluZChWYW5pbGxhU3ltYm9sLCJcXGRkb3RzICIsIiYjODk0NDsiKTtMYXRleENtZHMuc3VyZD1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcc3VyZCAiLCImIzg3MzA7Iik7TGF0ZXhDbWRzLnRyaWFuZ2xlPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFx0cmlhbmdsZSAiLCImIzk2NTM7Iik7TGF0ZXhDbWRzLmVsbD1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcZWxsICIsIiYjODQ2NzsiKTtMYXRleENtZHMudG9wPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFx0b3AgIiwiJiM4ODY4OyIpO0xhdGV4Q21kcy5mbGF0PWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxmbGF0ICIsIiYjOTgzNzsiKTtMYXRleENtZHMubmF0dXJhbD1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcbmF0dXJhbCAiLCImIzk4Mzg7Iik7TGF0ZXhDbWRzLnNoYXJwPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxzaGFycCAiLCImIzk4Mzk7Iik7TGF0ZXhDbWRzLndwPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFx3cCAiLCImIzg0NzI7Iik7TGF0ZXhDbWRzLmJvdD1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcYm90ICIsIiYjODg2OTsiKTtMYXRleENtZHMuY2x1YnN1aXQ9YmluZChWYW5pbGxhU3ltYm9sLCJcXGNsdWJzdWl0ICIsIiYjOTgyNzsiKTtMYXRleENtZHMuZGlhbW9uZHN1aXQ9YmluZChWYW5pbGxhU3ltYm9sLCJcXGRpYW1vbmRzdWl0ICIsIiYjOTgyNjsiKTtMYXRleENtZHMuaGVhcnRzdWl0PWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxoZWFydHN1aXQgIiwiJiM5ODI1OyIpO0xhdGV4Q21kcy5zcGFkZXN1aXQ9YmluZChWYW5pbGxhU3ltYm9sLCJcXHNwYWRlc3VpdCAiLCImIzk4MjQ7Iik7TGF0ZXhDbWRzLm9pbnQ9YmluZChWYW5pbGxhU3ltYm9sLCJcXG9pbnQgIiwiJiM4NzUwOyIpO0xhdGV4Q21kcy5iaWdjYXA9YmluZChWYW5pbGxhU3ltYm9sLCJcXGJpZ2NhcCAiLCImIzg3NDU7Iik7TGF0ZXhDbWRzLmJpZ2N1cD1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcYmlnY3VwICIsIiYjODc0NjsiKTtMYXRleENtZHMuYmlnc3FjdXA9YmluZChWYW5pbGxhU3ltYm9sLCJcXGJpZ3NxY3VwICIsIiYjODg1MjsiKTtMYXRleENtZHMuYmlndmVlPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxiaWd2ZWUgIiwiJiM4NzQ0OyIpO0xhdGV4Q21kcy5iaWd3ZWRnZT1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcYmlnd2VkZ2UgIiwiJiM4NzQzOyIpO0xhdGV4Q21kcy5iaWdvZG90PWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxiaWdvZG90ICIsIiYjODg1NzsiKTtMYXRleENtZHMuYmlnb3RpbWVzPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxiaWdvdGltZXMgIiwiJiM4ODU1OyIpO0xhdGV4Q21kcy5iaWdvcGx1cz1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcYmlnb3BsdXMgIiwiJiM4ODUzOyIpO0xhdGV4Q21kcy5iaWd1cGx1cz1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcYmlndXBsdXMgIiwiJiM4ODQ2OyIpO0xhdGV4Q21kcy5sZmxvb3I9YmluZChWYW5pbGxhU3ltYm9sLCJcXGxmbG9vciAiLCImIzg5NzA7Iik7TGF0ZXhDbWRzLnJmbG9vcj1iaW5kKFZhbmlsbGFTeW1ib2wsIlxccmZsb29yICIsIiYjODk3MTsiKTtMYXRleENtZHMubGNlaWw9YmluZChWYW5pbGxhU3ltYm9sLCJcXGxjZWlsICIsIiYjODk2ODsiKTtMYXRleENtZHMucmNlaWw9YmluZChWYW5pbGxhU3ltYm9sLCJcXHJjZWlsICIsIiYjODk2OTsiKTtMYXRleENtZHMuc2xhc2g9YmluZChWYW5pbGxhU3ltYm9sLCJcXHNsYXNoICIsIiYjNDc7Iik7TGF0ZXhDbWRzLm9wZW5jdXJseWJyYWNlPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxvcGVuY3VybHlicmFjZSAiLCImIzEyMzsiKTtMYXRleENtZHMuY2xvc2VjdXJseWJyYWNlPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxjbG9zZWN1cmx5YnJhY2UgIiwiJiMxMjU7Iik7TGF0ZXhDbWRzLmNhcmV0PWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxjYXJldCAiLCJeIik7TGF0ZXhDbWRzLnVuZGVyc2NvcmU9YmluZChWYW5pbGxhU3ltYm9sLCJcXHVuZGVyc2NvcmUgIiwiXyIpO0xhdGV4Q21kcy5iYWNrc2xhc2g9YmluZChWYW5pbGxhU3ltYm9sLCJcXGJhY2tzbGFzaCAiLCJcXCIpO0xhdGV4Q21kcy52ZXJ0PWJpbmQoVmFuaWxsYVN5bWJvbCwifCIpO0xhdGV4Q21kcy5wZXJwPUxhdGV4Q21kcy5wZXJwZW5kaWN1bGFyPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxwZXJwICIsIiZwZXJwOyIpO0xhdGV4Q21kcy5uYWJsYT1MYXRleENtZHMuZGVsPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxuYWJsYSAiLCImbmFibGE7Iik7TGF0ZXhDbWRzLmhiYXI9YmluZChWYW5pbGxhU3ltYm9sLCJcXGhiYXIgIiwiJiM4NDYzOyIpO0xhdGV4Q21kcy5BQT1MYXRleENtZHMuQW5nc3Ryb209TGF0ZXhDbWRzLmFuZ3N0cm9tPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFx0ZXh0XFxBQSAiLCImIzg0OTE7Iik7TGF0ZXhDbWRzLnJpbmc9TGF0ZXhDbWRzLmNpcmM9TGF0ZXhDbWRzLmNpcmNsZT1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcY2lyYyAiLCImIzg3Mjg7Iik7TGF0ZXhDbWRzLmJ1bGw9TGF0ZXhDbWRzLmJ1bGxldD1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcYnVsbGV0ICIsIiZidWxsOyIpO0xhdGV4Q21kcy5zZXRtaW51cz1MYXRleENtZHMuc21hbGxzZXRtaW51cz1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcc2V0bWludXMgIiwiJiM4NzI2OyIpO0xhdGV4Q21kcy5ub3Q9TGF0ZXhDbWRzWyLCrCJdPUxhdGV4Q21kcy5uZWc9YmluZChWYW5pbGxhU3ltYm9sLCJcXG5lZyAiLCImbm90OyIpO0xhdGV4Q21kc1si4oCmIl09TGF0ZXhDbWRzLmRvdHM9TGF0ZXhDbWRzLmVsbGlwPUxhdGV4Q21kcy5oZWxsaXA9TGF0ZXhDbWRzLmVsbGlwc2lzPUxhdGV4Q21kcy5oZWxsaXBzaXM9YmluZChWYW5pbGxhU3ltYm9sLCJcXGRvdHMgIiwiJmhlbGxpcDsiKTtMYXRleENtZHMuY29udmVyZ2VzPUxhdGV4Q21kcy5kYXJyPUxhdGV4Q21kcy5kbmFycj1MYXRleENtZHMuZG5hcnJvdz1MYXRleENtZHMuZG93bmFycm93PWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxkb3duYXJyb3cgIiwiJmRhcnI7Iik7TGF0ZXhDbWRzLmRBcnI9TGF0ZXhDbWRzLmRuQXJyPUxhdGV4Q21kcy5kbkFycm93PUxhdGV4Q21kcy5Eb3duYXJyb3c9YmluZChWYW5pbGxhU3ltYm9sLCJcXERvd25hcnJvdyAiLCImZEFycjsiKTtMYXRleENtZHMuZGl2ZXJnZXM9TGF0ZXhDbWRzLnVhcnI9TGF0ZXhDbWRzLnVwYXJyb3c9YmluZChWYW5pbGxhU3ltYm9sLCJcXHVwYXJyb3cgIiwiJnVhcnI7Iik7TGF0ZXhDbWRzLnVBcnI9TGF0ZXhDbWRzLlVwYXJyb3c9YmluZChWYW5pbGxhU3ltYm9sLCJcXFVwYXJyb3cgIiwiJnVBcnI7Iik7TGF0ZXhDbWRzLnRvPWJpbmQoQmluYXJ5T3BlcmF0b3IsIlxcdG8gIiwiJnJhcnI7Iik7TGF0ZXhDbWRzLnJhcnI9TGF0ZXhDbWRzLnJpZ2h0YXJyb3c9YmluZChWYW5pbGxhU3ltYm9sLCJcXHJpZ2h0YXJyb3cgIiwiJnJhcnI7Iik7TGF0ZXhDbWRzLmltcGxpZXM9YmluZChCaW5hcnlPcGVyYXRvciwiXFxSaWdodGFycm93ICIsIiZyQXJyOyIpO0xhdGV4Q21kcy5yQXJyPUxhdGV4Q21kcy5SaWdodGFycm93PWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxSaWdodGFycm93ICIsIiZyQXJyOyIpO0xhdGV4Q21kcy5nZXRzPWJpbmQoQmluYXJ5T3BlcmF0b3IsIlxcZ2V0cyAiLCImbGFycjsiKTtMYXRleENtZHMubGFycj1MYXRleENtZHMubGVmdGFycm93PWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxsZWZ0YXJyb3cgIiwiJmxhcnI7Iik7TGF0ZXhDbWRzLmltcGxpZWRieT1iaW5kKEJpbmFyeU9wZXJhdG9yLCJcXExlZnRhcnJvdyAiLCImbEFycjsiKTtMYXRleENtZHMubEFycj1MYXRleENtZHMuTGVmdGFycm93PWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxMZWZ0YXJyb3cgIiwiJmxBcnI7Iik7TGF0ZXhDbWRzLmhhcnI9TGF0ZXhDbWRzLmxyYXJyPUxhdGV4Q21kcy5sZWZ0cmlnaHRhcnJvdz1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcbGVmdHJpZ2h0YXJyb3cgIiwiJmhhcnI7Iik7TGF0ZXhDbWRzLmlmZj1iaW5kKEJpbmFyeU9wZXJhdG9yLCJcXExlZnRyaWdodGFycm93ICIsIiZoQXJyOyIpO0xhdGV4Q21kcy5oQXJyPUxhdGV4Q21kcy5sckFycj1MYXRleENtZHMuTGVmdHJpZ2h0YXJyb3c9YmluZChWYW5pbGxhU3ltYm9sLCJcXExlZnRyaWdodGFycm93ICIsIiZoQXJyOyIpO0xhdGV4Q21kcy5SZT1MYXRleENtZHMuUmVhbD1MYXRleENtZHMucmVhbD1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcUmUgIiwiJnJlYWw7Iik7TGF0ZXhDbWRzLkltPUxhdGV4Q21kcy5pbWFnPUxhdGV4Q21kcy5pbWFnZT1MYXRleENtZHMuaW1hZ2luPUxhdGV4Q21kcy5pbWFnaW5hcnk9TGF0ZXhDbWRzLkltYWdpbmFyeT1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcSW0gIiwiJmltYWdlOyIpO0xhdGV4Q21kcy5wYXJ0PUxhdGV4Q21kcy5wYXJ0aWFsPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxwYXJ0aWFsICIsIiZwYXJ0OyIpO0xhdGV4Q21kcy5pbmY9TGF0ZXhDbWRzLmluZmluPUxhdGV4Q21kcy5pbmZ0eT1MYXRleENtZHMuaW5maW5pdHk9YmluZChWYW5pbGxhU3ltYm9sLCJcXGluZnR5ICIsIiZpbmZpbjsiKTtMYXRleENtZHMuYWxlZj1MYXRleENtZHMuYWxlZnN5bT1MYXRleENtZHMuYWxlcGg9TGF0ZXhDbWRzLmFsZXBoc3ltPWJpbmQoVmFuaWxsYVN5bWJvbCwiXFxhbGVwaCAiLCImYWxlZnN5bTsiKTtMYXRleENtZHMueGlzdD1MYXRleENtZHMueGlzdHM9TGF0ZXhDbWRzLmV4aXN0PUxhdGV4Q21kcy5leGlzdHM9YmluZChWYW5pbGxhU3ltYm9sLCJcXGV4aXN0cyAiLCImZXhpc3Q7Iik7TGF0ZXhDbWRzLmFuZD1MYXRleENtZHMubGFuZD1MYXRleENtZHMud2VkZ2U9YmluZChWYW5pbGxhU3ltYm9sLCJcXHdlZGdlICIsIiZhbmQ7Iik7TGF0ZXhDbWRzLm9yPUxhdGV4Q21kcy5sb3I9TGF0ZXhDbWRzLnZlZT1iaW5kKFZhbmlsbGFTeW1ib2wsIlxcdmVlICIsIiZvcjsiKTtMYXRleENtZHMubz1MYXRleENtZHMuTz1MYXRleENtZHMuZW1wdHk9TGF0ZXhDbWRzLmVtcHR5c2V0PUxhdGV4Q21kcy5vc2xhc2g9TGF0ZXhDbWRzLk9zbGFzaD1MYXRleENtZHMubm90aGluZz1MYXRleENtZHMudmFybm90aGluZz1iaW5kKEJpbmFyeU9wZXJhdG9yLCJcXHZhcm5vdGhpbmcgIiwiJmVtcHR5OyIpO0xhdGV4Q21kcy5jdXA9TGF0ZXhDbWRzLnVuaW9uPWJpbmQoQmluYXJ5T3BlcmF0b3IsIlxcY3VwICIsIiZjdXA7Iik7TGF0ZXhDbWRzLmNhcD1MYXRleENtZHMuaW50ZXJzZWN0PUxhdGV4Q21kcy5pbnRlcnNlY3Rpb249YmluZChCaW5hcnlPcGVyYXRvciwiXFxjYXAgIiwiJmNhcDsiKTtMYXRleENtZHMuZGVnPUxhdGV4Q21kcy5kZWdyZWU9YmluZChWYW5pbGxhU3ltYm9sLCJeXFxjaXJjICIsIiZkZWc7Iik7TGF0ZXhDbWRzLmFuZz1MYXRleENtZHMuYW5nbGU9YmluZChWYW5pbGxhU3ltYm9sLCJcXGFuZ2xlICIsIiZhbmc7Iik7dmFyIE5vbkl0YWxpY2l6ZWRGdW5jdGlvbj1QKFN5bWJvbCxmdW5jdGlvbihfLF9zdXBlcil7Xy5pbml0PWZ1bmN0aW9uKGZuKXtfc3VwZXIuaW5pdC5jYWxsKHRoaXMsIlxcIitmbisiICIsIjxzcGFuPiIrZm4rIjwvc3Bhbj4iKX07Xy5yZXNwYWNlPWZ1bmN0aW9uKCl7dGhpcy5qUVswXS5jbGFzc05hbWU9KHRoaXNbUl0gaW5zdGFuY2VvZiBTdXBTdWJ8fHRoaXNbUl0gaW5zdGFuY2VvZiBCcmFja2V0KT8iIjoibm9uLWl0YWxpY2l6ZWQtZnVuY3Rpb24ifX0pO0xhdGV4Q21kcy5sbj1MYXRleENtZHMubGc9TGF0ZXhDbWRzLmxvZz1MYXRleENtZHMuc3Bhbj1MYXRleENtZHMucHJvaj1MYXRleENtZHMuZGV0PUxhdGV4Q21kcy5kaW09TGF0ZXhDbWRzLm1pbj1MYXRleENtZHMubWF4PUxhdGV4Q21kcy5tb2Q9TGF0ZXhDbWRzLmxjbT1MYXRleENtZHMuZ2NkPUxhdGV4Q21kcy5nY2Y9TGF0ZXhDbWRzLmhjZj1MYXRleENtZHMubGltPU5vbkl0YWxpY2l6ZWRGdW5jdGlvbjsoZnVuY3Rpb24oKXt2YXIgdHJpZz1bInNpbiIsImNvcyIsInRhbiIsInNlYyIsImNvc2VjIiwiY3NjIiwiY290YW4iLCJjb3QiXTtmb3IodmFyIGkgaW4gdHJpZyl7TGF0ZXhDbWRzW3RyaWdbaV1dPUxhdGV4Q21kc1t0cmlnW2ldKyJoIl09TGF0ZXhDbWRzWyJhIit0cmlnW2ldXT1MYXRleENtZHNbImFyYyIrdHJpZ1tpXV09TGF0ZXhDbWRzWyJhIit0cmlnW2ldKyJoIl09TGF0ZXhDbWRzWyJhcmMiK3RyaWdbaV0rImgiXT1Ob25JdGFsaWNpemVkRnVuY3Rpb259fSgpKTt2YXIgbGF0ZXhNYXRoUGFyc2VyPShmdW5jdGlvbigpe2Z1bmN0aW9uIGNvbW1hbmRUb0Jsb2NrKGNtZCl7dmFyIGJsb2NrPU1hdGhCbG9jaygpO2NtZC5hZG9wdChibG9jaywwLDApO3JldHVybiBibG9ja31mdW5jdGlvbiBqb2luQmxvY2tzKGJsb2Nrcyl7dmFyIGZpcnN0QmxvY2s9YmxvY2tzWzBdfHxNYXRoQmxvY2soKTtmb3IodmFyIGk9MTtpPGJsb2Nrcy5sZW5ndGg7aSs9MSl7YmxvY2tzW2ldLmNoaWxkcmVuKCkuYWRvcHQoZmlyc3RCbG9jayxmaXJzdEJsb2NrLmVuZHNbUl0sMCl9cmV0dXJuIGZpcnN0QmxvY2t9dmFyIHN0cmluZz1QYXJzZXIuc3RyaW5nO3ZhciByZWdleD1QYXJzZXIucmVnZXg7dmFyIGxldHRlcj1QYXJzZXIubGV0dGVyO3ZhciBhbnk9UGFyc2VyLmFueTt2YXIgb3B0V2hpdGVzcGFjZT1QYXJzZXIub3B0V2hpdGVzcGFjZTt2YXIgc3VjY2VlZD1QYXJzZXIuc3VjY2VlZDt2YXIgZmFpbD1QYXJzZXIuZmFpbDt2YXIgdmFyaWFibGU9bGV0dGVyLm1hcChWYXJpYWJsZSk7dmFyIHN5bWJvbD1yZWdleCgvXlteJHt9XFxfXl0vKS5tYXAoVmFuaWxsYVN5bWJvbCk7dmFyIGNvbnRyb2xTZXF1ZW5jZT1yZWdleCgvXlteXFxhLWVnLXpBLVpdLykub3Ioc3RyaW5nKCJcXCIpLnRoZW4ocmVnZXgoL15bYS16XSsvaSkub3IocmVnZXgoL15ccysvKS5yZXN1bHQoIiAiKSkub3IoYW55KSkpLnRoZW4oZnVuY3Rpb24oY3RybFNlcSl7dmFyIGNtZEtsYXNzPUxhdGV4Q21kc1tjdHJsU2VxXTtpZihjbWRLbGFzcyl7cmV0dXJuIGNtZEtsYXNzKGN0cmxTZXEpLnBhcnNlcigpfWVsc2V7cmV0dXJuIGZhaWwoInVua25vd24gY29tbWFuZDogXFwiK2N0cmxTZXEpfX0pO3ZhciBjb21tYW5kPWNvbnRyb2xTZXF1ZW5jZS5vcih2YXJpYWJsZSkub3Ioc3ltYm9sKTt2YXIgbWF0aEdyb3VwPXN0cmluZygieyIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbWF0aFNlcXVlbmNlfSkuc2tpcChzdHJpbmcoIn0iKSk7dmFyIG1hdGhCbG9jaz1vcHRXaGl0ZXNwYWNlLnRoZW4obWF0aEdyb3VwLm9yKGNvbW1hbmQubWFwKGNvbW1hbmRUb0Jsb2NrKSkpO3ZhciBtYXRoU2VxdWVuY2U9bWF0aEJsb2NrLm1hbnkoKS5tYXAoam9pbkJsb2Nrcykuc2tpcChvcHRXaGl0ZXNwYWNlKTt2YXIgb3B0TWF0aEJsb2NrPXN0cmluZygiWyIpLnRoZW4obWF0aEJsb2NrLnRoZW4oZnVuY3Rpb24oYmxvY2spe3JldHVybiBibG9jay5qb2luKCJsYXRleCIpIT09Il0iP3N1Y2NlZWQoYmxvY2spOmZhaWwoKX0pLm1hbnkoKS5tYXAoam9pbkJsb2Nrcykuc2tpcChvcHRXaGl0ZXNwYWNlKSkuc2tpcChzdHJpbmcoIl0iKSk7dmFyIGxhdGV4TWF0aD1tYXRoU2VxdWVuY2U7bGF0ZXhNYXRoLmJsb2NrPW1hdGhCbG9jaztsYXRleE1hdGgub3B0QmxvY2s9b3B0TWF0aEJsb2NrO3JldHVybiBsYXRleE1hdGh9KSgpO3ZhciBDdXJzb3I9UChQb2ludCxmdW5jdGlvbihfKXtfLmluaXQ9ZnVuY3Rpb24ocm9vdCl7dGhpcy5wYXJlbnQ9dGhpcy5yb290PXJvb3Q7dmFyIGpRPXRoaXMualE9dGhpcy5falE9JCgnPHNwYW4gY2xhc3M9ImN1cnNvciI+Jnp3ajs8L3NwYW4+Jyk7dGhpcy5ibGluaz1mdW5jdGlvbigpe2pRLnRvZ2dsZUNsYXNzKCJibGluayIpfTt0aGlzLnVwRG93bkNhY2hlPXt9fTtfLnNob3c9ZnVuY3Rpb24oKXt0aGlzLmpRPXRoaXMuX2pRLnJlbW92ZUNsYXNzKCJibGluayIpO2lmKCJpbnRlcnZhbElkIiBpbiB0aGlzKXtjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCl9ZWxzZXtpZih0aGlzW1JdKXtpZih0aGlzLnNlbGVjdGlvbiYmdGhpcy5zZWxlY3Rpb24uZW5kc1tMXVtMXT09PXRoaXNbTF0pe3RoaXMualEuaW5zZXJ0QmVmb3JlKHRoaXMuc2VsZWN0aW9uLmpRKX1lbHNle3RoaXMualEuaW5zZXJ0QmVmb3JlKHRoaXNbUl0ualEuZmlyc3QoKSl9fWVsc2V7dGhpcy5qUS5hcHBlbmRUbyh0aGlzLnBhcmVudC5qUSl9dGhpcy5wYXJlbnQuZm9jdXMoKX10aGlzLmludGVydmFsSWQ9c2V0SW50ZXJ2YWwodGhpcy5ibGluayw1MDApO3JldHVybiB0aGlzfTtfLmhpZGU9ZnVuY3Rpb24oKXtpZigiaW50ZXJ2YWxJZCIgaW4gdGhpcyl7Y2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpfWRlbGV0ZSB0aGlzLmludGVydmFsSWQ7dGhpcy5qUS5kZXRhY2goKTt0aGlzLmpRPSQoKTtyZXR1cm4gdGhpc307Xy53aXRoRGlySW5zZXJ0QXQ9ZnVuY3Rpb24oZGlyLHBhcmVudCx3aXRoRGlyLG9wcERpcil7dmFyIG9sZFBhcmVudD10aGlzLnBhcmVudDt0aGlzLnBhcmVudD1wYXJlbnQ7dGhpc1tkaXJdPXdpdGhEaXI7dGhpc1stZGlyXT1vcHBEaXI7b2xkUGFyZW50LmJsdXIoKX07Xy5pbnNEaXJPZj1mdW5jdGlvbihkaXIsZWwpe3ByYXlEaXJlY3Rpb24oZGlyKTt0aGlzLndpdGhEaXJJbnNlcnRBdChkaXIsZWwucGFyZW50LGVsW2Rpcl0sZWwpO3RoaXMucGFyZW50LmpRLmFkZENsYXNzKCJoYXNDdXJzb3IiKTt0aGlzLmpRLmluc0Rpck9mKGRpcixlbC5qUSk7cmV0dXJuIHRoaXN9O18uaW5zTGVmdE9mPWZ1bmN0aW9uKGVsKXtyZXR1cm4gdGhpcy5pbnNEaXJPZihMLGVsKX07Xy5pbnNSaWdodE9mPWZ1bmN0aW9uKGVsKXtyZXR1cm4gdGhpcy5pbnNEaXJPZihSLGVsKX07Xy5pbnNBdERpckVuZD1mdW5jdGlvbihkaXIsZWwpe3ByYXlEaXJlY3Rpb24oZGlyKTt0aGlzLndpdGhEaXJJbnNlcnRBdChkaXIsZWwsMCxlbC5lbmRzW2Rpcl0pO2lmKGRpcj09PUwmJmVsLnRleHRhcmVhKXt0aGlzLmpRLmluc0Rpck9mKC1kaXIsZWwudGV4dGFyZWEpfWVsc2V7dGhpcy5qUS5pbnNBdERpckVuZChkaXIsZWwualEpfWVsLmZvY3VzKCk7cmV0dXJuIHRoaXN9O18uaW5zQXRMZWZ0RW5kPWZ1bmN0aW9uKGVsKXtyZXR1cm4gdGhpcy5pbnNBdERpckVuZChMLGVsKX07Xy5pbnNBdFJpZ2h0RW5kPWZ1bmN0aW9uKGVsKXtyZXR1cm4gdGhpcy5pbnNBdERpckVuZChSLGVsKX07Xy5ob3BEaXI9ZnVuY3Rpb24oZGlyKXtwcmF5RGlyZWN0aW9uKGRpcik7dGhpcy5qUS5pbnNEaXJPZihkaXIsdGhpc1tkaXJdLmpRKTt0aGlzWy1kaXJdPXRoaXNbZGlyXTt0aGlzW2Rpcl09dGhpc1tkaXJdW2Rpcl07cmV0dXJuIHRoaXN9O18uaG9wTGVmdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhvcERpcihMKX07Xy5ob3BSaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhvcERpcihSKX07Xy5tb3ZlRGlyV2l0aGluPWZ1bmN0aW9uKGRpcixibG9jayl7cHJheURpcmVjdGlvbihkaXIpO2lmKHRoaXNbZGlyXSl7aWYodGhpc1tkaXJdLmVuZHNbLWRpcl0pe3RoaXMuaW5zQXREaXJFbmQoLWRpcix0aGlzW2Rpcl0uZW5kc1stZGlyXSl9ZWxzZXt0aGlzLmhvcERpcihkaXIpfX1lbHNle2lmKHRoaXMucGFyZW50PT09YmxvY2spe3JldHVybn1pZih0aGlzLnBhcmVudFtkaXJdKXt0aGlzLmluc0F0RGlyRW5kKC1kaXIsdGhpcy5wYXJlbnRbZGlyXSl9ZWxzZXt0aGlzLmluc0Rpck9mKGRpcix0aGlzLnBhcmVudC5wYXJlbnQpfX19O18ubW92ZUxlZnRXaXRoaW49ZnVuY3Rpb24oYmxvY2spe3JldHVybiB0aGlzLm1vdmVEaXJXaXRoaW4oTCxibG9jayl9O18ubW92ZVJpZ2h0V2l0aGluPWZ1bmN0aW9uKGJsb2NrKXtyZXR1cm4gdGhpcy5tb3ZlRGlyV2l0aGluKFIsYmxvY2spfTtfLm1vdmVEaXI9ZnVuY3Rpb24oZGlyKXtwcmF5RGlyZWN0aW9uKGRpcik7Y2xlYXJVcERvd25DYWNoZSh0aGlzKTtpZih0aGlzLnNlbGVjdGlvbil7dGhpcy5pbnNEaXJPZihkaXIsdGhpcy5zZWxlY3Rpb24uZW5kc1tkaXJdKS5jbGVhclNlbGVjdGlvbigpfWVsc2V7dGhpcy5tb3ZlRGlyV2l0aGluKGRpcix0aGlzLnJvb3QpfXJldHVybiB0aGlzLnNob3coKX07Xy5tb3ZlTGVmdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1vdmVEaXIoTCl9O18ubW92ZVJpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW92ZURpcihSKX07Xy5tb3ZlVXA9ZnVuY3Rpb24oKXtyZXR1cm4gbW92ZVVwRG93bih0aGlzLCJ1cCIpfTtfLm1vdmVEb3duPWZ1bmN0aW9uKCl7cmV0dXJuIG1vdmVVcERvd24odGhpcywiZG93biIpfTtmdW5jdGlvbiBtb3ZlVXBEb3duKHNlbGYsZGlyKXtpZihzZWxmW1JdW2Rpcl0pe3NlbGYuaW5zQXRMZWZ0RW5kKHNlbGZbUl1bZGlyXSl9ZWxzZXtpZihzZWxmW0xdW2Rpcl0pe3NlbGYuaW5zQXRSaWdodEVuZChzZWxmW0xdW2Rpcl0pfWVsc2V7dmFyIGFuY2VzdG9yQmxvY2s9c2VsZi5wYXJlbnQ7ZG97dmFyIHByb3A9YW5jZXN0b3JCbG9ja1tkaXJdO2lmKHByb3Ape2lmKHR5cGVvZiBwcm9wPT09ImZ1bmN0aW9uIil7cHJvcD1hbmNlc3RvckJsb2NrW2Rpcl0oc2VsZil9aWYocHJvcD09PWZhbHNlfHxwcm9wIGluc3RhbmNlb2YgTWF0aEJsb2NrKXtzZWxmLnVwRG93bkNhY2hlW2FuY2VzdG9yQmxvY2suaWRdPVBvaW50KHNlbGYucGFyZW50LHNlbGZbTF0sc2VsZltSXSk7aWYocHJvcCBpbnN0YW5jZW9mIE1hdGhCbG9jayl7dmFyIGNhY2hlZD1zZWxmLnVwRG93bkNhY2hlW3Byb3AuaWRdO2lmKGNhY2hlZCl7aWYoY2FjaGVkW1JdKXtzZWxmLmluc0xlZnRPZihjYWNoZWRbUl0pfWVsc2V7c2VsZi5pbnNBdFJpZ2h0RW5kKGNhY2hlZC5wYXJlbnQpfX1lbHNle3ZhciBwYWdlWD1vZmZzZXQoc2VsZikubGVmdDtzZWxmLmluc0F0UmlnaHRFbmQocHJvcCk7c2VsZi5zZWVrSG9yaXoocGFnZVgscHJvcCl9fWJyZWFrfX1hbmNlc3RvckJsb2NrPWFuY2VzdG9yQmxvY2sucGFyZW50LnBhcmVudH13aGlsZShhbmNlc3RvckJsb2NrKX19cmV0dXJuIHNlbGYuY2xlYXJTZWxlY3Rpb24oKS5zaG93KCl9Xy5zZWVrPWZ1bmN0aW9uKHRhcmdldCxwYWdlWCxwYWdlWSl7Y2xlYXJVcERvd25DYWNoZSh0aGlzKTt2YXIgY21kLGJsb2NrLGN1cnNvcj10aGlzLmNsZWFyU2VsZWN0aW9uKCkuc2hvdygpO2lmKHRhcmdldC5oYXNDbGFzcygiZW1wdHkiKSl7Y3Vyc29yLmluc0F0TGVmdEVuZChNYXRoRWxlbWVudFt0YXJnZXQuYXR0cihtcUJsb2NrSWQpXSk7cmV0dXJuIGN1cnNvcn1jbWQ9TWF0aEVsZW1lbnRbdGFyZ2V0LmF0dHIobXFDbWRJZCldO2lmKGNtZCBpbnN0YW5jZW9mIFN5bWJvbCl7aWYodGFyZ2V0Lm91dGVyV2lkdGgoKT4yKihwYWdlWC10YXJnZXQub2Zmc2V0KCkubGVmdCkpe2N1cnNvci5pbnNMZWZ0T2YoY21kKX1lbHNle2N1cnNvci5pbnNSaWdodE9mKGNtZCl9cmV0dXJuIGN1cnNvcn1pZighY21kKXtibG9jaz1NYXRoRWxlbWVudFt0YXJnZXQuYXR0cihtcUJsb2NrSWQpXTtpZighYmxvY2spe3RhcmdldD10YXJnZXQucGFyZW50KCk7Y21kPU1hdGhFbGVtZW50W3RhcmdldC5hdHRyKG1xQ21kSWQpXTtpZighY21kKXtibG9jaz1NYXRoRWxlbWVudFt0YXJnZXQuYXR0cihtcUJsb2NrSWQpXTtpZighYmxvY2spe2Jsb2NrPWN1cnNvci5yb290fX19fWlmKGNtZCl7Y3Vyc29yLmluc1JpZ2h0T2YoY21kKX1lbHNle2N1cnNvci5pbnNBdFJpZ2h0RW5kKGJsb2NrKX1yZXR1cm4gY3Vyc29yLnNlZWtIb3JpeihwYWdlWCxjdXJzb3Iucm9vdCl9O18uc2Vla0hvcml6PWZ1bmN0aW9uKHBhZ2VYLGJsb2NrKXt2YXIgY3Vyc29yPXRoaXM7dmFyIGRpc3Q9b2Zmc2V0KGN1cnNvcikubGVmdC1wYWdlWDt2YXIgbGVmdERpc3Q7ZG97Y3Vyc29yLm1vdmVMZWZ0V2l0aGluKGJsb2NrKTtsZWZ0RGlzdD1kaXN0O2Rpc3Q9b2Zmc2V0KGN1cnNvcikubGVmdC1wYWdlWH13aGlsZShkaXN0PjAmJihjdXJzb3JbTF18fGN1cnNvci5wYXJlbnQhPT1ibG9jaykpO2lmKC1kaXN0PmxlZnREaXN0KXtjdXJzb3IubW92ZVJpZ2h0V2l0aGluKGJsb2NrKX1yZXR1cm4gY3Vyc29yfTtmdW5jdGlvbiBvZmZzZXQoc2VsZil7dmFyIG9mZnNldD1zZWxmLmpRLnJlbW92ZUNsYXNzKCJjdXJzb3IiKS5vZmZzZXQoKTtzZWxmLmpRLmFkZENsYXNzKCJjdXJzb3IiKTtyZXR1cm4gb2Zmc2V0fV8ud3JpdGVMYXRleD1mdW5jdGlvbihsYXRleCl7dmFyIHNlbGY9dGhpcztjbGVhclVwRG93bkNhY2hlKHNlbGYpO3NlbGYuc2hvdygpLmRlbGV0ZVNlbGVjdGlvbigpO3ZhciBhbGw9UGFyc2VyLmFsbDt2YXIgZW9mPVBhcnNlci5lb2Y7dmFyIGJsb2NrPWxhdGV4TWF0aFBhcnNlci5za2lwKGVvZikub3IoYWxsLnJlc3VsdChmYWxzZSkpLnBhcnNlKGxhdGV4KTtpZihibG9jayl7YmxvY2suY2hpbGRyZW4oKS5hZG9wdChzZWxmLnBhcmVudCxzZWxmW0xdLHNlbGZbUl0pO01hdGhFbGVtZW50LmpRaXplKGJsb2NrLmpvaW4oImh0bWwiKSkuaW5zZXJ0QmVmb3JlKHNlbGYualEpO3NlbGZbTF09YmxvY2suZW5kc1tSXTtibG9jay5maW5hbGl6ZUluc2VydCgpO3NlbGYucGFyZW50LmJ1YmJsZSgicmVkcmF3Iil9cmV0dXJuIHRoaXMuaGlkZSgpfTtfLndyaXRlPWZ1bmN0aW9uKGNoKXt2YXIgc2Vsbj10aGlzLnByZXBhcmVXcml0ZSgpO3JldHVybiB0aGlzLmluc2VydENoKGNoLHNlbG4pfTtfLmluc2VydENoPWZ1bmN0aW9uKGNoLHJlcGxhY2VkRnJhZ21lbnQpe3RoaXMucGFyZW50LndyaXRlKHRoaXMsY2gscmVwbGFjZWRGcmFnbWVudCk7cmV0dXJuIHRoaXN9O18uaW5zZXJ0Q21kPWZ1bmN0aW9uKGxhdGV4Q21kLHJlcGxhY2VkRnJhZ21lbnQpe3ZhciBjbWQ9TGF0ZXhDbWRzW2xhdGV4Q21kXTtpZihjbWQpe2NtZD1jbWQobGF0ZXhDbWQpO2lmKHJlcGxhY2VkRnJhZ21lbnQpe2NtZC5yZXBsYWNlcyhyZXBsYWNlZEZyYWdtZW50KX1jbWQuY3JlYXRlTGVmdE9mKHRoaXMpfWVsc2V7Y21kPVRleHRCbG9jaygpO2NtZC5yZXBsYWNlcyhsYXRleENtZCk7Y21kLmVuZHNbTF0uZm9jdXM9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5mb2N1cztyZXR1cm4gdGhpc307Y21kLmNyZWF0ZUxlZnRPZih0aGlzKTt0aGlzLmluc1JpZ2h0T2YoY21kKTtpZihyZXBsYWNlZEZyYWdtZW50KXtyZXBsYWNlZEZyYWdtZW50LnJlbW92ZSgpfX1yZXR1cm4gdGhpc307Xy51bndyYXBHcmFtcD1mdW5jdGlvbigpe3ZhciBncmFtcD10aGlzLnBhcmVudC5wYXJlbnQ7dmFyIGdyZWF0Z3JhbXA9Z3JhbXAucGFyZW50O3ZhciByaWdodHdhcmQ9Z3JhbXBbUl07dmFyIGN1cnNvcj10aGlzO3ZhciBsZWZ0d2FyZD1ncmFtcFtMXTtncmFtcC5kaXNvd24oKS5lYWNoQ2hpbGQoZnVuY3Rpb24odW5jbGUpe2lmKHVuY2xlLmlzRW1wdHkoKSl7cmV0dXJufXVuY2xlLmNoaWxkcmVuKCkuYWRvcHQoZ3JlYXRncmFtcCxsZWZ0d2FyZCxyaWdodHdhcmQpLmVhY2goZnVuY3Rpb24oY291c2luKXtjb3VzaW4ualEuaW5zZXJ0QmVmb3JlKGdyYW1wLmpRLmZpcnN0KCkpfSk7bGVmdHdhcmQ9dW5jbGUuZW5kc1tSXX0pO2lmKCF0aGlzW1JdKXtpZih0aGlzW0xdKXt0aGlzW1JdPXRoaXNbTF1bUl19ZWxzZXt3aGlsZSghdGhpc1tSXSl7dGhpcy5wYXJlbnQ9dGhpcy5wYXJlbnRbUl07aWYodGhpcy5wYXJlbnQpe3RoaXNbUl09dGhpcy5wYXJlbnQuZW5kc1tMXX1lbHNle3RoaXNbUl09Z3JhbXBbUl07dGhpcy5wYXJlbnQ9Z3JlYXRncmFtcDticmVha319fX1pZih0aGlzW1JdKXt0aGlzLmluc0xlZnRPZih0aGlzW1JdKX1lbHNle3RoaXMuaW5zQXRSaWdodEVuZChncmVhdGdyYW1wKX1ncmFtcC5qUS5yZW1vdmUoKTtpZihncmFtcFtMXSl7Z3JhbXBbTF0ucmVzcGFjZSgpfWlmKGdyYW1wW1JdKXtncmFtcFtSXS5yZXNwYWNlKCl9fTtfLmRlbGV0ZURpcj1mdW5jdGlvbihkaXIpe3ByYXlEaXJlY3Rpb24oZGlyKTtjbGVhclVwRG93bkNhY2hlKHRoaXMpO3RoaXMuc2hvdygpO2lmKHRoaXMuZGVsZXRlU2VsZWN0aW9uKCkpe31lbHNle2lmKHRoaXNbZGlyXSl7aWYodGhpc1tkaXJdLmlzRW1wdHkoKSl7dGhpc1tkaXJdPXRoaXNbZGlyXS5yZW1vdmUoKVtkaXJdfWVsc2V7dGhpcy5zZWxlY3REaXIoZGlyKX19ZWxzZXtpZih0aGlzLnBhcmVudCE9PXRoaXMucm9vdCl7aWYodGhpcy5wYXJlbnQucGFyZW50LmlzRW1wdHkoKSl7cmV0dXJuIHRoaXMuaW5zRGlyT2YoLWRpcix0aGlzLnBhcmVudC5wYXJlbnQpLmRlbGV0ZURpcihkaXIpfWVsc2V7dGhpcy51bndyYXBHcmFtcCgpfX19fWlmKHRoaXNbTF0pe3RoaXNbTF0ucmVzcGFjZSgpfWlmKHRoaXNbUl0pe3RoaXNbUl0ucmVzcGFjZSgpfXRoaXMucGFyZW50LmJ1YmJsZSgicmVkcmF3Iik7cmV0dXJuIHRoaXN9O18uYmFja3NwYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVsZXRlRGlyKEwpfTtfLmRlbGV0ZUZvcndhcmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWxldGVEaXIoUil9O18uc2VsZWN0RnJvbT1mdW5jdGlvbihhbnRpY3Vyc29yKXt2YXIgb25lQT10aGlzLG90aGVyQT1hbnRpY3Vyc29yO2xvb3BUaHJvdWdoQW5jZXN0b3JzOndoaWxlKHRydWUpe2Zvcih2YXIgb25lST10aGlzO29uZUkhPT1vbmVBLnBhcmVudC5wYXJlbnQ7b25lST1vbmVJLnBhcmVudC5wYXJlbnQpe2lmKG9uZUkucGFyZW50PT09b3RoZXJBLnBhcmVudCl7bGVmdD1vbmVJO3JpZ2h0PW90aGVyQTticmVhayBsb29wVGhyb3VnaEFuY2VzdG9yc319Zm9yKHZhciBvdGhlckk9YW50aWN1cnNvcjtvdGhlckkhPT1vdGhlckEucGFyZW50LnBhcmVudDtvdGhlckk9b3RoZXJJLnBhcmVudC5wYXJlbnQpe2lmKG9uZUEucGFyZW50PT09b3RoZXJJLnBhcmVudCl7bGVmdD1vbmVBO3JpZ2h0PW90aGVySTticmVhayBsb29wVGhyb3VnaEFuY2VzdG9yc319aWYob25lQS5wYXJlbnQucGFyZW50KXtvbmVBPW9uZUEucGFyZW50LnBhcmVudH1pZihvdGhlckEucGFyZW50LnBhcmVudCl7b3RoZXJBPW90aGVyQS5wYXJlbnQucGFyZW50fX12YXIgbGVmdCxyaWdodCxsZWZ0UmlnaHQ7aWYobGVmdFtSXSE9PXJpZ2h0KXtmb3IodmFyIHJpZ2h0d2FyZD1sZWZ0O3JpZ2h0d2FyZDtyaWdodHdhcmQ9cmlnaHR3YXJkW1JdKXtpZihyaWdodHdhcmQ9PT1yaWdodFtMXSl7bGVmdFJpZ2h0PXRydWU7YnJlYWt9fWlmKCFsZWZ0UmlnaHQpe2xlZnRSaWdodD1yaWdodDtyaWdodD1sZWZ0O2xlZnQ9bGVmdFJpZ2h0fX10aGlzLmhpZGUoKS5zZWxlY3Rpb249U2VsZWN0aW9uKGxlZnRbTF1bUl18fGxlZnQucGFyZW50LmVuZHNbTF0scmlnaHRbUl1bTF18fHJpZ2h0LnBhcmVudC5lbmRzW1JdKTt0aGlzLmluc1JpZ2h0T2YocmlnaHRbUl1bTF18fHJpZ2h0LnBhcmVudC5lbmRzW1JdKTt0aGlzLnJvb3Quc2VsZWN0aW9uQ2hhbmdlZCgpfTtfLnNlbGVjdERpcj1mdW5jdGlvbihkaXIpe3ByYXlEaXJlY3Rpb24oZGlyKTtjbGVhclVwRG93bkNhY2hlKHRoaXMpO2lmKHRoaXMuc2VsZWN0aW9uKXtpZih0aGlzLnNlbGVjdGlvbi5lbmRzW2Rpcl09PT10aGlzWy1kaXJdKXtpZih0aGlzW2Rpcl0pe3RoaXMuaG9wRGlyKGRpcikuc2VsZWN0aW9uLmV4dGVuZERpcihkaXIpfWVsc2V7aWYodGhpcy5wYXJlbnQhPT10aGlzLnJvb3Qpe3RoaXMuaW5zRGlyT2YoZGlyLHRoaXMucGFyZW50LnBhcmVudCkuc2VsZWN0aW9uLmxldmVsVXAoKX19fWVsc2V7dGhpcy5ob3BEaXIoZGlyKTtpZih0aGlzLnNlbGVjdGlvbi5lbmRzW2Rpcl09PT10aGlzLnNlbGVjdGlvbi5lbmRzWy1kaXJdKXt0aGlzLmNsZWFyU2VsZWN0aW9uKCkuc2hvdygpO3JldHVybn10aGlzLnNlbGVjdGlvbi5yZXRyYWN0RGlyKGRpcil9fWVsc2V7aWYodGhpc1tkaXJdKXt0aGlzLmhvcERpcihkaXIpfWVsc2V7aWYodGhpcy5wYXJlbnQ9PT10aGlzLnJvb3Qpe3JldHVybn10aGlzLmluc0Rpck9mKGRpcix0aGlzLnBhcmVudC5wYXJlbnQpfXRoaXMuaGlkZSgpLnNlbGVjdGlvbj1TZWxlY3Rpb24odGhpc1stZGlyXSl9dGhpcy5yb290LnNlbGVjdGlvbkNoYW5nZWQoKX07Xy5zZWxlY3RMZWZ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0RGlyKEwpfTtfLnNlbGVjdFJpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0RGlyKFIpfTtmdW5jdGlvbiBjbGVhclVwRG93bkNhY2hlKHNlbGYpe3NlbGYudXBEb3duQ2FjaGU9e319Xy5wcmVwYXJlTW92ZT1mdW5jdGlvbigpe2NsZWFyVXBEb3duQ2FjaGUodGhpcyk7cmV0dXJuIHRoaXMuc2hvdygpLmNsZWFyU2VsZWN0aW9uKCl9O18ucHJlcGFyZUVkaXQ9ZnVuY3Rpb24oKXtjbGVhclVwRG93bkNhY2hlKHRoaXMpO3JldHVybiB0aGlzLnNob3coKS5kZWxldGVTZWxlY3Rpb24oKX07Xy5wcmVwYXJlV3JpdGU9ZnVuY3Rpb24oKXtjbGVhclVwRG93bkNhY2hlKHRoaXMpO3JldHVybiB0aGlzLnNob3coKS5yZXBsYWNlU2VsZWN0aW9uKCl9O18uY2xlYXJTZWxlY3Rpb249ZnVuY3Rpb24oKXtpZih0aGlzLnNlbGVjdGlvbil7dGhpcy5zZWxlY3Rpb24uY2xlYXIoKTtkZWxldGUgdGhpcy5zZWxlY3Rpb247dGhpcy5yb290LnNlbGVjdGlvbkNoYW5nZWQoKX1yZXR1cm4gdGhpc307Xy5kZWxldGVTZWxlY3Rpb249ZnVuY3Rpb24oKXtpZighdGhpcy5zZWxlY3Rpb24pe3JldHVybiBmYWxzZX10aGlzW0xdPXRoaXMuc2VsZWN0aW9uLmVuZHNbTF1bTF07dGhpc1tSXT10aGlzLnNlbGVjdGlvbi5lbmRzW1JdW1JdO3RoaXMuc2VsZWN0aW9uLnJlbW92ZSgpO3RoaXMucm9vdC5zZWxlY3Rpb25DaGFuZ2VkKCk7cmV0dXJuIGRlbGV0ZSB0aGlzLnNlbGVjdGlvbn07Xy5yZXBsYWNlU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIHNlbG49dGhpcy5zZWxlY3Rpb247aWYoc2Vsbil7dGhpc1tMXT1zZWxuLmVuZHNbTF1bTF07dGhpc1tSXT1zZWxuLmVuZHNbUl1bUl07ZGVsZXRlIHRoaXMuc2VsZWN0aW9ufXJldHVybiBzZWxufX0pO3ZhciBTZWxlY3Rpb249UChNYXRoRnJhZ21lbnQsZnVuY3Rpb24oXyxfc3VwZXIpe18uaW5pdD1mdW5jdGlvbigpe3ZhciBmcmFnPXRoaXM7X3N1cGVyLmluaXQuYXBwbHkoZnJhZyxhcmd1bWVudHMpO2ZyYWcualF3cmFwKGZyYWcualEpfTtfLmpRd3JhcD1mdW5jdGlvbihjaGlsZHJlbil7dGhpcy5qUT1jaGlsZHJlbi53cmFwQWxsKCc8c3BhbiBjbGFzcz0ic2VsZWN0aW9uIj48L3NwYW4+JykucGFyZW50KCl9O18uYWRvcHQ9ZnVuY3Rpb24oKXt0aGlzLmpRLnJlcGxhY2VXaXRoKHRoaXMualE9dGhpcy5qUS5jaGlsZHJlbigpKTtyZXR1cm4gX3N1cGVyLmFkb3B0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Xy5jbGVhcj1mdW5jdGlvbigpe3RoaXMualEucmVwbGFjZVdpdGgodGhpcy5qUS5jaGlsZHJlbigpKTtyZXR1cm4gdGhpc307Xy5sZXZlbFVwPWZ1bmN0aW9uKCl7dmFyIHNlbG49dGhpcyxncmFtcD1zZWxuLmVuZHNbTF09c2Vsbi5lbmRzW1JdPXNlbG4uZW5kc1tSXS5wYXJlbnQucGFyZW50O3NlbG4uY2xlYXIoKS5qUXdyYXAoZ3JhbXAualEpO3JldHVybiBzZWxufTtfLmV4dGVuZERpcj1mdW5jdGlvbihkaXIpe3ByYXlEaXJlY3Rpb24oZGlyKTt0aGlzLmVuZHNbZGlyXT10aGlzLmVuZHNbZGlyXVtkaXJdO3RoaXMuZW5kc1tkaXJdLmpRLmluc0F0RGlyRW5kKGRpcix0aGlzLmpRKTtyZXR1cm4gdGhpc307Xy5leHRlbmRMZWZ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXh0ZW5kRGlyKEwpfTtfLmV4dGVuZFJpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXh0ZW5kRGlyKFIpfTtfLnJldHJhY3REaXI9ZnVuY3Rpb24oZGlyKXtwcmF5RGlyZWN0aW9uKGRpcik7dGhpcy5lbmRzWy1kaXJdLmpRLmluc0Rpck9mKC1kaXIsdGhpcy5qUSk7dGhpcy5lbmRzWy1kaXJdPXRoaXMuZW5kc1stZGlyXVtkaXJdfTtfLnJldHJhY3RSaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJldHJhY3REaXIoUil9O18ucmV0cmFjdExlZnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXRyYWN0RGlyKEwpfX0pO2pRdWVyeS5mbi5tYXRocXVpbGw9ZnVuY3Rpb24oY21kLGxhdGV4KXtzd2l0Y2goY21kKXtjYXNlInJlZHJhdyI6cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBibG9ja0lkPSQodGhpcykuYXR0cihtcUJsb2NrSWQpLHJvb3RCbG9jaz1ibG9ja0lkJiZNYXRoRWxlbWVudFtibG9ja0lkXTtpZihyb290QmxvY2speyhmdW5jdGlvbiBwb3N0T3JkZXJSZWRyYXcoZWwpe2VsLmVhY2hDaGlsZChwb3N0T3JkZXJSZWRyYXcpO2lmKGVsLnJlZHJhdyl7ZWwucmVkcmF3KCl9fShyb290QmxvY2spKX19KTtjYXNlInJldmVydCI6cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBibG9ja0lkPSQodGhpcykuYXR0cihtcUJsb2NrSWQpLGJsb2NrPWJsb2NrSWQmJk1hdGhFbGVtZW50W2Jsb2NrSWRdO2lmKGJsb2NrJiZibG9jay5yZXZlcnQpe2Jsb2NrLnJldmVydCgpfX0pO2Nhc2UibGF0ZXgiOmlmKGFyZ3VtZW50cy5sZW5ndGg+MSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBibG9ja0lkPSQodGhpcykuYXR0cihtcUJsb2NrSWQpLGJsb2NrPWJsb2NrSWQmJk1hdGhFbGVtZW50W2Jsb2NrSWRdO2lmKGJsb2NrKXtibG9jay5yZW5kZXJMYXRleChsYXRleCl9fSl9dmFyIGJsb2NrSWQ9JCh0aGlzKS5hdHRyKG1xQmxvY2tJZCksYmxvY2s9YmxvY2tJZCYmTWF0aEVsZW1lbnRbYmxvY2tJZF07cmV0dXJuIGJsb2NrJiZibG9jay5sYXRleCgpO2Nhc2UidGV4dCI6dmFyIGJsb2NrSWQ9JCh0aGlzKS5hdHRyKG1xQmxvY2tJZCksYmxvY2s9YmxvY2tJZCYmTWF0aEVsZW1lbnRbYmxvY2tJZF07cmV0dXJuIGJsb2NrJiZibG9jay50ZXh0KCk7Y2FzZSJodG1sIjpyZXR1cm4gdGhpcy5odG1sKCkucmVwbGFjZSgvID9oYXNDdXJzb3J8aGFzQ3Vyc29yIC8sIiIpLnJlcGxhY2UoLyBjbGFzcz0oIiJ8KD89IHw+KSkvZywiIikucmVwbGFjZSgvPHNwYW4gY2xhc3M9Ij9jdXJzb3IoIGJsaW5rKT8iPz48XC9zcGFuPi9pLCIiKS5yZXBsYWNlKC88c3BhbiBjbGFzcz0iP3RleHRhcmVhIj8+PHRleHRhcmVhPjxcL3RleHRhcmVhPjxcL3NwYW4+L2ksIiIpO2Nhc2Uid3JpdGUiOmlmKGFyZ3VtZW50cy5sZW5ndGg+MSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBibG9ja0lkPSQodGhpcykuYXR0cihtcUJsb2NrSWQpLGJsb2NrPWJsb2NrSWQmJk1hdGhFbGVtZW50W2Jsb2NrSWRdLGN1cnNvcj1ibG9jayYmYmxvY2suY3Vyc29yO2lmKGN1cnNvcil7Y3Vyc29yLndyaXRlTGF0ZXgobGF0ZXgpLnBhcmVudC5ibHVyKCl9fSl9Y2FzZSJjbWQiOmlmKGFyZ3VtZW50cy5sZW5ndGg+MSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBibG9ja0lkPSQodGhpcykuYXR0cihtcUJsb2NrSWQpLGJsb2NrPWJsb2NrSWQmJk1hdGhFbGVtZW50W2Jsb2NrSWRdLGN1cnNvcj1ibG9jayYmYmxvY2suY3Vyc29yO2lmKGN1cnNvcil7dmFyIHNlbG49Y3Vyc29yLnByZXBhcmVXcml0ZSgpO2lmKC9eXFxbYS16XSskL2kudGVzdChsYXRleCkpe2N1cnNvci5pbnNlcnRDbWQobGF0ZXguc2xpY2UoMSksc2Vsbil9ZWxzZXtjdXJzb3IuaW5zZXJ0Q2gobGF0ZXgsc2Vsbil9Y3Vyc29yLmhpZGUoKS5wYXJlbnQuYmx1cigpfX0pfWRlZmF1bHQ6dmFyIHRleHRib3g9Y21kPT09InRleHRib3giLGVkaXRhYmxlPXRleHRib3h8fGNtZD09PSJlZGl0YWJsZSIsUm9vdEJsb2NrPXRleHRib3g/Um9vdFRleHRCbG9jazpSb290TWF0aEJsb2NrO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtjcmVhdGVSb290KCQodGhpcyksUm9vdEJsb2NrKCksdGV4dGJveCxlZGl0YWJsZSl9KX19O2pRdWVyeShmdW5jdGlvbigpe30pfSgpKTs=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="161491468" offset="0" length="428" />
        <PacketInfo time="161491468" offset="428" length="254357" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>