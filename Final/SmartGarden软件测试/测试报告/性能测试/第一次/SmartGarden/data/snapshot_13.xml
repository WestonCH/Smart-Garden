<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="13">
  <HTTPTask id="2517" hostname="www.cnmooc.org" path="http://www.cnmooc.org/js/base.min.js?dcd1e635ed" url="http://www.cnmooc.org/js/base.min.js?dcd1e635ed" ip="180.76.151.202" port="80" connectionId="17" origin="Primary" frame="1" startDateTime="2018-07-24T16:05:48.020+08:00" startTime="161489656" endTime="161489671">
    <QueryString>
      <HTTPDataSet>
        <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
          <ActualData>ZGNkMWU2MzVlZA==</ActualData>
        </HTTPData>
      </HTTPDataSet>
      <IsExternalData>false</IsExternalData>
    </QueryString>
    <HTTPSplittedQueryStrings>
      <HTTPHeaderEntity name="" index="0">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>ZGNkMWU2MzVlZA==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
    </HTTPSplittedQueryStrings>
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL3d3dy5jbm1vb2Mub3JnL2hvbWUvaW5kZXgubW9vYw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>emgtSGFucy1DTix6aC1IYW5zO3E9MC44LGVuLVVTO3E9MC41LGVuO3E9MC4z</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzUxLjAuMjcwNC43OSBTYWZhcmkvNTM3LjM2IEVkZ2UvMTQuMTQzOTM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MTEtSnVsLTIwNjggMDg6MDU6NDAgR01UOyBKU0VTU0lPTklEPUY3MzYzQ0FGRDFCNzM5MDVCMDFCNThFQkJGOURERjVGLnRvbWNhdC1ob3N0MS0yOyBCRUM9ZjZjNDJjMjRkMGM3NmU3YWNlYTI0Mjc5MWFiODdlMzR8MTUzMjQxOTUzNnwxNTMyNDE5NTM2</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>d3d3LmNubW9vYy5vcmc=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIGh0dHA6Ly93d3cuY25tb29jLm9yZy9qcy9iYXNlLm1pbi5qcz9kY2QxZTYzNWVkIEhUVFAvMS4xDQpBY2NlcHQ6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsICovKjtxPTAuOA0KUmVmZXJlcjogaHR0cDovL3d3dy5jbm1vb2Mub3JnL2hvbWUvaW5kZXgubW9vYw0KQWNjZXB0LUxhbmd1YWdlOiB6aC1IYW5zLUNOLHpoLUhhbnM7cT0wLjgsZW4tVVM7cT0wLjUsZW47cT0wLjMNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS81MS4wLjI3MDQuNzkgU2FmYXJpLzUzNy4zNiBFZGdlLzE0LjE0MzkzDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkNvb2tpZTogMTEtSnVsLTIwNjggMDg6MDU6NDAgR01UOyBKU0VTU0lPTklEPUY3MzYzQ0FGRDFCNzM5MDVCMDFCNThFQkJGOURERjVGLnRvbWNhdC1ob3N0MS0yOyBCRUM9ZjZjNDJjMjRkMGM3NmU3YWNlYTI0Mjc5MWFiODdlMzR8MTUzMjQxOTUzNnwxNTMyNDE5NTM2DQpIb3N0OiB3d3cuY25tb29jLm9yZw0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="11-Jul-2068 08:05:40 GMT; JSESSIONID" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>RjczNjNDQUZEMUI3MzkwNUIwMUI1OEVCQkY5RERGNUYudG9tY2F0LWhvc3QxLTI=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="BEC" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZjZjNDJjMjRkMGM3NmU3YWNlYTI0Mjc5MWFiODdlMzR8MTUzMjQxOTUzNnwxNTMyNDE5NTM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>408606</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Server" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QkxCLw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAyNCBKdWwgMjAxOCAwODowNTozNiBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>NDA4NjA2</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW9uLCAyMyBKdWwgMjAxOCAxMDo0Nzo0NCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjViNTViMjUwLTYzYzFlIg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAyMyBBdWcgMjAxOCAwODowNTo0MSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0yNTkyMDAw</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Frame-Options" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U0FNRU9SSUdJTg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Set-Cookie" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QkVDPWY2YzQyYzI0ZDBjNzZlN2FjZWEyNDI3OTFhYjg3ZTM0fDE1MzI0MTk1MzZ8MTUzMjQxOTUzNjtQYXRoPS8=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpTZXJ2ZXI6IEJMQi8NCkRhdGU6IFR1ZSwgMjQgSnVsIDIwMTggMDg6MDU6MzYgR01UDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQNCkNvbnRlbnQtTGVuZ3RoOiA0MDg2MDYNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkxhc3QtTW9kaWZpZWQ6IE1vbiwgMjMgSnVsIDIwMTggMTA6NDc6NDQgR01UDQpFVGFnOiAiNWI1NWIyNTAtNjNjMWUiDQpFeHBpcmVzOiBUaHUsIDIzIEF1ZyAyMDE4IDA4OjA1OjQxIEdNVA0KQ2FjaGUtQ29udHJvbDogbWF4LWFnZT0yNTkyMDAwDQpYLUZyYW1lLU9wdGlvbnM6IFNBTUVPUklHSU4NCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpTZXQtQ29va2llOiBCRUM9ZjZjNDJjMjRkMGM3NmU3YWNlYTI0Mjc5MWFiODdlMzR8MTUzMjQxOTUzNnwxNTMyNDE5NTM2O1BhdGg9Lw0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>LyohCiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjEuMTAuMgogKiBodHRwOi8vanF1ZXJ5LmNvbS8KICoKICogSW5jbHVkZXMgU2l6emxlLmpzCiAqIGh0dHA6Ly9zaXp6bGVqcy5jb20vCiAqCiAqIENvcHlyaWdodCAyMDA1LCAyMDEzIGpRdWVyeSBGb3VuZGF0aW9uLCBJbmMuIGFuZCBvdGhlciBjb250cmlidXRvcnMKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICoKICogRGF0ZTogMjAxMy0wNy0wM1QxMzo0OFoKICovCihmdW5jdGlvbih3aW5kb3csdW5kZWZpbmVkKXt2YXIgcmVhZHlMaXN0LHJvb3RqUXVlcnksY29yZV9zdHJ1bmRlZmluZWQ9dHlwZW9mIHVuZGVmaW5lZCxsb2NhdGlvbj13aW5kb3cubG9jYXRpb24sZG9jdW1lbnQ9d2luZG93LmRvY3VtZW50LGRvY0VsZW09ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LF9qUXVlcnk9d2luZG93LmpRdWVyeSxfJD13aW5kb3cuJCxjbGFzczJ0eXBlPXt9LGNvcmVfZGVsZXRlZElkcz1bXSxjb3JlX3ZlcnNpb249IjEuMTAuMiIsY29yZV9jb25jYXQ9Y29yZV9kZWxldGVkSWRzLmNvbmNhdCxjb3JlX3B1c2g9Y29yZV9kZWxldGVkSWRzLnB1c2gsY29yZV9zbGljZT1jb3JlX2RlbGV0ZWRJZHMuc2xpY2UsY29yZV9pbmRleE9mPWNvcmVfZGVsZXRlZElkcy5pbmRleE9mLGNvcmVfdG9TdHJpbmc9Y2xhc3MydHlwZS50b1N0cmluZyxjb3JlX2hhc093bj1jbGFzczJ0eXBlLmhhc093blByb3BlcnR5LGNvcmVfdHJpbT1jb3JlX3ZlcnNpb24udHJpbSxqUXVlcnk9ZnVuY3Rpb24oc2VsZWN0b3IsY29udGV4dCl7cmV0dXJuIG5ldyBqUXVlcnkuZm4uaW5pdChzZWxlY3Rvcixjb250ZXh0LHJvb3RqUXVlcnkpfSxjb3JlX3BudW09L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsY29yZV9ybm90d2hpdGU9L1xTKy9nLHJ0cmltPS9eW1xzXHVGRUZGXHhBMF0rfFtcc1x1RkVGRlx4QTBdKyQvZyxycXVpY2tFeHByPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKikpJC8scnNpbmdsZVRhZz0vXjwoXHcrKVxzKlwvPz4oPzo8XC9cMT58KSQvLHJ2YWxpZGNoYXJzPS9eW1xdLDp7fVxzXSokLyxydmFsaWRicmFjZXM9Lyg/Ol58OnwsKSg/OlxzKlxbKSsvZyxydmFsaWRlc2NhcGU9L1xcKD86WyJcXFwvYmZucnRdfHVbXGRhLWZBLUZdezR9KS9nLHJ2YWxpZHRva2Vucz0vIlteIlxcXHJcbl0qInx0cnVlfGZhbHNlfG51bGx8LT8oPzpcZCtcLnwpXGQrKD86W2VFXVsrLV0/XGQrfCkvZyxybXNQcmVmaXg9L14tbXMtLyxyZGFzaEFscGhhPS8tKFtcZGEtel0pL2dpLGZjYW1lbENhc2U9ZnVuY3Rpb24oYWxsLGxldHRlcil7cmV0dXJuIGxldHRlci50b1VwcGVyQ2FzZSgpfSxjb21wbGV0ZWQ9ZnVuY3Rpb24oZXZlbnQpe2lmKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXJ8fGV2ZW50LnR5cGU9PT0ibG9hZCJ8fGRvY3VtZW50LnJlYWR5U3RhdGU9PT0iY29tcGxldGUiKXtkZXRhY2goKTtqUXVlcnkucmVhZHkoKX19LGRldGFjaD1mdW5jdGlvbigpe2lmKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpe2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGNvbXBsZXRlZCxmYWxzZSk7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLGNvbXBsZXRlZCxmYWxzZSl9ZWxzZXtkb2N1bWVudC5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixjb21wbGV0ZWQpO3dpbmRvdy5kZXRhY2hFdmVudCgib25sb2FkIixjb21wbGV0ZWQpfX07alF1ZXJ5LmZuPWpRdWVyeS5wcm90b3R5cGU9e2pxdWVyeTpjb3JlX3ZlcnNpb24sY29uc3RydWN0b3I6alF1ZXJ5LGluaXQ6ZnVuY3Rpb24oc2VsZWN0b3IsY29udGV4dCxyb290alF1ZXJ5KXt2YXIgbWF0Y2gsZWxlbTtpZighc2VsZWN0b3Ipe3JldHVybiB0aGlzfWlmKHR5cGVvZiBzZWxlY3Rvcj09PSJzdHJpbmciKXtpZihzZWxlY3Rvci5jaGFyQXQoMCk9PT0iPCImJnNlbGVjdG9yLmNoYXJBdChzZWxlY3Rvci5sZW5ndGgtMSk9PT0iPiImJnNlbGVjdG9yLmxlbmd0aD49Myl7bWF0Y2g9W251bGwsc2VsZWN0b3IsbnVsbF19ZWxzZXttYXRjaD1ycXVpY2tFeHByLmV4ZWMoc2VsZWN0b3IpfWlmKG1hdGNoJiYobWF0Y2hbMV18fCFjb250ZXh0KSl7aWYobWF0Y2hbMV0pe2NvbnRleHQ9Y29udGV4dCBpbnN0YW5jZW9mIGpRdWVyeT9jb250ZXh0WzBdOmNvbnRleHQ7alF1ZXJ5Lm1lcmdlKHRoaXMsalF1ZXJ5LnBhcnNlSFRNTChtYXRjaFsxXSxjb250ZXh0JiZjb250ZXh0Lm5vZGVUeXBlP2NvbnRleHQub3duZXJEb2N1bWVudHx8Y29udGV4dDpkb2N1bWVudCx0cnVlKSk7aWYocnNpbmdsZVRhZy50ZXN0KG1hdGNoWzFdKSYmalF1ZXJ5LmlzUGxhaW5PYmplY3QoY29udGV4dCkpe2ZvcihtYXRjaCBpbiBjb250ZXh0KXtpZihqUXVlcnkuaXNGdW5jdGlvbih0aGlzW21hdGNoXSkpe3RoaXNbbWF0Y2hdKGNvbnRleHRbbWF0Y2hdKX1lbHNle3RoaXMuYXR0cihtYXRjaCxjb250ZXh0W21hdGNoXSl9fX1yZXR1cm4gdGhpc31lbHNle2VsZW09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWF0Y2hbMl0pO2lmKGVsZW0mJmVsZW0ucGFyZW50Tm9kZSl7aWYoZWxlbS5pZCE9PW1hdGNoWzJdKXtyZXR1cm4gcm9vdGpRdWVyeS5maW5kKHNlbGVjdG9yKX10aGlzLmxlbmd0aD0xO3RoaXNbMF09ZWxlbX10aGlzLmNvbnRleHQ9ZG9jdW1lbnQ7dGhpcy5zZWxlY3Rvcj1zZWxlY3RvcjtyZXR1cm4gdGhpc319ZWxzZXtpZighY29udGV4dHx8Y29udGV4dC5qcXVlcnkpe3JldHVybihjb250ZXh0fHxyb290alF1ZXJ5KS5maW5kKHNlbGVjdG9yKX1lbHNle3JldHVybiB0aGlzLmNvbnN0cnVjdG9yKGNvbnRleHQpLmZpbmQoc2VsZWN0b3IpfX19ZWxzZXtpZihzZWxlY3Rvci5ub2RlVHlwZSl7dGhpcy5jb250ZXh0PXRoaXNbMF09c2VsZWN0b3I7dGhpcy5sZW5ndGg9MTtyZXR1cm4gdGhpc31lbHNle2lmKGpRdWVyeS5pc0Z1bmN0aW9uKHNlbGVjdG9yKSl7cmV0dXJuIHJvb3RqUXVlcnkucmVhZHkoc2VsZWN0b3IpfX19aWYoc2VsZWN0b3Iuc2VsZWN0b3IhPT11bmRlZmluZWQpe3RoaXMuc2VsZWN0b3I9c2VsZWN0b3Iuc2VsZWN0b3I7dGhpcy5jb250ZXh0PXNlbGVjdG9yLmNvbnRleHR9cmV0dXJuIGpRdWVyeS5tYWtlQXJyYXkoc2VsZWN0b3IsdGhpcyl9LHNlbGVjdG9yOiIiLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gY29yZV9zbGljZS5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24obnVtKXtyZXR1cm4gbnVtPT1udWxsP3RoaXMudG9BcnJheSgpOihudW08MD90aGlzW3RoaXMubGVuZ3RoK251bV06dGhpc1tudW1dKX0scHVzaFN0YWNrOmZ1bmN0aW9uKGVsZW1zKXt2YXIgcmV0PWpRdWVyeS5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZWxlbXMpO3JldC5wcmV2T2JqZWN0PXRoaXM7cmV0LmNvbnRleHQ9dGhpcy5jb250ZXh0O3JldHVybiByZXR9LGVhY2g6ZnVuY3Rpb24oY2FsbGJhY2ssYXJncyl7cmV0dXJuIGpRdWVyeS5lYWNoKHRoaXMsY2FsbGJhY2ssYXJncyl9LHJlYWR5OmZ1bmN0aW9uKGZuKXtqUXVlcnkucmVhZHkucHJvbWlzZSgpLmRvbmUoZm4pO3JldHVybiB0aGlzfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhjb3JlX3NsaWNlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGVxOmZ1bmN0aW9uKGkpe3ZhciBsZW49dGhpcy5sZW5ndGgsaj0raSsoaTwwP2xlbjowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaj49MCYmajxsZW4/W3RoaXNbal1dOltdKX0sbWFwOmZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soalF1ZXJ5Lm1hcCh0aGlzLGZ1bmN0aW9uKGVsZW0saSl7cmV0dXJuIGNhbGxiYWNrLmNhbGwoZWxlbSxpLGVsZW0pfSkpfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKG51bGwpfSxwdXNoOmNvcmVfcHVzaCxzb3J0OltdLnNvcnQsc3BsaWNlOltdLnNwbGljZX07alF1ZXJ5LmZuLmluaXQucHJvdG90eXBlPWpRdWVyeS5mbjtqUXVlcnkuZXh0ZW5kPWpRdWVyeS5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgc3JjLGNvcHlJc0FycmF5LGNvcHksbmFtZSxvcHRpb25zLGNsb25lLHRhcmdldD1hcmd1bWVudHNbMF18fHt9LGk9MSxsZW5ndGg9YXJndW1lbnRzLmxlbmd0aCxkZWVwPWZhbHNlO2lmKHR5cGVvZiB0YXJnZXQ9PT0iYm9vbGVhbiIpe2RlZXA9dGFyZ2V0O3RhcmdldD1hcmd1bWVudHNbMV18fHt9O2k9Mn1pZih0eXBlb2YgdGFyZ2V0IT09Im9iamVjdCImJiFqUXVlcnkuaXNGdW5jdGlvbih0YXJnZXQpKXt0YXJnZXQ9e319aWYobGVuZ3RoPT09aSl7dGFyZ2V0PXRoaXM7LS1pfWZvcig7aTxsZW5ndGg7aSsrKXtpZigob3B0aW9ucz1hcmd1bWVudHNbaV0pIT1udWxsKXtmb3IobmFtZSBpbiBvcHRpb25zKXtzcmM9dGFyZ2V0W25hbWVdO2NvcHk9b3B0aW9uc1tuYW1lXTtpZih0YXJnZXQ9PT1jb3B5KXtjb250aW51ZX1pZihkZWVwJiZjb3B5JiYoalF1ZXJ5LmlzUGxhaW5PYmplY3QoY29weSl8fChjb3B5SXNBcnJheT1qUXVlcnkuaXNBcnJheShjb3B5KSkpKXtpZihjb3B5SXNBcnJheSl7Y29weUlzQXJyYXk9ZmFsc2U7Y2xvbmU9c3JjJiZqUXVlcnkuaXNBcnJheShzcmMpP3NyYzpbXX1lbHNle2Nsb25lPXNyYyYmalF1ZXJ5LmlzUGxhaW5PYmplY3Qoc3JjKT9zcmM6e319dGFyZ2V0W25hbWVdPWpRdWVyeS5leHRlbmQoZGVlcCxjbG9uZSxjb3B5KX1lbHNle2lmKGNvcHkhPT11bmRlZmluZWQpe3RhcmdldFtuYW1lXT1jb3B5fX19fX1yZXR1cm4gdGFyZ2V0fTtqUXVlcnkuZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKyhjb3JlX3ZlcnNpb24rTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksbm9Db25mbGljdDpmdW5jdGlvbihkZWVwKXtpZih3aW5kb3cuJD09PWpRdWVyeSl7d2luZG93LiQ9XyR9aWYoZGVlcCYmd2luZG93LmpRdWVyeT09PWpRdWVyeSl7d2luZG93LmpRdWVyeT1falF1ZXJ5fXJldHVybiBqUXVlcnl9LGlzUmVhZHk6ZmFsc2UscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGhvbGQpe2lmKGhvbGQpe2pRdWVyeS5yZWFkeVdhaXQrK31lbHNle2pRdWVyeS5yZWFkeSh0cnVlKX19LHJlYWR5OmZ1bmN0aW9uKHdhaXQpe2lmKHdhaXQ9PT10cnVlPy0talF1ZXJ5LnJlYWR5V2FpdDpqUXVlcnkuaXNSZWFkeSl7cmV0dXJufWlmKCFkb2N1bWVudC5ib2R5KXtyZXR1cm4gc2V0VGltZW91dChqUXVlcnkucmVhZHkpfWpRdWVyeS5pc1JlYWR5PXRydWU7aWYod2FpdCE9PXRydWUmJi0talF1ZXJ5LnJlYWR5V2FpdD4wKXtyZXR1cm59cmVhZHlMaXN0LnJlc29sdmVXaXRoKGRvY3VtZW50LFtqUXVlcnldKTtpZihqUXVlcnkuZm4udHJpZ2dlcil7alF1ZXJ5KGRvY3VtZW50KS50cmlnZ2VyKCJyZWFkeSIpLm9mZigicmVhZHkiKX19LGlzRnVuY3Rpb246ZnVuY3Rpb24ob2JqKXtyZXR1cm4galF1ZXJ5LnR5cGUob2JqKT09PSJmdW5jdGlvbiJ9LGlzQXJyYXk6QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24ob2JqKXtyZXR1cm4galF1ZXJ5LnR5cGUob2JqKT09PSJhcnJheSJ9LGlzV2luZG93OmZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiE9bnVsbCYmb2JqPT1vYmoud2luZG93fSxpc051bWVyaWM6ZnVuY3Rpb24ob2JqKXtyZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQob2JqKSkmJmlzRmluaXRlKG9iail9LHR5cGU6ZnVuY3Rpb24ob2JqKXtpZihvYmo9PW51bGwpe3JldHVybiBTdHJpbmcob2JqKX1yZXR1cm4gdHlwZW9mIG9iaj09PSJvYmplY3QifHx0eXBlb2Ygb2JqPT09ImZ1bmN0aW9uIj9jbGFzczJ0eXBlW2NvcmVfdG9TdHJpbmcuY2FsbChvYmopXXx8Im9iamVjdCI6dHlwZW9mIG9ian0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihvYmope3ZhciBrZXk7aWYoIW9ianx8alF1ZXJ5LnR5cGUob2JqKSE9PSJvYmplY3QifHxvYmoubm9kZVR5cGV8fGpRdWVyeS5pc1dpbmRvdyhvYmopKXtyZXR1cm4gZmFsc2V9dHJ5e2lmKG9iai5jb25zdHJ1Y3RvciYmIWNvcmVfaGFzT3duLmNhbGwob2JqLCJjb25zdHJ1Y3RvciIpJiYhY29yZV9oYXNPd24uY2FsbChvYmouY29uc3RydWN0b3IucHJvdG90eXBlLCJpc1Byb3RvdHlwZU9mIikpe3JldHVybiBmYWxzZX19Y2F0Y2goZSl7cmV0dXJuIGZhbHNlfWlmKGpRdWVyeS5zdXBwb3J0Lm93bkxhc3Qpe2ZvcihrZXkgaW4gb2JqKXtyZXR1cm4gY29yZV9oYXNPd24uY2FsbChvYmosa2V5KX19Zm9yKGtleSBpbiBvYmope31yZXR1cm4ga2V5PT09dW5kZWZpbmVkfHxjb3JlX2hhc093bi5jYWxsKG9iaixrZXkpfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKG9iail7dmFyIG5hbWU7Zm9yKG5hbWUgaW4gb2JqKXtyZXR1cm4gZmFsc2V9cmV0dXJuIHRydWV9LGVycm9yOmZ1bmN0aW9uKG1zZyl7dGhyb3cgbmV3IEVycm9yKG1zZyl9LHBhcnNlSFRNTDpmdW5jdGlvbihkYXRhLGNvbnRleHQsa2VlcFNjcmlwdHMpe2lmKCFkYXRhfHx0eXBlb2YgZGF0YSE9PSJzdHJpbmciKXtyZXR1cm4gbnVsbH1pZih0eXBlb2YgY29udGV4dD09PSJib29sZWFuIil7a2VlcFNjcmlwdHM9Y29udGV4dDtjb250ZXh0PWZhbHNlfWNvbnRleHQ9Y29udGV4dHx8ZG9jdW1lbnQ7dmFyIHBhcnNlZD1yc2luZ2xlVGFnLmV4ZWMoZGF0YSksc2NyaXB0cz0ha2VlcFNjcmlwdHMmJltdO2lmKHBhcnNlZCl7cmV0dXJuW2NvbnRleHQuY3JlYXRlRWxlbWVudChwYXJzZWRbMV0pXX1wYXJzZWQ9alF1ZXJ5LmJ1aWxkRnJhZ21lbnQoW2RhdGFdLGNvbnRleHQsc2NyaXB0cyk7aWYoc2NyaXB0cyl7alF1ZXJ5KHNjcmlwdHMpLnJlbW92ZSgpfXJldHVybiBqUXVlcnkubWVyZ2UoW10scGFyc2VkLmNoaWxkTm9kZXMpfSxwYXJzZUpTT046ZnVuY3Rpb24oZGF0YSl7aWYod2luZG93LkpTT04mJndpbmRvdy5KU09OLnBhcnNlKXtyZXR1cm4gd2luZG93LkpTT04ucGFyc2UoZGF0YSl9aWYoZGF0YT09PW51bGwpe3JldHVybiBkYXRhfWlmKHR5cGVvZiBkYXRhPT09InN0cmluZyIpe2RhdGE9alF1ZXJ5LnRyaW0oZGF0YSk7aWYoZGF0YSl7aWYocnZhbGlkY2hhcnMudGVzdChkYXRhLnJlcGxhY2UocnZhbGlkZXNjYXBlLCJAIikucmVwbGFjZShydmFsaWR0b2tlbnMsIl0iKS5yZXBsYWNlKHJ2YWxpZGJyYWNlcywiIikpKXtyZXR1cm4obmV3IEZ1bmN0aW9uKCJyZXR1cm4gIitkYXRhKSkoKX19fWpRdWVyeS5lcnJvcigiSW52YWxpZCBKU09OOiAiK2RhdGEpfSxwYXJzZVhNTDpmdW5jdGlvbihkYXRhKXt2YXIgeG1sLHRtcDtpZighZGF0YXx8dHlwZW9mIGRhdGEhPT0ic3RyaW5nIil7cmV0dXJuIG51bGx9dHJ5e2lmKHdpbmRvdy5ET01QYXJzZXIpe3RtcD1uZXcgRE9NUGFyc2VyKCk7eG1sPXRtcC5wYXJzZUZyb21TdHJpbmcoZGF0YSwidGV4dC94bWwiKX1lbHNle3htbD1uZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpO3htbC5hc3luYz0iZmFsc2UiO3htbC5sb2FkWE1MKGRhdGEpfX1jYXRjaChlKXt4bWw9dW5kZWZpbmVkfWlmKCF4bWx8fCF4bWwuZG9jdW1lbnRFbGVtZW50fHx4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RoKXtqUXVlcnkuZXJyb3IoIkludmFsaWQgWE1MOiAiK2RhdGEpfXJldHVybiB4bWx9LG5vb3A6ZnVuY3Rpb24oKXt9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oZGF0YSl7aWYoZGF0YSYmalF1ZXJ5LnRyaW0oZGF0YSkpeyh3aW5kb3cuZXhlY1NjcmlwdHx8ZnVuY3Rpb24oZGF0YSl7d2luZG93WyJldmFsIl0uY2FsbCh3aW5kb3csZGF0YSl9KShkYXRhKX19LGNhbWVsQ2FzZTpmdW5jdGlvbihzdHJpbmcpe3JldHVybiBzdHJpbmcucmVwbGFjZShybXNQcmVmaXgsIm1zLSIpLnJlcGxhY2UocmRhc2hBbHBoYSxmY2FtZWxDYXNlKX0sbm9kZU5hbWU6ZnVuY3Rpb24oZWxlbSxuYW1lKXtyZXR1cm4gZWxlbS5ub2RlTmFtZSYmZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09bmFtZS50b0xvd2VyQ2FzZSgpfSxlYWNoOmZ1bmN0aW9uKG9iaixjYWxsYmFjayxhcmdzKXt2YXIgdmFsdWUsaT0wLGxlbmd0aD1vYmoubGVuZ3RoLGlzQXJyYXk9aXNBcnJheWxpa2Uob2JqKTtpZihhcmdzKXtpZihpc0FycmF5KXtmb3IoO2k8bGVuZ3RoO2krKyl7dmFsdWU9Y2FsbGJhY2suYXBwbHkob2JqW2ldLGFyZ3MpO2lmKHZhbHVlPT09ZmFsc2Upe2JyZWFrfX19ZWxzZXtmb3IoaSBpbiBvYmope3ZhbHVlPWNhbGxiYWNrLmFwcGx5KG9ialtpXSxhcmdzKTtpZih2YWx1ZT09PWZhbHNlKXticmVha319fX1lbHNle2lmKGlzQXJyYXkpe2Zvcig7aTxsZW5ndGg7aSsrKXt2YWx1ZT1jYWxsYmFjay5jYWxsKG9ialtpXSxpLG9ialtpXSk7aWYodmFsdWU9PT1mYWxzZSl7YnJlYWt9fX1lbHNle2ZvcihpIGluIG9iail7dmFsdWU9Y2FsbGJhY2suY2FsbChvYmpbaV0saSxvYmpbaV0pO2lmKHZhbHVlPT09ZmFsc2Upe2JyZWFrfX19fXJldHVybiBvYmp9LHRyaW06Y29yZV90cmltJiYhY29yZV90cmltLmNhbGwoIlx1RkVGRlx4QTAiKT9mdW5jdGlvbih0ZXh0KXtyZXR1cm4gdGV4dD09bnVsbD8iIjpjb3JlX3RyaW0uY2FsbCh0ZXh0KX06ZnVuY3Rpb24odGV4dCl7cmV0dXJuIHRleHQ9PW51bGw/IiI6KHRleHQrIiIpLnJlcGxhY2UocnRyaW0sIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oYXJyLHJlc3VsdHMpe3ZhciByZXQ9cmVzdWx0c3x8W107aWYoYXJyIT1udWxsKXtpZihpc0FycmF5bGlrZShPYmplY3QoYXJyKSkpe2pRdWVyeS5tZXJnZShyZXQsdHlwZW9mIGFycj09PSJzdHJpbmciP1thcnJdOmFycil9ZWxzZXtjb3JlX3B1c2guY2FsbChyZXQsYXJyKX19cmV0dXJuIHJldH0saW5BcnJheTpmdW5jdGlvbihlbGVtLGFycixpKXt2YXIgbGVuO2lmKGFycil7aWYoY29yZV9pbmRleE9mKXtyZXR1cm4gY29yZV9pbmRleE9mLmNhbGwoYXJyLGVsZW0saSl9bGVuPWFyci5sZW5ndGg7aT1pP2k8MD9NYXRoLm1heCgwLGxlbitpKTppOjA7Zm9yKDtpPGxlbjtpKyspe2lmKGkgaW4gYXJyJiZhcnJbaV09PT1lbGVtKXtyZXR1cm4gaX19fXJldHVybiAtMX0sbWVyZ2U6ZnVuY3Rpb24oZmlyc3Qsc2Vjb25kKXt2YXIgbD1zZWNvbmQubGVuZ3RoLGk9Zmlyc3QubGVuZ3RoLGo9MDtpZih0eXBlb2YgbD09PSJudW1iZXIiKXtmb3IoO2o8bDtqKyspe2ZpcnN0W2krK109c2Vjb25kW2pdfX1lbHNle3doaWxlKHNlY29uZFtqXSE9PXVuZGVmaW5lZCl7Zmlyc3RbaSsrXT1zZWNvbmRbaisrXX19Zmlyc3QubGVuZ3RoPWk7cmV0dXJuIGZpcnN0fSxncmVwOmZ1bmN0aW9uKGVsZW1zLGNhbGxiYWNrLGludil7dmFyIHJldFZhbCxyZXQ9W10saT0wLGxlbmd0aD1lbGVtcy5sZW5ndGg7aW52PSEhaW52O2Zvcig7aTxsZW5ndGg7aSsrKXtyZXRWYWw9ISFjYWxsYmFjayhlbGVtc1tpXSxpKTtpZihpbnYhPT1yZXRWYWwpe3JldC5wdXNoKGVsZW1zW2ldKX19cmV0dXJuIHJldH0sbWFwOmZ1bmN0aW9uKGVsZW1zLGNhbGxiYWNrLGFyZyl7dmFyIHZhbHVlLGk9MCxsZW5ndGg9ZWxlbXMubGVuZ3RoLGlzQXJyYXk9aXNBcnJheWxpa2UoZWxlbXMpLHJldD1bXTtpZihpc0FycmF5KXtmb3IoO2k8bGVuZ3RoO2krKyl7dmFsdWU9Y2FsbGJhY2soZWxlbXNbaV0saSxhcmcpO2lmKHZhbHVlIT1udWxsKXtyZXRbcmV0Lmxlbmd0aF09dmFsdWV9fX1lbHNle2ZvcihpIGluIGVsZW1zKXt2YWx1ZT1jYWxsYmFjayhlbGVtc1tpXSxpLGFyZyk7aWYodmFsdWUhPW51bGwpe3JldFtyZXQubGVuZ3RoXT12YWx1ZX19fXJldHVybiBjb3JlX2NvbmNhdC5hcHBseShbXSxyZXQpfSxndWlkOjEscHJveHk6ZnVuY3Rpb24oZm4sY29udGV4dCl7dmFyIGFyZ3MscHJveHksdG1wO2lmKHR5cGVvZiBjb250ZXh0PT09InN0cmluZyIpe3RtcD1mbltjb250ZXh0XTtjb250ZXh0PWZuO2ZuPXRtcH1pZighalF1ZXJ5LmlzRnVuY3Rpb24oZm4pKXtyZXR1cm4gdW5kZWZpbmVkfWFyZ3M9Y29yZV9zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtwcm94eT1mdW5jdGlvbigpe3JldHVybiBmbi5hcHBseShjb250ZXh0fHx0aGlzLGFyZ3MuY29uY2F0KGNvcmVfc2xpY2UuY2FsbChhcmd1bWVudHMpKSl9O3Byb3h5Lmd1aWQ9Zm4uZ3VpZD1mbi5ndWlkfHxqUXVlcnkuZ3VpZCsrO3JldHVybiBwcm94eX0sYWNjZXNzOmZ1bmN0aW9uKGVsZW1zLGZuLGtleSx2YWx1ZSxjaGFpbmFibGUsZW1wdHlHZXQscmF3KXt2YXIgaT0wLGxlbmd0aD1lbGVtcy5sZW5ndGgsYnVsaz1rZXk9PW51bGw7aWYoalF1ZXJ5LnR5cGUoa2V5KT09PSJvYmplY3QiKXtjaGFpbmFibGU9dHJ1ZTtmb3IoaSBpbiBrZXkpe2pRdWVyeS5hY2Nlc3MoZWxlbXMsZm4saSxrZXlbaV0sdHJ1ZSxlbXB0eUdldCxyYXcpfX1lbHNle2lmKHZhbHVlIT09dW5kZWZpbmVkKXtjaGFpbmFibGU9dHJ1ZTtpZighalF1ZXJ5LmlzRnVuY3Rpb24odmFsdWUpKXtyYXc9dHJ1ZX1pZihidWxrKXtpZihyYXcpe2ZuLmNhbGwoZWxlbXMsdmFsdWUpO2ZuPW51bGx9ZWxzZXtidWxrPWZuO2ZuPWZ1bmN0aW9uKGVsZW0sa2V5LHZhbHVlKXtyZXR1cm4gYnVsay5jYWxsKGpRdWVyeShlbGVtKSx2YWx1ZSl9fX1pZihmbil7Zm9yKDtpPGxlbmd0aDtpKyspe2ZuKGVsZW1zW2ldLGtleSxyYXc/dmFsdWU6dmFsdWUuY2FsbChlbGVtc1tpXSxpLGZuKGVsZW1zW2ldLGtleSkpKX19fX1yZXR1cm4gY2hhaW5hYmxlP2VsZW1zOmJ1bGs/Zm4uY2FsbChlbGVtcyk6bGVuZ3RoP2ZuKGVsZW1zWzBdLGtleSk6ZW1wdHlHZXR9LG5vdzpmdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSgpKS5nZXRUaW1lKCl9LHN3YXA6ZnVuY3Rpb24oZWxlbSxvcHRpb25zLGNhbGxiYWNrLGFyZ3Mpe3ZhciByZXQsbmFtZSxvbGQ9e307Zm9yKG5hbWUgaW4gb3B0aW9ucyl7b2xkW25hbWVdPWVsZW0uc3R5bGVbbmFtZV07ZWxlbS5zdHlsZVtuYW1lXT1vcHRpb25zW25hbWVdfXJldD1jYWxsYmFjay5hcHBseShlbGVtLGFyZ3N8fFtdKTtmb3IobmFtZSBpbiBvcHRpb25zKXtlbGVtLnN0eWxlW25hbWVdPW9sZFtuYW1lXX1yZXR1cm4gcmV0fX0pO2pRdWVyeS5yZWFkeS5wcm9taXNlPWZ1bmN0aW9uKG9iail7aWYoIXJlYWR5TGlzdCl7cmVhZHlMaXN0PWpRdWVyeS5EZWZlcnJlZCgpO2lmKGRvY3VtZW50LnJlYWR5U3RhdGU9PT0iY29tcGxldGUiKXtzZXRUaW1lb3V0KGpRdWVyeS5yZWFkeSl9ZWxzZXtpZihkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixjb21wbGV0ZWQsZmFsc2UpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixjb21wbGV0ZWQsZmFsc2UpfWVsc2V7ZG9jdW1lbnQuYXR0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsY29tcGxldGVkKTt3aW5kb3cuYXR0YWNoRXZlbnQoIm9ubG9hZCIsY29tcGxldGVkKTt2YXIgdG9wPWZhbHNlO3RyeXt0b3A9d2luZG93LmZyYW1lRWxlbWVudD09bnVsbCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fWNhdGNoKGUpe31pZih0b3AmJnRvcC5kb1Njcm9sbCl7KGZ1bmN0aW9uIGRvU2Nyb2xsQ2hlY2soKXtpZighalF1ZXJ5LmlzUmVhZHkpe3RyeXt0b3AuZG9TY3JvbGwoImxlZnQiKX1jYXRjaChlKXtyZXR1cm4gc2V0VGltZW91dChkb1Njcm9sbENoZWNrLDUwKX1kZXRhY2goKTtqUXVlcnkucmVhZHkoKX19KSgpfX19fXJldHVybiByZWFkeUxpc3QucHJvbWlzZShvYmopfTtqUXVlcnkuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciIuc3BsaXQoIiAiKSxmdW5jdGlvbihpLG5hbWUpe2NsYXNzMnR5cGVbIltvYmplY3QgIituYW1lKyJdIl09bmFtZS50b0xvd2VyQ2FzZSgpfSk7ZnVuY3Rpb24gaXNBcnJheWxpa2Uob2JqKXt2YXIgbGVuZ3RoPW9iai5sZW5ndGgsdHlwZT1qUXVlcnkudHlwZShvYmopO2lmKGpRdWVyeS5pc1dpbmRvdyhvYmopKXtyZXR1cm4gZmFsc2V9aWYob2JqLm5vZGVUeXBlPT09MSYmbGVuZ3RoKXtyZXR1cm4gdHJ1ZX1yZXR1cm4gdHlwZT09PSJhcnJheSJ8fHR5cGUhPT0iZnVuY3Rpb24iJiYobGVuZ3RoPT09MHx8dHlwZW9mIGxlbmd0aD09PSJudW1iZXIiJiZsZW5ndGg+MCYmKGxlbmd0aC0xKSBpbiBvYmopfXJvb3RqUXVlcnk9alF1ZXJ5KGRvY3VtZW50KTsKLyohCiAqIFNpenpsZSBDU1MgU2VsZWN0b3IgRW5naW5lIHYxLjEwLjIKICogaHR0cDovL3NpenpsZWpzLmNvbS8KICoKICogQ29weXJpZ2h0IDIwMTMgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycwogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UKICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBEYXRlOiAyMDEzLTA3LTAzCiAqLwooZnVuY3Rpb24od2luZG93LHVuZGVmaW5lZCl7dmFyIGksc3VwcG9ydCxjYWNoZWRydW5zLEV4cHIsZ2V0VGV4dCxpc1hNTCxjb21waWxlLG91dGVybW9zdENvbnRleHQsc29ydElucHV0LHNldERvY3VtZW50LGRvY3VtZW50LGRvY0VsZW0sZG9jdW1lbnRJc0hUTUwscmJ1Z2d5UVNBLHJidWdneU1hdGNoZXMsbWF0Y2hlcyxjb250YWlucyxleHBhbmRvPSJzaXp6bGUiKy0obmV3IERhdGUoKSkscHJlZmVycmVkRG9jPXdpbmRvdy5kb2N1bWVudCxkaXJydW5zPTAsZG9uZT0wLGNsYXNzQ2FjaGU9Y3JlYXRlQ2FjaGUoKSx0b2tlbkNhY2hlPWNyZWF0ZUNhY2hlKCksY29tcGlsZXJDYWNoZT1jcmVhdGVDYWNoZSgpLGhhc0R1cGxpY2F0ZT1mYWxzZSxzb3J0T3JkZXI9ZnVuY3Rpb24oYSxiKXtpZihhPT09Yil7aGFzRHVwbGljYXRlPXRydWU7cmV0dXJuIDB9cmV0dXJuIDB9LHN0cnVuZGVmaW5lZD10eXBlb2YgdW5kZWZpbmVkLE1BWF9ORUdBVElWRT0xPDwzMSxoYXNPd249KHt9KS5oYXNPd25Qcm9wZXJ0eSxhcnI9W10scG9wPWFyci5wb3AscHVzaF9uYXRpdmU9YXJyLnB1c2gscHVzaD1hcnIucHVzaCxzbGljZT1hcnIuc2xpY2UsaW5kZXhPZj1hcnIuaW5kZXhPZnx8ZnVuY3Rpb24oZWxlbSl7dmFyIGk9MCxsZW49dGhpcy5sZW5ndGg7Zm9yKDtpPGxlbjtpKyspe2lmKHRoaXNbaV09PT1lbGVtKXtyZXR1cm4gaX19cmV0dXJuIC0xfSxib29sZWFucz0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLHdoaXRlc3BhY2U9IltcXHgyMFxcdFxcclxcblxcZl0iLGNoYXJhY3RlckVuY29kaW5nPSIoPzpcXFxcLnxbXFx3LV18W15cXHgwMC1cXHhhMF0pKyIsaWRlbnRpZmllcj1jaGFyYWN0ZXJFbmNvZGluZy5yZXBsYWNlKCJ3IiwidyMiKSxhdHRyaWJ1dGVzPSJcXFsiK3doaXRlc3BhY2UrIiooIitjaGFyYWN0ZXJFbmNvZGluZysiKSIrd2hpdGVzcGFjZSsiKig/OihbKl4kfCF+XT89KSIrd2hpdGVzcGFjZSsiKig/OihbJ1wiXSkoKD86XFxcXC58W15cXFxcXSkqPylcXDN8KCIraWRlbnRpZmllcisiKXwpfCkiK3doaXRlc3BhY2UrIipcXF0iLHBzZXVkb3M9IjooIitjaGFyYWN0ZXJFbmNvZGluZysiKSg/OlxcKCgoWydcIl0pKCg/OlxcXFwufFteXFxcXF0pKj8pXFwzfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIrYXR0cmlidXRlcy5yZXBsYWNlKDMsOCkrIikqKXwuKilcXCl8KSIscnRyaW09bmV3IFJlZ0V4cCgiXiIrd2hpdGVzcGFjZSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIit3aGl0ZXNwYWNlKyIrJCIsImciKSxyY29tbWE9bmV3IFJlZ0V4cCgiXiIrd2hpdGVzcGFjZSsiKiwiK3doaXRlc3BhY2UrIioiKSxyY29tYmluYXRvcnM9bmV3IFJlZ0V4cCgiXiIrd2hpdGVzcGFjZSsiKihbPit+XXwiK3doaXRlc3BhY2UrIikiK3doaXRlc3BhY2UrIioiKSxyc2libGluZz1uZXcgUmVnRXhwKHdoaXRlc3BhY2UrIipbK35dIikscmF0dHJpYnV0ZVF1b3Rlcz1uZXcgUmVnRXhwKCI9Iit3aGl0ZXNwYWNlKyIqKFteXFxdJ1wiXSopIit3aGl0ZXNwYWNlKyIqXFxdIiwiZyIpLHJwc2V1ZG89bmV3IFJlZ0V4cChwc2V1ZG9zKSxyaWRlbnRpZmllcj1uZXcgUmVnRXhwKCJeIitpZGVudGlmaWVyKyIkIiksbWF0Y2hFeHByPXtJRDpuZXcgUmVnRXhwKCJeIygiK2NoYXJhY3RlckVuY29kaW5nKyIpIiksQ0xBU1M6bmV3IFJlZ0V4cCgiXlxcLigiK2NoYXJhY3RlckVuY29kaW5nKyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIitjaGFyYWN0ZXJFbmNvZGluZy5yZXBsYWNlKCJ3IiwidyoiKSsiKSIpLEFUVFI6bmV3IFJlZ0V4cCgiXiIrYXR0cmlidXRlcyksUFNFVURPOm5ldyBSZWdFeHAoIl4iK3BzZXVkb3MpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrd2hpdGVzcGFjZSsiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIrd2hpdGVzcGFjZSsiKig/OihbKy1dfCkiK3doaXRlc3BhY2UrIiooXFxkKyl8KSkiK3doaXRlc3BhY2UrIipcXCl8KSIsImkiKSxib29sOm5ldyBSZWdFeHAoIl4oPzoiK2Jvb2xlYW5zKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrd2hpdGVzcGFjZSsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIit3aGl0ZXNwYWNlKyIqKCg/Oi1cXGQpP1xcZCopIit3aGl0ZXNwYWNlKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxybmF0aXZlPS9eW157XStce1xzKlxbbmF0aXZlIFx3LyxycXVpY2tFeHByPS9eKD86IyhbXHctXSspfChcdyspfFwuKFtcdy1dKykpJC8scmlucHV0cz0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLHJoZWFkZXI9L15oXGQkL2kscmVzY2FwZT0vJ3xcXC9nLHJ1bmVzY2FwZT1uZXcgUmVnRXhwKCJcXFxcKFtcXGRhLWZdezEsNn0iK3doaXRlc3BhY2UrIj98KCIrd2hpdGVzcGFjZSsiKXwuKSIsImlnIiksZnVuZXNjYXBlPWZ1bmN0aW9uKF8sZXNjYXBlZCxlc2NhcGVkV2hpdGVzcGFjZSl7dmFyIGhpZ2g9IjB4Iitlc2NhcGVkLTY1NTM2O3JldHVybiBoaWdoIT09aGlnaHx8ZXNjYXBlZFdoaXRlc3BhY2U/ZXNjYXBlZDpoaWdoPDA/U3RyaW5nLmZyb21DaGFyQ29kZShoaWdoKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGhpZ2g+PjEwfDU1Mjk2LGhpZ2gmMTAyM3w1NjMyMCl9O3RyeXtwdXNoLmFwcGx5KChhcnI9c2xpY2UuY2FsbChwcmVmZXJyZWREb2MuY2hpbGROb2RlcykpLHByZWZlcnJlZERvYy5jaGlsZE5vZGVzKTthcnJbcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChlKXtwdXNoPXthcHBseTphcnIubGVuZ3RoP2Z1bmN0aW9uKHRhcmdldCxlbHMpe3B1c2hfbmF0aXZlLmFwcGx5KHRhcmdldCxzbGljZS5jYWxsKGVscykpfTpmdW5jdGlvbih0YXJnZXQsZWxzKXt2YXIgaj10YXJnZXQubGVuZ3RoLGk9MDt3aGlsZSgodGFyZ2V0W2orK109ZWxzW2krK10pKXt9dGFyZ2V0Lmxlbmd0aD1qLTF9fX1mdW5jdGlvbiBTaXp6bGUoc2VsZWN0b3IsY29udGV4dCxyZXN1bHRzLHNlZWQpe3ZhciBtYXRjaCxlbGVtLG0sbm9kZVR5cGUsaSxncm91cHMsb2xkLG5pZCxuZXdDb250ZXh0LG5ld1NlbGVjdG9yO2lmKChjb250ZXh0P2NvbnRleHQub3duZXJEb2N1bWVudHx8Y29udGV4dDpwcmVmZXJyZWREb2MpIT09ZG9jdW1lbnQpe3NldERvY3VtZW50KGNvbnRleHQpfWNvbnRleHQ9Y29udGV4dHx8ZG9jdW1lbnQ7cmVzdWx0cz1yZXN1bHRzfHxbXTtpZighc2VsZWN0b3J8fHR5cGVvZiBzZWxlY3RvciE9PSJzdHJpbmciKXtyZXR1cm4gcmVzdWx0c31pZigobm9kZVR5cGU9Y29udGV4dC5ub2RlVHlwZSkhPT0xJiZub2RlVHlwZSE9PTkpe3JldHVybltdfWlmKGRvY3VtZW50SXNIVE1MJiYhc2VlZCl7aWYoKG1hdGNoPXJxdWlja0V4cHIuZXhlYyhzZWxlY3RvcikpKXtpZigobT1tYXRjaFsxXSkpe2lmKG5vZGVUeXBlPT09OSl7ZWxlbT1jb250ZXh0LmdldEVsZW1lbnRCeUlkKG0pO2lmKGVsZW0mJmVsZW0ucGFyZW50Tm9kZSl7aWYoZWxlbS5pZD09PW0pe3Jlc3VsdHMucHVzaChlbGVtKTtyZXR1cm4gcmVzdWx0c319ZWxzZXtyZXR1cm4gcmVzdWx0c319ZWxzZXtpZihjb250ZXh0Lm93bmVyRG9jdW1lbnQmJihlbGVtPWNvbnRleHQub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChtKSkmJmNvbnRhaW5zKGNvbnRleHQsZWxlbSkmJmVsZW0uaWQ9PT1tKXtyZXN1bHRzLnB1c2goZWxlbSk7cmV0dXJuIHJlc3VsdHN9fX1lbHNle2lmKG1hdGNoWzJdKXtwdXNoLmFwcGx5KHJlc3VsdHMsY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZShzZWxlY3RvcikpO3JldHVybiByZXN1bHRzfWVsc2V7aWYoKG09bWF0Y2hbM10pJiZzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSl7cHVzaC5hcHBseShyZXN1bHRzLGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShtKSk7cmV0dXJuIHJlc3VsdHN9fX19aWYoc3VwcG9ydC5xc2EmJighcmJ1Z2d5UVNBfHwhcmJ1Z2d5UVNBLnRlc3Qoc2VsZWN0b3IpKSl7bmlkPW9sZD1leHBhbmRvO25ld0NvbnRleHQ9Y29udGV4dDtuZXdTZWxlY3Rvcj1ub2RlVHlwZT09PTkmJnNlbGVjdG9yO2lmKG5vZGVUeXBlPT09MSYmY29udGV4dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09Im9iamVjdCIpe2dyb3Vwcz10b2tlbml6ZShzZWxlY3Rvcik7aWYoKG9sZD1jb250ZXh0LmdldEF0dHJpYnV0ZSgiaWQiKSkpe25pZD1vbGQucmVwbGFjZShyZXNjYXBlLCJcXCQmIil9ZWxzZXtjb250ZXh0LnNldEF0dHJpYnV0ZSgiaWQiLG5pZCl9bmlkPSJbaWQ9JyIrbmlkKyInXSAiO2k9Z3JvdXBzLmxlbmd0aDt3aGlsZShpLS0pe2dyb3Vwc1tpXT1uaWQrdG9TZWxlY3Rvcihncm91cHNbaV0pfW5ld0NvbnRleHQ9cnNpYmxpbmcudGVzdChzZWxlY3RvcikmJmNvbnRleHQucGFyZW50Tm9kZXx8Y29udGV4dDtuZXdTZWxlY3Rvcj1ncm91cHMuam9pbigiLCIpfWlmKG5ld1NlbGVjdG9yKXt0cnl7cHVzaC5hcHBseShyZXN1bHRzLG5ld0NvbnRleHQucXVlcnlTZWxlY3RvckFsbChuZXdTZWxlY3RvcikpO3JldHVybiByZXN1bHRzfWNhdGNoKHFzYUVycm9yKXt9ZmluYWxseXtpZighb2xkKXtjb250ZXh0LnJlbW92ZUF0dHJpYnV0ZSgiaWQiKX19fX19cmV0dXJuIHNlbGVjdChzZWxlY3Rvci5yZXBsYWNlKHJ0cmltLCIkMSIpLGNvbnRleHQscmVzdWx0cyxzZWVkKX1mdW5jdGlvbiBjcmVhdGVDYWNoZSgpe3ZhciBrZXlzPVtdO2Z1bmN0aW9uIGNhY2hlKGtleSx2YWx1ZSl7aWYoa2V5cy5wdXNoKGtleSs9IiAiKT5FeHByLmNhY2hlTGVuZ3RoKXtkZWxldGUgY2FjaGVba2V5cy5zaGlmdCgpXX1yZXR1cm4oY2FjaGVba2V5XT12YWx1ZSl9cmV0dXJuIGNhY2hlfWZ1bmN0aW9uIG1hcmtGdW5jdGlvbihmbil7Zm5bZXhwYW5kb109dHJ1ZTtyZXR1cm4gZm59ZnVuY3Rpb24gYXNzZXJ0KGZuKXt2YXIgZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RyeXtyZXR1cm4gISFmbihkaXYpfWNhdGNoKGUpe3JldHVybiBmYWxzZX1maW5hbGx5e2lmKGRpdi5wYXJlbnROb2RlKXtkaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkaXYpfWRpdj1udWxsfX1mdW5jdGlvbiBhZGRIYW5kbGUoYXR0cnMsaGFuZGxlcil7dmFyIGFycj1hdHRycy5zcGxpdCgifCIpLGk9YXR0cnMubGVuZ3RoO3doaWxlKGktLSl7RXhwci5hdHRySGFuZGxlW2FycltpXV09aGFuZGxlcn19ZnVuY3Rpb24gc2libGluZ0NoZWNrKGEsYil7dmFyIGN1cj1iJiZhLGRpZmY9Y3VyJiZhLm5vZGVUeXBlPT09MSYmYi5ub2RlVHlwZT09PTEmJih+Yi5zb3VyY2VJbmRleHx8TUFYX05FR0FUSVZFKS0ofmEuc291cmNlSW5kZXh8fE1BWF9ORUdBVElWRSk7aWYoZGlmZil7cmV0dXJuIGRpZmZ9aWYoY3VyKXt3aGlsZSgoY3VyPWN1ci5uZXh0U2libGluZykpe2lmKGN1cj09PWIpe3JldHVybiAtMX19fXJldHVybiBhPzE6LTF9ZnVuY3Rpb24gY3JlYXRlSW5wdXRQc2V1ZG8odHlwZSl7cmV0dXJuIGZ1bmN0aW9uKGVsZW0pe3ZhciBuYW1lPWVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gbmFtZT09PSJpbnB1dCImJmVsZW0udHlwZT09PXR5cGV9fWZ1bmN0aW9uIGNyZWF0ZUJ1dHRvblBzZXVkbyh0eXBlKXtyZXR1cm4gZnVuY3Rpb24oZWxlbSl7dmFyIG5hbWU9ZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybihuYW1lPT09ImlucHV0Inx8bmFtZT09PSJidXR0b24iKSYmZWxlbS50eXBlPT09dHlwZX19ZnVuY3Rpb24gY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmbil7cmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbihhcmd1bWVudCl7YXJndW1lbnQ9K2FyZ3VtZW50O3JldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oc2VlZCxtYXRjaGVzKXt2YXIgaixtYXRjaEluZGV4ZXM9Zm4oW10sc2VlZC5sZW5ndGgsYXJndW1lbnQpLGk9bWF0Y2hJbmRleGVzLmxlbmd0aDt3aGlsZShpLS0pe2lmKHNlZWRbKGo9bWF0Y2hJbmRleGVzW2ldKV0pe3NlZWRbal09IShtYXRjaGVzW2pdPXNlZWRbal0pfX19KX0pfWlzWE1MPVNpenpsZS5pc1hNTD1mdW5jdGlvbihlbGVtKXt2YXIgZG9jdW1lbnRFbGVtZW50PWVsZW0mJihlbGVtLm93bmVyRG9jdW1lbnR8fGVsZW0pLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gZG9jdW1lbnRFbGVtZW50P2RvY3VtZW50RWxlbWVudC5ub2RlTmFtZSE9PSJIVE1MIjpmYWxzZX07c3VwcG9ydD1TaXp6bGUuc3VwcG9ydD17fTtzZXREb2N1bWVudD1TaXp6bGUuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24obm9kZSl7dmFyIGRvYz1ub2RlP25vZGUub3duZXJEb2N1bWVudHx8bm9kZTpwcmVmZXJyZWREb2MscGFyZW50PWRvYy5kZWZhdWx0VmlldztpZihkb2M9PT1kb2N1bWVudHx8ZG9jLm5vZGVUeXBlIT09OXx8IWRvYy5kb2N1bWVudEVsZW1lbnQpe3JldHVybiBkb2N1bWVudH1kb2N1bWVudD1kb2M7ZG9jRWxlbT1kb2MuZG9jdW1lbnRFbGVtZW50O2RvY3VtZW50SXNIVE1MPSFpc1hNTChkb2MpO2lmKHBhcmVudCYmcGFyZW50LmF0dGFjaEV2ZW50JiZwYXJlbnQhPT1wYXJlbnQudG9wKXtwYXJlbnQuYXR0YWNoRXZlbnQoIm9uYmVmb3JldW5sb2FkIixmdW5jdGlvbigpe3NldERvY3VtZW50KCl9KX1zdXBwb3J0LmF0dHJpYnV0ZXM9YXNzZXJ0KGZ1bmN0aW9uKGRpdil7ZGl2LmNsYXNzTmFtZT0iaSI7cmV0dXJuICFkaXYuZ2V0QXR0cmlidXRlKCJjbGFzc05hbWUiKX0pO3N1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWU9YXNzZXJ0KGZ1bmN0aW9uKGRpdil7ZGl2LmFwcGVuZENoaWxkKGRvYy5jcmVhdGVDb21tZW50KCIiKSk7cmV0dXJuICFkaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKS5sZW5ndGh9KTtzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWU9YXNzZXJ0KGZ1bmN0aW9uKGRpdil7ZGl2LmlubmVySFRNTD0iPGRpdiBjbGFzcz0nYSc+PC9kaXY+PGRpdiBjbGFzcz0nYSBpJz48L2Rpdj4iO2Rpdi5maXJzdENoaWxkLmNsYXNzTmFtZT0iaSI7cmV0dXJuIGRpdi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJpIikubGVuZ3RoPT09Mn0pO3N1cHBvcnQuZ2V0QnlJZD1hc3NlcnQoZnVuY3Rpb24oZGl2KXtkb2NFbGVtLmFwcGVuZENoaWxkKGRpdikuaWQ9ZXhwYW5kbztyZXR1cm4gIWRvYy5nZXRFbGVtZW50c0J5TmFtZXx8IWRvYy5nZXRFbGVtZW50c0J5TmFtZShleHBhbmRvKS5sZW5ndGh9KTtpZihzdXBwb3J0LmdldEJ5SWQpe0V4cHIuZmluZC5JRD1mdW5jdGlvbihpZCxjb250ZXh0KXtpZih0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCE9PXN0cnVuZGVmaW5lZCYmZG9jdW1lbnRJc0hUTUwpe3ZhciBtPWNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoaWQpO3JldHVybiBtJiZtLnBhcmVudE5vZGU/W21dOltdfX07RXhwci5maWx0ZXIuSUQ9ZnVuY3Rpb24oaWQpe3ZhciBhdHRySWQ9aWQucmVwbGFjZShydW5lc2NhcGUsZnVuZXNjYXBlKTtyZXR1cm4gZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCJpZCIpPT09YXR0cklkfX19ZWxzZXtkZWxldGUgRXhwci5maW5kLklEO0V4cHIuZmlsdGVyLklEPWZ1bmN0aW9uKGlkKXt2YXIgYXR0cklkPWlkLnJlcGxhY2UocnVuZXNjYXBlLGZ1bmVzY2FwZSk7cmV0dXJuIGZ1bmN0aW9uKGVsZW0pe3ZhciBub2RlPXR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZU5vZGUhPT1zdHJ1bmRlZmluZWQmJmVsZW0uZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gbm9kZSYmbm9kZS52YWx1ZT09PWF0dHJJZH19fUV4cHIuZmluZC5UQUc9c3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbih0YWcsY29udGV4dCl7aWYodHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT1zdHJ1bmRlZmluZWQpe3JldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZyl9fTpmdW5jdGlvbih0YWcsY29udGV4dCl7dmFyIGVsZW0sdG1wPVtdLGk9MCxyZXN1bHRzPWNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnKTtpZih0YWc9PT0iKiIpe3doaWxlKChlbGVtPXJlc3VsdHNbaSsrXSkpe2lmKGVsZW0ubm9kZVR5cGU9PT0xKXt0bXAucHVzaChlbGVtKX19cmV0dXJuIHRtcH1yZXR1cm4gcmVzdWx0c307RXhwci5maW5kLkNMQVNTPXN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZnVuY3Rpb24oY2xhc3NOYW1lLGNvbnRleHQpe2lmKHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUhPT1zdHJ1bmRlZmluZWQmJmRvY3VtZW50SXNIVE1MKXtyZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSl9fTtyYnVnZ3lNYXRjaGVzPVtdO3JidWdneVFTQT1bXTtpZigoc3VwcG9ydC5xc2E9cm5hdGl2ZS50ZXN0KGRvYy5xdWVyeVNlbGVjdG9yQWxsKSkpe2Fzc2VydChmdW5jdGlvbihkaXYpe2Rpdi5pbm5lckhUTUw9IjxzZWxlY3Q+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iO2lmKCFkaXYucXVlcnlTZWxlY3RvckFsbCgiW3NlbGVjdGVkXSIpLmxlbmd0aCl7cmJ1Z2d5UVNBLnB1c2goIlxcWyIrd2hpdGVzcGFjZSsiKig/OnZhbHVlfCIrYm9vbGVhbnMrIikiKX1pZighZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RoKXtyYnVnZ3lRU0EucHVzaCgiOmNoZWNrZWQiKX19KTthc3NlcnQoZnVuY3Rpb24oZGl2KXt2YXIgaW5wdXQ9ZG9jLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7aW5wdXQuc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIik7ZGl2LmFwcGVuZENoaWxkKGlucHV0KS5zZXRBdHRyaWJ1dGUoInQiLCIiKTtpZihkaXYucXVlcnlTZWxlY3RvckFsbCgiW3RePScnXSIpLmxlbmd0aCl7cmJ1Z2d5UVNBLnB1c2goIlsqXiRdPSIrd2hpdGVzcGFjZSsiKig/OicnfFwiXCIpIil9aWYoIWRpdi5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCl7cmJ1Z2d5UVNBLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIil9ZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKTtyYnVnZ3lRU0EucHVzaCgiLC4qOiIpfSl9aWYoKHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yPXJuYXRpdmUudGVzdCgobWF0Y2hlcz1kb2NFbGVtLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8ZG9jRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3J8fGRvY0VsZW0ub01hdGNoZXNTZWxlY3Rvcnx8ZG9jRWxlbS5tc01hdGNoZXNTZWxlY3RvcikpKSl7YXNzZXJ0KGZ1bmN0aW9uKGRpdil7c3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaD1tYXRjaGVzLmNhbGwoZGl2LCJkaXYiKTttYXRjaGVzLmNhbGwoZGl2LCJbcyE9JyddOngiKTtyYnVnZ3lNYXRjaGVzLnB1c2goIiE9Iixwc2V1ZG9zKX0pfXJidWdneVFTQT1yYnVnZ3lRU0EubGVuZ3RoJiZuZXcgUmVnRXhwKHJidWdneVFTQS5qb2luKCJ8IikpO3JidWdneU1hdGNoZXM9cmJ1Z2d5TWF0Y2hlcy5sZW5ndGgmJm5ldyBSZWdFeHAocmJ1Z2d5TWF0Y2hlcy5qb2luKCJ8IikpO2NvbnRhaW5zPXJuYXRpdmUudGVzdChkb2NFbGVtLmNvbnRhaW5zKXx8ZG9jRWxlbS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9mdW5jdGlvbihhLGIpe3ZhciBhZG93bj1hLm5vZGVUeXBlPT09OT9hLmRvY3VtZW50RWxlbWVudDphLGJ1cD1iJiZiLnBhcmVudE5vZGU7cmV0dXJuIGE9PT1idXB8fCEhKGJ1cCYmYnVwLm5vZGVUeXBlPT09MSYmKGFkb3duLmNvbnRhaW5zP2Fkb3duLmNvbnRhaW5zKGJ1cCk6YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihidXApJjE2KSl9OmZ1bmN0aW9uKGEsYil7aWYoYil7d2hpbGUoKGI9Yi5wYXJlbnROb2RlKSl7aWYoYj09PWEpe3JldHVybiB0cnVlfX19cmV0dXJuIGZhbHNlfTtzb3J0T3JkZXI9ZG9jRWxlbS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9mdW5jdGlvbihhLGIpe2lmKGE9PT1iKXtoYXNEdXBsaWNhdGU9dHJ1ZTtyZXR1cm4gMH12YXIgY29tcGFyZT1iLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpO2lmKGNvbXBhcmUpe2lmKGNvbXBhcmUmMXx8KCFzdXBwb3J0LnNvcnREZXRhY2hlZCYmYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhKT09PWNvbXBhcmUpKXtpZihhPT09ZG9jfHxjb250YWlucyhwcmVmZXJyZWREb2MsYSkpe3JldHVybiAtMX1pZihiPT09ZG9jfHxjb250YWlucyhwcmVmZXJyZWREb2MsYikpe3JldHVybiAxfXJldHVybiBzb3J0SW5wdXQ/KGluZGV4T2YuY2FsbChzb3J0SW5wdXQsYSktaW5kZXhPZi5jYWxsKHNvcnRJbnB1dCxiKSk6MH1yZXR1cm4gY29tcGFyZSY0Py0xOjF9cmV0dXJuIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24/LTE6MX06ZnVuY3Rpb24oYSxiKXt2YXIgY3VyLGk9MCxhdXA9YS5wYXJlbnROb2RlLGJ1cD1iLnBhcmVudE5vZGUsYXA9W2FdLGJwPVtiXTtpZihhPT09Yil7aGFzRHVwbGljYXRlPXRydWU7cmV0dXJuIDB9ZWxzZXtpZighYXVwfHwhYnVwKXtyZXR1cm4gYT09PWRvYz8tMTpiPT09ZG9jPzE6YXVwPy0xOmJ1cD8xOnNvcnRJbnB1dD8oaW5kZXhPZi5jYWxsKHNvcnRJbnB1dCxhKS1pbmRleE9mLmNhbGwoc29ydElucHV0LGIpKTowfWVsc2V7aWYoYXVwPT09YnVwKXtyZXR1cm4gc2libGluZ0NoZWNrKGEsYil9fX1jdXI9YTt3aGlsZSgoY3VyPWN1ci5wYXJlbnROb2RlKSl7YXAudW5zaGlmdChjdXIpfWN1cj1iO3doaWxlKChjdXI9Y3VyLnBhcmVudE5vZGUpKXticC51bnNoaWZ0KGN1cil9d2hpbGUoYXBbaV09PT1icFtpXSl7aSsrfXJldHVybiBpP3NpYmxpbmdDaGVjayhhcFtpXSxicFtpXSk6YXBbaV09PT1wcmVmZXJyZWREb2M/LTE6YnBbaV09PT1wcmVmZXJyZWREb2M/MTowfTtyZXR1cm4gZG9jfTtTaXp6bGUubWF0Y2hlcz1mdW5jdGlvbihleHByLGVsZW1lbnRzKXtyZXR1cm4gU2l6emxlKGV4cHIsbnVsbCxudWxsLGVsZW1lbnRzKX07U2l6emxlLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlbGVtLGV4cHIpe2lmKChlbGVtLm93bmVyRG9jdW1lbnR8fGVsZW0pIT09ZG9jdW1lbnQpe3NldERvY3VtZW50KGVsZW0pfWV4cHI9ZXhwci5yZXBsYWNlKHJhdHRyaWJ1dGVRdW90ZXMsIj0nJDEnXSIpO2lmKHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yJiZkb2N1bWVudElzSFRNTCYmKCFyYnVnZ3lNYXRjaGVzfHwhcmJ1Z2d5TWF0Y2hlcy50ZXN0KGV4cHIpKSYmKCFyYnVnZ3lRU0F8fCFyYnVnZ3lRU0EudGVzdChleHByKSkpe3RyeXt2YXIgcmV0PW1hdGNoZXMuY2FsbChlbGVtLGV4cHIpO2lmKHJldHx8c3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaHx8ZWxlbS5kb2N1bWVudCYmZWxlbS5kb2N1bWVudC5ub2RlVHlwZSE9PTExKXtyZXR1cm4gcmV0fX1jYXRjaChlKXt9fXJldHVybiBTaXp6bGUoZXhwcixkb2N1bWVudCxudWxsLFtlbGVtXSkubGVuZ3RoPjB9O1NpenpsZS5jb250YWlucz1mdW5jdGlvbihjb250ZXh0LGVsZW0pe2lmKChjb250ZXh0Lm93bmVyRG9jdW1lbnR8fGNvbnRleHQpIT09ZG9jdW1lbnQpe3NldERvY3VtZW50KGNvbnRleHQpfXJldHVybiBjb250YWlucyhjb250ZXh0LGVsZW0pfTtTaXp6bGUuYXR0cj1mdW5jdGlvbihlbGVtLG5hbWUpe2lmKChlbGVtLm93bmVyRG9jdW1lbnR8fGVsZW0pIT09ZG9jdW1lbnQpe3NldERvY3VtZW50KGVsZW0pfXZhciBmbj1FeHByLmF0dHJIYW5kbGVbbmFtZS50b0xvd2VyQ2FzZSgpXSx2YWw9Zm4mJmhhc093bi5jYWxsKEV4cHIuYXR0ckhhbmRsZSxuYW1lLnRvTG93ZXJDYXNlKCkpP2ZuKGVsZW0sbmFtZSwhZG9jdW1lbnRJc0hUTUwpOnVuZGVmaW5lZDtyZXR1cm4gdmFsPT09dW5kZWZpbmVkP3N1cHBvcnQuYXR0cmlidXRlc3x8IWRvY3VtZW50SXNIVE1MP2VsZW0uZ2V0QXR0cmlidXRlKG5hbWUpOih2YWw9ZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKG5hbWUpKSYmdmFsLnNwZWNpZmllZD92YWwudmFsdWU6bnVsbDp2YWx9O1NpenpsZS5lcnJvcj1mdW5jdGlvbihtc2cpe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIittc2cpfTtTaXp6bGUudW5pcXVlU29ydD1mdW5jdGlvbihyZXN1bHRzKXt2YXIgZWxlbSxkdXBsaWNhdGVzPVtdLGo9MCxpPTA7aGFzRHVwbGljYXRlPSFzdXBwb3J0LmRldGVjdER1cGxpY2F0ZXM7c29ydElucHV0PSFzdXBwb3J0LnNvcnRTdGFibGUmJnJlc3VsdHMuc2xpY2UoMCk7cmVzdWx0cy5zb3J0KHNvcnRPcmRlcik7aWYoaGFzRHVwbGljYXRlKXt3aGlsZSgoZWxlbT1yZXN1bHRzW2krK10pKXtpZihlbGVtPT09cmVzdWx0c1tpXSl7aj1kdXBsaWNhdGVzLnB1c2goaSl9fXdoaWxlKGotLSl7cmVzdWx0cy5zcGxpY2UoZHVwbGljYXRlc1tqXSwxKX19cmV0dXJuIHJlc3VsdHN9O2dldFRleHQ9U2l6emxlLmdldFRleHQ9ZnVuY3Rpb24oZWxlbSl7dmFyIG5vZGUscmV0PSIiLGk9MCxub2RlVHlwZT1lbGVtLm5vZGVUeXBlO2lmKCFub2RlVHlwZSl7Zm9yKDsobm9kZT1lbGVtW2ldKTtpKyspe3JldCs9Z2V0VGV4dChub2RlKX19ZWxzZXtpZihub2RlVHlwZT09PTF8fG5vZGVUeXBlPT09OXx8bm9kZVR5cGU9PT0xMSl7aWYodHlwZW9mIGVsZW0udGV4dENvbnRlbnQ9PT0ic3RyaW5nIil7cmV0dXJuIGVsZW0udGV4dENvbnRlbnR9ZWxzZXtmb3IoZWxlbT1lbGVtLmZpcnN0Q2hpbGQ7ZWxlbTtlbGVtPWVsZW0ubmV4dFNpYmxpbmcpe3JldCs9Z2V0VGV4dChlbGVtKX19fWVsc2V7aWYobm9kZVR5cGU9PT0zfHxub2RlVHlwZT09PTQpe3JldHVybiBlbGVtLm5vZGVWYWx1ZX19fXJldHVybiByZXR9O0V4cHI9U2l6emxlLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOm1hcmtGdW5jdGlvbixtYXRjaDptYXRjaEV4cHIsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6dHJ1ZX0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDp0cnVlfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihtYXRjaCl7bWF0Y2hbMV09bWF0Y2hbMV0ucmVwbGFjZShydW5lc2NhcGUsZnVuZXNjYXBlKTttYXRjaFszXT0obWF0Y2hbNF18fG1hdGNoWzVdfHwiIikucmVwbGFjZShydW5lc2NhcGUsZnVuZXNjYXBlKTtpZihtYXRjaFsyXT09PSJ+PSIpe21hdGNoWzNdPSIgIittYXRjaFszXSsiICJ9cmV0dXJuIG1hdGNoLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKG1hdGNoKXttYXRjaFsxXT1tYXRjaFsxXS50b0xvd2VyQ2FzZSgpO2lmKG1hdGNoWzFdLnNsaWNlKDAsMyk9PT0ibnRoIil7aWYoIW1hdGNoWzNdKXtTaXp6bGUuZXJyb3IobWF0Y2hbMF0pfW1hdGNoWzRdPSsobWF0Y2hbNF0/bWF0Y2hbNV0rKG1hdGNoWzZdfHwxKToyKihtYXRjaFszXT09PSJldmVuInx8bWF0Y2hbM109PT0ib2RkIikpO21hdGNoWzVdPSsoKG1hdGNoWzddK21hdGNoWzhdKXx8bWF0Y2hbM109PT0ib2RkIil9ZWxzZXtpZihtYXRjaFszXSl7U2l6emxlLmVycm9yKG1hdGNoWzBdKX19cmV0dXJuIG1hdGNofSxQU0VVRE86ZnVuY3Rpb24obWF0Y2gpe3ZhciBleGNlc3MsdW5xdW90ZWQ9IW1hdGNoWzVdJiZtYXRjaFsyXTtpZihtYXRjaEV4cHIuQ0hJTEQudGVzdChtYXRjaFswXSkpe3JldHVybiBudWxsfWlmKG1hdGNoWzNdJiZtYXRjaFs0XSE9PXVuZGVmaW5lZCl7bWF0Y2hbMl09bWF0Y2hbNF19ZWxzZXtpZih1bnF1b3RlZCYmcnBzZXVkby50ZXN0KHVucXVvdGVkKSYmKGV4Y2Vzcz10b2tlbml6ZSh1bnF1b3RlZCx0cnVlKSkmJihleGNlc3M9dW5xdW90ZWQuaW5kZXhPZigiKSIsdW5xdW90ZWQubGVuZ3RoLWV4Y2VzcyktdW5xdW90ZWQubGVuZ3RoKSl7bWF0Y2hbMF09bWF0Y2hbMF0uc2xpY2UoMCxleGNlc3MpO21hdGNoWzJdPXVucXVvdGVkLnNsaWNlKDAsZXhjZXNzKX19cmV0dXJuIG1hdGNoLnNsaWNlKDAsMyl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihub2RlTmFtZVNlbGVjdG9yKXt2YXIgbm9kZU5hbWU9bm9kZU5hbWVTZWxlY3Rvci5yZXBsYWNlKHJ1bmVzY2FwZSxmdW5lc2NhcGUpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIG5vZGVOYW1lU2VsZWN0b3I9PT0iKiI/ZnVuY3Rpb24oKXtyZXR1cm4gdHJ1ZX06ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGVsZW0ubm9kZU5hbWUmJmVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PW5vZGVOYW1lfX0sQ0xBU1M6ZnVuY3Rpb24oY2xhc3NOYW1lKXt2YXIgcGF0dGVybj1jbGFzc0NhY2hlW2NsYXNzTmFtZSsiICJdO3JldHVybiBwYXR0ZXJufHwocGF0dGVybj1uZXcgUmVnRXhwKCIoXnwiK3doaXRlc3BhY2UrIikiK2NsYXNzTmFtZSsiKCIrd2hpdGVzcGFjZSsifCQpIikpJiZjbGFzc0NhY2hlKGNsYXNzTmFtZSxmdW5jdGlvbihlbGVtKXtyZXR1cm4gcGF0dGVybi50ZXN0KHR5cGVvZiBlbGVtLmNsYXNzTmFtZT09PSJzdHJpbmciJiZlbGVtLmNsYXNzTmFtZXx8dHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlIT09c3RydW5kZWZpbmVkJiZlbGVtLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24obmFtZSxvcGVyYXRvcixjaGVjayl7cmV0dXJuIGZ1bmN0aW9uKGVsZW0pe3ZhciByZXN1bHQ9U2l6emxlLmF0dHIoZWxlbSxuYW1lKTtpZihyZXN1bHQ9PW51bGwpe3JldHVybiBvcGVyYXRvcj09PSIhPSJ9aWYoIW9wZXJhdG9yKXtyZXR1cm4gdHJ1ZX1yZXN1bHQrPSIiO3JldHVybiBvcGVyYXRvcj09PSI9Ij9yZXN1bHQ9PT1jaGVjazpvcGVyYXRvcj09PSIhPSI/cmVzdWx0IT09Y2hlY2s6b3BlcmF0b3I9PT0iXj0iP2NoZWNrJiZyZXN1bHQuaW5kZXhPZihjaGVjayk9PT0wOm9wZXJhdG9yPT09Iio9Ij9jaGVjayYmcmVzdWx0LmluZGV4T2YoY2hlY2spPi0xOm9wZXJhdG9yPT09IiQ9Ij9jaGVjayYmcmVzdWx0LnNsaWNlKC1jaGVjay5sZW5ndGgpPT09Y2hlY2s6b3BlcmF0b3I9PT0ifj0iPygiICIrcmVzdWx0KyIgIikuaW5kZXhPZihjaGVjayk+LTE6b3BlcmF0b3I9PT0ifD0iP3Jlc3VsdD09PWNoZWNrfHxyZXN1bHQuc2xpY2UoMCxjaGVjay5sZW5ndGgrMSk9PT1jaGVjaysiLSI6ZmFsc2V9fSxDSElMRDpmdW5jdGlvbih0eXBlLHdoYXQsYXJndW1lbnQsZmlyc3QsbGFzdCl7dmFyIHNpbXBsZT10eXBlLnNsaWNlKDAsMykhPT0ibnRoIixmb3J3YXJkPXR5cGUuc2xpY2UoLTQpIT09Imxhc3QiLG9mVHlwZT13aGF0PT09Im9mLXR5cGUiO3JldHVybiBmaXJzdD09PTEmJmxhc3Q9PT0wP2Z1bmN0aW9uKGVsZW0pe3JldHVybiAhIWVsZW0ucGFyZW50Tm9kZX06ZnVuY3Rpb24oZWxlbSxjb250ZXh0LHhtbCl7dmFyIGNhY2hlLG91dGVyQ2FjaGUsbm9kZSxkaWZmLG5vZGVJbmRleCxzdGFydCxkaXI9c2ltcGxlIT09Zm9yd2FyZD8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLHBhcmVudD1lbGVtLnBhcmVudE5vZGUsbmFtZT1vZlR5cGUmJmVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx1c2VDYWNoZT0heG1sJiYhb2ZUeXBlO2lmKHBhcmVudCl7aWYoc2ltcGxlKXt3aGlsZShkaXIpe25vZGU9ZWxlbTt3aGlsZSgobm9kZT1ub2RlW2Rpcl0pKXtpZihvZlR5cGU/bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09bmFtZTpub2RlLm5vZGVUeXBlPT09MSl7cmV0dXJuIGZhbHNlfX1zdGFydD1kaXI9dHlwZT09PSJvbmx5IiYmIXN0YXJ0JiYibmV4dFNpYmxpbmcifXJldHVybiB0cnVlfXN0YXJ0PVtmb3J3YXJkP3BhcmVudC5maXJzdENoaWxkOnBhcmVudC5sYXN0Q2hpbGRdO2lmKGZvcndhcmQmJnVzZUNhY2hlKXtvdXRlckNhY2hlPXBhcmVudFtleHBhbmRvXXx8KHBhcmVudFtleHBhbmRvXT17fSk7Y2FjaGU9b3V0ZXJDYWNoZVt0eXBlXXx8W107bm9kZUluZGV4PWNhY2hlWzBdPT09ZGlycnVucyYmY2FjaGVbMV07ZGlmZj1jYWNoZVswXT09PWRpcnJ1bnMmJmNhY2hlWzJdO25vZGU9bm9kZUluZGV4JiZwYXJlbnQuY2hpbGROb2Rlc1tub2RlSW5kZXhdO3doaWxlKChub2RlPSsrbm9kZUluZGV4JiZub2RlJiZub2RlW2Rpcl18fChkaWZmPW5vZGVJbmRleD0wKXx8c3RhcnQucG9wKCkpKXtpZihub2RlLm5vZGVUeXBlPT09MSYmKytkaWZmJiZub2RlPT09ZWxlbSl7b3V0ZXJDYWNoZVt0eXBlXT1bZGlycnVucyxub2RlSW5kZXgsZGlmZl07YnJlYWt9fX1lbHNle2lmKHVzZUNhY2hlJiYoY2FjaGU9KGVsZW1bZXhwYW5kb118fChlbGVtW2V4cGFuZG9dPXt9KSlbdHlwZV0pJiZjYWNoZVswXT09PWRpcnJ1bnMpe2RpZmY9Y2FjaGVbMV19ZWxzZXt3aGlsZSgobm9kZT0rK25vZGVJbmRleCYmbm9kZSYmbm9kZVtkaXJdfHwoZGlmZj1ub2RlSW5kZXg9MCl8fHN0YXJ0LnBvcCgpKSl7aWYoKG9mVHlwZT9ub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1uYW1lOm5vZGUubm9kZVR5cGU9PT0xKSYmKytkaWZmKXtpZih1c2VDYWNoZSl7KG5vZGVbZXhwYW5kb118fChub2RlW2V4cGFuZG9dPXt9KSlbdHlwZV09W2RpcnJ1bnMsZGlmZl19aWYobm9kZT09PWVsZW0pe2JyZWFrfX19fX1kaWZmLT1sYXN0O3JldHVybiBkaWZmPT09Zmlyc3R8fChkaWZmJWZpcnN0PT09MCYmZGlmZi9maXJzdD49MCl9fX0sUFNFVURPOmZ1bmN0aW9uKHBzZXVkbyxhcmd1bWVudCl7dmFyIGFyZ3MsZm49RXhwci5wc2V1ZG9zW3BzZXVkb118fEV4cHIuc2V0RmlsdGVyc1twc2V1ZG8udG9Mb3dlckNhc2UoKV18fFNpenpsZS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK3BzZXVkbyk7aWYoZm5bZXhwYW5kb10pe3JldHVybiBmbihhcmd1bWVudCl9aWYoZm4ubGVuZ3RoPjEpe2FyZ3M9W3BzZXVkbyxwc2V1ZG8sIiIsYXJndW1lbnRdO3JldHVybiBFeHByLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkocHNldWRvLnRvTG93ZXJDYXNlKCkpP21hcmtGdW5jdGlvbihmdW5jdGlvbihzZWVkLG1hdGNoZXMpe3ZhciBpZHgsbWF0Y2hlZD1mbihzZWVkLGFyZ3VtZW50KSxpPW1hdGNoZWQubGVuZ3RoO3doaWxlKGktLSl7aWR4PWluZGV4T2YuY2FsbChzZWVkLG1hdGNoZWRbaV0pO3NlZWRbaWR4XT0hKG1hdGNoZXNbaWR4XT1tYXRjaGVkW2ldKX19KTpmdW5jdGlvbihlbGVtKXtyZXR1cm4gZm4oZWxlbSwwLGFyZ3MpfX1yZXR1cm4gZm59fSxwc2V1ZG9zOntub3Q6bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKHNlbGVjdG9yKXt2YXIgaW5wdXQ9W10scmVzdWx0cz1bXSxtYXRjaGVyPWNvbXBpbGUoc2VsZWN0b3IucmVwbGFjZShydHJpbSwiJDEiKSk7cmV0dXJuIG1hdGNoZXJbZXhwYW5kb10/bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKHNlZWQsbWF0Y2hlcyxjb250ZXh0LHhtbCl7dmFyIGVsZW0sdW5tYXRjaGVkPW1hdGNoZXIoc2VlZCxudWxsLHhtbCxbXSksaT1zZWVkLmxlbmd0aDt3aGlsZShpLS0pe2lmKChlbGVtPXVubWF0Y2hlZFtpXSkpe3NlZWRbaV09IShtYXRjaGVzW2ldPWVsZW0pfX19KTpmdW5jdGlvbihlbGVtLGNvbnRleHQseG1sKXtpbnB1dFswXT1lbGVtO21hdGNoZXIoaW5wdXQsbnVsbCx4bWwscmVzdWx0cyk7cmV0dXJuICFyZXN1bHRzLnBvcCgpfX0pLGhhczptYXJrRnVuY3Rpb24oZnVuY3Rpb24oc2VsZWN0b3Ipe3JldHVybiBmdW5jdGlvbihlbGVtKXtyZXR1cm4gU2l6emxlKHNlbGVjdG9yLGVsZW0pLmxlbmd0aD4wfX0pLGNvbnRhaW5zOm1hcmtGdW5jdGlvbihmdW5jdGlvbih0ZXh0KXtyZXR1cm4gZnVuY3Rpb24oZWxlbSl7cmV0dXJuKGVsZW0udGV4dENvbnRlbnR8fGVsZW0uaW5uZXJUZXh0fHxnZXRUZXh0KGVsZW0pKS5pbmRleE9mKHRleHQpPi0xfX0pLGxhbmc6bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKGxhbmcpe2lmKCFyaWRlbnRpZmllci50ZXN0KGxhbmd8fCIiKSl7U2l6emxlLmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK2xhbmcpfWxhbmc9bGFuZy5yZXBsYWNlKHJ1bmVzY2FwZSxmdW5lc2NhcGUpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGZ1bmN0aW9uKGVsZW0pe3ZhciBlbGVtTGFuZztkb3tpZigoZWxlbUxhbmc9ZG9jdW1lbnRJc0hUTUw/ZWxlbS5sYW5nOmVsZW0uZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlbGVtLmdldEF0dHJpYnV0ZSgibGFuZyIpKSl7ZWxlbUxhbmc9ZWxlbUxhbmcudG9Mb3dlckNhc2UoKTtyZXR1cm4gZWxlbUxhbmc9PT1sYW5nfHxlbGVtTGFuZy5pbmRleE9mKGxhbmcrIi0iKT09PTB9fXdoaWxlKChlbGVtPWVsZW0ucGFyZW50Tm9kZSkmJmVsZW0ubm9kZVR5cGU9PT0xKTtyZXR1cm4gZmFsc2V9fSksdGFyZ2V0OmZ1bmN0aW9uKGVsZW0pe3ZhciBoYXNoPXdpbmRvdy5sb2NhdGlvbiYmd2luZG93LmxvY2F0aW9uLmhhc2g7cmV0dXJuIGhhc2gmJmhhc2guc2xpY2UoMSk9PT1lbGVtLmlkfSxyb290OmZ1bmN0aW9uKGVsZW0pe3JldHVybiBlbGVtPT09ZG9jRWxlbX0sZm9jdXM6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGVsZW09PT1kb2N1bWVudC5hY3RpdmVFbGVtZW50JiYoIWRvY3VtZW50Lmhhc0ZvY3VzfHxkb2N1bWVudC5oYXNGb2N1cygpKSYmISEoZWxlbS50eXBlfHxlbGVtLmhyZWZ8fH5lbGVtLnRhYkluZGV4KX0sZW5hYmxlZDpmdW5jdGlvbihlbGVtKXtyZXR1cm4gZWxlbS5kaXNhYmxlZD09PWZhbHNlfSxkaXNhYmxlZDpmdW5jdGlvbihlbGVtKXtyZXR1cm4gZWxlbS5kaXNhYmxlZD09PXRydWV9LGNoZWNrZWQ6ZnVuY3Rpb24oZWxlbSl7dmFyIG5vZGVOYW1lPWVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4obm9kZU5hbWU9PT0iaW5wdXQiJiYhIWVsZW0uY2hlY2tlZCl8fChub2RlTmFtZT09PSJvcHRpb24iJiYhIWVsZW0uc2VsZWN0ZWQpfSxzZWxlY3RlZDpmdW5jdGlvbihlbGVtKXtpZihlbGVtLnBhcmVudE5vZGUpe2VsZW0ucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4fXJldHVybiBlbGVtLnNlbGVjdGVkPT09dHJ1ZX0sZW1wdHk6ZnVuY3Rpb24oZWxlbSl7Zm9yKGVsZW09ZWxlbS5maXJzdENoaWxkO2VsZW07ZWxlbT1lbGVtLm5leHRTaWJsaW5nKXtpZihlbGVtLm5vZGVOYW1lPiJAInx8ZWxlbS5ub2RlVHlwZT09PTN8fGVsZW0ubm9kZVR5cGU9PT00KXtyZXR1cm4gZmFsc2V9fXJldHVybiB0cnVlfSxwYXJlbnQ6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuICFFeHByLnBzZXVkb3MuZW1wdHkoZWxlbSl9LGhlYWRlcjpmdW5jdGlvbihlbGVtKXtyZXR1cm4gcmhlYWRlci50ZXN0KGVsZW0ubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihlbGVtKXtyZXR1cm4gcmlucHV0cy50ZXN0KGVsZW0ubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24oZWxlbSl7dmFyIG5hbWU9ZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiBuYW1lPT09ImlucHV0IiYmZWxlbS50eXBlPT09ImJ1dHRvbiJ8fG5hbWU9PT0iYnV0dG9uIn0sdGV4dDpmdW5jdGlvbihlbGVtKXt2YXIgYXR0cjtyZXR1cm4gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImlucHV0IiYmZWxlbS50eXBlPT09InRleHQiJiYoKGF0dHI9ZWxlbS5nZXRBdHRyaWJ1dGUoInR5cGUiKSk9PW51bGx8fGF0dHIudG9Mb3dlckNhc2UoKT09PWVsZW0udHlwZSl9LGZpcnN0OmNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0OmNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24obWF0Y2hJbmRleGVzLGxlbmd0aCl7cmV0dXJuW2xlbmd0aC0xXX0pLGVxOmNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24obWF0Y2hJbmRleGVzLGxlbmd0aCxhcmd1bWVudCl7cmV0dXJuW2FyZ3VtZW50PDA/YXJndW1lbnQrbGVuZ3RoOmFyZ3VtZW50XX0pLGV2ZW46Y3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbihtYXRjaEluZGV4ZXMsbGVuZ3RoKXt2YXIgaT0wO2Zvcig7aTxsZW5ndGg7aSs9Mil7bWF0Y2hJbmRleGVzLnB1c2goaSl9cmV0dXJuIG1hdGNoSW5kZXhlc30pLG9kZDpjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKG1hdGNoSW5kZXhlcyxsZW5ndGgpe3ZhciBpPTE7Zm9yKDtpPGxlbmd0aDtpKz0yKXttYXRjaEluZGV4ZXMucHVzaChpKX1yZXR1cm4gbWF0Y2hJbmRleGVzfSksbHQ6Y3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbihtYXRjaEluZGV4ZXMsbGVuZ3RoLGFyZ3VtZW50KXt2YXIgaT1hcmd1bWVudDwwP2FyZ3VtZW50K2xlbmd0aDphcmd1bWVudDtmb3IoOy0taT49MDspe21hdGNoSW5kZXhlcy5wdXNoKGkpfXJldHVybiBtYXRjaEluZGV4ZXN9KSxndDpjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKG1hdGNoSW5kZXhlcyxsZW5ndGgsYXJndW1lbnQpe3ZhciBpPWFyZ3VtZW50PDA/YXJndW1lbnQrbGVuZ3RoOmFyZ3VtZW50O2Zvcig7KytpPGxlbmd0aDspe21hdGNoSW5kZXhlcy5wdXNoKGkpfXJldHVybiBtYXRjaEluZGV4ZXN9KX19O0V4cHIucHNldWRvcy5udGg9RXhwci5wc2V1ZG9zLmVxO2ZvcihpIGluIHtyYWRpbzp0cnVlLGNoZWNrYm94OnRydWUsZmlsZTp0cnVlLHBhc3N3b3JkOnRydWUsaW1hZ2U6dHJ1ZX0pe0V4cHIucHNldWRvc1tpXT1jcmVhdGVJbnB1dFBzZXVkbyhpKX1mb3IoaSBpbiB7c3VibWl0OnRydWUscmVzZXQ6dHJ1ZX0pe0V4cHIucHNldWRvc1tpXT1jcmVhdGVCdXR0b25Qc2V1ZG8oaSl9ZnVuY3Rpb24gc2V0RmlsdGVycygpe31zZXRGaWx0ZXJzLnByb3RvdHlwZT1FeHByLmZpbHRlcnM9RXhwci5wc2V1ZG9zO0V4cHIuc2V0RmlsdGVycz1uZXcgc2V0RmlsdGVycygpO2Z1bmN0aW9uIHRva2VuaXplKHNlbGVjdG9yLHBhcnNlT25seSl7dmFyIG1hdGNoZWQsbWF0Y2gsdG9rZW5zLHR5cGUsc29GYXIsZ3JvdXBzLHByZUZpbHRlcnMsY2FjaGVkPXRva2VuQ2FjaGVbc2VsZWN0b3IrIiAiXTtpZihjYWNoZWQpe3JldHVybiBwYXJzZU9ubHk/MDpjYWNoZWQuc2xpY2UoMCl9c29GYXI9c2VsZWN0b3I7Z3JvdXBzPVtdO3ByZUZpbHRlcnM9RXhwci5wcmVGaWx0ZXI7d2hpbGUoc29GYXIpe2lmKCFtYXRjaGVkfHwobWF0Y2g9cmNvbW1hLmV4ZWMoc29GYXIpKSl7aWYobWF0Y2gpe3NvRmFyPXNvRmFyLnNsaWNlKG1hdGNoWzBdLmxlbmd0aCl8fHNvRmFyfWdyb3Vwcy5wdXNoKHRva2Vucz1bXSl9bWF0Y2hlZD1mYWxzZTtpZigobWF0Y2g9cmNvbWJpbmF0b3JzLmV4ZWMoc29GYXIpKSl7bWF0Y2hlZD1tYXRjaC5zaGlmdCgpO3Rva2Vucy5wdXNoKHt2YWx1ZTptYXRjaGVkLHR5cGU6bWF0Y2hbMF0ucmVwbGFjZShydHJpbSwiICIpfSk7c29GYXI9c29GYXIuc2xpY2UobWF0Y2hlZC5sZW5ndGgpfWZvcih0eXBlIGluIEV4cHIuZmlsdGVyKXtpZigobWF0Y2g9bWF0Y2hFeHByW3R5cGVdLmV4ZWMoc29GYXIpKSYmKCFwcmVGaWx0ZXJzW3R5cGVdfHwobWF0Y2g9cHJlRmlsdGVyc1t0eXBlXShtYXRjaCkpKSl7bWF0Y2hlZD1tYXRjaC5zaGlmdCgpO3Rva2Vucy5wdXNoKHt2YWx1ZTptYXRjaGVkLHR5cGU6dHlwZSxtYXRjaGVzOm1hdGNofSk7c29GYXI9c29GYXIuc2xpY2UobWF0Y2hlZC5sZW5ndGgpfX1pZighbWF0Y2hlZCl7YnJlYWt9fXJldHVybiBwYXJzZU9ubHk/c29GYXIubGVuZ3RoOnNvRmFyP1NpenpsZS5lcnJvcihzZWxlY3Rvcik6dG9rZW5DYWNoZShzZWxlY3Rvcixncm91cHMpLnNsaWNlKDApfWZ1bmN0aW9uIHRvU2VsZWN0b3IodG9rZW5zKXt2YXIgaT0wLGxlbj10b2tlbnMubGVuZ3RoLHNlbGVjdG9yPSIiO2Zvcig7aTxsZW47aSsrKXtzZWxlY3Rvcis9dG9rZW5zW2ldLnZhbHVlfXJldHVybiBzZWxlY3Rvcn1mdW5jdGlvbiBhZGRDb21iaW5hdG9yKG1hdGNoZXIsY29tYmluYXRvcixiYXNlKXt2YXIgZGlyPWNvbWJpbmF0b3IuZGlyLGNoZWNrTm9uRWxlbWVudHM9YmFzZSYmZGlyPT09InBhcmVudE5vZGUiLGRvbmVOYW1lPWRvbmUrKztyZXR1cm4gY29tYmluYXRvci5maXJzdD9mdW5jdGlvbihlbGVtLGNvbnRleHQseG1sKXt3aGlsZSgoZWxlbT1lbGVtW2Rpcl0pKXtpZihlbGVtLm5vZGVUeXBlPT09MXx8Y2hlY2tOb25FbGVtZW50cyl7cmV0dXJuIG1hdGNoZXIoZWxlbSxjb250ZXh0LHhtbCl9fX06ZnVuY3Rpb24oZWxlbSxjb250ZXh0LHhtbCl7dmFyIGRhdGEsY2FjaGUsb3V0ZXJDYWNoZSxkaXJrZXk9ZGlycnVucysiICIrZG9uZU5hbWU7aWYoeG1sKXt3aGlsZSgoZWxlbT1lbGVtW2Rpcl0pKXtpZihlbGVtLm5vZGVUeXBlPT09MXx8Y2hlY2tOb25FbGVtZW50cyl7aWYobWF0Y2hlcihlbGVtLGNvbnRleHQseG1sKSl7cmV0dXJuIHRydWV9fX19ZWxzZXt3aGlsZSgoZWxlbT1lbGVtW2Rpcl0pKXtpZihlbGVtLm5vZGVUeXBlPT09MXx8Y2hlY2tOb25FbGVtZW50cyl7b3V0ZXJDYWNoZT1lbGVtW2V4cGFuZG9dfHwoZWxlbVtleHBhbmRvXT17fSk7aWYoKGNhY2hlPW91dGVyQ2FjaGVbZGlyXSkmJmNhY2hlWzBdPT09ZGlya2V5KXtpZigoZGF0YT1jYWNoZVsxXSk9PT10cnVlfHxkYXRhPT09Y2FjaGVkcnVucyl7cmV0dXJuIGRhdGE9PT10cnVlfX1lbHNle2NhY2hlPW91dGVyQ2FjaGVbZGlyXT1bZGlya2V5XTtjYWNoZVsxXT1tYXRjaGVyKGVsZW0sY29udGV4dCx4bWwpfHxjYWNoZWRydW5zO2lmKGNhY2hlWzFdPT09dHJ1ZSl7cmV0dXJuIHRydWV9fX19fX19ZnVuY3Rpb24gZWxlbWVudE1hdGNoZXIobWF0Y2hlcnMpe3JldHVybiBtYXRjaGVycy5sZW5ndGg+MT9mdW5jdGlvbihlbGVtLGNvbnRleHQseG1sKXt2YXIgaT1tYXRjaGVycy5sZW5ndGg7d2hpbGUoaS0tKXtpZighbWF0Y2hlcnNbaV0oZWxlbSxjb250ZXh0LHhtbCkpe3JldHVybiBmYWxzZX19cmV0dXJuIHRydWV9Om1hdGNoZXJzWzBdfWZ1bmN0aW9uIGNvbmRlbnNlKHVubWF0Y2hlZCxtYXAsZmlsdGVyLGNvbnRleHQseG1sKXt2YXIgZWxlbSxuZXdVbm1hdGNoZWQ9W10saT0wLGxlbj11bm1hdGNoZWQubGVuZ3RoLG1hcHBlZD1tYXAhPW51bGw7Zm9yKDtpPGxlbjtpKyspe2lmKChlbGVtPXVubWF0Y2hlZFtpXSkpe2lmKCFmaWx0ZXJ8fGZpbHRlcihlbGVtLGNvbnRleHQseG1sKSl7bmV3VW5tYXRjaGVkLnB1c2goZWxlbSk7aWYobWFwcGVkKXttYXAucHVzaChpKX19fX1yZXR1cm4gbmV3VW5tYXRjaGVkfWZ1bmN0aW9uIHNldE1hdGNoZXIocHJlRmlsdGVyLHNlbGVjdG9yLG1hdGNoZXIscG9zdEZpbHRlcixwb3N0RmluZGVyLHBvc3RTZWxlY3Rvcil7aWYocG9zdEZpbHRlciYmIXBvc3RGaWx0ZXJbZXhwYW5kb10pe3Bvc3RGaWx0ZXI9c2V0TWF0Y2hlcihwb3N0RmlsdGVyKX1pZihwb3N0RmluZGVyJiYhcG9zdEZpbmRlcltleHBhbmRvXSl7cG9zdEZpbmRlcj1zZXRNYXRjaGVyKHBvc3RGaW5kZXIscG9zdFNlbGVjdG9yKX1yZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKHNlZWQscmVzdWx0cyxjb250ZXh0LHhtbCl7dmFyIHRlbXAsaSxlbGVtLHByZU1hcD1bXSxwb3N0TWFwPVtdLHByZWV4aXN0aW5nPXJlc3VsdHMubGVuZ3RoLGVsZW1zPXNlZWR8fG11bHRpcGxlQ29udGV4dHMoc2VsZWN0b3J8fCIqIixjb250ZXh0Lm5vZGVUeXBlP1tjb250ZXh0XTpjb250ZXh0LFtdKSxtYXRjaGVySW49cHJlRmlsdGVyJiYoc2VlZHx8IXNlbGVjdG9yKT9jb25kZW5zZShlbGVtcyxwcmVNYXAscHJlRmlsdGVyLGNvbnRleHQseG1sKTplbGVtcyxtYXRjaGVyT3V0PW1hdGNoZXI/cG9zdEZpbmRlcnx8KHNlZWQ/cHJlRmlsdGVyOnByZWV4aXN0aW5nfHxwb3N0RmlsdGVyKT9bXTpyZXN1bHRzOm1hdGNoZXJJbjtpZihtYXRjaGVyKXttYXRjaGVyKG1hdGNoZXJJbixtYXRjaGVyT3V0LGNvbnRleHQseG1sKX1pZihwb3N0RmlsdGVyKXt0ZW1wPWNvbmRlbnNlKG1hdGNoZXJPdXQscG9zdE1hcCk7cG9zdEZpbHRlcih0ZW1wLFtdLGNvbnRleHQseG1sKTtpPXRlbXAubGVuZ3RoO3doaWxlKGktLSl7aWYoKGVsZW09dGVtcFtpXSkpe21hdGNoZXJPdXRbcG9zdE1hcFtpXV09IShtYXRjaGVySW5bcG9zdE1hcFtpXV09ZWxlbSl9fX1pZihzZWVkKXtpZihwb3N0RmluZGVyfHxwcmVGaWx0ZXIpe2lmKHBvc3RGaW5kZXIpe3RlbXA9W107aT1tYXRjaGVyT3V0Lmxlbmd0aDt3aGlsZShpLS0pe2lmKChlbGVtPW1hdGNoZXJPdXRbaV0pKXt0ZW1wLnB1c2goKG1hdGNoZXJJbltpXT1lbGVtKSl9fXBvc3RGaW5kZXIobnVsbCwobWF0Y2hlck91dD1bXSksdGVtcCx4bWwpfWk9bWF0Y2hlck91dC5sZW5ndGg7d2hpbGUoaS0tKXtpZigoZWxlbT1tYXRjaGVyT3V0W2ldKSYmKHRlbXA9cG9zdEZpbmRlcj9pbmRleE9mLmNhbGwoc2VlZCxlbGVtKTpwcmVNYXBbaV0pPi0xKXtzZWVkW3RlbXBdPSEocmVzdWx0c1t0ZW1wXT1lbGVtKX19fX1lbHNle21hdGNoZXJPdXQ9Y29uZGVuc2UobWF0Y2hlck91dD09PXJlc3VsdHM/bWF0Y2hlck91dC5zcGxpY2UocHJlZXhpc3RpbmcsbWF0Y2hlck91dC5sZW5ndGgpOm1hdGNoZXJPdXQpO2lmKHBvc3RGaW5kZXIpe3Bvc3RGaW5kZXIobnVsbCxyZXN1bHRzLG1hdGNoZXJPdXQseG1sKX1lbHNle3B1c2guYXBwbHkocmVzdWx0cyxtYXRjaGVyT3V0KX19fSl9ZnVuY3Rpb24gbWF0Y2hlckZyb21Ub2tlbnModG9rZW5zKXt2YXIgY2hlY2tDb250ZXh0LG1hdGNoZXIsaixsZW49dG9rZW5zLmxlbmd0aCxsZWFkaW5nUmVsYXRpdmU9RXhwci5yZWxhdGl2ZVt0b2tlbnNbMF0udHlwZV0saW1wbGljaXRSZWxhdGl2ZT1sZWFkaW5nUmVsYXRpdmV8fEV4cHIucmVsYXRpdmVbIiAiXSxpPWxlYWRpbmdSZWxhdGl2ZT8xOjAsbWF0Y2hDb250ZXh0PWFkZENvbWJpbmF0b3IoZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGVsZW09PT1jaGVja0NvbnRleHR9LGltcGxpY2l0UmVsYXRpdmUsdHJ1ZSksbWF0Y2hBbnlDb250ZXh0PWFkZENvbWJpbmF0b3IoZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGluZGV4T2YuY2FsbChjaGVja0NvbnRleHQsZWxlbSk+LTF9LGltcGxpY2l0UmVsYXRpdmUsdHJ1ZSksbWF0Y2hlcnM9W2Z1bmN0aW9uKGVsZW0sY29udGV4dCx4bWwpe3JldHVybighbGVhZGluZ1JlbGF0aXZlJiYoeG1sfHxjb250ZXh0IT09b3V0ZXJtb3N0Q29udGV4dCkpfHwoKGNoZWNrQ29udGV4dD1jb250ZXh0KS5ub2RlVHlwZT9tYXRjaENvbnRleHQoZWxlbSxjb250ZXh0LHhtbCk6bWF0Y2hBbnlDb250ZXh0KGVsZW0sY29udGV4dCx4bWwpKX1dO2Zvcig7aTxsZW47aSsrKXtpZigobWF0Y2hlcj1FeHByLnJlbGF0aXZlW3Rva2Vuc1tpXS50eXBlXSkpe21hdGNoZXJzPVthZGRDb21iaW5hdG9yKGVsZW1lbnRNYXRjaGVyKG1hdGNoZXJzKSxtYXRjaGVyKV19ZWxzZXttYXRjaGVyPUV4cHIuZmlsdGVyW3Rva2Vuc1tpXS50eXBlXS5hcHBseShudWxsLHRva2Vuc1tpXS5tYXRjaGVzKTtpZihtYXRjaGVyW2V4cGFuZG9dKXtqPSsraTtmb3IoO2o8bGVuO2orKyl7aWYoRXhwci5yZWxhdGl2ZVt0b2tlbnNbal0udHlwZV0pe2JyZWFrfX1yZXR1cm4gc2V0TWF0Y2hlcihpPjEmJmVsZW1lbnRNYXRjaGVyKG1hdGNoZXJzKSxpPjEmJnRvU2VsZWN0b3IodG9rZW5zLnNsaWNlKDAsaS0xKS5jb25jYXQoe3ZhbHVlOnRva2Vuc1tpLTJdLnR5cGU9PT0iICI/IioiOiIifSkpLnJlcGxhY2UocnRyaW0sIiQxIiksbWF0Y2hlcixpPGomJm1hdGNoZXJGcm9tVG9rZW5zKHRva2Vucy5zbGljZShpLGopKSxqPGxlbiYmbWF0Y2hlckZyb21Ub2tlbnMoKHRva2Vucz10b2tlbnMuc2xpY2UoaikpKSxqPGxlbiYmdG9TZWxlY3Rvcih0b2tlbnMpKX1tYXRjaGVycy5wdXNoKG1hdGNoZXIpfX1yZXR1cm4gZWxlbWVudE1hdGNoZXIobWF0Y2hlcnMpfWZ1bmN0aW9uIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyhlbGVtZW50TWF0Y2hlcnMsc2V0TWF0Y2hlcnMpe3ZhciBtYXRjaGVyQ2FjaGVkUnVucz0wLGJ5U2V0PXNldE1hdGNoZXJzLmxlbmd0aD4wLGJ5RWxlbWVudD1lbGVtZW50TWF0Y2hlcnMubGVuZ3RoPjAsc3VwZXJNYXRjaGVyPWZ1bmN0aW9uKHNlZWQsY29udGV4dCx4bWwscmVzdWx0cyxleHBhbmRDb250ZXh0KXt2YXIgZWxlbSxqLG1hdGNoZXIsc2V0TWF0Y2hlZD1bXSxtYXRjaGVkQ291bnQ9MCxpPSIwIix1bm1hdGNoZWQ9c2VlZCYmW10sb3V0ZXJtb3N0PWV4cGFuZENvbnRleHQhPW51bGwsY29udGV4dEJhY2t1cD1vdXRlcm1vc3RDb250ZXh0LGVsZW1zPXNlZWR8fGJ5RWxlbWVudCYmRXhwci5maW5kLlRBRygiKiIsZXhwYW5kQ29udGV4dCYmY29udGV4dC5wYXJlbnROb2RlfHxjb250ZXh0KSxkaXJydW5zVW5pcXVlPShkaXJydW5zKz1jb250ZXh0QmFja3VwPT1udWxsPzE6TWF0aC5yYW5kb20oKXx8MC4xKTtpZihvdXRlcm1vc3Qpe291dGVybW9zdENvbnRleHQ9Y29udGV4dCE9PWRvY3VtZW50JiZjb250ZXh0O2NhY2hlZHJ1bnM9bWF0Y2hlckNhY2hlZFJ1bnN9Zm9yKDsoZWxlbT1lbGVtc1tpXSkhPW51bGw7aSsrKXtpZihieUVsZW1lbnQmJmVsZW0pe2o9MDt3aGlsZSgobWF0Y2hlcj1lbGVtZW50TWF0Y2hlcnNbaisrXSkpe2lmKG1hdGNoZXIoZWxlbSxjb250ZXh0LHhtbCkpe3Jlc3VsdHMucHVzaChlbGVtKTticmVha319aWYob3V0ZXJtb3N0KXtkaXJydW5zPWRpcnJ1bnNVbmlxdWU7Y2FjaGVkcnVucz0rK21hdGNoZXJDYWNoZWRSdW5zfX1pZihieVNldCl7aWYoKGVsZW09IW1hdGNoZXImJmVsZW0pKXttYXRjaGVkQ291bnQtLX1pZihzZWVkKXt1bm1hdGNoZWQucHVzaChlbGVtKX19fW1hdGNoZWRDb3VudCs9aTtpZihieVNldCYmaSE9PW1hdGNoZWRDb3VudCl7aj0wO3doaWxlKChtYXRjaGVyPXNldE1hdGNoZXJzW2orK10pKXttYXRjaGVyKHVubWF0Y2hlZCxzZXRNYXRjaGVkLGNvbnRleHQseG1sKX1pZihzZWVkKXtpZihtYXRjaGVkQ291bnQ+MCl7d2hpbGUoaS0tKXtpZighKHVubWF0Y2hlZFtpXXx8c2V0TWF0Y2hlZFtpXSkpe3NldE1hdGNoZWRbaV09cG9wLmNhbGwocmVzdWx0cyl9fX1zZXRNYXRjaGVkPWNvbmRlbnNlKHNldE1hdGNoZWQpfXB1c2guYXBwbHkocmVzdWx0cyxzZXRNYXRjaGVkKTtpZihvdXRlcm1vc3QmJiFzZWVkJiZzZXRNYXRjaGVkLmxlbmd0aD4wJiYobWF0Y2hlZENvdW50K3NldE1hdGNoZXJzLmxlbmd0aCk+MSl7U2l6emxlLnVuaXF1ZVNvcnQocmVzdWx0cyl9fWlmKG91dGVybW9zdCl7ZGlycnVucz1kaXJydW5zVW5pcXVlO291dGVybW9zdENvbnRleHQ9Y29udGV4dEJhY2t1cH1yZXR1cm4gdW5tYXRjaGVkfTtyZXR1cm4gYnlTZXQ/bWFya0Z1bmN0aW9uKHN1cGVyTWF0Y2hlcik6c3VwZXJNYXRjaGVyfWNvbXBpbGU9U2l6emxlLmNvbXBpbGU9ZnVuY3Rpb24oc2VsZWN0b3IsZ3JvdXApe3ZhciBpLHNldE1hdGNoZXJzPVtdLGVsZW1lbnRNYXRjaGVycz1bXSxjYWNoZWQ9Y29tcGlsZXJDYWNoZVtzZWxlY3RvcisiICJdO2lmKCFjYWNoZWQpe2lmKCFncm91cCl7Z3JvdXA9dG9rZW5pemUoc2VsZWN0b3IpfWk9Z3JvdXAubGVuZ3RoO3doaWxlKGktLSl7Y2FjaGVkPW1hdGNoZXJGcm9tVG9rZW5zKGdyb3VwW2ldKTtpZihjYWNoZWRbZXhwYW5kb10pe3NldE1hdGNoZXJzLnB1c2goY2FjaGVkKX1lbHNle2VsZW1lbnRNYXRjaGVycy5wdXNoKGNhY2hlZCl9fWNhY2hlZD1jb21waWxlckNhY2hlKHNlbGVjdG9yLG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyhlbGVtZW50TWF0Y2hlcnMsc2V0TWF0Y2hlcnMpKX1yZXR1cm4gY2FjaGVkfTtmdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKHNlbGVjdG9yLGNvbnRleHRzLHJlc3VsdHMpe3ZhciBpPTAsbGVuPWNvbnRleHRzLmxlbmd0aDtmb3IoO2k8bGVuO2krKyl7U2l6emxlKHNlbGVjdG9yLGNvbnRleHRzW2ldLHJlc3VsdHMpfXJldHVybiByZXN1bHRzfWZ1bmN0aW9uIHNlbGVjdChzZWxlY3Rvcixjb250ZXh0LHJlc3VsdHMsc2VlZCl7dmFyIGksdG9rZW5zLHRva2VuLHR5cGUsZmluZCxtYXRjaD10b2tlbml6ZShzZWxlY3Rvcik7aWYoIXNlZWQpe2lmKG1hdGNoLmxlbmd0aD09PTEpe3Rva2Vucz1tYXRjaFswXT1tYXRjaFswXS5zbGljZSgwKTtpZih0b2tlbnMubGVuZ3RoPjImJih0b2tlbj10b2tlbnNbMF0pLnR5cGU9PT0iSUQiJiZzdXBwb3J0LmdldEJ5SWQmJmNvbnRleHQubm9kZVR5cGU9PT05JiZkb2N1bWVudElzSFRNTCYmRXhwci5yZWxhdGl2ZVt0b2tlbnNbMV0udHlwZV0pe2NvbnRleHQ9KEV4cHIuZmluZC5JRCh0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UocnVuZXNjYXBlLGZ1bmVzY2FwZSksY29udGV4dCl8fFtdKVswXTtpZighY29udGV4dCl7cmV0dXJuIHJlc3VsdHN9c2VsZWN0b3I9c2VsZWN0b3Iuc2xpY2UodG9rZW5zLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1pPW1hdGNoRXhwci5uZWVkc0NvbnRleHQudGVzdChzZWxlY3Rvcik/MDp0b2tlbnMubGVuZ3RoO3doaWxlKGktLSl7dG9rZW49dG9rZW5zW2ldO2lmKEV4cHIucmVsYXRpdmVbKHR5cGU9dG9rZW4udHlwZSldKXticmVha31pZigoZmluZD1FeHByLmZpbmRbdHlwZV0pKXtpZigoc2VlZD1maW5kKHRva2VuLm1hdGNoZXNbMF0ucmVwbGFjZShydW5lc2NhcGUsZnVuZXNjYXBlKSxyc2libGluZy50ZXN0KHRva2Vuc1swXS50eXBlKSYmY29udGV4dC5wYXJlbnROb2RlfHxjb250ZXh0KSkpe3Rva2Vucy5zcGxpY2UoaSwxKTtzZWxlY3Rvcj1zZWVkLmxlbmd0aCYmdG9TZWxlY3Rvcih0b2tlbnMpO2lmKCFzZWxlY3Rvcil7cHVzaC5hcHBseShyZXN1bHRzLHNlZWQpO3JldHVybiByZXN1bHRzfWJyZWFrfX19fX1jb21waWxlKHNlbGVjdG9yLG1hdGNoKShzZWVkLGNvbnRleHQsIWRvY3VtZW50SXNIVE1MLHJlc3VsdHMscnNpYmxpbmcudGVzdChzZWxlY3RvcikpO3JldHVybiByZXN1bHRzfXN1cHBvcnQuc29ydFN0YWJsZT1leHBhbmRvLnNwbGl0KCIiKS5zb3J0KHNvcnRPcmRlcikuam9pbigiIik9PT1leHBhbmRvO3N1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcz1oYXNEdXBsaWNhdGU7c2V0RG9jdW1lbnQoKTtzdXBwb3J0LnNvcnREZXRhY2hlZD1hc3NlcnQoZnVuY3Rpb24oZGl2MSl7cmV0dXJuIGRpdjEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpJjF9KTtpZighYXNzZXJ0KGZ1bmN0aW9uKGRpdil7ZGl2LmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiI7cmV0dXJuIGRpdi5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpPT09IiMifSkpe2FkZEhhbmRsZSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24oZWxlbSxuYW1lLGlzWE1MKXtpZighaXNYTUwpe3JldHVybiBlbGVtLmdldEF0dHJpYnV0ZShuYW1lLG5hbWUudG9Mb3dlckNhc2UoKT09PSJ0eXBlIj8xOjIpfX0pfWlmKCFzdXBwb3J0LmF0dHJpYnV0ZXN8fCFhc3NlcnQoZnVuY3Rpb24oZGl2KXtkaXYuaW5uZXJIVE1MPSI8aW5wdXQvPiI7ZGl2LmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpO3JldHVybiBkaXYuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoInZhbHVlIik9PT0iIn0pKXthZGRIYW5kbGUoInZhbHVlIixmdW5jdGlvbihlbGVtLG5hbWUsaXNYTUwpe2lmKCFpc1hNTCYmZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImlucHV0Iil7cmV0dXJuIGVsZW0uZGVmYXVsdFZhbHVlfX0pfWlmKCFhc3NlcnQoZnVuY3Rpb24oZGl2KXtyZXR1cm4gZGl2LmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKT09bnVsbH0pKXthZGRIYW5kbGUoYm9vbGVhbnMsZnVuY3Rpb24oZWxlbSxuYW1lLGlzWE1MKXt2YXIgdmFsO2lmKCFpc1hNTCl7cmV0dXJuKHZhbD1lbGVtLmdldEF0dHJpYnV0ZU5vZGUobmFtZSkpJiZ2YWwuc3BlY2lmaWVkP3ZhbC52YWx1ZTplbGVtW25hbWVdPT09dHJ1ZT9uYW1lLnRvTG93ZXJDYXNlKCk6bnVsbH19KX1qUXVlcnkuZmluZD1TaXp6bGU7alF1ZXJ5LmV4cHI9U2l6emxlLnNlbGVjdG9ycztqUXVlcnkuZXhwclsiOiJdPWpRdWVyeS5leHByLnBzZXVkb3M7alF1ZXJ5LnVuaXF1ZT1TaXp6bGUudW5pcXVlU29ydDtqUXVlcnkudGV4dD1TaXp6bGUuZ2V0VGV4dDtqUXVlcnkuaXNYTUxEb2M9U2l6emxlLmlzWE1MO2pRdWVyeS5jb250YWlucz1TaXp6bGUuY29udGFpbnN9KSh3aW5kb3cpO3ZhciBvcHRpb25zQ2FjaGU9e307ZnVuY3Rpb24gY3JlYXRlT3B0aW9ucyhvcHRpb25zKXt2YXIgb2JqZWN0PW9wdGlvbnNDYWNoZVtvcHRpb25zXT17fTtqUXVlcnkuZWFjaChvcHRpb25zLm1hdGNoKGNvcmVfcm5vdHdoaXRlKXx8W10sZnVuY3Rpb24oXyxmbGFnKXtvYmplY3RbZmxhZ109dHJ1ZX0pO3JldHVybiBvYmplY3R9alF1ZXJ5LkNhbGxiYWNrcz1mdW5jdGlvbihvcHRpb25zKXtvcHRpb25zPXR5cGVvZiBvcHRpb25zPT09InN0cmluZyI/KG9wdGlvbnNDYWNoZVtvcHRpb25zXXx8Y3JlYXRlT3B0aW9ucyhvcHRpb25zKSk6alF1ZXJ5LmV4dGVuZCh7fSxvcHRpb25zKTt2YXIgZmlyaW5nLG1lbW9yeSxmaXJlZCxmaXJpbmdMZW5ndGgsZmlyaW5nSW5kZXgsZmlyaW5nU3RhcnQsbGlzdD1bXSxzdGFjaz0hb3B0aW9ucy5vbmNlJiZbXSxmaXJlPWZ1bmN0aW9uKGRhdGEpe21lbW9yeT1vcHRpb25zLm1lbW9yeSYmZGF0YTtmaXJlZD10cnVlO2ZpcmluZ0luZGV4PWZpcmluZ1N0YXJ0fHwwO2ZpcmluZ1N0YXJ0PTA7ZmlyaW5nTGVuZ3RoPWxpc3QubGVuZ3RoO2ZpcmluZz10cnVlO2Zvcig7bGlzdCYmZmlyaW5nSW5kZXg8ZmlyaW5nTGVuZ3RoO2ZpcmluZ0luZGV4Kyspe2lmKGxpc3RbZmlyaW5nSW5kZXhdLmFwcGx5KGRhdGFbMF0sZGF0YVsxXSk9PT1mYWxzZSYmb3B0aW9ucy5zdG9wT25GYWxzZSl7bWVtb3J5PWZhbHNlO2JyZWFrfX1maXJpbmc9ZmFsc2U7aWYobGlzdCl7aWYoc3RhY2spe2lmKHN0YWNrLmxlbmd0aCl7ZmlyZShzdGFjay5zaGlmdCgpKX19ZWxzZXtpZihtZW1vcnkpe2xpc3Q9W119ZWxzZXtzZWxmLmRpc2FibGUoKX19fX0sc2VsZj17YWRkOmZ1bmN0aW9uKCl7aWYobGlzdCl7dmFyIHN0YXJ0PWxpc3QubGVuZ3RoOyhmdW5jdGlvbiBhZGQoYXJncyl7alF1ZXJ5LmVhY2goYXJncyxmdW5jdGlvbihfLGFyZyl7dmFyIHR5cGU9alF1ZXJ5LnR5cGUoYXJnKTtpZih0eXBlPT09ImZ1bmN0aW9uIil7aWYoIW9wdGlvbnMudW5pcXVlfHwhc2VsZi5oYXMoYXJnKSl7bGlzdC5wdXNoKGFyZyl9fWVsc2V7aWYoYXJnJiZhcmcubGVuZ3RoJiZ0eXBlIT09InN0cmluZyIpe2FkZChhcmcpfX19KX0pKGFyZ3VtZW50cyk7aWYoZmlyaW5nKXtmaXJpbmdMZW5ndGg9bGlzdC5sZW5ndGh9ZWxzZXtpZihtZW1vcnkpe2ZpcmluZ1N0YXJ0PXN0YXJ0O2ZpcmUobWVtb3J5KX19fXJldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtpZihsaXN0KXtqUXVlcnkuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oXyxhcmcpe3ZhciBpbmRleDt3aGlsZSgoaW5kZXg9alF1ZXJ5LmluQXJyYXkoYXJnLGxpc3QsaW5kZXgpKT4tMSl7bGlzdC5zcGxpY2UoaW5kZXgsMSk7aWYoZmlyaW5nKXtpZihpbmRleDw9ZmlyaW5nTGVuZ3RoKXtmaXJpbmdMZW5ndGgtLX1pZihpbmRleDw9ZmlyaW5nSW5kZXgpe2ZpcmluZ0luZGV4LS19fX19KX1yZXR1cm4gdGhpc30saGFzOmZ1bmN0aW9uKGZuKXtyZXR1cm4gZm4/alF1ZXJ5LmluQXJyYXkoZm4sbGlzdCk+LTE6ISEobGlzdCYmbGlzdC5sZW5ndGgpfSxlbXB0eTpmdW5jdGlvbigpe2xpc3Q9W107ZmlyaW5nTGVuZ3RoPTA7cmV0dXJuIHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtsaXN0PXN0YWNrPW1lbW9yeT11bmRlZmluZWQ7cmV0dXJuIHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuICFsaXN0fSxsb2NrOmZ1bmN0aW9uKCl7c3RhY2s9dW5kZWZpbmVkO2lmKCFtZW1vcnkpe3NlbGYuZGlzYWJsZSgpfXJldHVybiB0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gIXN0YWNrfSxmaXJlV2l0aDpmdW5jdGlvbihjb250ZXh0LGFyZ3Mpe2lmKGxpc3QmJighZmlyZWR8fHN0YWNrKSl7YXJncz1hcmdzfHxbXTthcmdzPVtjb250ZXh0LGFyZ3Muc2xpY2U/YXJncy5zbGljZSgpOmFyZ3NdO2lmKGZpcmluZyl7c3RhY2sucHVzaChhcmdzKX1lbHNle2ZpcmUoYXJncyl9fXJldHVybiB0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7c2VsZi5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuICEhZmlyZWR9fTtyZXR1cm4gc2VsZn07alF1ZXJ5LmV4dGVuZCh7RGVmZXJyZWQ6ZnVuY3Rpb24oZnVuYyl7dmFyIHR1cGxlcz1bWyJyZXNvbHZlIiwiZG9uZSIsalF1ZXJ5LkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVzb2x2ZWQiXSxbInJlamVjdCIsImZhaWwiLGpRdWVyeS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlamVjdGVkIl0sWyJub3RpZnkiLCJwcm9ncmVzcyIsalF1ZXJ5LkNhbGxiYWNrcygibWVtb3J5IildXSxzdGF0ZT0icGVuZGluZyIscHJvbWlzZT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gc3RhdGV9LGFsd2F5czpmdW5jdGlvbigpe2RlZmVycmVkLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9LHRoZW46ZnVuY3Rpb24oKXt2YXIgZm5zPWFyZ3VtZW50cztyZXR1cm4galF1ZXJ5LkRlZmVycmVkKGZ1bmN0aW9uKG5ld0RlZmVyKXtqUXVlcnkuZWFjaCh0dXBsZXMsZnVuY3Rpb24oaSx0dXBsZSl7dmFyIGFjdGlvbj10dXBsZVswXSxmbj1qUXVlcnkuaXNGdW5jdGlvbihmbnNbaV0pJiZmbnNbaV07ZGVmZXJyZWRbdHVwbGVbMV1dKGZ1bmN0aW9uKCl7dmFyIHJldHVybmVkPWZuJiZmbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYocmV0dXJuZWQmJmpRdWVyeS5pc0Z1bmN0aW9uKHJldHVybmVkLnByb21pc2UpKXtyZXR1cm5lZC5wcm9taXNlKCkuZG9uZShuZXdEZWZlci5yZXNvbHZlKS5mYWlsKG5ld0RlZmVyLnJlamVjdCkucHJvZ3Jlc3MobmV3RGVmZXIubm90aWZ5KX1lbHNle25ld0RlZmVyW2FjdGlvbisiV2l0aCJdKHRoaXM9PT1wcm9taXNlP25ld0RlZmVyLnByb21pc2UoKTp0aGlzLGZuP1tyZXR1cm5lZF06YXJndW1lbnRzKX19KX0pO2Zucz1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiE9bnVsbD9qUXVlcnkuZXh0ZW5kKG9iaixwcm9taXNlKTpwcm9taXNlfX0sZGVmZXJyZWQ9e307cHJvbWlzZS5waXBlPXByb21pc2UudGhlbjtqUXVlcnkuZWFjaCh0dXBsZXMsZnVuY3Rpb24oaSx0dXBsZSl7dmFyIGxpc3Q9dHVwbGVbMl0sc3RhdGVTdHJpbmc9dHVwbGVbM107cHJvbWlzZVt0dXBsZVsxXV09bGlzdC5hZGQ7aWYoc3RhdGVTdHJpbmcpe2xpc3QuYWRkKGZ1bmN0aW9uKCl7c3RhdGU9c3RhdGVTdHJpbmd9LHR1cGxlc1tpXjFdWzJdLmRpc2FibGUsdHVwbGVzWzJdWzJdLmxvY2spfWRlZmVycmVkW3R1cGxlWzBdXT1mdW5jdGlvbigpe2RlZmVycmVkW3R1cGxlWzBdKyJXaXRoIl0odGhpcz09PWRlZmVycmVkP3Byb21pc2U6dGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzfTtkZWZlcnJlZFt0dXBsZVswXSsiV2l0aCJdPWxpc3QuZmlyZVdpdGh9KTtwcm9taXNlLnByb21pc2UoZGVmZXJyZWQpO2lmKGZ1bmMpe2Z1bmMuY2FsbChkZWZlcnJlZCxkZWZlcnJlZCl9cmV0dXJuIGRlZmVycmVkfSx3aGVuOmZ1bmN0aW9uKHN1Ym9yZGluYXRlKXt2YXIgaT0wLHJlc29sdmVWYWx1ZXM9Y29yZV9zbGljZS5jYWxsKGFyZ3VtZW50cyksbGVuZ3RoPXJlc29sdmVWYWx1ZXMubGVuZ3RoLHJlbWFpbmluZz1sZW5ndGghPT0xfHwoc3Vib3JkaW5hdGUmJmpRdWVyeS5pc0Z1bmN0aW9uKHN1Ym9yZGluYXRlLnByb21pc2UpKT9sZW5ndGg6MCxkZWZlcnJlZD1yZW1haW5pbmc9PT0xP3N1Ym9yZGluYXRlOmpRdWVyeS5EZWZlcnJlZCgpLHVwZGF0ZUZ1bmM9ZnVuY3Rpb24oaSxjb250ZXh0cyx2YWx1ZXMpe3JldHVybiBmdW5jdGlvbih2YWx1ZSl7Y29udGV4dHNbaV09dGhpczt2YWx1ZXNbaV09YXJndW1lbnRzLmxlbmd0aD4xP2NvcmVfc2xpY2UuY2FsbChhcmd1bWVudHMpOnZhbHVlO2lmKHZhbHVlcz09PXByb2dyZXNzVmFsdWVzKXtkZWZlcnJlZC5ub3RpZnlXaXRoKGNvbnRleHRzLHZhbHVlcyl9ZWxzZXtpZighKC0tcmVtYWluaW5nKSl7ZGVmZXJyZWQucmVzb2x2ZVdpdGgoY29udGV4dHMsdmFsdWVzKX19fX0scHJvZ3Jlc3NWYWx1ZXMscHJvZ3Jlc3NDb250ZXh0cyxyZXNvbHZlQ29udGV4dHM7aWYobGVuZ3RoPjEpe3Byb2dyZXNzVmFsdWVzPW5ldyBBcnJheShsZW5ndGgpO3Byb2dyZXNzQ29udGV4dHM9bmV3IEFycmF5KGxlbmd0aCk7cmVzb2x2ZUNvbnRleHRzPW5ldyBBcnJheShsZW5ndGgpO2Zvcig7aTxsZW5ndGg7aSsrKXtpZihyZXNvbHZlVmFsdWVzW2ldJiZqUXVlcnkuaXNGdW5jdGlvbihyZXNvbHZlVmFsdWVzW2ldLnByb21pc2UpKXtyZXNvbHZlVmFsdWVzW2ldLnByb21pc2UoKS5kb25lKHVwZGF0ZUZ1bmMoaSxyZXNvbHZlQ29udGV4dHMscmVzb2x2ZVZhbHVlcykpLmZhaWwoZGVmZXJyZWQucmVqZWN0KS5wcm9ncmVzcyh1cGRhdGVGdW5jKGkscHJvZ3Jlc3NDb250ZXh0cyxwcm9ncmVzc1ZhbHVlcykpfWVsc2V7LS1yZW1haW5pbmd9fX1pZighcmVtYWluaW5nKXtkZWZlcnJlZC5yZXNvbHZlV2l0aChyZXNvbHZlQ29udGV4dHMscmVzb2x2ZVZhbHVlcyl9cmV0dXJuIGRlZmVycmVkLnByb21pc2UoKX19KTtqUXVlcnkuc3VwcG9ydD0oZnVuY3Rpb24oc3VwcG9ydCl7dmFyIGFsbCxhLGlucHV0LHNlbGVjdCxmcmFnbWVudCxvcHQsZXZlbnROYW1lLGlzU3VwcG9ydGVkLGksZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Rpdi5zZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIsInQiKTtkaXYuaW5uZXJIVE1MPSIgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYSc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz4iO2FsbD1kaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKXx8W107YT1kaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXTtpZighYXx8IWEuc3R5bGV8fCFhbGwubGVuZ3RoKXtyZXR1cm4gc3VwcG9ydH1zZWxlY3Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0Iik7b3B0PXNlbGVjdC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSk7aW5wdXQ9ZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpWzBdO2Euc3R5bGUuY3NzVGV4dD0idG9wOjFweDtmbG9hdDpsZWZ0O29wYWNpdHk6LjUiO3N1cHBvcnQuZ2V0U2V0QXR0cmlidXRlPWRpdi5jbGFzc05hbWUhPT0idCI7c3VwcG9ydC5sZWFkaW5nV2hpdGVzcGFjZT1kaXYuZmlyc3RDaGlsZC5ub2RlVHlwZT09PTM7c3VwcG9ydC50Ym9keT0hZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0Ym9keSIpLmxlbmd0aDtzdXBwb3J0Lmh0bWxTZXJpYWxpemU9ISFkaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpbmsiKS5sZW5ndGg7c3VwcG9ydC5zdHlsZT0vdG9wLy50ZXN0KGEuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKTtzdXBwb3J0LmhyZWZOb3JtYWxpemVkPWEuZ2V0QXR0cmlidXRlKCJocmVmIik9PT0iL2EiO3N1cHBvcnQub3BhY2l0eT0vXjAuNS8udGVzdChhLnN0eWxlLm9wYWNpdHkpO3N1cHBvcnQuY3NzRmxvYXQ9ISFhLnN0eWxlLmNzc0Zsb2F0O3N1cHBvcnQuY2hlY2tPbj0hIWlucHV0LnZhbHVlO3N1cHBvcnQub3B0U2VsZWN0ZWQ9b3B0LnNlbGVjdGVkO3N1cHBvcnQuZW5jdHlwZT0hIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKS5lbmN0eXBlO3N1cHBvcnQuaHRtbDVDbG9uZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJuYXYiKS5jbG9uZU5vZGUodHJ1ZSkub3V0ZXJIVE1MIT09Ijw6bmF2PjwvOm5hdj4iO3N1cHBvcnQuaW5saW5lQmxvY2tOZWVkc0xheW91dD1mYWxzZTtzdXBwb3J0LnNocmlua1dyYXBCbG9ja3M9ZmFsc2U7c3VwcG9ydC5waXhlbFBvc2l0aW9uPWZhbHNlO3N1cHBvcnQuZGVsZXRlRXhwYW5kbz10cnVlO3N1cHBvcnQubm9DbG9uZUV2ZW50PXRydWU7c3VwcG9ydC5yZWxpYWJsZU1hcmdpblJpZ2h0PXRydWU7c3VwcG9ydC5ib3hTaXppbmdSZWxpYWJsZT10cnVlO2lucHV0LmNoZWNrZWQ9dHJ1ZTtzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkPWlucHV0LmNsb25lTm9kZSh0cnVlKS5jaGVja2VkO3NlbGVjdC5kaXNhYmxlZD10cnVlO3N1cHBvcnQub3B0RGlzYWJsZWQ9IW9wdC5kaXNhYmxlZDt0cnl7ZGVsZXRlIGRpdi50ZXN0fWNhdGNoKGUpe3N1cHBvcnQuZGVsZXRlRXhwYW5kbz1mYWxzZX1pbnB1dD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2lucHV0LnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKTtzdXBwb3J0LmlucHV0PWlucHV0LmdldEF0dHJpYnV0ZSgidmFsdWUiKT09PSIiO2lucHV0LnZhbHVlPSJ0IjtpbnB1dC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpO3N1cHBvcnQucmFkaW9WYWx1ZT1pbnB1dC52YWx1ZT09PSJ0IjtpbnB1dC5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJ0Iik7aW5wdXQuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpO2ZyYWdtZW50PWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmcmFnbWVudC5hcHBlbmRDaGlsZChpbnB1dCk7c3VwcG9ydC5hcHBlbmRDaGVja2VkPWlucHV0LmNoZWNrZWQ7c3VwcG9ydC5jaGVja0Nsb25lPWZyYWdtZW50LmNsb25lTm9kZSh0cnVlKS5jbG9uZU5vZGUodHJ1ZSkubGFzdENoaWxkLmNoZWNrZWQ7aWYoZGl2LmF0dGFjaEV2ZW50KXtkaXYuYXR0YWNoRXZlbnQoIm9uY2xpY2siLGZ1bmN0aW9uKCl7c3VwcG9ydC5ub0Nsb25lRXZlbnQ9ZmFsc2V9KTtkaXYuY2xvbmVOb2RlKHRydWUpLmNsaWNrKCl9Zm9yKGkgaW4ge3N1Ym1pdDp0cnVlLGNoYW5nZTp0cnVlLGZvY3VzaW46dHJ1ZX0pe2Rpdi5zZXRBdHRyaWJ1dGUoZXZlbnROYW1lPSJvbiIraSwidCIpO3N1cHBvcnRbaSsiQnViYmxlcyJdPWV2ZW50TmFtZSBpbiB3aW5kb3d8fGRpdi5hdHRyaWJ1dGVzW2V2ZW50TmFtZV0uZXhwYW5kbz09PWZhbHNlfWRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iY29udGVudC1ib3giO2Rpdi5jbG9uZU5vZGUodHJ1ZSkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiI7c3VwcG9ydC5jbGVhckNsb25lU3R5bGU9ZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwPT09ImNvbnRlbnQtYm94Ijtmb3IoaSBpbiBqUXVlcnkoc3VwcG9ydCkpe2JyZWFrfXN1cHBvcnQub3duTGFzdD1pIT09IjAiO2pRdWVyeShmdW5jdGlvbigpe3ZhciBjb250YWluZXIsbWFyZ2luRGl2LHRkcyxkaXZSZXNldD0icGFkZGluZzowO21hcmdpbjowO2JvcmRlcjowO2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7LXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94OyIsYm9keT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdO2lmKCFib2R5KXtyZXR1cm59Y29udGFpbmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2NvbnRhaW5lci5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6LTk5OTlweDttYXJnaW4tdG9wOjFweCI7Ym9keS5hcHBlbmRDaGlsZChjb250YWluZXIpLmFwcGVuZENoaWxkKGRpdik7ZGl2LmlubmVySFRNTD0iPHRhYmxlPjx0cj48dGQ+PC90ZD48dGQ+dDwvdGQ+PC90cj48L3RhYmxlPiI7dGRzPWRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGQiKTt0ZHNbMF0uc3R5bGUuY3NzVGV4dD0icGFkZGluZzowO21hcmdpbjowO2JvcmRlcjowO2Rpc3BsYXk6bm9uZSI7aXNTdXBwb3J0ZWQ9KHRkc1swXS5vZmZzZXRIZWlnaHQ9PT0wKTt0ZHNbMF0uc3R5bGUuZGlzcGxheT0iIjt0ZHNbMV0uc3R5bGUuZGlzcGxheT0ibm9uZSI7c3VwcG9ydC5yZWxpYWJsZUhpZGRlbk9mZnNldHM9aXNTdXBwb3J0ZWQmJih0ZHNbMF0ub2Zmc2V0SGVpZ2h0PT09MCk7ZGl2LmlubmVySFRNTD0iIjtkaXYuc3R5bGUuY3NzVGV4dD0iYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94Oy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MXB4O2JvcmRlcjoxcHg7ZGlzcGxheTpibG9jazt3aWR0aDo0cHg7bWFyZ2luLXRvcDoxJTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MSU7IjtqUXVlcnkuc3dhcChib2R5LGJvZHkuc3R5bGUuem9vbSE9bnVsbD97em9vbToxfTp7fSxmdW5jdGlvbigpe3N1cHBvcnQuYm94U2l6aW5nPWRpdi5vZmZzZXRXaWR0aD09PTR9KTtpZih3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSl7c3VwcG9ydC5waXhlbFBvc2l0aW9uPSh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkaXYsbnVsbCl8fHt9KS50b3AhPT0iMSUiO3N1cHBvcnQuYm94U2l6aW5nUmVsaWFibGU9KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRpdixudWxsKXx8e3dpZHRoOiI0cHgifSkud2lkdGg9PT0iNHB4IjttYXJnaW5EaXY9ZGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKTttYXJnaW5EaXYuc3R5bGUuY3NzVGV4dD1kaXYuc3R5bGUuY3NzVGV4dD1kaXZSZXNldDttYXJnaW5EaXYuc3R5bGUubWFyZ2luUmlnaHQ9bWFyZ2luRGl2LnN0eWxlLndpZHRoPSIwIjtkaXYuc3R5bGUud2lkdGg9IjFweCI7c3VwcG9ydC5yZWxpYWJsZU1hcmdpblJpZ2h0PSFwYXJzZUZsb2F0KCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShtYXJnaW5EaXYsbnVsbCl8fHt9KS5tYXJnaW5SaWdodCl9aWYodHlwZW9mIGRpdi5zdHlsZS56b29tIT09Y29yZV9zdHJ1bmRlZmluZWQpe2Rpdi5pbm5lckhUTUw9IiI7ZGl2LnN0eWxlLmNzc1RleHQ9ZGl2UmVzZXQrIndpZHRoOjFweDtwYWRkaW5nOjFweDtkaXNwbGF5OmlubGluZTt6b29tOjEiO3N1cHBvcnQuaW5saW5lQmxvY2tOZWVkc0xheW91dD0oZGl2Lm9mZnNldFdpZHRoPT09Myk7ZGl2LnN0eWxlLmRpc3BsYXk9ImJsb2NrIjtkaXYuaW5uZXJIVE1MPSI8ZGl2PjwvZGl2PiI7ZGl2LmZpcnN0Q2hpbGQuc3R5bGUud2lkdGg9IjVweCI7c3VwcG9ydC5zaHJpbmtXcmFwQmxvY2tzPShkaXYub2Zmc2V0V2lkdGghPT0zKTtpZihzdXBwb3J0LmlubGluZUJsb2NrTmVlZHNMYXlvdXQpe2JvZHkuc3R5bGUuem9vbT0xfX1ib2R5LnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7Y29udGFpbmVyPWRpdj10ZHM9bWFyZ2luRGl2PW51bGx9KTthbGw9c2VsZWN0PWZyYWdtZW50PW9wdD1hPWlucHV0PW51bGw7cmV0dXJuIHN1cHBvcnR9KSh7fSk7dmFyIHJicmFjZT0vKD86XHtbXHNcU10qXH18XFtbXHNcU10qXF0pJC8scm11bHRpRGFzaD0vKFtBLVpdKS9nO2Z1bmN0aW9uIGludGVybmFsRGF0YShlbGVtLG5hbWUsZGF0YSxwdnQpe2lmKCFqUXVlcnkuYWNjZXB0RGF0YShlbGVtKSl7cmV0dXJufXZhciByZXQsdGhpc0NhY2hlLGludGVybmFsS2V5PWpRdWVyeS5leHBhbmRvLGlzTm9kZT1lbGVtLm5vZGVUeXBlLGNhY2hlPWlzTm9kZT9qUXVlcnkuY2FjaGU6ZWxlbSxpZD1pc05vZGU/ZWxlbVtpbnRlcm5hbEtleV06ZWxlbVtpbnRlcm5hbEtleV0mJmludGVybmFsS2V5O2lmKCghaWR8fCFjYWNoZVtpZF18fCghcHZ0JiYhY2FjaGVbaWRdLmRhdGEpKSYmZGF0YT09PXVuZGVmaW5lZCYmdHlwZW9mIG5hbWU9PT0ic3RyaW5nIil7cmV0dXJufWlmKCFpZCl7aWYoaXNOb2RlKXtpZD1lbGVtW2ludGVybmFsS2V5XT1jb3JlX2RlbGV0ZWRJZHMucG9wKCl8fGpRdWVyeS5ndWlkKyt9ZWxzZXtpZD1pbnRlcm5hbEtleX19aWYoIWNhY2hlW2lkXSl7Y2FjaGVbaWRdPWlzTm9kZT97fTp7dG9KU09OOmpRdWVyeS5ub29wfX1pZih0eXBlb2YgbmFtZT09PSJvYmplY3QifHx0eXBlb2YgbmFtZT09PSJmdW5jdGlvbiIpe2lmKHB2dCl7Y2FjaGVbaWRdPWpRdWVyeS5leHRlbmQoY2FjaGVbaWRdLG5hbWUpfWVsc2V7Y2FjaGVbaWRdLmRhdGE9alF1ZXJ5LmV4dGVuZChjYWNoZVtpZF0uZGF0YSxuYW1lKX19dGhpc0NhY2hlPWNhY2hlW2lkXTtpZighcHZ0KXtpZighdGhpc0NhY2hlLmRhdGEpe3RoaXNDYWNoZS5kYXRhPXt9fXRoaXNDYWNoZT10aGlzQ2FjaGUuZGF0YX1pZihkYXRhIT09dW5kZWZpbmVkKXt0aGlzQ2FjaGVbalF1ZXJ5LmNhbWVsQ2FzZShuYW1lKV09ZGF0YX1pZih0eXBlb2YgbmFtZT09PSJzdHJpbmciKXtyZXQ9dGhpc0NhY2hlW25hbWVdO2lmKHJldD09bnVsbCl7cmV0PXRoaXNDYWNoZVtqUXVlcnkuY2FtZWxDYXNlKG5hbWUpXX19ZWxzZXtyZXQ9dGhpc0NhY2hlfXJldHVybiByZXR9ZnVuY3Rpb24gaW50ZXJuYWxSZW1vdmVEYXRhKGVsZW0sbmFtZSxwdnQpe2lmKCFqUXVlcnkuYWNjZXB0RGF0YShlbGVtKSl7cmV0dXJufXZhciB0aGlzQ2FjaGUsaSxpc05vZGU9ZWxlbS5ub2RlVHlwZSxjYWNoZT1pc05vZGU/alF1ZXJ5LmNhY2hlOmVsZW0saWQ9aXNOb2RlP2VsZW1balF1ZXJ5LmV4cGFuZG9dOmpRdWVyeS5leHBhbmRvO2lmKCFjYWNoZVtpZF0pe3JldHVybn1pZihuYW1lKXt0aGlzQ2FjaGU9cHZ0P2NhY2hlW2lkXTpjYWNoZVtpZF0uZGF0YTtpZih0aGlzQ2FjaGUpe2lmKCFqUXVlcnkuaXNBcnJheShuYW1lKSl7aWYobmFtZSBpbiB0aGlzQ2FjaGUpe25hbWU9W25hbWVdfWVsc2V7bmFtZT1qUXVlcnkuY2FtZWxDYXNlKG5hbWUpO2lmKG5hbWUgaW4gdGhpc0NhY2hlKXtuYW1lPVtuYW1lXX1lbHNle25hbWU9bmFtZS5zcGxpdCgiICIpfX19ZWxzZXtuYW1lPW5hbWUuY29uY2F0KGpRdWVyeS5tYXAobmFtZSxqUXVlcnkuY2FtZWxDYXNlKSl9aT1uYW1lLmxlbmd0aDt3aGlsZShpLS0pe2RlbGV0ZSB0aGlzQ2FjaGVbbmFtZVtpXV19aWYocHZ0PyFpc0VtcHR5RGF0YU9iamVjdCh0aGlzQ2FjaGUpOiFqUXVlcnkuaXNFbXB0eU9iamVjdCh0aGlzQ2FjaGUpKXtyZXR1cm59fX1pZighcHZ0KXtkZWxldGUgY2FjaGVbaWRdLmRhdGE7aWYoIWlzRW1wdHlEYXRhT2JqZWN0KGNhY2hlW2lkXSkpe3JldHVybn19aWYoaXNOb2RlKXtqUXVlcnkuY2xlYW5EYXRhKFtlbGVtXSx0cnVlKX1lbHNle2lmKGpRdWVyeS5zdXBwb3J0LmRlbGV0ZUV4cGFuZG98fGNhY2hlIT1jYWNoZS53aW5kb3cpe2RlbGV0ZSBjYWNoZVtpZF19ZWxzZXtjYWNoZVtpZF09bnVsbH19fWpRdWVyeS5leHRlbmQoe2NhY2hlOnt9LG5vRGF0YTp7YXBwbGV0OnRydWUsZW1iZWQ6dHJ1ZSxvYmplY3Q6ImNsc2lkOkQyN0NEQjZFLUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMCJ9LGhhc0RhdGE6ZnVuY3Rpb24oZWxlbSl7ZWxlbT1lbGVtLm5vZGVUeXBlP2pRdWVyeS5jYWNoZVtlbGVtW2pRdWVyeS5leHBhbmRvXV06ZWxlbVtqUXVlcnkuZXhwYW5kb107cmV0dXJuICEhZWxlbSYmIWlzRW1wdHlEYXRhT2JqZWN0KGVsZW0pfSxkYXRhOmZ1bmN0aW9uKGVsZW0sbmFtZSxkYXRhKXtyZXR1cm4gaW50ZXJuYWxEYXRhKGVsZW0sbmFtZSxkYXRhKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlbGVtLG5hbWUpe3JldHVybiBpbnRlcm5hbFJlbW92ZURhdGEoZWxlbSxuYW1lKX0sX2RhdGE6ZnVuY3Rpb24oZWxlbSxuYW1lLGRhdGEpe3JldHVybiBpbnRlcm5hbERhdGEoZWxlbSxuYW1lLGRhdGEsdHJ1ZSl9LF9yZW1vdmVEYXRhOmZ1bmN0aW9uKGVsZW0sbmFtZSl7cmV0dXJuIGludGVybmFsUmVtb3ZlRGF0YShlbGVtLG5hbWUsdHJ1ZSl9LGFjY2VwdERhdGE6ZnVuY3Rpb24oZWxlbSl7aWYoZWxlbS5ub2RlVHlwZSYmZWxlbS5ub2RlVHlwZSE9PTEmJmVsZW0ubm9kZVR5cGUhPT05KXtyZXR1cm4gZmFsc2V9dmFyIG5vRGF0YT1lbGVtLm5vZGVOYW1lJiZqUXVlcnkubm9EYXRhW2VsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKV07cmV0dXJuICFub0RhdGF8fG5vRGF0YSE9PXRydWUmJmVsZW0uZ2V0QXR0cmlidXRlKCJjbGFzc2lkIik9PT1ub0RhdGF9fSk7alF1ZXJ5LmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihrZXksdmFsdWUpe3ZhciBhdHRycyxuYW1lLGRhdGE9bnVsbCxpPTAsZWxlbT10aGlzWzBdO2lmKGtleT09PXVuZGVmaW5lZCl7aWYodGhpcy5sZW5ndGgpe2RhdGE9alF1ZXJ5LmRhdGEoZWxlbSk7aWYoZWxlbS5ub2RlVHlwZT09PTEmJiFqUXVlcnkuX2RhdGEoZWxlbSwicGFyc2VkQXR0cnMiKSl7YXR0cnM9ZWxlbS5hdHRyaWJ1dGVzO2Zvcig7aTxhdHRycy5sZW5ndGg7aSsrKXtuYW1lPWF0dHJzW2ldLm5hbWU7aWYobmFtZS5pbmRleE9mKCJkYXRhLSIpPT09MCl7bmFtZT1qUXVlcnkuY2FtZWxDYXNlKG5hbWUuc2xpY2UoNSkpO2RhdGFBdHRyKGVsZW0sbmFtZSxkYXRhW25hbWVdKX19alF1ZXJ5Ll9kYXRhKGVsZW0sInBhcnNlZEF0dHJzIix0cnVlKX19cmV0dXJuIGRhdGF9aWYodHlwZW9mIGtleT09PSJvYmplY3QiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7alF1ZXJ5LmRhdGEodGhpcyxrZXkpfSl9cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MT90aGlzLmVhY2goZnVuY3Rpb24oKXtqUXVlcnkuZGF0YSh0aGlzLGtleSx2YWx1ZSl9KTplbGVtP2RhdGFBdHRyKGVsZW0sa2V5LGpRdWVyeS5kYXRhKGVsZW0sa2V5KSk6bnVsbH0scmVtb3ZlRGF0YTpmdW5jdGlvbihrZXkpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtqUXVlcnkucmVtb3ZlRGF0YSh0aGlzLGtleSl9KX19KTtmdW5jdGlvbiBkYXRhQXR0cihlbGVtLGtleSxkYXRhKXtpZihkYXRhPT09dW5kZWZpbmVkJiZlbGVtLm5vZGVUeXBlPT09MSl7dmFyIG5hbWU9ImRhdGEtIitrZXkucmVwbGFjZShybXVsdGlEYXNoLCItJDEiKS50b0xvd2VyQ2FzZSgpO2RhdGE9ZWxlbS5nZXRBdHRyaWJ1dGUobmFtZSk7aWYodHlwZW9mIGRhdGE9PT0ic3RyaW5nIil7dHJ5e2RhdGE9ZGF0YT09PSJ0cnVlIj90cnVlOmRhdGE9PT0iZmFsc2UiP2ZhbHNlOmRhdGE9PT0ibnVsbCI/bnVsbDorZGF0YSsiIj09PWRhdGE/K2RhdGE6cmJyYWNlLnRlc3QoZGF0YSk/alF1ZXJ5LnBhcnNlSlNPTihkYXRhKTpkYXRhfWNhdGNoKGUpe31qUXVlcnkuZGF0YShlbGVtLGtleSxkYXRhKX1lbHNle2RhdGE9dW5kZWZpbmVkfX1yZXR1cm4gZGF0YX1mdW5jdGlvbiBpc0VtcHR5RGF0YU9iamVjdChvYmope3ZhciBuYW1lO2ZvcihuYW1lIGluIG9iail7aWYobmFtZT09PSJkYXRhIiYmalF1ZXJ5LmlzRW1wdHlPYmplY3Qob2JqW25hbWVdKSl7Y29udGludWV9aWYobmFtZSE9PSJ0b0pTT04iKXtyZXR1cm4gZmFsc2V9fXJldHVybiB0cnVlfWpRdWVyeS5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGVsZW0sdHlwZSxkYXRhKXt2YXIgcXVldWU7aWYoZWxlbSl7dHlwZT0odHlwZXx8ImZ4IikrInF1ZXVlIjtxdWV1ZT1qUXVlcnkuX2RhdGEoZWxlbSx0eXBlKTtpZihkYXRhKXtpZighcXVldWV8fGpRdWVyeS5pc0FycmF5KGRhdGEpKXtxdWV1ZT1qUXVlcnkuX2RhdGEoZWxlbSx0eXBlLGpRdWVyeS5tYWtlQXJyYXkoZGF0YSkpfWVsc2V7cXVldWUucHVzaChkYXRhKX19cmV0dXJuIHF1ZXVlfHxbXX19LGRlcXVldWU6ZnVuY3Rpb24oZWxlbSx0eXBlKXt0eXBlPXR5cGV8fCJmeCI7dmFyIHF1ZXVlPWpRdWVyeS5xdWV1ZShlbGVtLHR5cGUpLHN0YXJ0TGVuZ3RoPXF1ZXVlLmxlbmd0aCxmbj1xdWV1ZS5zaGlmdCgpLGhvb2tzPWpRdWVyeS5fcXVldWVIb29rcyhlbGVtLHR5cGUpLG5leHQ9ZnVuY3Rpb24oKXtqUXVlcnkuZGVxdWV1ZShlbGVtLHR5cGUpfTtpZihmbj09PSJpbnByb2dyZXNzIil7Zm49cXVldWUuc2hpZnQoKTtzdGFydExlbmd0aC0tfWlmKGZuKXtpZih0eXBlPT09ImZ4Iil7cXVldWUudW5zaGlmdCgiaW5wcm9ncmVzcyIpfWRlbGV0ZSBob29rcy5zdG9wO2ZuLmNhbGwoZWxlbSxuZXh0LGhvb2tzKX1pZighc3RhcnRMZW5ndGgmJmhvb2tzKXtob29rcy5lbXB0eS5maXJlKCl9fSxfcXVldWVIb29rczpmdW5jdGlvbihlbGVtLHR5cGUpe3ZhciBrZXk9dHlwZSsicXVldWVIb29rcyI7cmV0dXJuIGpRdWVyeS5fZGF0YShlbGVtLGtleSl8fGpRdWVyeS5fZGF0YShlbGVtLGtleSx7ZW1wdHk6alF1ZXJ5LkNhbGxiYWNrcygib25jZSBtZW1vcnkiKS5hZGQoZnVuY3Rpb24oKXtqUXVlcnkuX3JlbW92ZURhdGEoZWxlbSx0eXBlKyJxdWV1ZSIpO2pRdWVyeS5fcmVtb3ZlRGF0YShlbGVtLGtleSl9KX0pfX0pO2pRdWVyeS5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKHR5cGUsZGF0YSl7dmFyIHNldHRlcj0yO2lmKHR5cGVvZiB0eXBlIT09InN0cmluZyIpe2RhdGE9dHlwZTt0eXBlPSJmeCI7c2V0dGVyLS19aWYoYXJndW1lbnRzLmxlbmd0aDxzZXR0ZXIpe3JldHVybiBqUXVlcnkucXVldWUodGhpc1swXSx0eXBlKX1yZXR1cm4gZGF0YT09PXVuZGVmaW5lZD90aGlzOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBxdWV1ZT1qUXVlcnkucXVldWUodGhpcyx0eXBlLGRhdGEpO2pRdWVyeS5fcXVldWVIb29rcyh0aGlzLHR5cGUpO2lmKHR5cGU9PT0iZngiJiZxdWV1ZVswXSE9PSJpbnByb2dyZXNzIil7alF1ZXJ5LmRlcXVldWUodGhpcyx0eXBlKX19KX0sZGVxdWV1ZTpmdW5jdGlvbih0eXBlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7alF1ZXJ5LmRlcXVldWUodGhpcyx0eXBlKX0pfSxkZWxheTpmdW5jdGlvbih0aW1lLHR5cGUpe3RpbWU9alF1ZXJ5LmZ4P2pRdWVyeS5meC5zcGVlZHNbdGltZV18fHRpbWU6dGltZTt0eXBlPXR5cGV8fCJmeCI7cmV0dXJuIHRoaXMucXVldWUodHlwZSxmdW5jdGlvbihuZXh0LGhvb2tzKXt2YXIgdGltZW91dD1zZXRUaW1lb3V0KG5leHQsdGltZSk7aG9va3Muc3RvcD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aW1lb3V0KX19KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbih0eXBlKXtyZXR1cm4gdGhpcy5xdWV1ZSh0eXBlfHwiZngiLFtdKX0scHJvbWlzZTpmdW5jdGlvbih0eXBlLG9iail7dmFyIHRtcCxjb3VudD0xLGRlZmVyPWpRdWVyeS5EZWZlcnJlZCgpLGVsZW1lbnRzPXRoaXMsaT10aGlzLmxlbmd0aCxyZXNvbHZlPWZ1bmN0aW9uKCl7aWYoISgtLWNvdW50KSl7ZGVmZXIucmVzb2x2ZVdpdGgoZWxlbWVudHMsW2VsZW1lbnRzXSl9fTtpZih0eXBlb2YgdHlwZSE9PSJzdHJpbmciKXtvYmo9dHlwZTt0eXBlPXVuZGVmaW5lZH10eXBlPXR5cGV8fCJmeCI7d2hpbGUoaS0tKXt0bXA9alF1ZXJ5Ll9kYXRhKGVsZW1lbnRzW2ldLHR5cGUrInF1ZXVlSG9va3MiKTtpZih0bXAmJnRtcC5lbXB0eSl7Y291bnQrKzt0bXAuZW1wdHkuYWRkKHJlc29sdmUpfX1yZXNvbHZlKCk7cmV0dXJuIGRlZmVyLnByb21pc2Uob2JqKX19KTt2YXIgbm9kZUhvb2ssYm9vbEhvb2sscmNsYXNzPS9bXHRcclxuXGZdL2cscnJldHVybj0vXHIvZyxyZm9jdXNhYmxlPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QpJC9pLHJjbGlja2FibGU9L14oPzphfGFyZWEpJC9pLHJ1c2VEZWZhdWx0PS9eKD86Y2hlY2tlZHxzZWxlY3RlZCkkL2ksZ2V0U2V0QXR0cmlidXRlPWpRdWVyeS5zdXBwb3J0LmdldFNldEF0dHJpYnV0ZSxnZXRTZXRJbnB1dD1qUXVlcnkuc3VwcG9ydC5pbnB1dDtqUXVlcnkuZm4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKG5hbWUsdmFsdWUpe3JldHVybiBqUXVlcnkuYWNjZXNzKHRoaXMsalF1ZXJ5LmF0dHIsbmFtZSx2YWx1ZSxhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKG5hbWUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtqUXVlcnkucmVtb3ZlQXR0cih0aGlzLG5hbWUpfSl9LHByb3A6ZnVuY3Rpb24obmFtZSx2YWx1ZSl7cmV0dXJuIGpRdWVyeS5hY2Nlc3ModGhpcyxqUXVlcnkucHJvcCxuYW1lLHZhbHVlLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24obmFtZSl7bmFtZT1qUXVlcnkucHJvcEZpeFtuYW1lXXx8bmFtZTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dHJ5e3RoaXNbbmFtZV09dW5kZWZpbmVkO2RlbGV0ZSB0aGlzW25hbWVdfWNhdGNoKGUpe319KX0sYWRkQ2xhc3M6ZnVuY3Rpb24odmFsdWUpe3ZhciBjbGFzc2VzLGVsZW0sY3VyLGNsYXp6LGosaT0wLGxlbj10aGlzLmxlbmd0aCxwcm9jZWVkPXR5cGVvZiB2YWx1ZT09PSJzdHJpbmciJiZ2YWx1ZTtpZihqUXVlcnkuaXNGdW5jdGlvbih2YWx1ZSkpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oail7alF1ZXJ5KHRoaXMpLmFkZENsYXNzKHZhbHVlLmNhbGwodGhpcyxqLHRoaXMuY2xhc3NOYW1lKSl9KX1pZihwcm9jZWVkKXtjbGFzc2VzPSh2YWx1ZXx8IiIpLm1hdGNoKGNvcmVfcm5vdHdoaXRlKXx8W107Zm9yKDtpPGxlbjtpKyspe2VsZW09dGhpc1tpXTtjdXI9ZWxlbS5ub2RlVHlwZT09PTEmJihlbGVtLmNsYXNzTmFtZT8oIiAiK2VsZW0uY2xhc3NOYW1lKyIgIikucmVwbGFjZShyY2xhc3MsIiAiKToiICIpO2lmKGN1cil7aj0wO3doaWxlKChjbGF6ej1jbGFzc2VzW2orK10pKXtpZihjdXIuaW5kZXhPZigiICIrY2xhenorIiAiKTwwKXtjdXIrPWNsYXp6KyIgIn19ZWxlbS5jbGFzc05hbWU9alF1ZXJ5LnRyaW0oY3VyKX19fXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbih2YWx1ZSl7dmFyIGNsYXNzZXMsZWxlbSxjdXIsY2xhenosaixpPTAsbGVuPXRoaXMubGVuZ3RoLHByb2NlZWQ9YXJndW1lbnRzLmxlbmd0aD09PTB8fHR5cGVvZiB2YWx1ZT09PSJzdHJpbmciJiZ2YWx1ZTtpZihqUXVlcnkuaXNGdW5jdGlvbih2YWx1ZSkpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oail7alF1ZXJ5KHRoaXMpLnJlbW92ZUNsYXNzKHZhbHVlLmNhbGwodGhpcyxqLHRoaXMuY2xhc3NOYW1lKSl9KX1pZihwcm9jZWVkKXtjbGFzc2VzPSh2YWx1ZXx8IiIpLm1hdGNoKGNvcmVfcm5vdHdoaXRlKXx8W107Zm9yKDtpPGxlbjtpKyspe2VsZW09dGhpc1tpXTtjdXI9ZWxlbS5ub2RlVHlwZT09PTEmJihlbGVtLmNsYXNzTmFtZT8oIiAiK2VsZW0uY2xhc3NOYW1lKyIgIikucmVwbGFjZShyY2xhc3MsIiAiKToiIik7aWYoY3VyKXtqPTA7d2hpbGUoKGNsYXp6PWNsYXNzZXNbaisrXSkpe3doaWxlKGN1ci5pbmRleE9mKCIgIitjbGF6eisiICIpPj0wKXtjdXI9Y3VyLnJlcGxhY2UoIiAiK2NsYXp6KyIgIiwiICIpfX1lbGVtLmNsYXNzTmFtZT12YWx1ZT9qUXVlcnkudHJpbShjdXIpOiIifX19cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKHZhbHVlLHN0YXRlVmFsKXt2YXIgdHlwZT10eXBlb2YgdmFsdWU7aWYodHlwZW9mIHN0YXRlVmFsPT09ImJvb2xlYW4iJiZ0eXBlPT09InN0cmluZyIpe3JldHVybiBzdGF0ZVZhbD90aGlzLmFkZENsYXNzKHZhbHVlKTp0aGlzLnJlbW92ZUNsYXNzKHZhbHVlKX1pZihqUXVlcnkuaXNGdW5jdGlvbih2YWx1ZSkpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaSl7alF1ZXJ5KHRoaXMpLnRvZ2dsZUNsYXNzKHZhbHVlLmNhbGwodGhpcyxpLHRoaXMuY2xhc3NOYW1lLHN0YXRlVmFsKSxzdGF0ZVZhbCl9KX1yZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aWYodHlwZT09PSJzdHJpbmciKXt2YXIgY2xhc3NOYW1lLGk9MCxzZWxmPWpRdWVyeSh0aGlzKSxjbGFzc05hbWVzPXZhbHVlLm1hdGNoKGNvcmVfcm5vdHdoaXRlKXx8W107d2hpbGUoKGNsYXNzTmFtZT1jbGFzc05hbWVzW2krK10pKXtpZihzZWxmLmhhc0NsYXNzKGNsYXNzTmFtZSkpe3NlbGYucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKX1lbHNle3NlbGYuYWRkQ2xhc3MoY2xhc3NOYW1lKX19fWVsc2V7aWYodHlwZT09PWNvcmVfc3RydW5kZWZpbmVkfHx0eXBlPT09ImJvb2xlYW4iKXtpZih0aGlzLmNsYXNzTmFtZSl7alF1ZXJ5Ll9kYXRhKHRoaXMsIl9fY2xhc3NOYW1lX18iLHRoaXMuY2xhc3NOYW1lKX10aGlzLmNsYXNzTmFtZT10aGlzLmNsYXNzTmFtZXx8dmFsdWU9PT1mYWxzZT8iIjpqUXVlcnkuX2RhdGEodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIn19fSl9LGhhc0NsYXNzOmZ1bmN0aW9uKHNlbGVjdG9yKXt2YXIgY2xhc3NOYW1lPSIgIitzZWxlY3RvcisiICIsaT0wLGw9dGhpcy5sZW5ndGg7Zm9yKDtpPGw7aSsrKXtpZih0aGlzW2ldLm5vZGVUeXBlPT09MSYmKCIgIit0aGlzW2ldLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UocmNsYXNzLCIgIikuaW5kZXhPZihjbGFzc05hbWUpPj0wKXtyZXR1cm4gdHJ1ZX19cmV0dXJuIGZhbHNlfSx2YWw6ZnVuY3Rpb24odmFsdWUpe3ZhciByZXQsaG9va3MsaXNGdW5jdGlvbixlbGVtPXRoaXNbMF07aWYoIWFyZ3VtZW50cy5sZW5ndGgpe2lmKGVsZW0pe2hvb2tzPWpRdWVyeS52YWxIb29rc1tlbGVtLnR5cGVdfHxqUXVlcnkudmFsSG9va3NbZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXTtpZihob29rcyYmImdldCIgaW4gaG9va3MmJihyZXQ9aG9va3MuZ2V0KGVsZW0sInZhbHVlIikpIT09dW5kZWZpbmVkKXtyZXR1cm4gcmV0fXJldD1lbGVtLnZhbHVlO3JldHVybiB0eXBlb2YgcmV0PT09InN0cmluZyI/cmV0LnJlcGxhY2UocnJldHVybiwiIik6cmV0PT1udWxsPyIiOnJldH1yZXR1cm59aXNGdW5jdGlvbj1qUXVlcnkuaXNGdW5jdGlvbih2YWx1ZSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihpKXt2YXIgdmFsO2lmKHRoaXMubm9kZVR5cGUhPT0xKXtyZXR1cm59aWYoaXNGdW5jdGlvbil7dmFsPXZhbHVlLmNhbGwodGhpcyxpLGpRdWVyeSh0aGlzKS52YWwoKSl9ZWxzZXt2YWw9dmFsdWV9aWYodmFsPT1udWxsKXt2YWw9IiJ9ZWxzZXtpZih0eXBlb2YgdmFsPT09Im51bWJlciIpe3ZhbCs9IiJ9ZWxzZXtpZihqUXVlcnkuaXNBcnJheSh2YWwpKXt2YWw9alF1ZXJ5Lm1hcCh2YWwsZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZT09bnVsbD8iIjp2YWx1ZSsiIn0pfX19aG9va3M9alF1ZXJ5LnZhbEhvb2tzW3RoaXMudHlwZV18fGpRdWVyeS52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldO2lmKCFob29rc3x8ISgic2V0IiBpbiBob29rcyl8fGhvb2tzLnNldCh0aGlzLHZhbCwidmFsdWUiKT09PXVuZGVmaW5lZCl7dGhpcy52YWx1ZT12YWx9fSl9fSk7alF1ZXJ5LmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGVsZW0pe3ZhciB2YWw9alF1ZXJ5LmZpbmQuYXR0cihlbGVtLCJ2YWx1ZSIpO3JldHVybiB2YWwhPW51bGw/dmFsOmVsZW0udGV4dH19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGVsZW0pe3ZhciB2YWx1ZSxvcHRpb24sb3B0aW9ucz1lbGVtLm9wdGlvbnMsaW5kZXg9ZWxlbS5zZWxlY3RlZEluZGV4LG9uZT1lbGVtLnR5cGU9PT0ic2VsZWN0LW9uZSJ8fGluZGV4PDAsdmFsdWVzPW9uZT9udWxsOltdLG1heD1vbmU/aW5kZXgrMTpvcHRpb25zLmxlbmd0aCxpPWluZGV4PDA/bWF4Om9uZT9pbmRleDowO2Zvcig7aTxtYXg7aSsrKXtvcHRpb249b3B0aW9uc1tpXTtpZigob3B0aW9uLnNlbGVjdGVkfHxpPT09aW5kZXgpJiYoalF1ZXJ5LnN1cHBvcnQub3B0RGlzYWJsZWQ/IW9wdGlvbi5kaXNhYmxlZDpvcHRpb24uZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpPT09bnVsbCkmJighb3B0aW9uLnBhcmVudE5vZGUuZGlzYWJsZWR8fCFqUXVlcnkubm9kZU5hbWUob3B0aW9uLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXt2YWx1ZT1qUXVlcnkob3B0aW9uKS52YWwoKTtpZihvbmUpe3JldHVybiB2YWx1ZX12YWx1ZXMucHVzaCh2YWx1ZSl9fXJldHVybiB2YWx1ZXN9LHNldDpmdW5jdGlvbihlbGVtLHZhbHVlKXt2YXIgb3B0aW9uU2V0LG9wdGlvbixvcHRpb25zPWVsZW0ub3B0aW9ucyx2YWx1ZXM9alF1ZXJ5Lm1ha2VBcnJheSh2YWx1ZSksaT1vcHRpb25zLmxlbmd0aDt3aGlsZShpLS0pe29wdGlvbj1vcHRpb25zW2ldO2lmKChvcHRpb24uc2VsZWN0ZWQ9alF1ZXJ5LmluQXJyYXkoalF1ZXJ5KG9wdGlvbikudmFsKCksdmFsdWVzKT49MCkpe29wdGlvblNldD10cnVlfX1pZighb3B0aW9uU2V0KXtlbGVtLnNlbGVjdGVkSW5kZXg9LTF9cmV0dXJuIHZhbHVlc319fSxhdHRyOmZ1bmN0aW9uKGVsZW0sbmFtZSx2YWx1ZSl7dmFyIGhvb2tzLHJldCxuVHlwZT1lbGVtLm5vZGVUeXBlO2lmKCFlbGVtfHxuVHlwZT09PTN8fG5UeXBlPT09OHx8blR5cGU9PT0yKXtyZXR1cm59aWYodHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlPT09Y29yZV9zdHJ1bmRlZmluZWQpe3JldHVybiBqUXVlcnkucHJvcChlbGVtLG5hbWUsdmFsdWUpfWlmKG5UeXBlIT09MXx8IWpRdWVyeS5pc1hNTERvYyhlbGVtKSl7bmFtZT1uYW1lLnRvTG93ZXJDYXNlKCk7aG9va3M9alF1ZXJ5LmF0dHJIb29rc1tuYW1lXXx8KGpRdWVyeS5leHByLm1hdGNoLmJvb2wudGVzdChuYW1lKT9ib29sSG9vazpub2RlSG9vayl9aWYodmFsdWUhPT11bmRlZmluZWQpe2lmKHZhbHVlPT09bnVsbCl7alF1ZXJ5LnJlbW92ZUF0dHIoZWxlbSxuYW1lKX1lbHNle2lmKGhvb2tzJiYic2V0IiBpbiBob29rcyYmKHJldD1ob29rcy5zZXQoZWxlbSx2YWx1ZSxuYW1lKSkhPT11bmRlZmluZWQpe3JldHVybiByZXR9ZWxzZXtlbGVtLnNldEF0dHJpYnV0ZShuYW1lLHZhbHVlKyIiKTtyZXR1cm4gdmFsdWV9fX1lbHNle2lmKGhvb2tzJiYiZ2V0IiBpbiBob29rcyYmKHJldD1ob29rcy5nZXQoZWxlbSxuYW1lKSkhPT1udWxsKXtyZXR1cm4gcmV0fWVsc2V7cmV0PWpRdWVyeS5maW5kLmF0dHIoZWxlbSxuYW1lKTtyZXR1cm4gcmV0PT1udWxsP3VuZGVmaW5lZDpyZXR9fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlbGVtLHZhbHVlKXt2YXIgbmFtZSxwcm9wTmFtZSxpPTAsYXR0ck5hbWVzPXZhbHVlJiZ2YWx1ZS5tYXRjaChjb3JlX3Jub3R3aGl0ZSk7aWYoYXR0ck5hbWVzJiZlbGVtLm5vZGVUeXBlPT09MSl7d2hpbGUoKG5hbWU9YXR0ck5hbWVzW2krK10pKXtwcm9wTmFtZT1qUXVlcnkucHJvcEZpeFtuYW1lXXx8bmFtZTtpZihqUXVlcnkuZXhwci5tYXRjaC5ib29sLnRlc3QobmFtZSkpe2lmKGdldFNldElucHV0JiZnZXRTZXRBdHRyaWJ1dGV8fCFydXNlRGVmYXVsdC50ZXN0KG5hbWUpKXtlbGVtW3Byb3BOYW1lXT1mYWxzZX1lbHNle2VsZW1balF1ZXJ5LmNhbWVsQ2FzZSgiZGVmYXVsdC0iK25hbWUpXT1lbGVtW3Byb3BOYW1lXT1mYWxzZX19ZWxzZXtqUXVlcnkuYXR0cihlbGVtLG5hbWUsIiIpfWVsZW0ucmVtb3ZlQXR0cmlidXRlKGdldFNldEF0dHJpYnV0ZT9uYW1lOnByb3BOYW1lKX19fSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihlbGVtLHZhbHVlKXtpZighalF1ZXJ5LnN1cHBvcnQucmFkaW9WYWx1ZSYmdmFsdWU9PT0icmFkaW8iJiZqUXVlcnkubm9kZU5hbWUoZWxlbSwiaW5wdXQiKSl7dmFyIHZhbD1lbGVtLnZhbHVlO2VsZW0uc2V0QXR0cmlidXRlKCJ0eXBlIix2YWx1ZSk7aWYodmFsKXtlbGVtLnZhbHVlPXZhbH1yZXR1cm4gdmFsdWV9fX19LHByb3BGaXg6eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUifSxwcm9wOmZ1bmN0aW9uKGVsZW0sbmFtZSx2YWx1ZSl7dmFyIHJldCxob29rcyxub3R4bWwsblR5cGU9ZWxlbS5ub2RlVHlwZTtpZighZWxlbXx8blR5cGU9PT0zfHxuVHlwZT09PTh8fG5UeXBlPT09Mil7cmV0dXJufW5vdHhtbD1uVHlwZSE9PTF8fCFqUXVlcnkuaXNYTUxEb2MoZWxlbSk7aWYobm90eG1sKXtuYW1lPWpRdWVyeS5wcm9wRml4W25hbWVdfHxuYW1lO2hvb2tzPWpRdWVyeS5wcm9wSG9va3NbbmFtZV19aWYodmFsdWUhPT11bmRlZmluZWQpe3JldHVybiBob29rcyYmInNldCIgaW4gaG9va3MmJihyZXQ9aG9va3Muc2V0KGVsZW0sdmFsdWUsbmFtZSkpIT09dW5kZWZpbmVkP3JldDooZWxlbVtuYW1lXT12YWx1ZSl9ZWxzZXtyZXR1cm4gaG9va3MmJiJnZXQiIGluIGhvb2tzJiYocmV0PWhvb2tzLmdldChlbGVtLG5hbWUpKSE9PW51bGw/cmV0OmVsZW1bbmFtZV19fSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oZWxlbSl7dmFyIHRhYmluZGV4PWpRdWVyeS5maW5kLmF0dHIoZWxlbSwidGFiaW5kZXgiKTtyZXR1cm4gdGFiaW5kZXg/cGFyc2VJbnQodGFiaW5kZXgsMTApOnJmb2N1c2FibGUudGVzdChlbGVtLm5vZGVOYW1lKXx8cmNsaWNrYWJsZS50ZXN0KGVsZW0ubm9kZU5hbWUpJiZlbGVtLmhyZWY/MDotMX19fX0pO2Jvb2xIb29rPXtzZXQ6ZnVuY3Rpb24oZWxlbSx2YWx1ZSxuYW1lKXtpZih2YWx1ZT09PWZhbHNlKXtqUXVlcnkucmVtb3ZlQXR0cihlbGVtLG5hbWUpfWVsc2V7aWYoZ2V0U2V0SW5wdXQmJmdldFNldEF0dHJpYnV0ZXx8IXJ1c2VEZWZhdWx0LnRlc3QobmFtZSkpe2VsZW0uc2V0QXR0cmlidXRlKCFnZXRTZXRBdHRyaWJ1dGUmJmpRdWVyeS5wcm9wRml4W25hbWVdfHxuYW1lLG5hbWUpfWVsc2V7ZWxlbVtqUXVlcnkuY2FtZWxDYXNlKCJkZWZhdWx0LSIrbmFtZSldPWVsZW1bbmFtZV09dHJ1ZX19cmV0dXJuIG5hbWV9fTtqUXVlcnkuZWFjaChqUXVlcnkuZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXHcrL2cpLGZ1bmN0aW9uKGksbmFtZSl7dmFyIGdldHRlcj1qUXVlcnkuZXhwci5hdHRySGFuZGxlW25hbWVdfHxqUXVlcnkuZmluZC5hdHRyO2pRdWVyeS5leHByLmF0dHJIYW5kbGVbbmFtZV09Z2V0U2V0SW5wdXQmJmdldFNldEF0dHJpYnV0ZXx8IXJ1c2VEZWZhdWx0LnRlc3QobmFtZSk/ZnVuY3Rpb24oZWxlbSxuYW1lLGlzWE1MKXt2YXIgZm49alF1ZXJ5LmV4cHIuYXR0ckhhbmRsZVtuYW1lXSxyZXQ9aXNYTUw/dW5kZWZpbmVkOihqUXVlcnkuZXhwci5hdHRySGFuZGxlW25hbWVdPXVuZGVmaW5lZCkhPWdldHRlcihlbGVtLG5hbWUsaXNYTUwpP25hbWUudG9Mb3dlckNhc2UoKTpudWxsO2pRdWVyeS5leHByLmF0dHJIYW5kbGVbbmFtZV09Zm47cmV0dXJuIHJldH06ZnVuY3Rpb24oZWxlbSxuYW1lLGlzWE1MKXtyZXR1cm4gaXNYTUw/dW5kZWZpbmVkOmVsZW1balF1ZXJ5LmNhbWVsQ2FzZSgiZGVmYXVsdC0iK25hbWUpXT9uYW1lLnRvTG93ZXJDYXNlKCk6bnVsbH19KTtpZighZ2V0U2V0SW5wdXR8fCFnZXRTZXRBdHRyaWJ1dGUpe2pRdWVyeS5hdHRySG9va3MudmFsdWU9e3NldDpmdW5jdGlvbihlbGVtLHZhbHVlLG5hbWUpe2lmKGpRdWVyeS5ub2RlTmFtZShlbGVtLCJpbnB1dCIpKXtlbGVtLmRlZmF1bHRWYWx1ZT12YWx1ZX1lbHNle3JldHVybiBub2RlSG9vayYmbm9kZUhvb2suc2V0KGVsZW0sdmFsdWUsbmFtZSl9fX19aWYoIWdldFNldEF0dHJpYnV0ZSl7bm9kZUhvb2s9e3NldDpmdW5jdGlvbihlbGVtLHZhbHVlLG5hbWUpe3ZhciByZXQ9ZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKG5hbWUpO2lmKCFyZXQpe2VsZW0uc2V0QXR0cmlidXRlTm9kZSgocmV0PWVsZW0ub3duZXJEb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUobmFtZSkpKX1yZXQudmFsdWU9dmFsdWUrPSIiO3JldHVybiBuYW1lPT09InZhbHVlInx8dmFsdWU9PT1lbGVtLmdldEF0dHJpYnV0ZShuYW1lKT92YWx1ZTp1bmRlZmluZWR9fTtqUXVlcnkuZXhwci5hdHRySGFuZGxlLmlkPWpRdWVyeS5leHByLmF0dHJIYW5kbGUubmFtZT1qUXVlcnkuZXhwci5hdHRySGFuZGxlLmNvb3Jkcz1mdW5jdGlvbihlbGVtLG5hbWUsaXNYTUwpe3ZhciByZXQ7cmV0dXJuIGlzWE1MP3VuZGVmaW5lZDoocmV0PWVsZW0uZ2V0QXR0cmlidXRlTm9kZShuYW1lKSkmJnJldC52YWx1ZSE9PSIiP3JldC52YWx1ZTpudWxsfTtqUXVlcnkudmFsSG9va3MuYnV0dG9uPXtnZXQ6ZnVuY3Rpb24oZWxlbSxuYW1lKXt2YXIgcmV0PWVsZW0uZ2V0QXR0cmlidXRlTm9kZShuYW1lKTtyZXR1cm4gcmV0JiZyZXQuc3BlY2lmaWVkP3JldC52YWx1ZTp1bmRlZmluZWR9LHNldDpub2RlSG9vay5zZXR9O2pRdWVyeS5hdHRySG9va3MuY29udGVudGVkaXRhYmxlPXtzZXQ6ZnVuY3Rpb24oZWxlbSx2YWx1ZSxuYW1lKXtub2RlSG9vay5zZXQoZWxlbSx2YWx1ZT09PSIiP2ZhbHNlOnZhbHVlLG5hbWUpfX07alF1ZXJ5LmVhY2goWyJ3aWR0aCIsImhlaWdodCJdLGZ1bmN0aW9uKGksbmFtZSl7alF1ZXJ5LmF0dHJIb29rc1tuYW1lXT17c2V0OmZ1bmN0aW9uKGVsZW0sdmFsdWUpe2lmKHZhbHVlPT09IiIpe2VsZW0uc2V0QXR0cmlidXRlKG5hbWUsImF1dG8iKTtyZXR1cm4gdmFsdWV9fX19KX1pZighalF1ZXJ5LnN1cHBvcnQuaHJlZk5vcm1hbGl6ZWQpe2pRdWVyeS5lYWNoKFsiaHJlZiIsInNyYyJdLGZ1bmN0aW9uKGksbmFtZSl7alF1ZXJ5LnByb3BIb29rc1tuYW1lXT17Z2V0OmZ1bmN0aW9uKGVsZW0pe3JldHVybiBlbGVtLmdldEF0dHJpYnV0ZShuYW1lLDQpfX19KX1pZighalF1ZXJ5LnN1cHBvcnQuc3R5bGUpe2pRdWVyeS5hdHRySG9va3Muc3R5bGU9e2dldDpmdW5jdGlvbihlbGVtKXtyZXR1cm4gZWxlbS5zdHlsZS5jc3NUZXh0fHx1bmRlZmluZWR9LHNldDpmdW5jdGlvbihlbGVtLHZhbHVlKXtyZXR1cm4oZWxlbS5zdHlsZS5jc3NUZXh0PXZhbHVlKyIiKX19fWlmKCFqUXVlcnkuc3VwcG9ydC5vcHRTZWxlY3RlZCl7alF1ZXJ5LnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGVsZW0pe3ZhciBwYXJlbnQ9ZWxlbS5wYXJlbnROb2RlO2lmKHBhcmVudCl7cGFyZW50LnNlbGVjdGVkSW5kZXg7aWYocGFyZW50LnBhcmVudE5vZGUpe3BhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXh9fXJldHVybiBudWxsfX19alF1ZXJ5LmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe2pRdWVyeS5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pO2lmKCFqUXVlcnkuc3VwcG9ydC5lbmN0eXBlKXtqUXVlcnkucHJvcEZpeC5lbmN0eXBlPSJlbmNvZGluZyJ9alF1ZXJ5LmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtqUXVlcnkudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlbGVtLHZhbHVlKXtpZihqUXVlcnkuaXNBcnJheSh2YWx1ZSkpe3JldHVybihlbGVtLmNoZWNrZWQ9alF1ZXJ5LmluQXJyYXkoalF1ZXJ5KGVsZW0pLnZhbCgpLHZhbHVlKT49MCl9fX07aWYoIWpRdWVyeS5zdXBwb3J0LmNoZWNrT24pe2pRdWVyeS52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPT09bnVsbD8ib24iOmVsZW0udmFsdWV9fX0pO3ZhciByZm9ybUVsZW1zPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhKSQvaSxya2V5RXZlbnQ9L15rZXkvLHJtb3VzZUV2ZW50PS9eKD86bW91c2V8Y29udGV4dG1lbnUpfGNsaWNrLyxyZm9jdXNNb3JwaD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8scnR5cGVuYW1lc3BhY2U9L14oW14uXSopKD86XC4oLispfCkkLztmdW5jdGlvbiByZXR1cm5UcnVlKCl7cmV0dXJuIHRydWV9ZnVuY3Rpb24gcmV0dXJuRmFsc2UoKXtyZXR1cm4gZmFsc2V9ZnVuY3Rpb24gc2FmZUFjdGl2ZUVsZW1lbnQoKXt0cnl7cmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnR9Y2F0Y2goZXJyKXt9fWpRdWVyeS5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbihlbGVtLHR5cGVzLGhhbmRsZXIsZGF0YSxzZWxlY3Rvcil7dmFyIHRtcCxldmVudHMsdCxoYW5kbGVPYmpJbixzcGVjaWFsLGV2ZW50SGFuZGxlLGhhbmRsZU9iaixoYW5kbGVycyx0eXBlLG5hbWVzcGFjZXMsb3JpZ1R5cGUsZWxlbURhdGE9alF1ZXJ5Ll9kYXRhKGVsZW0pO2lmKCFlbGVtRGF0YSl7cmV0dXJufWlmKGhhbmRsZXIuaGFuZGxlcil7aGFuZGxlT2JqSW49aGFuZGxlcjtoYW5kbGVyPWhhbmRsZU9iakluLmhhbmRsZXI7c2VsZWN0b3I9aGFuZGxlT2JqSW4uc2VsZWN0b3J9aWYoIWhhbmRsZXIuZ3VpZCl7aGFuZGxlci5ndWlkPWpRdWVyeS5ndWlkKyt9aWYoIShldmVudHM9ZWxlbURhdGEuZXZlbnRzKSl7ZXZlbnRzPWVsZW1EYXRhLmV2ZW50cz17fX1pZighKGV2ZW50SGFuZGxlPWVsZW1EYXRhLmhhbmRsZSkpe2V2ZW50SGFuZGxlPWVsZW1EYXRhLmhhbmRsZT1mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGpRdWVyeSE9PWNvcmVfc3RydW5kZWZpbmVkJiYoIWV8fGpRdWVyeS5ldmVudC50cmlnZ2VyZWQhPT1lLnR5cGUpP2pRdWVyeS5ldmVudC5kaXNwYXRjaC5hcHBseShldmVudEhhbmRsZS5lbGVtLGFyZ3VtZW50cyk6dW5kZWZpbmVkfTtldmVudEhhbmRsZS5lbGVtPWVsZW19dHlwZXM9KHR5cGVzfHwiIikubWF0Y2goY29yZV9ybm90d2hpdGUpfHxbIiJdO3Q9dHlwZXMubGVuZ3RoO3doaWxlKHQtLSl7dG1wPXJ0eXBlbmFtZXNwYWNlLmV4ZWModHlwZXNbdF0pfHxbXTt0eXBlPW9yaWdUeXBlPXRtcFsxXTtuYW1lc3BhY2VzPSh0bXBbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKTtpZighdHlwZSl7Y29udGludWV9c3BlY2lhbD1qUXVlcnkuZXZlbnQuc3BlY2lhbFt0eXBlXXx8e307dHlwZT0oc2VsZWN0b3I/c3BlY2lhbC5kZWxlZ2F0ZVR5cGU6c3BlY2lhbC5iaW5kVHlwZSl8fHR5cGU7c3BlY2lhbD1qUXVlcnkuZXZlbnQuc3BlY2lhbFt0eXBlXXx8e307aGFuZGxlT2JqPWpRdWVyeS5leHRlbmQoe3R5cGU6dHlwZSxvcmlnVHlwZTpvcmlnVHlwZSxkYXRhOmRhdGEsaGFuZGxlcjpoYW5kbGVyLGd1aWQ6aGFuZGxlci5ndWlkLHNlbGVjdG9yOnNlbGVjdG9yLG5lZWRzQ29udGV4dDpzZWxlY3RvciYmalF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3Qoc2VsZWN0b3IpLG5hbWVzcGFjZTpuYW1lc3BhY2VzLmpvaW4oIi4iKX0saGFuZGxlT2JqSW4pO2lmKCEoaGFuZGxlcnM9ZXZlbnRzW3R5cGVdKSl7aGFuZGxlcnM9ZXZlbnRzW3R5cGVdPVtdO2hhbmRsZXJzLmRlbGVnYXRlQ291bnQ9MDtpZighc3BlY2lhbC5zZXR1cHx8c3BlY2lhbC5zZXR1cC5jYWxsKGVsZW0sZGF0YSxuYW1lc3BhY2VzLGV2ZW50SGFuZGxlKT09PWZhbHNlKXtpZihlbGVtLmFkZEV2ZW50TGlzdGVuZXIpe2VsZW0uYWRkRXZlbnRMaXN0ZW5lcih0eXBlLGV2ZW50SGFuZGxlLGZhbHNlKX1lbHNle2lmKGVsZW0uYXR0YWNoRXZlbnQpe2VsZW0uYXR0YWNoRXZlbnQoIm9uIit0eXBlLGV2ZW50SGFuZGxlKX19fX1pZihzcGVjaWFsLmFkZCl7c3BlY2lhbC5hZGQuY2FsbChlbGVtLGhhbmRsZU9iaik7aWYoIWhhbmRsZU9iai5oYW5kbGVyLmd1aWQpe2hhbmRsZU9iai5oYW5kbGVyLmd1aWQ9aGFuZGxlci5ndWlkfX1pZihzZWxlY3Rvcil7aGFuZGxlcnMuc3BsaWNlKGhhbmRsZXJzLmRlbGVnYXRlQ291bnQrKywwLGhhbmRsZU9iail9ZWxzZXtoYW5kbGVycy5wdXNoKGhhbmRsZU9iail9alF1ZXJ5LmV2ZW50Lmdsb2JhbFt0eXBlXT10cnVlfWVsZW09bnVsbH0scmVtb3ZlOmZ1bmN0aW9uKGVsZW0sdHlwZXMsaGFuZGxlcixzZWxlY3RvcixtYXBwZWRUeXBlcyl7dmFyIGosaGFuZGxlT2JqLHRtcCxvcmlnQ291bnQsdCxldmVudHMsc3BlY2lhbCxoYW5kbGVycyx0eXBlLG5hbWVzcGFjZXMsb3JpZ1R5cGUsZWxlbURhdGE9alF1ZXJ5Lmhhc0RhdGEoZWxlbSkmJmpRdWVyeS5fZGF0YShlbGVtKTtpZighZWxlbURhdGF8fCEoZXZlbnRzPWVsZW1EYXRhLmV2ZW50cykpe3JldHVybn10eXBlcz0odHlwZXN8fCIiKS5tYXRjaChjb3JlX3Jub3R3aGl0ZSl8fFsiIl07dD10eXBlcy5sZW5ndGg7d2hpbGUodC0tKXt0bXA9cnR5cGVuYW1lc3BhY2UuZXhlYyh0eXBlc1t0XSl8fFtdO3R5cGU9b3JpZ1R5cGU9dG1wWzFdO25hbWVzcGFjZXM9KHRtcFsyXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpO2lmKCF0eXBlKXtmb3IodHlwZSBpbiBldmVudHMpe2pRdWVyeS5ldmVudC5yZW1vdmUoZWxlbSx0eXBlK3R5cGVzW3RdLGhhbmRsZXIsc2VsZWN0b3IsdHJ1ZSl9Y29udGludWV9c3BlY2lhbD1qUXVlcnkuZXZlbnQuc3BlY2lhbFt0eXBlXXx8e307dHlwZT0oc2VsZWN0b3I/c3BlY2lhbC5kZWxlZ2F0ZVR5cGU6c3BlY2lhbC5iaW5kVHlwZSl8fHR5cGU7aGFuZGxlcnM9ZXZlbnRzW3R5cGVdfHxbXTt0bXA9dG1wWzJdJiZuZXcgUmVnRXhwKCIoXnxcXC4pIituYW1lc3BhY2VzLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpO29yaWdDb3VudD1qPWhhbmRsZXJzLmxlbmd0aDt3aGlsZShqLS0pe2hhbmRsZU9iaj1oYW5kbGVyc1tqXTtpZigobWFwcGVkVHlwZXN8fG9yaWdUeXBlPT09aGFuZGxlT2JqLm9yaWdUeXBlKSYmKCFoYW5kbGVyfHxoYW5kbGVyLmd1aWQ9PT1oYW5kbGVPYmouZ3VpZCkmJighdG1wfHx0bXAudGVzdChoYW5kbGVPYmoubmFtZXNwYWNlKSkmJighc2VsZWN0b3J8fHNlbGVjdG9yPT09aGFuZGxlT2JqLnNlbGVjdG9yfHxzZWxlY3Rvcj09PSIqKiImJmhhbmRsZU9iai5zZWxlY3Rvcikpe2hhbmRsZXJzLnNwbGljZShqLDEpO2lmKGhhbmRsZU9iai5zZWxlY3Rvcil7aGFuZGxlcnMuZGVsZWdhdGVDb3VudC0tfWlmKHNwZWNpYWwucmVtb3ZlKXtzcGVjaWFsLnJlbW92ZS5jYWxsKGVsZW0saGFuZGxlT2JqKX19fWlmKG9yaWdDb3VudCYmIWhhbmRsZXJzLmxlbmd0aCl7aWYoIXNwZWNpYWwudGVhcmRvd258fHNwZWNpYWwudGVhcmRvd24uY2FsbChlbGVtLG5hbWVzcGFjZXMsZWxlbURhdGEuaGFuZGxlKT09PWZhbHNlKXtqUXVlcnkucmVtb3ZlRXZlbnQoZWxlbSx0eXBlLGVsZW1EYXRhLmhhbmRsZSl9ZGVsZXRlIGV2ZW50c1t0eXBlXX19aWYoalF1ZXJ5LmlzRW1wdHlPYmplY3QoZXZlbnRzKSl7ZGVsZXRlIGVsZW1EYXRhLmhhbmRsZTtqUXVlcnkuX3JlbW92ZURhdGEoZWxlbSwiZXZlbnRzIil9fSx0cmlnZ2VyOmZ1bmN0aW9uKGV2ZW50LGRhdGEsZWxlbSxvbmx5SGFuZGxlcnMpe3ZhciBoYW5kbGUsb250eXBlLGN1cixidWJibGVUeXBlLHNwZWNpYWwsdG1wLGksZXZlbnRQYXRoPVtlbGVtfHxkb2N1bWVudF0sdHlwZT1jb3JlX2hhc093bi5jYWxsKGV2ZW50LCJ0eXBlIik/ZXZlbnQudHlwZTpldmVudCxuYW1lc3BhY2VzPWNvcmVfaGFzT3duLmNhbGwoZXZlbnQsIm5hbWVzcGFjZSIpP2V2ZW50Lm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2N1cj10bXA9ZWxlbT1lbGVtfHxkb2N1bWVudDtpZihlbGVtLm5vZGVUeXBlPT09M3x8ZWxlbS5ub2RlVHlwZT09PTgpe3JldHVybn1pZihyZm9jdXNNb3JwaC50ZXN0KHR5cGUralF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCkpe3JldHVybn1pZih0eXBlLmluZGV4T2YoIi4iKT49MCl7bmFtZXNwYWNlcz10eXBlLnNwbGl0KCIuIik7dHlwZT1uYW1lc3BhY2VzLnNoaWZ0KCk7bmFtZXNwYWNlcy5zb3J0KCl9b250eXBlPXR5cGUuaW5kZXhPZigiOiIpPDAmJiJvbiIrdHlwZTtldmVudD1ldmVudFtqUXVlcnkuZXhwYW5kb10/ZXZlbnQ6bmV3IGpRdWVyeS5FdmVudCh0eXBlLHR5cGVvZiBldmVudD09PSJvYmplY3QiJiZldmVudCk7ZXZlbnQuaXNUcmlnZ2VyPW9ubHlIYW5kbGVycz8yOjM7ZXZlbnQubmFtZXNwYWNlPW5hbWVzcGFjZXMuam9pbigiLiIpO2V2ZW50Lm5hbWVzcGFjZV9yZT1ldmVudC5uYW1lc3BhY2U/bmV3IFJlZ0V4cCgiKF58XFwuKSIrbmFtZXNwYWNlcy5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKTpudWxsO2V2ZW50LnJlc3VsdD11bmRlZmluZWQ7aWYoIWV2ZW50LnRhcmdldCl7ZXZlbnQudGFyZ2V0PWVsZW19ZGF0YT1kYXRhPT1udWxsP1tldmVudF06alF1ZXJ5Lm1ha2VBcnJheShkYXRhLFtldmVudF0pO3NwZWNpYWw9alF1ZXJ5LmV2ZW50LnNwZWNpYWxbdHlwZV18fHt9O2lmKCFvbmx5SGFuZGxlcnMmJnNwZWNpYWwudHJpZ2dlciYmc3BlY2lhbC50cmlnZ2VyLmFwcGx5KGVsZW0sZGF0YSk9PT1mYWxzZSl7cmV0dXJufWlmKCFvbmx5SGFuZGxlcnMmJiFzcGVjaWFsLm5vQnViYmxlJiYhalF1ZXJ5LmlzV2luZG93KGVsZW0pKXtidWJibGVUeXBlPXNwZWNpYWwuZGVsZWdhdGVUeXBlfHx0eXBlO2lmKCFyZm9jdXNNb3JwaC50ZXN0KGJ1YmJsZVR5cGUrdHlwZSkpe2N1cj1jdXIucGFyZW50Tm9kZX1mb3IoO2N1cjtjdXI9Y3VyLnBhcmVudE5vZGUpe2V2ZW50UGF0aC5wdXNoKGN1cik7dG1wPWN1cn1pZih0bXA9PT0oZWxlbS5vd25lckRvY3VtZW50fHxkb2N1bWVudCkpe2V2ZW50UGF0aC5wdXNoKHRtcC5kZWZhdWx0Vmlld3x8dG1wLnBhcmVudFdpbmRvd3x8d2luZG93KX19aT0wO3doaWxlKChjdXI9ZXZlbnRQYXRoW2krK10pJiYhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7ZXZlbnQudHlwZT1pPjE/YnViYmxlVHlwZTpzcGVjaWFsLmJpbmRUeXBlfHx0eXBlO2hhbmRsZT0oalF1ZXJ5Ll9kYXRhKGN1ciwiZXZlbnRzIil8fHt9KVtldmVudC50eXBlXSYmalF1ZXJ5Ll9kYXRhKGN1ciwiaGFuZGxlIik7aWYoaGFuZGxlKXtoYW5kbGUuYXBwbHkoY3VyLGRhdGEpfWhhbmRsZT1vbnR5cGUmJmN1cltvbnR5cGVdO2lmKGhhbmRsZSYmalF1ZXJ5LmFjY2VwdERhdGEoY3VyKSYmaGFuZGxlLmFwcGx5JiZoYW5kbGUuYXBwbHkoY3VyLGRhdGEpPT09ZmFsc2Upe2V2ZW50LnByZXZlbnREZWZhdWx0KCl9fWV2ZW50LnR5cGU9dHlwZTtpZighb25seUhhbmRsZXJzJiYhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpe2lmKCghc3BlY2lhbC5fZGVmYXVsdHx8c3BlY2lhbC5fZGVmYXVsdC5hcHBseShldmVudFBhdGgucG9wKCksZGF0YSk9PT1mYWxzZSkmJmpRdWVyeS5hY2NlcHREYXRhKGVsZW0pKXtpZihvbnR5cGUmJmVsZW1bdHlwZV0mJiFqUXVlcnkuaXNXaW5kb3coZWxlbSkpe3RtcD1lbGVtW29udHlwZV07aWYodG1wKXtlbGVtW29udHlwZV09bnVsbH1qUXVlcnkuZXZlbnQudHJpZ2dlcmVkPXR5cGU7dHJ5e2VsZW1bdHlwZV0oKX1jYXRjaChlKXt9alF1ZXJ5LmV2ZW50LnRyaWdnZXJlZD11bmRlZmluZWQ7aWYodG1wKXtlbGVtW29udHlwZV09dG1wfX19fXJldHVybiBldmVudC5yZXN1bHR9LGRpc3BhdGNoOmZ1bmN0aW9uKGV2ZW50KXtldmVudD1qUXVlcnkuZXZlbnQuZml4KGV2ZW50KTt2YXIgaSxyZXQsaGFuZGxlT2JqLG1hdGNoZWQsaixoYW5kbGVyUXVldWU9W10sYXJncz1jb3JlX3NsaWNlLmNhbGwoYXJndW1lbnRzKSxoYW5kbGVycz0oalF1ZXJ5Ll9kYXRhKHRoaXMsImV2ZW50cyIpfHx7fSlbZXZlbnQudHlwZV18fFtdLHNwZWNpYWw9alF1ZXJ5LmV2ZW50LnNwZWNpYWxbZXZlbnQudHlwZV18fHt9O2FyZ3NbMF09ZXZlbnQ7ZXZlbnQuZGVsZWdhdGVUYXJnZXQ9dGhpcztpZihzcGVjaWFsLnByZURpc3BhdGNoJiZzcGVjaWFsLnByZURpc3BhdGNoLmNhbGwodGhpcyxldmVudCk9PT1mYWxzZSl7cmV0dXJufWhhbmRsZXJRdWV1ZT1qUXVlcnkuZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLGV2ZW50LGhhbmRsZXJzKTtpPTA7d2hpbGUoKG1hdGNoZWQ9aGFuZGxlclF1ZXVlW2krK10pJiYhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7ZXZlbnQuY3VycmVudFRhcmdldD1tYXRjaGVkLmVsZW07aj0wO3doaWxlKChoYW5kbGVPYmo9bWF0Y2hlZC5oYW5kbGVyc1tqKytdKSYmIWV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpe2lmKCFldmVudC5uYW1lc3BhY2VfcmV8fGV2ZW50Lm5hbWVzcGFjZV9yZS50ZXN0KGhhbmRsZU9iai5uYW1lc3BhY2UpKXtldmVudC5oYW5kbGVPYmo9aGFuZGxlT2JqO2V2ZW50LmRhdGE9aGFuZGxlT2JqLmRhdGE7cmV0PSgoalF1ZXJ5LmV2ZW50LnNwZWNpYWxbaGFuZGxlT2JqLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8aGFuZGxlT2JqLmhhbmRsZXIpLmFwcGx5KG1hdGNoZWQuZWxlbSxhcmdzKTtpZihyZXQhPT11bmRlZmluZWQpe2lmKChldmVudC5yZXN1bHQ9cmV0KT09PWZhbHNlKXtldmVudC5wcmV2ZW50RGVmYXVsdCgpO2V2ZW50LnN0b3BQcm9wYWdhdGlvbigpfX19fX1pZihzcGVjaWFsLnBvc3REaXNwYXRjaCl7c3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLGV2ZW50KX1yZXR1cm4gZXZlbnQucmVzdWx0fSxoYW5kbGVyczpmdW5jdGlvbihldmVudCxoYW5kbGVycyl7dmFyIHNlbCxoYW5kbGVPYmosbWF0Y2hlcyxpLGhhbmRsZXJRdWV1ZT1bXSxkZWxlZ2F0ZUNvdW50PWhhbmRsZXJzLmRlbGVnYXRlQ291bnQsY3VyPWV2ZW50LnRhcmdldDtpZihkZWxlZ2F0ZUNvdW50JiZjdXIubm9kZVR5cGUmJighZXZlbnQuYnV0dG9ufHxldmVudC50eXBlIT09ImNsaWNrIikpe2Zvcig7Y3VyIT10aGlzO2N1cj1jdXIucGFyZW50Tm9kZXx8dGhpcyl7aWYoY3VyLm5vZGVUeXBlPT09MSYmKGN1ci5kaXNhYmxlZCE9PXRydWV8fGV2ZW50LnR5cGUhPT0iY2xpY2siKSl7bWF0Y2hlcz1bXTtmb3IoaT0wO2k8ZGVsZWdhdGVDb3VudDtpKyspe2hhbmRsZU9iaj1oYW5kbGVyc1tpXTtzZWw9aGFuZGxlT2JqLnNlbGVjdG9yKyIgIjtpZihtYXRjaGVzW3NlbF09PT11bmRlZmluZWQpe21hdGNoZXNbc2VsXT1oYW5kbGVPYmoubmVlZHNDb250ZXh0P2pRdWVyeShzZWwsdGhpcykuaW5kZXgoY3VyKT49MDpqUXVlcnkuZmluZChzZWwsdGhpcyxudWxsLFtjdXJdKS5sZW5ndGh9aWYobWF0Y2hlc1tzZWxdKXttYXRjaGVzLnB1c2goaGFuZGxlT2JqKX19aWYobWF0Y2hlcy5sZW5ndGgpe2hhbmRsZXJRdWV1ZS5wdXNoKHtlbGVtOmN1cixoYW5kbGVyczptYXRjaGVzfSl9fX19aWYoZGVsZWdhdGVDb3VudDxoYW5kbGVycy5sZW5ndGgpe2hhbmRsZXJRdWV1ZS5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6aGFuZGxlcnMuc2xpY2UoZGVsZWdhdGVDb3VudCl9KX1yZXR1cm4gaGFuZGxlclF1ZXVlfSxmaXg6ZnVuY3Rpb24oZXZlbnQpe2lmKGV2ZW50W2pRdWVyeS5leHBhbmRvXSl7cmV0dXJuIGV2ZW50fXZhciBpLHByb3AsY29weSx0eXBlPWV2ZW50LnR5cGUsb3JpZ2luYWxFdmVudD1ldmVudCxmaXhIb29rPXRoaXMuZml4SG9va3NbdHlwZV07aWYoIWZpeEhvb2spe3RoaXMuZml4SG9va3NbdHlwZV09Zml4SG9vaz1ybW91c2VFdmVudC50ZXN0KHR5cGUpP3RoaXMubW91c2VIb29rczpya2V5RXZlbnQudGVzdCh0eXBlKT90aGlzLmtleUhvb2tzOnt9fWNvcHk9Zml4SG9vay5wcm9wcz90aGlzLnByb3BzLmNvbmNhdChmaXhIb29rLnByb3BzKTp0aGlzLnByb3BzO2V2ZW50PW5ldyBqUXVlcnkuRXZlbnQob3JpZ2luYWxFdmVudCk7aT1jb3B5Lmxlbmd0aDt3aGlsZShpLS0pe3Byb3A9Y29weVtpXTtldmVudFtwcm9wXT1vcmlnaW5hbEV2ZW50W3Byb3BdfWlmKCFldmVudC50YXJnZXQpe2V2ZW50LnRhcmdldD1vcmlnaW5hbEV2ZW50LnNyY0VsZW1lbnR8fGRvY3VtZW50fWlmKGV2ZW50LnRhcmdldC5ub2RlVHlwZT09PTMpe2V2ZW50LnRhcmdldD1ldmVudC50YXJnZXQucGFyZW50Tm9kZX1ldmVudC5tZXRhS2V5PSEhZXZlbnQubWV0YUtleTtyZXR1cm4gZml4SG9vay5maWx0ZXI/Zml4SG9vay5maWx0ZXIoZXZlbnQsb3JpZ2luYWxFdmVudCk6ZXZlbnR9LHByb3BzOiJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2giLnNwbGl0KCIgIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOiJjaGFyIGNoYXJDb2RlIGtleSBrZXlDb2RlIi5zcGxpdCgiICIpLGZpbHRlcjpmdW5jdGlvbihldmVudCxvcmlnaW5hbCl7aWYoZXZlbnQud2hpY2g9PW51bGwpe2V2ZW50LndoaWNoPW9yaWdpbmFsLmNoYXJDb2RlIT1udWxsP29yaWdpbmFsLmNoYXJDb2RlOm9yaWdpbmFsLmtleUNvZGV9cmV0dXJuIGV2ZW50fX0sbW91c2VIb29rczp7cHJvcHM6ImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBmcm9tRWxlbWVudCBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudCIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oZXZlbnQsb3JpZ2luYWwpe3ZhciBib2R5LGV2ZW50RG9jLGRvYyxidXR0b249b3JpZ2luYWwuYnV0dG9uLGZyb21FbGVtZW50PW9yaWdpbmFsLmZyb21FbGVtZW50O2lmKGV2ZW50LnBhZ2VYPT1udWxsJiZvcmlnaW5hbC5jbGllbnRYIT1udWxsKXtldmVudERvYz1ldmVudC50YXJnZXQub3duZXJEb2N1bWVudHx8ZG9jdW1lbnQ7ZG9jPWV2ZW50RG9jLmRvY3VtZW50RWxlbWVudDtib2R5PWV2ZW50RG9jLmJvZHk7ZXZlbnQucGFnZVg9b3JpZ2luYWwuY2xpZW50WCsoZG9jJiZkb2Muc2Nyb2xsTGVmdHx8Ym9keSYmYm9keS5zY3JvbGxMZWZ0fHwwKS0oZG9jJiZkb2MuY2xpZW50TGVmdHx8Ym9keSYmYm9keS5jbGllbnRMZWZ0fHwwKTtldmVudC5wYWdlWT1vcmlnaW5hbC5jbGllbnRZKyhkb2MmJmRvYy5zY3JvbGxUb3B8fGJvZHkmJmJvZHkuc2Nyb2xsVG9wfHwwKS0oZG9jJiZkb2MuY2xpZW50VG9wfHxib2R5JiZib2R5LmNsaWVudFRvcHx8MCl9aWYoIWV2ZW50LnJlbGF0ZWRUYXJnZXQmJmZyb21FbGVtZW50KXtldmVudC5yZWxhdGVkVGFyZ2V0PWZyb21FbGVtZW50PT09ZXZlbnQudGFyZ2V0P29yaWdpbmFsLnRvRWxlbWVudDpmcm9tRWxlbWVudH1pZighZXZlbnQud2hpY2gmJmJ1dHRvbiE9PXVuZGVmaW5lZCl7ZXZlbnQud2hpY2g9KGJ1dHRvbiYxPzE6KGJ1dHRvbiYyPzM6KGJ1dHRvbiY0PzI6MCkpKX1yZXR1cm4gZXZlbnR9fSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTp0cnVlfSxmb2N1czp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKHRoaXMhPT1zYWZlQWN0aXZlRWxlbWVudCgpJiZ0aGlzLmZvY3VzKXt0cnl7dGhpcy5mb2N1cygpO3JldHVybiBmYWxzZX1jYXRjaChlKXt9fX0sZGVsZWdhdGVUeXBlOiJmb2N1c2luIn0sYmx1cjp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKHRoaXM9PT1zYWZlQWN0aXZlRWxlbWVudCgpJiZ0aGlzLmJsdXIpe3RoaXMuYmx1cigpO3JldHVybiBmYWxzZX19LGRlbGVnYXRlVHlwZToiZm9jdXNvdXQifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKGpRdWVyeS5ub2RlTmFtZSh0aGlzLCJpbnB1dCIpJiZ0aGlzLnR5cGU9PT0iY2hlY2tib3giJiZ0aGlzLmNsaWNrKXt0aGlzLmNsaWNrKCk7cmV0dXJuIGZhbHNlfX0sX2RlZmF1bHQ6ZnVuY3Rpb24oZXZlbnQpe3JldHVybiBqUXVlcnkubm9kZU5hbWUoZXZlbnQudGFyZ2V0LCJhIil9fSxiZWZvcmV1bmxvYWQ6e3Bvc3REaXNwYXRjaDpmdW5jdGlvbihldmVudCl7aWYoZXZlbnQucmVzdWx0IT09dW5kZWZpbmVkKXtldmVudC5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlPWV2ZW50LnJlc3VsdH19fX0sc2ltdWxhdGU6ZnVuY3Rpb24odHlwZSxlbGVtLGV2ZW50LGJ1YmJsZSl7dmFyIGU9alF1ZXJ5LmV4dGVuZChuZXcgalF1ZXJ5LkV2ZW50KCksZXZlbnQse3R5cGU6dHlwZSxpc1NpbXVsYXRlZDp0cnVlLG9yaWdpbmFsRXZlbnQ6e319KTtpZihidWJibGUpe2pRdWVyeS5ldmVudC50cmlnZ2VyKGUsbnVsbCxlbGVtKX1lbHNle2pRdWVyeS5ldmVudC5kaXNwYXRjaC5jYWxsKGVsZW0sZSl9aWYoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7ZXZlbnQucHJldmVudERlZmF1bHQoKX19fTtqUXVlcnkucmVtb3ZlRXZlbnQ9ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcj9mdW5jdGlvbihlbGVtLHR5cGUsaGFuZGxlKXtpZihlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIpe2VsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLGhhbmRsZSxmYWxzZSl9fTpmdW5jdGlvbihlbGVtLHR5cGUsaGFuZGxlKXt2YXIgbmFtZT0ib24iK3R5cGU7aWYoZWxlbS5kZXRhY2hFdmVudCl7aWYodHlwZW9mIGVsZW1bbmFtZV09PT1jb3JlX3N0cnVuZGVmaW5lZCl7ZWxlbVtuYW1lXT1udWxsfWVsZW0uZGV0YWNoRXZlbnQobmFtZSxoYW5kbGUpfX07alF1ZXJ5LkV2ZW50PWZ1bmN0aW9uKHNyYyxwcm9wcyl7aWYoISh0aGlzIGluc3RhbmNlb2YgalF1ZXJ5LkV2ZW50KSl7cmV0dXJuIG5ldyBqUXVlcnkuRXZlbnQoc3JjLHByb3BzKX1pZihzcmMmJnNyYy50eXBlKXt0aGlzLm9yaWdpbmFsRXZlbnQ9c3JjO3RoaXMudHlwZT1zcmMudHlwZTt0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD0oc3JjLmRlZmF1bHRQcmV2ZW50ZWR8fHNyYy5yZXR1cm5WYWx1ZT09PWZhbHNlfHxzcmMuZ2V0UHJldmVudERlZmF1bHQmJnNyYy5nZXRQcmV2ZW50RGVmYXVsdCgpKT9yZXR1cm5UcnVlOnJldHVybkZhbHNlfWVsc2V7dGhpcy50eXBlPXNyY31pZihwcm9wcyl7alF1ZXJ5LmV4dGVuZCh0aGlzLHByb3BzKX10aGlzLnRpbWVTdGFtcD1zcmMmJnNyYy50aW1lU3RhbXB8fGpRdWVyeS5ub3coKTt0aGlzW2pRdWVyeS5leHBhbmRvXT10cnVlfTtqUXVlcnkuRXZlbnQucHJvdG90eXBlPXtpc0RlZmF1bHRQcmV2ZW50ZWQ6cmV0dXJuRmFsc2UsaXNQcm9wYWdhdGlvblN0b3BwZWQ6cmV0dXJuRmFsc2UsaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6cmV0dXJuRmFsc2UscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9cmV0dXJuVHJ1ZTtpZighZSl7cmV0dXJufWlmKGUucHJldmVudERlZmF1bHQpe2UucHJldmVudERlZmF1bHQoKX1lbHNle2UucmV0dXJuVmFsdWU9ZmFsc2V9fSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1yZXR1cm5UcnVlO2lmKCFlKXtyZXR1cm59aWYoZS5zdG9wUHJvcGFnYXRpb24pe2Uuc3RvcFByb3BhZ2F0aW9uKCl9ZS5jYW5jZWxCdWJibGU9dHJ1ZX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1yZXR1cm5UcnVlO3RoaXMuc3RvcFByb3BhZ2F0aW9uKCl9fTtqUXVlcnkuZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCJ9LGZ1bmN0aW9uKG9yaWcsZml4KXtqUXVlcnkuZXZlbnQuc3BlY2lhbFtvcmlnXT17ZGVsZWdhdGVUeXBlOmZpeCxiaW5kVHlwZTpmaXgsaGFuZGxlOmZ1bmN0aW9uKGV2ZW50KXt2YXIgcmV0LHRhcmdldD10aGlzLHJlbGF0ZWQ9ZXZlbnQucmVsYXRlZFRhcmdldCxoYW5kbGVPYmo9ZXZlbnQuaGFuZGxlT2JqO2lmKCFyZWxhdGVkfHwocmVsYXRlZCE9PXRhcmdldCYmIWpRdWVyeS5jb250YWlucyh0YXJnZXQscmVsYXRlZCkpKXtldmVudC50eXBlPWhhbmRsZU9iai5vcmlnVHlwZTtyZXQ9aGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2V2ZW50LnR5cGU9Zml4fXJldHVybiByZXR9fX0pO2lmKCFqUXVlcnkuc3VwcG9ydC5zdWJtaXRCdWJibGVzKXtqUXVlcnkuZXZlbnQuc3BlY2lhbC5zdWJtaXQ9e3NldHVwOmZ1bmN0aW9uKCl7aWYoalF1ZXJ5Lm5vZGVOYW1lKHRoaXMsImZvcm0iKSl7cmV0dXJuIGZhbHNlfWpRdWVyeS5ldmVudC5hZGQodGhpcywiY2xpY2suX3N1Ym1pdCBrZXlwcmVzcy5fc3VibWl0IixmdW5jdGlvbihlKXt2YXIgZWxlbT1lLnRhcmdldCxmb3JtPWpRdWVyeS5ub2RlTmFtZShlbGVtLCJpbnB1dCIpfHxqUXVlcnkubm9kZU5hbWUoZWxlbSwiYnV0dG9uIik/ZWxlbS5mb3JtOnVuZGVmaW5lZDtpZihmb3JtJiYhalF1ZXJ5Ll9kYXRhKGZvcm0sInN1Ym1pdEJ1YmJsZXMiKSl7alF1ZXJ5LmV2ZW50LmFkZChmb3JtLCJzdWJtaXQuX3N1Ym1pdCIsZnVuY3Rpb24oZXZlbnQpe2V2ZW50Ll9zdWJtaXRfYnViYmxlPXRydWV9KTtqUXVlcnkuX2RhdGEoZm9ybSwic3VibWl0QnViYmxlcyIsdHJ1ZSl9fSl9LHBvc3REaXNwYXRjaDpmdW5jdGlvbihldmVudCl7aWYoZXZlbnQuX3N1Ym1pdF9idWJibGUpe2RlbGV0ZSBldmVudC5fc3VibWl0X2J1YmJsZTtpZih0aGlzLnBhcmVudE5vZGUmJiFldmVudC5pc1RyaWdnZXIpe2pRdWVyeS5ldmVudC5zaW11bGF0ZSgic3VibWl0Iix0aGlzLnBhcmVudE5vZGUsZXZlbnQsdHJ1ZSl9fX0sdGVhcmRvd246ZnVuY3Rpb24oKXtpZihqUXVlcnkubm9kZU5hbWUodGhpcywiZm9ybSIpKXtyZXR1cm4gZmFsc2V9alF1ZXJ5LmV2ZW50LnJlbW92ZSh0aGlzLCIuX3N1Ym1pdCIpfX19aWYoIWpRdWVyeS5zdXBwb3J0LmNoYW5nZUJ1YmJsZXMpe2pRdWVyeS5ldmVudC5zcGVjaWFsLmNoYW5nZT17c2V0dXA6ZnVuY3Rpb24oKXtpZihyZm9ybUVsZW1zLnRlc3QodGhpcy5ub2RlTmFtZSkpe2lmKHRoaXMudHlwZT09PSJjaGVja2JveCJ8fHRoaXMudHlwZT09PSJyYWRpbyIpe2pRdWVyeS5ldmVudC5hZGQodGhpcywicHJvcGVydHljaGFuZ2UuX2NoYW5nZSIsZnVuY3Rpb24oZXZlbnQpe2lmKGV2ZW50Lm9yaWdpbmFsRXZlbnQucHJvcGVydHlOYW1lPT09ImNoZWNrZWQiKXt0aGlzLl9qdXN0X2NoYW5nZWQ9dHJ1ZX19KTtqUXVlcnkuZXZlbnQuYWRkKHRoaXMsImNsaWNrLl9jaGFuZ2UiLGZ1bmN0aW9uKGV2ZW50KXtpZih0aGlzLl9qdXN0X2NoYW5nZWQmJiFldmVudC5pc1RyaWdnZXIpe3RoaXMuX2p1c3RfY2hhbmdlZD1mYWxzZX1qUXVlcnkuZXZlbnQuc2ltdWxhdGUoImNoYW5nZSIsdGhpcyxldmVudCx0cnVlKX0pfXJldHVybiBmYWxzZX1qUXVlcnkuZXZlbnQuYWRkKHRoaXMsImJlZm9yZWFjdGl2YXRlLl9jaGFuZ2UiLGZ1bmN0aW9uKGUpe3ZhciBlbGVtPWUudGFyZ2V0O2lmKHJmb3JtRWxlbXMudGVzdChlbGVtLm5vZGVOYW1lKSYmIWpRdWVyeS5fZGF0YShlbGVtLCJjaGFuZ2VCdWJibGVzIikpe2pRdWVyeS5ldmVudC5hZGQoZWxlbSwiY2hhbmdlLl9jaGFuZ2UiLGZ1bmN0aW9uKGV2ZW50KXtpZih0aGlzLnBhcmVudE5vZGUmJiFldmVudC5pc1NpbXVsYXRlZCYmIWV2ZW50LmlzVHJpZ2dlcil7alF1ZXJ5LmV2ZW50LnNpbXVsYXRlKCJjaGFuZ2UiLHRoaXMucGFyZW50Tm9kZSxldmVudCx0cnVlKX19KTtqUXVlcnkuX2RhdGEoZWxlbSwiY2hhbmdlQnViYmxlcyIsdHJ1ZSl9fSl9LGhhbmRsZTpmdW5jdGlvbihldmVudCl7dmFyIGVsZW09ZXZlbnQudGFyZ2V0O2lmKHRoaXMhPT1lbGVtfHxldmVudC5pc1NpbXVsYXRlZHx8ZXZlbnQuaXNUcmlnZ2VyfHwoZWxlbS50eXBlIT09InJhZGlvIiYmZWxlbS50eXBlIT09ImNoZWNrYm94Iikpe3JldHVybiBldmVudC5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSx0ZWFyZG93bjpmdW5jdGlvbigpe2pRdWVyeS5ldmVudC5yZW1vdmUodGhpcywiLl9jaGFuZ2UiKTtyZXR1cm4gIXJmb3JtRWxlbXMudGVzdCh0aGlzLm5vZGVOYW1lKX19fWlmKCFqUXVlcnkuc3VwcG9ydC5mb2N1c2luQnViYmxlcyl7alF1ZXJ5LmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKG9yaWcsZml4KXt2YXIgYXR0YWNoZXM9MCxoYW5kbGVyPWZ1bmN0aW9uKGV2ZW50KXtqUXVlcnkuZXZlbnQuc2ltdWxhdGUoZml4LGV2ZW50LnRhcmdldCxqUXVlcnkuZXZlbnQuZml4KGV2ZW50KSx0cnVlKX07alF1ZXJ5LmV2ZW50LnNwZWNpYWxbZml4XT17c2V0dXA6ZnVuY3Rpb24oKXtpZihhdHRhY2hlcysrPT09MCl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihvcmlnLGhhbmRsZXIsdHJ1ZSl9fSx0ZWFyZG93bjpmdW5jdGlvbigpe2lmKC0tYXR0YWNoZXM9PT0wKXtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKG9yaWcsaGFuZGxlcix0cnVlKX19fX0pfWpRdWVyeS5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKHR5cGVzLHNlbGVjdG9yLGRhdGEsZm4sb25lKXt2YXIgdHlwZSxvcmlnRm47aWYodHlwZW9mIHR5cGVzPT09Im9iamVjdCIpe2lmKHR5cGVvZiBzZWxlY3RvciE9PSJzdHJpbmciKXtkYXRhPWRhdGF8fHNlbGVjdG9yO3NlbGVjdG9yPXVuZGVmaW5lZH1mb3IodHlwZSBpbiB0eXBlcyl7dGhpcy5vbih0eXBlLHNlbGVjdG9yLGRhdGEsdHlwZXNbdHlwZV0sb25lKX1yZXR1cm4gdGhpc31pZihkYXRhPT1udWxsJiZmbj09bnVsbCl7Zm49c2VsZWN0b3I7ZGF0YT1zZWxlY3Rvcj11bmRlZmluZWR9ZWxzZXtpZihmbj09bnVsbCl7aWYodHlwZW9mIHNlbGVjdG9yPT09InN0cmluZyIpe2ZuPWRhdGE7ZGF0YT11bmRlZmluZWR9ZWxzZXtmbj1kYXRhO2RhdGE9c2VsZWN0b3I7c2VsZWN0b3I9dW5kZWZpbmVkfX19aWYoZm49PT1mYWxzZSl7Zm49cmV0dXJuRmFsc2V9ZWxzZXtpZighZm4pe3JldHVybiB0aGlzfX1pZihvbmU9PT0xKXtvcmlnRm49Zm47Zm49ZnVuY3Rpb24oZXZlbnQpe2pRdWVyeSgpLm9mZihldmVudCk7cmV0dXJuIG9yaWdGbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2ZuLmd1aWQ9b3JpZ0ZuLmd1aWR8fChvcmlnRm4uZ3VpZD1qUXVlcnkuZ3VpZCsrKX1yZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7alF1ZXJ5LmV2ZW50LmFkZCh0aGlzLHR5cGVzLGZuLGRhdGEsc2VsZWN0b3IpfSl9LG9uZTpmdW5jdGlvbih0eXBlcyxzZWxlY3RvcixkYXRhLGZuKXtyZXR1cm4gdGhpcy5vbih0eXBlcyxzZWxlY3RvcixkYXRhLGZuLDEpfSxvZmY6ZnVuY3Rpb24odHlwZXMsc2VsZWN0b3IsZm4pe3ZhciBoYW5kbGVPYmosdHlwZTtpZih0eXBlcyYmdHlwZXMucHJldmVudERlZmF1bHQmJnR5cGVzLmhhbmRsZU9iail7aGFuZGxlT2JqPXR5cGVzLmhhbmRsZU9iajtqUXVlcnkodHlwZXMuZGVsZWdhdGVUYXJnZXQpLm9mZihoYW5kbGVPYmoubmFtZXNwYWNlP2hhbmRsZU9iai5vcmlnVHlwZSsiLiIraGFuZGxlT2JqLm5hbWVzcGFjZTpoYW5kbGVPYmoub3JpZ1R5cGUsaGFuZGxlT2JqLnNlbGVjdG9yLGhhbmRsZU9iai5oYW5kbGVyKTtyZXR1cm4gdGhpc31pZih0eXBlb2YgdHlwZXM9PT0ib2JqZWN0Iil7Zm9yKHR5cGUgaW4gdHlwZXMpe3RoaXMub2ZmKHR5cGUsc2VsZWN0b3IsdHlwZXNbdHlwZV0pfXJldHVybiB0aGlzfWlmKHNlbGVjdG9yPT09ZmFsc2V8fHR5cGVvZiBzZWxlY3Rvcj09PSJmdW5jdGlvbiIpe2ZuPXNlbGVjdG9yO3NlbGVjdG9yPXVuZGVmaW5lZH1pZihmbj09PWZhbHNlKXtmbj1yZXR1cm5GYWxzZX1yZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7alF1ZXJ5LmV2ZW50LnJlbW92ZSh0aGlzLHR5cGVzLGZuLHNlbGVjdG9yKX0pfSx0cmlnZ2VyOmZ1bmN0aW9uKHR5cGUsZGF0YSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2pRdWVyeS5ldmVudC50cmlnZ2VyKHR5cGUsZGF0YSx0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbih0eXBlLGRhdGEpe3ZhciBlbGVtPXRoaXNbMF07aWYoZWxlbSl7cmV0dXJuIGpRdWVyeS5ldmVudC50cmlnZ2VyKHR5cGUsZGF0YSxlbGVtLHRydWUpfX19KTt2YXIgaXNTaW1wbGU9L14uW146I1xbXC4sXSokLyxycGFyZW50c3ByZXY9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8scm5lZWRzQ29udGV4dD1qUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQsZ3VhcmFudGVlZFVuaXF1ZT17Y2hpbGRyZW46dHJ1ZSxjb250ZW50czp0cnVlLG5leHQ6dHJ1ZSxwcmV2OnRydWV9O2pRdWVyeS5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oc2VsZWN0b3Ipe3ZhciBpLHJldD1bXSxzZWxmPXRoaXMsbGVuPXNlbGYubGVuZ3RoO2lmKHR5cGVvZiBzZWxlY3RvciE9PSJzdHJpbmciKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soalF1ZXJ5KHNlbGVjdG9yKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoaT0wO2k8bGVuO2krKyl7aWYoalF1ZXJ5LmNvbnRhaW5zKHNlbGZbaV0sdGhpcykpe3JldHVybiB0cnVlfX19KSl9Zm9yKGk9MDtpPGxlbjtpKyspe2pRdWVyeS5maW5kKHNlbGVjdG9yLHNlbGZbaV0scmV0KX1yZXQ9dGhpcy5wdXNoU3RhY2sobGVuPjE/alF1ZXJ5LnVuaXF1ZShyZXQpOnJldCk7cmV0LnNlbGVjdG9yPXRoaXMuc2VsZWN0b3I/dGhpcy5zZWxlY3RvcisiICIrc2VsZWN0b3I6c2VsZWN0b3I7cmV0dXJuIHJldH0saGFzOmZ1bmN0aW9uKHRhcmdldCl7dmFyIGksdGFyZ2V0cz1qUXVlcnkodGFyZ2V0LHRoaXMpLGxlbj10YXJnZXRzLmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoaT0wO2k8bGVuO2krKyl7aWYoalF1ZXJ5LmNvbnRhaW5zKHRoaXMsdGFyZ2V0c1tpXSkpe3JldHVybiB0cnVlfX19KX0sbm90OmZ1bmN0aW9uKHNlbGVjdG9yKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sod2lubm93KHRoaXMsc2VsZWN0b3J8fFtdLHRydWUpKX0sZmlsdGVyOmZ1bmN0aW9uKHNlbGVjdG9yKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sod2lubm93KHRoaXMsc2VsZWN0b3J8fFtdLGZhbHNlKSl9LGlzOmZ1bmN0aW9uKHNlbGVjdG9yKXtyZXR1cm4gISF3aW5ub3codGhpcyx0eXBlb2Ygc2VsZWN0b3I9PT0ic3RyaW5nIiYmcm5lZWRzQ29udGV4dC50ZXN0KHNlbGVjdG9yKT9qUXVlcnkoc2VsZWN0b3IpOnNlbGVjdG9yfHxbXSxmYWxzZSkubGVuZ3RofSxjbG9zZXN0OmZ1bmN0aW9uKHNlbGVjdG9ycyxjb250ZXh0KXt2YXIgY3VyLGk9MCxsPXRoaXMubGVuZ3RoLHJldD1bXSxwb3M9cm5lZWRzQ29udGV4dC50ZXN0KHNlbGVjdG9ycyl8fHR5cGVvZiBzZWxlY3RvcnMhPT0ic3RyaW5nIj9qUXVlcnkoc2VsZWN0b3JzLGNvbnRleHR8fHRoaXMuY29udGV4dCk6MDtmb3IoO2k8bDtpKyspe2ZvcihjdXI9dGhpc1tpXTtjdXImJmN1ciE9PWNvbnRleHQ7Y3VyPWN1ci5wYXJlbnROb2RlKXtpZihjdXIubm9kZVR5cGU8MTEmJihwb3M/cG9zLmluZGV4KGN1cik+LTE6Y3VyLm5vZGVUeXBlPT09MSYmalF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKGN1cixzZWxlY3RvcnMpKSl7Y3VyPXJldC5wdXNoKGN1cik7YnJlYWt9fX1yZXR1cm4gdGhpcy5wdXNoU3RhY2socmV0Lmxlbmd0aD4xP2pRdWVyeS51bmlxdWUocmV0KTpyZXQpfSxpbmRleDpmdW5jdGlvbihlbGVtKXtpZighZWxlbSl7cmV0dXJuKHRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZSk/dGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGg6LTF9aWYodHlwZW9mIGVsZW09PT0ic3RyaW5nIil7cmV0dXJuIGpRdWVyeS5pbkFycmF5KHRoaXNbMF0salF1ZXJ5KGVsZW0pKX1yZXR1cm4galF1ZXJ5LmluQXJyYXkoZWxlbS5qcXVlcnk/ZWxlbVswXTplbGVtLHRoaXMpfSxhZGQ6ZnVuY3Rpb24oc2VsZWN0b3IsY29udGV4dCl7dmFyIHNldD10eXBlb2Ygc2VsZWN0b3I9PT0ic3RyaW5nIj9qUXVlcnkoc2VsZWN0b3IsY29udGV4dCk6alF1ZXJ5Lm1ha2VBcnJheShzZWxlY3RvciYmc2VsZWN0b3Iubm9kZVR5cGU/W3NlbGVjdG9yXTpzZWxlY3RvciksYWxsPWpRdWVyeS5tZXJnZSh0aGlzLmdldCgpLHNldCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGpRdWVyeS51bmlxdWUoYWxsKSl9LGFkZEJhY2s6ZnVuY3Rpb24oc2VsZWN0b3Ipe3JldHVybiB0aGlzLmFkZChzZWxlY3Rvcj09bnVsbD90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihzZWxlY3RvcikpfX0pO2Z1bmN0aW9uIHNpYmxpbmcoY3VyLGRpcil7ZG97Y3VyPWN1cltkaXJdfXdoaWxlKGN1ciYmY3VyLm5vZGVUeXBlIT09MSk7cmV0dXJuIGN1cn1qUXVlcnkuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGVsZW0pe3ZhciBwYXJlbnQ9ZWxlbS5wYXJlbnROb2RlO3JldHVybiBwYXJlbnQmJnBhcmVudC5ub2RlVHlwZSE9PTExP3BhcmVudDpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGVsZW0pe3JldHVybiBqUXVlcnkuZGlyKGVsZW0sInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGVsZW0saSx1bnRpbCl7cmV0dXJuIGpRdWVyeS5kaXIoZWxlbSwicGFyZW50Tm9kZSIsdW50aWwpfSxuZXh0OmZ1bmN0aW9uKGVsZW0pe3JldHVybiBzaWJsaW5nKGVsZW0sIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIHNpYmxpbmcoZWxlbSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRBbGw6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGpRdWVyeS5kaXIoZWxlbSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihlbGVtKXtyZXR1cm4galF1ZXJ5LmRpcihlbGVtLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGVsZW0saSx1bnRpbCl7cmV0dXJuIGpRdWVyeS5kaXIoZWxlbSwibmV4dFNpYmxpbmciLHVudGlsKX0scHJldlVudGlsOmZ1bmN0aW9uKGVsZW0saSx1bnRpbCl7cmV0dXJuIGpRdWVyeS5kaXIoZWxlbSwicHJldmlvdXNTaWJsaW5nIix1bnRpbCl9LHNpYmxpbmdzOmZ1bmN0aW9uKGVsZW0pe3JldHVybiBqUXVlcnkuc2libGluZygoZWxlbS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlbGVtKX0sY2hpbGRyZW46ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGpRdWVyeS5zaWJsaW5nKGVsZW0uZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGVsZW0pe3JldHVybiBqUXVlcnkubm9kZU5hbWUoZWxlbSwiaWZyYW1lIik/ZWxlbS5jb250ZW50RG9jdW1lbnR8fGVsZW0uY29udGVudFdpbmRvdy5kb2N1bWVudDpqUXVlcnkubWVyZ2UoW10sZWxlbS5jaGlsZE5vZGVzKX19LGZ1bmN0aW9uKG5hbWUsZm4pe2pRdWVyeS5mbltuYW1lXT1mdW5jdGlvbih1bnRpbCxzZWxlY3Rvcil7dmFyIHJldD1qUXVlcnkubWFwKHRoaXMsZm4sdW50aWwpO2lmKG5hbWUuc2xpY2UoLTUpIT09IlVudGlsIil7c2VsZWN0b3I9dW50aWx9aWYoc2VsZWN0b3ImJnR5cGVvZiBzZWxlY3Rvcj09PSJzdHJpbmciKXtyZXQ9alF1ZXJ5LmZpbHRlcihzZWxlY3RvcixyZXQpfWlmKHRoaXMubGVuZ3RoPjEpe2lmKCFndWFyYW50ZWVkVW5pcXVlW25hbWVdKXtyZXQ9alF1ZXJ5LnVuaXF1ZShyZXQpfWlmKHJwYXJlbnRzcHJldi50ZXN0KG5hbWUpKXtyZXQ9cmV0LnJldmVyc2UoKX19cmV0dXJuIHRoaXMucHVzaFN0YWNrKHJldCl9fSk7alF1ZXJ5LmV4dGVuZCh7ZmlsdGVyOmZ1bmN0aW9uKGV4cHIsZWxlbXMsbm90KXt2YXIgZWxlbT1lbGVtc1swXTtpZihub3Qpe2V4cHI9Ijpub3QoIitleHByKyIpIn1yZXR1cm4gZWxlbXMubGVuZ3RoPT09MSYmZWxlbS5ub2RlVHlwZT09PTE/alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKGVsZW0sZXhwcik/W2VsZW1dOltdOmpRdWVyeS5maW5kLm1hdGNoZXMoZXhwcixqUXVlcnkuZ3JlcChlbGVtcyxmdW5jdGlvbihlbGVtKXtyZXR1cm4gZWxlbS5ub2RlVHlwZT09PTF9KSl9LGRpcjpmdW5jdGlvbihlbGVtLGRpcix1bnRpbCl7dmFyIG1hdGNoZWQ9W10sY3VyPWVsZW1bZGlyXTt3aGlsZShjdXImJmN1ci5ub2RlVHlwZSE9PTkmJih1bnRpbD09PXVuZGVmaW5lZHx8Y3VyLm5vZGVUeXBlIT09MXx8IWpRdWVyeShjdXIpLmlzKHVudGlsKSkpe2lmKGN1ci5ub2RlVHlwZT09PTEpe21hdGNoZWQucHVzaChjdXIpfWN1cj1jdXJbZGlyXX1yZXR1cm4gbWF0Y2hlZH0sc2libGluZzpmdW5jdGlvbihuLGVsZW0pe3ZhciByPVtdO2Zvcig7bjtuPW4ubmV4dFNpYmxpbmcpe2lmKG4ubm9kZVR5cGU9PT0xJiZuIT09ZWxlbSl7ci5wdXNoKG4pfX1yZXR1cm4gcn19KTtmdW5jdGlvbiB3aW5ub3coZWxlbWVudHMscXVhbGlmaWVyLG5vdCl7aWYoalF1ZXJ5LmlzRnVuY3Rpb24ocXVhbGlmaWVyKSl7cmV0dXJuIGpRdWVyeS5ncmVwKGVsZW1lbnRzLGZ1bmN0aW9uKGVsZW0saSl7cmV0dXJuICEhcXVhbGlmaWVyLmNhbGwoZWxlbSxpLGVsZW0pIT09bm90fSl9aWYocXVhbGlmaWVyLm5vZGVUeXBlKXtyZXR1cm4galF1ZXJ5LmdyZXAoZWxlbWVudHMsZnVuY3Rpb24oZWxlbSl7cmV0dXJuKGVsZW09PT1xdWFsaWZpZXIpIT09bm90fSl9aWYodHlwZW9mIHF1YWxpZmllcj09PSJzdHJpbmciKXtpZihpc1NpbXBsZS50ZXN0KHF1YWxpZmllcikpe3JldHVybiBqUXVlcnkuZmlsdGVyKHF1YWxpZmllcixlbGVtZW50cyxub3QpfXF1YWxpZmllcj1qUXVlcnkuZmlsdGVyKHF1YWxpZmllcixlbGVtZW50cyl9cmV0dXJuIGpRdWVyeS5ncmVwKGVsZW1lbnRzLGZ1bmN0aW9uKGVsZW0pe3JldHVybihqUXVlcnkuaW5BcnJheShlbGVtLHF1YWxpZmllcik+PTApIT09bm90fSl9ZnVuY3Rpb24gY3JlYXRlU2FmZUZyYWdtZW50KGRvY3VtZW50KXt2YXIgbGlzdD1ub2RlTmFtZXMuc3BsaXQoInwiKSxzYWZlRnJhZz1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7aWYoc2FmZUZyYWcuY3JlYXRlRWxlbWVudCl7d2hpbGUobGlzdC5sZW5ndGgpe3NhZmVGcmFnLmNyZWF0ZUVsZW1lbnQobGlzdC5wb3AoKSl9fXJldHVybiBzYWZlRnJhZ312YXIgbm9kZU5hbWVzPSJhYmJyfGFydGljbGV8YXNpZGV8YXVkaW98YmRpfGNhbnZhc3xkYXRhfGRhdGFsaXN0fGRldGFpbHN8ZmlnY2FwdGlvbnxmaWd1cmV8Zm9vdGVyfGhlYWRlcnxoZ3JvdXB8bWFya3xtZXRlcnxuYXZ8b3V0cHV0fHByb2dyZXNzfHNlY3Rpb258c3VtbWFyeXx0aW1lfHZpZGVvIixyaW5saW5lalF1ZXJ5PS8galF1ZXJ5XGQrPSIoPzpudWxsfFxkKykiL2cscm5vc2hpbWNhY2hlPW5ldyBSZWdFeHAoIjwoPzoiK25vZGVOYW1lcysiKVtcXHMvPl0iLCJpIikscmxlYWRpbmdXaGl0ZXNwYWNlPS9eXHMrLyxyeGh0bWxUYWc9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1x3Ol0rKVtePl0qKVwvPi9naSxydGFnTmFtZT0vPChbXHc6XSspLyxydGJvZHk9Lzx0Ym9keS9pLHJodG1sPS88fCYjP1x3KzsvLHJub0lubmVyaHRtbD0vPCg/OnNjcmlwdHxzdHlsZXxsaW5rKS9pLG1hbmlwdWxhdGlvbl9yY2hlY2thYmxlVHlwZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxyY2hlY2tlZD0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxyc2NyaXB0VHlwZT0vXiR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2kscnNjcmlwdFR5cGVNYXNrZWQ9L150cnVlXC8oLiopLyxyY2xlYW5TY3JpcHQ9L15ccyo8ISg/OlxbQ0RBVEFcW3wtLSl8KD86XF1cXXwtLSk+XHMqJC9nLHdyYXBNYXA9e29wdGlvbjpbMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdLGxlZ2VuZDpbMSwiPGZpZWxkc2V0PiIsIjwvZmllbGRzZXQ+Il0sYXJlYTpbMSwiPG1hcD4iLCI8L21hcD4iXSxwYXJhbTpbMSwiPG9iamVjdD4iLCI8L29iamVjdD4iXSx0aGVhZDpbMSwiPHRhYmxlPiIsIjwvdGFibGU+Il0sdHI6WzIsIjx0YWJsZT48dGJvZHk+IiwiPC90Ym9keT48L3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjx0Ym9keT48L3Rib2R5Pjxjb2xncm91cD4iLCI8L2NvbGdyb3VwPjwvdGFibGU+Il0sdGQ6WzMsIjx0YWJsZT48dGJvZHk+PHRyPiIsIjwvdHI+PC90Ym9keT48L3RhYmxlPiJdLF9kZWZhdWx0OmpRdWVyeS5zdXBwb3J0Lmh0bWxTZXJpYWxpemU/WzAsIiIsIiJdOlsxLCJYPGRpdj4iLCI8L2Rpdj4iXX0sc2FmZUZyYWdtZW50PWNyZWF0ZVNhZmVGcmFnbWVudChkb2N1bWVudCksZnJhZ21lbnREaXY9c2FmZUZyYWdtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKTt3cmFwTWFwLm9wdGdyb3VwPXdyYXBNYXAub3B0aW9uO3dyYXBNYXAudGJvZHk9d3JhcE1hcC50Zm9vdD13cmFwTWFwLmNvbGdyb3VwPXdyYXBNYXAuY2FwdGlvbj13cmFwTWFwLnRoZWFkO3dyYXBNYXAudGg9d3JhcE1hcC50ZDtqUXVlcnkuZm4uZXh0ZW5kKHt0ZXh0OmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4galF1ZXJ5LmFjY2Vzcyh0aGlzLGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWU9PT11bmRlZmluZWQ/alF1ZXJ5LnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHxkb2N1bWVudCkuY3JlYXRlVGV4dE5vZGUodmFsdWUpKX0sbnVsbCx2YWx1ZSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGVsZW0pe2lmKHRoaXMubm9kZVR5cGU9PT0xfHx0aGlzLm5vZGVUeXBlPT09MTF8fHRoaXMubm9kZVR5cGU9PT05KXt2YXIgdGFyZ2V0PW1hbmlwdWxhdGlvblRhcmdldCh0aGlzLGVsZW0pO3RhcmdldC5hcHBlbmRDaGlsZChlbGVtKX19KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihlbGVtKXtpZih0aGlzLm5vZGVUeXBlPT09MXx8dGhpcy5ub2RlVHlwZT09PTExfHx0aGlzLm5vZGVUeXBlPT09OSl7dmFyIHRhcmdldD1tYW5pcHVsYXRpb25UYXJnZXQodGhpcyxlbGVtKTt0YXJnZXQuaW5zZXJ0QmVmb3JlKGVsZW0sdGFyZ2V0LmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oZWxlbSl7aWYodGhpcy5wYXJlbnROb2RlKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVsZW0sdGhpcyl9fSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGVsZW0pe2lmKHRoaXMucGFyZW50Tm9kZSl7dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlbGVtLHRoaXMubmV4dFNpYmxpbmcpfX0pfSxyZW1vdmU6ZnVuY3Rpb24oc2VsZWN0b3Isa2VlcERhdGEpe3ZhciBlbGVtLGVsZW1zPXNlbGVjdG9yP2pRdWVyeS5maWx0ZXIoc2VsZWN0b3IsdGhpcyk6dGhpcyxpPTA7Zm9yKDsoZWxlbT1lbGVtc1tpXSkhPW51bGw7aSsrKXtpZigha2VlcERhdGEmJmVsZW0ubm9kZVR5cGU9PT0xKXtqUXVlcnkuY2xlYW5EYXRhKGdldEFsbChlbGVtKSl9aWYoZWxlbS5wYXJlbnROb2RlKXtpZihrZWVwRGF0YSYmalF1ZXJ5LmNvbnRhaW5zKGVsZW0ub3duZXJEb2N1bWVudCxlbGVtKSl7c2V0R2xvYmFsRXZhbChnZXRBbGwoZWxlbSwic2NyaXB0IikpfWVsZW0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtKX19cmV0dXJuIHRoaXN9LGVtcHR5OmZ1bmN0aW9uKCl7dmFyIGVsZW0saT0wO2Zvcig7KGVsZW09dGhpc1tpXSkhPW51bGw7aSsrKXtpZihlbGVtLm5vZGVUeXBlPT09MSl7alF1ZXJ5LmNsZWFuRGF0YShnZXRBbGwoZWxlbSxmYWxzZSkpfXdoaWxlKGVsZW0uZmlyc3RDaGlsZCl7ZWxlbS5yZW1vdmVDaGlsZChlbGVtLmZpcnN0Q2hpbGQpfWlmKGVsZW0ub3B0aW9ucyYmalF1ZXJ5Lm5vZGVOYW1lKGVsZW0sInNlbGVjdCIpKXtlbGVtLm9wdGlvbnMubGVuZ3RoPTB9fXJldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihkYXRhQW5kRXZlbnRzLGRlZXBEYXRhQW5kRXZlbnRzKXtkYXRhQW5kRXZlbnRzPWRhdGFBbmRFdmVudHM9PW51bGw/ZmFsc2U6ZGF0YUFuZEV2ZW50cztkZWVwRGF0YUFuZEV2ZW50cz1kZWVwRGF0YUFuZEV2ZW50cz09bnVsbD9kYXRhQW5kRXZlbnRzOmRlZXBEYXRhQW5kRXZlbnRzO3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBqUXVlcnkuY2xvbmUodGhpcyxkYXRhQW5kRXZlbnRzLGRlZXBEYXRhQW5kRXZlbnRzKX0pfSxodG1sOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4galF1ZXJ5LmFjY2Vzcyh0aGlzLGZ1bmN0aW9uKHZhbHVlKXt2YXIgZWxlbT10aGlzWzBdfHx7fSxpPTAsbD10aGlzLmxlbmd0aDtpZih2YWx1ZT09PXVuZGVmaW5lZCl7cmV0dXJuIGVsZW0ubm9kZVR5cGU9PT0xP2VsZW0uaW5uZXJIVE1MLnJlcGxhY2UocmlubGluZWpRdWVyeSwiIik6dW5kZWZpbmVkfWlmKHR5cGVvZiB2YWx1ZT09PSJzdHJpbmciJiYhcm5vSW5uZXJodG1sLnRlc3QodmFsdWUpJiYoalF1ZXJ5LnN1cHBvcnQuaHRtbFNlcmlhbGl6ZXx8IXJub3NoaW1jYWNoZS50ZXN0KHZhbHVlKSkmJihqUXVlcnkuc3VwcG9ydC5sZWFkaW5nV2hpdGVzcGFjZXx8IXJsZWFkaW5nV2hpdGVzcGFjZS50ZXN0KHZhbHVlKSkmJiF3cmFwTWFwWyhydGFnTmFtZS5leGVjKHZhbHVlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe3ZhbHVlPXZhbHVlLnJlcGxhY2UocnhodG1sVGFnLCI8JDE+PC8kMj4iKTt0cnl7Zm9yKDtpPGw7aSsrKXtlbGVtPXRoaXNbaV18fHt9O2lmKGVsZW0ubm9kZVR5cGU9PT0xKXtqUXVlcnkuY2xlYW5EYXRhKGdldEFsbChlbGVtLGZhbHNlKSk7ZWxlbS5pbm5lckhUTUw9dmFsdWV9fWVsZW09MH1jYXRjaChlKXt9fWlmKGVsZW0pe3RoaXMuZW1wdHkoKS5hcHBlbmQodmFsdWUpfX0sbnVsbCx2YWx1ZSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgYXJncz1qUXVlcnkubWFwKHRoaXMsZnVuY3Rpb24oZWxlbSl7cmV0dXJuW2VsZW0ubmV4dFNpYmxpbmcsZWxlbS5wYXJlbnROb2RlXX0pLGk9MDt0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihlbGVtKXt2YXIgbmV4dD1hcmdzW2krK10scGFyZW50PWFyZ3NbaSsrXTtpZihwYXJlbnQpe2lmKG5leHQmJm5leHQucGFyZW50Tm9kZSE9PXBhcmVudCl7bmV4dD10aGlzLm5leHRTaWJsaW5nfWpRdWVyeSh0aGlzKS5yZW1vdmUoKTtwYXJlbnQuaW5zZXJ0QmVmb3JlKGVsZW0sbmV4dCl9fSx0cnVlKTtyZXR1cm4gaT90aGlzOnRoaXMucmVtb3ZlKCl9LGRldGFjaDpmdW5jdGlvbihzZWxlY3Rvcil7cmV0dXJuIHRoaXMucmVtb3ZlKHNlbGVjdG9yLHRydWUpfSxkb21NYW5pcDpmdW5jdGlvbihhcmdzLGNhbGxiYWNrLGFsbG93SW50ZXJzZWN0aW9uKXthcmdzPWNvcmVfY29uY2F0LmFwcGx5KFtdLGFyZ3MpO3ZhciBmaXJzdCxub2RlLGhhc1NjcmlwdHMsc2NyaXB0cyxkb2MsZnJhZ21lbnQsaT0wLGw9dGhpcy5sZW5ndGgsc2V0PXRoaXMsaU5vQ2xvbmU9bC0xLHZhbHVlPWFyZ3NbMF0saXNGdW5jdGlvbj1qUXVlcnkuaXNGdW5jdGlvbih2YWx1ZSk7aWYoaXNGdW5jdGlvbnx8IShsPD0xfHx0eXBlb2YgdmFsdWUhPT0ic3RyaW5nInx8alF1ZXJ5LnN1cHBvcnQuY2hlY2tDbG9uZXx8IXJjaGVja2VkLnRlc3QodmFsdWUpKSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihpbmRleCl7dmFyIHNlbGY9c2V0LmVxKGluZGV4KTtpZihpc0Z1bmN0aW9uKXthcmdzWzBdPXZhbHVlLmNhbGwodGhpcyxpbmRleCxzZWxmLmh0bWwoKSl9c2VsZi5kb21NYW5pcChhcmdzLGNhbGxiYWNrLGFsbG93SW50ZXJzZWN0aW9uKX0pfWlmKGwpe2ZyYWdtZW50PWpRdWVyeS5idWlsZEZyYWdtZW50KGFyZ3MsdGhpc1swXS5vd25lckRvY3VtZW50LGZhbHNlLCFhbGxvd0ludGVyc2VjdGlvbiYmdGhpcyk7Zmlyc3Q9ZnJhZ21lbnQuZmlyc3RDaGlsZDtpZihmcmFnbWVudC5jaGlsZE5vZGVzLmxlbmd0aD09PTEpe2ZyYWdtZW50PWZpcnN0fWlmKGZpcnN0KXtzY3JpcHRzPWpRdWVyeS5tYXAoZ2V0QWxsKGZyYWdtZW50LCJzY3JpcHQiKSxkaXNhYmxlU2NyaXB0KTtoYXNTY3JpcHRzPXNjcmlwdHMubGVuZ3RoO2Zvcig7aTxsO2krKyl7bm9kZT1mcmFnbWVudDtpZihpIT09aU5vQ2xvbmUpe25vZGU9alF1ZXJ5LmNsb25lKG5vZGUsdHJ1ZSx0cnVlKTtpZihoYXNTY3JpcHRzKXtqUXVlcnkubWVyZ2Uoc2NyaXB0cyxnZXRBbGwobm9kZSwic2NyaXB0IikpfX1jYWxsYmFjay5jYWxsKHRoaXNbaV0sbm9kZSxpKX1pZihoYXNTY3JpcHRzKXtkb2M9c2NyaXB0c1tzY3JpcHRzLmxlbmd0aC0xXS5vd25lckRvY3VtZW50O2pRdWVyeS5tYXAoc2NyaXB0cyxyZXN0b3JlU2NyaXB0KTtmb3IoaT0wO2k8aGFzU2NyaXB0cztpKyspe25vZGU9c2NyaXB0c1tpXTtpZihyc2NyaXB0VHlwZS50ZXN0KG5vZGUudHlwZXx8IiIpJiYhalF1ZXJ5Ll9kYXRhKG5vZGUsImdsb2JhbEV2YWwiKSYmalF1ZXJ5LmNvbnRhaW5zKGRvYyxub2RlKSl7aWYobm9kZS5zcmMpe2pRdWVyeS5fZXZhbFVybChub2RlLnNyYyl9ZWxzZXtqUXVlcnkuZ2xvYmFsRXZhbCgobm9kZS50ZXh0fHxub2RlLnRleHRDb250ZW50fHxub2RlLmlubmVySFRNTHx8IiIpLnJlcGxhY2UocmNsZWFuU2NyaXB0LCIiKSl9fX19ZnJhZ21lbnQ9Zmlyc3Q9bnVsbH19cmV0dXJuIHRoaXN9fSk7ZnVuY3Rpb24gbWFuaXB1bGF0aW9uVGFyZ2V0KGVsZW0sY29udGVudCl7cmV0dXJuIGpRdWVyeS5ub2RlTmFtZShlbGVtLCJ0YWJsZSIpJiZqUXVlcnkubm9kZU5hbWUoY29udGVudC5ub2RlVHlwZT09PTE/Y29udGVudDpjb250ZW50LmZpcnN0Q2hpbGQsInRyIik/ZWxlbS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKVswXXx8ZWxlbS5hcHBlbmRDaGlsZChlbGVtLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSk6ZWxlbX1mdW5jdGlvbiBkaXNhYmxlU2NyaXB0KGVsZW0pe2VsZW0udHlwZT0oalF1ZXJ5LmZpbmQuYXR0cihlbGVtLCJ0eXBlIikhPT1udWxsKSsiLyIrZWxlbS50eXBlO3JldHVybiBlbGVtfWZ1bmN0aW9uIHJlc3RvcmVTY3JpcHQoZWxlbSl7dmFyIG1hdGNoPXJzY3JpcHRUeXBlTWFza2VkLmV4ZWMoZWxlbS50eXBlKTtpZihtYXRjaCl7ZWxlbS50eXBlPW1hdGNoWzFdfWVsc2V7ZWxlbS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKX1yZXR1cm4gZWxlbX1mdW5jdGlvbiBzZXRHbG9iYWxFdmFsKGVsZW1zLHJlZkVsZW1lbnRzKXt2YXIgZWxlbSxpPTA7Zm9yKDsoZWxlbT1lbGVtc1tpXSkhPW51bGw7aSsrKXtqUXVlcnkuX2RhdGEoZWxlbSwiZ2xvYmFsRXZhbCIsIXJlZkVsZW1lbnRzfHxqUXVlcnkuX2RhdGEocmVmRWxlbWVudHNbaV0sImdsb2JhbEV2YWwiKSl9fWZ1bmN0aW9uIGNsb25lQ29weUV2ZW50KHNyYyxkZXN0KXtpZihkZXN0Lm5vZGVUeXBlIT09MXx8IWpRdWVyeS5oYXNEYXRhKHNyYykpe3JldHVybn12YXIgdHlwZSxpLGwsb2xkRGF0YT1qUXVlcnkuX2RhdGEoc3JjKSxjdXJEYXRhPWpRdWVyeS5fZGF0YShkZXN0LG9sZERhdGEpLGV2ZW50cz1vbGREYXRhLmV2ZW50cztpZihldmVudHMpe2RlbGV0ZSBjdXJEYXRhLmhhbmRsZTtjdXJEYXRhLmV2ZW50cz17fTtmb3IodHlwZSBpbiBldmVudHMpe2ZvcihpPTAsbD1ldmVudHNbdHlwZV0ubGVuZ3RoO2k8bDtpKyspe2pRdWVyeS5ldmVudC5hZGQoZGVzdCx0eXBlLGV2ZW50c1t0eXBlXVtpXSl9fX1pZihjdXJEYXRhLmRhdGEpe2N1ckRhdGEuZGF0YT1qUXVlcnkuZXh0ZW5kKHt9LGN1ckRhdGEuZGF0YSl9fWZ1bmN0aW9uIGZpeENsb25lTm9kZUlzc3VlcyhzcmMsZGVzdCl7dmFyIG5vZGVOYW1lLGUsZGF0YTtpZihkZXN0Lm5vZGVUeXBlIT09MSl7cmV0dXJufW5vZGVOYW1lPWRlc3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZighalF1ZXJ5LnN1cHBvcnQubm9DbG9uZUV2ZW50JiZkZXN0W2pRdWVyeS5leHBhbmRvXSl7ZGF0YT1qUXVlcnkuX2RhdGEoZGVzdCk7Zm9yKGUgaW4gZGF0YS5ldmVudHMpe2pRdWVyeS5yZW1vdmVFdmVudChkZXN0LGUsZGF0YS5oYW5kbGUpfWRlc3QucmVtb3ZlQXR0cmlidXRlKGpRdWVyeS5leHBhbmRvKX1pZihub2RlTmFtZT09PSJzY3JpcHQiJiZkZXN0LnRleHQhPT1zcmMudGV4dCl7ZGlzYWJsZVNjcmlwdChkZXN0KS50ZXh0PXNyYy50ZXh0O3Jlc3RvcmVTY3JpcHQoZGVzdCl9ZWxzZXtpZihub2RlTmFtZT09PSJvYmplY3QiKXtpZihkZXN0LnBhcmVudE5vZGUpe2Rlc3Qub3V0ZXJIVE1MPXNyYy5vdXRlckhUTUx9aWYoalF1ZXJ5LnN1cHBvcnQuaHRtbDVDbG9uZSYmKHNyYy5pbm5lckhUTUwmJiFqUXVlcnkudHJpbShkZXN0LmlubmVySFRNTCkpKXtkZXN0LmlubmVySFRNTD1zcmMuaW5uZXJIVE1MfX1lbHNle2lmKG5vZGVOYW1lPT09ImlucHV0IiYmbWFuaXB1bGF0aW9uX3JjaGVja2FibGVUeXBlLnRlc3Qoc3JjLnR5cGUpKXtkZXN0LmRlZmF1bHRDaGVja2VkPWRlc3QuY2hlY2tlZD1zcmMuY2hlY2tlZDtpZihkZXN0LnZhbHVlIT09c3JjLnZhbHVlKXtkZXN0LnZhbHVlPXNyYy52YWx1ZX19ZWxzZXtpZihub2RlTmFtZT09PSJvcHRpb24iKXtkZXN0LmRlZmF1bHRTZWxlY3RlZD1kZXN0LnNlbGVjdGVkPXNyYy5kZWZhdWx0U2VsZWN0ZWR9ZWxzZXtpZihub2RlTmFtZT09PSJpbnB1dCJ8fG5vZGVOYW1lPT09InRleHRhcmVhIil7ZGVzdC5kZWZhdWx0VmFsdWU9c3JjLmRlZmF1bHRWYWx1ZX19fX19fWpRdWVyeS5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24obmFtZSxvcmlnaW5hbCl7alF1ZXJ5LmZuW25hbWVdPWZ1bmN0aW9uKHNlbGVjdG9yKXt2YXIgZWxlbXMsaT0wLHJldD1bXSxpbnNlcnQ9alF1ZXJ5KHNlbGVjdG9yKSxsYXN0PWluc2VydC5sZW5ndGgtMTtmb3IoO2k8PWxhc3Q7aSsrKXtlbGVtcz1pPT09bGFzdD90aGlzOnRoaXMuY2xvbmUodHJ1ZSk7alF1ZXJ5KGluc2VydFtpXSlbb3JpZ2luYWxdKGVsZW1zKTtjb3JlX3B1c2guYXBwbHkocmV0LGVsZW1zLmdldCgpKX1yZXR1cm4gdGhpcy5wdXNoU3RhY2socmV0KX19KTtmdW5jdGlvbiBnZXRBbGwoY29udGV4dCx0YWcpe3ZhciBlbGVtcyxlbGVtLGk9MCxmb3VuZD10eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSE9PWNvcmVfc3RydW5kZWZpbmVkP2NvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnfHwiKiIpOnR5cGVvZiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwhPT1jb3JlX3N0cnVuZGVmaW5lZD9jb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwodGFnfHwiKiIpOnVuZGVmaW5lZDtpZighZm91bmQpe2Zvcihmb3VuZD1bXSxlbGVtcz1jb250ZXh0LmNoaWxkTm9kZXN8fGNvbnRleHQ7KGVsZW09ZWxlbXNbaV0pIT1udWxsO2krKyl7aWYoIXRhZ3x8alF1ZXJ5Lm5vZGVOYW1lKGVsZW0sdGFnKSl7Zm91bmQucHVzaChlbGVtKX1lbHNle2pRdWVyeS5tZXJnZShmb3VuZCxnZXRBbGwoZWxlbSx0YWcpKX19fXJldHVybiB0YWc9PT11bmRlZmluZWR8fHRhZyYmalF1ZXJ5Lm5vZGVOYW1lKGNvbnRleHQsdGFnKT9qUXVlcnkubWVyZ2UoW2NvbnRleHRdLGZvdW5kKTpmb3VuZH1mdW5jdGlvbiBmaXhEZWZhdWx0Q2hlY2tlZChlbGVtKXtpZihtYW5pcHVsYXRpb25fcmNoZWNrYWJsZVR5cGUudGVzdChlbGVtLnR5cGUpKXtlbGVtLmRlZmF1bHRDaGVja2VkPWVsZW0uY2hlY2tlZH19alF1ZXJ5LmV4dGVuZCh7Y2xvbmU6ZnVuY3Rpb24oZWxlbSxkYXRhQW5kRXZlbnRzLGRlZXBEYXRhQW5kRXZlbnRzKXt2YXIgZGVzdEVsZW1lbnRzLG5vZGUsY2xvbmUsaSxzcmNFbGVtZW50cyxpblBhZ2U9alF1ZXJ5LmNvbnRhaW5zKGVsZW0ub3duZXJEb2N1bWVudCxlbGVtKTtpZihqUXVlcnkuc3VwcG9ydC5odG1sNUNsb25lfHxqUXVlcnkuaXNYTUxEb2MoZWxlbSl8fCFybm9zaGltY2FjaGUudGVzdCgiPCIrZWxlbS5ub2RlTmFtZSsiPiIpKXtjbG9uZT1lbGVtLmNsb25lTm9kZSh0cnVlKX1lbHNle2ZyYWdtZW50RGl2LmlubmVySFRNTD1lbGVtLm91dGVySFRNTDtmcmFnbWVudERpdi5yZW1vdmVDaGlsZChjbG9uZT1mcmFnbWVudERpdi5maXJzdENoaWxkKX1pZigoIWpRdWVyeS5zdXBwb3J0Lm5vQ2xvbmVFdmVudHx8IWpRdWVyeS5zdXBwb3J0Lm5vQ2xvbmVDaGVja2VkKSYmKGVsZW0ubm9kZVR5cGU9PT0xfHxlbGVtLm5vZGVUeXBlPT09MTEpJiYhalF1ZXJ5LmlzWE1MRG9jKGVsZW0pKXtkZXN0RWxlbWVudHM9Z2V0QWxsKGNsb25lKTtzcmNFbGVtZW50cz1nZXRBbGwoZWxlbSk7Zm9yKGk9MDsobm9kZT1zcmNFbGVtZW50c1tpXSkhPW51bGw7KytpKXtpZihkZXN0RWxlbWVudHNbaV0pe2ZpeENsb25lTm9kZUlzc3Vlcyhub2RlLGRlc3RFbGVtZW50c1tpXSl9fX1pZihkYXRhQW5kRXZlbnRzKXtpZihkZWVwRGF0YUFuZEV2ZW50cyl7c3JjRWxlbWVudHM9c3JjRWxlbWVudHN8fGdldEFsbChlbGVtKTtkZXN0RWxlbWVudHM9ZGVzdEVsZW1lbnRzfHxnZXRBbGwoY2xvbmUpO2ZvcihpPTA7KG5vZGU9c3JjRWxlbWVudHNbaV0pIT1udWxsO2krKyl7Y2xvbmVDb3B5RXZlbnQobm9kZSxkZXN0RWxlbWVudHNbaV0pfX1lbHNle2Nsb25lQ29weUV2ZW50KGVsZW0sY2xvbmUpfX1kZXN0RWxlbWVudHM9Z2V0QWxsKGNsb25lLCJzY3JpcHQiKTtpZihkZXN0RWxlbWVudHMubGVuZ3RoPjApe3NldEdsb2JhbEV2YWwoZGVzdEVsZW1lbnRzLCFpblBhZ2UmJmdldEFsbChlbGVtLCJzY3JpcHQiKSl9ZGVzdEVsZW1lbnRzPXNyY0VsZW1lbnRzPW5vZGU9bnVsbDtyZXR1cm4gY2xvbmV9LGJ1aWxkRnJhZ21lbnQ6ZnVuY3Rpb24oZWxlbXMsY29udGV4dCxzY3JpcHRzLHNlbGVjdGlvbil7dmFyIGosZWxlbSxjb250YWlucyx0bXAsdGFnLHRib2R5LHdyYXAsbD1lbGVtcy5sZW5ndGgsc2FmZT1jcmVhdGVTYWZlRnJhZ21lbnQoY29udGV4dCksbm9kZXM9W10saT0wO2Zvcig7aTxsO2krKyl7ZWxlbT1lbGVtc1tpXTtpZihlbGVtfHxlbGVtPT09MCl7aWYoalF1ZXJ5LnR5cGUoZWxlbSk9PT0ib2JqZWN0Iil7alF1ZXJ5Lm1lcmdlKG5vZGVzLGVsZW0ubm9kZVR5cGU/W2VsZW1dOmVsZW0pfWVsc2V7aWYoIXJodG1sLnRlc3QoZWxlbSkpe25vZGVzLnB1c2goY29udGV4dC5jcmVhdGVUZXh0Tm9kZShlbGVtKSl9ZWxzZXt0bXA9dG1wfHxzYWZlLmFwcGVuZENoaWxkKGNvbnRleHQuY3JlYXRlRWxlbWVudCgiZGl2IikpO3RhZz0ocnRhZ05hbWUuZXhlYyhlbGVtKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKTt3cmFwPXdyYXBNYXBbdGFnXXx8d3JhcE1hcC5fZGVmYXVsdDt0bXAuaW5uZXJIVE1MPXdyYXBbMV0rZWxlbS5yZXBsYWNlKHJ4aHRtbFRhZywiPCQxPjwvJDI+Iikrd3JhcFsyXTtqPXdyYXBbMF07d2hpbGUoai0tKXt0bXA9dG1wLmxhc3RDaGlsZH1pZighalF1ZXJ5LnN1cHBvcnQubGVhZGluZ1doaXRlc3BhY2UmJnJsZWFkaW5nV2hpdGVzcGFjZS50ZXN0KGVsZW0pKXtub2Rlcy5wdXNoKGNvbnRleHQuY3JlYXRlVGV4dE5vZGUocmxlYWRpbmdXaGl0ZXNwYWNlLmV4ZWMoZWxlbSlbMF0pKX1pZighalF1ZXJ5LnN1cHBvcnQudGJvZHkpe2VsZW09dGFnPT09InRhYmxlIiYmIXJ0Ym9keS50ZXN0KGVsZW0pP3RtcC5maXJzdENoaWxkOndyYXBbMV09PT0iPHRhYmxlPiImJiFydGJvZHkudGVzdChlbGVtKT90bXA6MDtqPWVsZW0mJmVsZW0uY2hpbGROb2Rlcy5sZW5ndGg7d2hpbGUoai0tKXtpZihqUXVlcnkubm9kZU5hbWUoKHRib2R5PWVsZW0uY2hpbGROb2Rlc1tqXSksInRib2R5IikmJiF0Ym9keS5jaGlsZE5vZGVzLmxlbmd0aCl7ZWxlbS5yZW1vdmVDaGlsZCh0Ym9keSl9fX1qUXVlcnkubWVyZ2Uobm9kZXMsdG1wLmNoaWxkTm9kZXMpO3RtcC50ZXh0Q29udGVudD0iIjt3aGlsZSh0bXAuZmlyc3RDaGlsZCl7dG1wLnJlbW92ZUNoaWxkKHRtcC5maXJzdENoaWxkKX10bXA9c2FmZS5sYXN0Q2hpbGR9fX19aWYodG1wKXtzYWZlLnJlbW92ZUNoaWxkKHRtcCl9aWYoIWpRdWVyeS5zdXBwb3J0LmFwcGVuZENoZWNrZWQpe2pRdWVyeS5ncmVwKGdldEFsbChub2RlcywiaW5wdXQiKSxmaXhEZWZhdWx0Q2hlY2tlZCl9aT0wO3doaWxlKChlbGVtPW5vZGVzW2krK10pKXtpZihzZWxlY3Rpb24mJmpRdWVyeS5pbkFycmF5KGVsZW0sc2VsZWN0aW9uKSE9PS0xKXtjb250aW51ZX1jb250YWlucz1qUXVlcnkuY29udGFpbnMoZWxlbS5vd25lckRvY3VtZW50LGVsZW0pO3RtcD1nZXRBbGwoc2FmZS5hcHBlbmRDaGlsZChlbGVtKSwic2NyaXB0Iik7aWYoY29udGFpbnMpe3NldEdsb2JhbEV2YWwodG1wKX1pZihzY3JpcHRzKXtqPTA7d2hpbGUoKGVsZW09dG1wW2orK10pKXtpZihyc2NyaXB0VHlwZS50ZXN0KGVsZW0udHlwZXx8IiIpKXtzY3JpcHRzLnB1c2goZWxlbSl9fX19dG1wPW51bGw7cmV0dXJuIHNhZmV9LGNsZWFuRGF0YTpmdW5jdGlvbihlbGVtcyxhY2NlcHREYXRhKXt2YXIgZWxlbSx0eXBlLGlkLGRhdGEsaT0wLGludGVybmFsS2V5PWpRdWVyeS5leHBhbmRvLGNhY2hlPWpRdWVyeS5jYWNoZSxkZWxldGVFeHBhbmRvPWpRdWVyeS5zdXBwb3J0LmRlbGV0ZUV4cGFuZG8sc3BlY2lhbD1qUXVlcnkuZXZlbnQuc3BlY2lhbDtmb3IoOyhlbGVtPWVsZW1zW2ldKSE9bnVsbDtpKyspe2lmKGFjY2VwdERhdGF8fGpRdWVyeS5hY2NlcHREYXRhKGVsZW0pKXtpZD1lbGVtW2ludGVybmFsS2V5XTtkYXRhPWlkJiZjYWNoZVtpZF07aWYoZGF0YSl7aWYoZGF0YS5ldmVudHMpe2Zvcih0eXBlIGluIGRhdGEuZXZlbnRzKXtpZihzcGVjaWFsW3R5cGVdKXtqUXVlcnkuZXZlbnQucmVtb3ZlKGVsZW0sdHlwZSl9ZWxzZXtqUXVlcnkucmVtb3ZlRXZlbnQoZWxlbSx0eXBlLGRhdGEuaGFuZGxlKX19fWlmKGNhY2hlW2lkXSl7ZGVsZXRlIGNhY2hlW2lkXTtpZihkZWxldGVFeHBhbmRvKXtkZWxldGUgZWxlbVtpbnRlcm5hbEtleV19ZWxzZXtpZih0eXBlb2YgZWxlbS5yZW1vdmVBdHRyaWJ1dGUhPT1jb3JlX3N0cnVuZGVmaW5lZCl7ZWxlbS5yZW1vdmVBdHRyaWJ1dGUoaW50ZXJuYWxLZXkpfWVsc2V7ZWxlbVtpbnRlcm5hbEtleV09bnVsbH19Y29yZV9kZWxldGVkSWRzLnB1c2goaWQpfX19fX0sX2V2YWxVcmw6ZnVuY3Rpb24odXJsKXtyZXR1cm4galF1ZXJ5LmFqYXgoe3VybDp1cmwsdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0Iixhc3luYzpmYWxzZSxnbG9iYWw6ZmFsc2UsInRocm93cyI6dHJ1ZX0pfX0pO2pRdWVyeS5mbi5leHRlbmQoe3dyYXBBbGw6ZnVuY3Rpb24oaHRtbCl7aWYoalF1ZXJ5LmlzRnVuY3Rpb24oaHRtbCkpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaSl7alF1ZXJ5KHRoaXMpLndyYXBBbGwoaHRtbC5jYWxsKHRoaXMsaSkpfSl9aWYodGhpc1swXSl7dmFyIHdyYXA9alF1ZXJ5KGh0bWwsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSh0cnVlKTtpZih0aGlzWzBdLnBhcmVudE5vZGUpe3dyYXAuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pfXdyYXAubWFwKGZ1bmN0aW9uKCl7dmFyIGVsZW09dGhpczt3aGlsZShlbGVtLmZpcnN0Q2hpbGQmJmVsZW0uZmlyc3RDaGlsZC5ub2RlVHlwZT09PTEpe2VsZW09ZWxlbS5maXJzdENoaWxkfXJldHVybiBlbGVtfSkuYXBwZW5kKHRoaXMpfXJldHVybiB0aGlzfSx3cmFwSW5uZXI6ZnVuY3Rpb24oaHRtbCl7aWYoalF1ZXJ5LmlzRnVuY3Rpb24oaHRtbCkpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaSl7alF1ZXJ5KHRoaXMpLndyYXBJbm5lcihodG1sLmNhbGwodGhpcyxpKSl9KX1yZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHNlbGY9alF1ZXJ5KHRoaXMpLGNvbnRlbnRzPXNlbGYuY29udGVudHMoKTtpZihjb250ZW50cy5sZW5ndGgpe2NvbnRlbnRzLndyYXBBbGwoaHRtbCl9ZWxzZXtzZWxmLmFwcGVuZChodG1sKX19KX0sd3JhcDpmdW5jdGlvbihodG1sKXt2YXIgaXNGdW5jdGlvbj1qUXVlcnkuaXNGdW5jdGlvbihodG1sKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGkpe2pRdWVyeSh0aGlzKS53cmFwQWxsKGlzRnVuY3Rpb24/aHRtbC5jYWxsKHRoaXMsaSk6aHRtbCl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe2lmKCFqUXVlcnkubm9kZU5hbWUodGhpcywiYm9keSIpKXtqUXVlcnkodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX19KS5lbmQoKX19KTt2YXIgaWZyYW1lLGdldFN0eWxlcyxjdXJDU1MscmFscGhhPS9hbHBoYVwoW14pXSpcKS9pLHJvcGFjaXR5PS9vcGFjaXR5XHMqPVxzKihbXildKikvLHJwb3NpdGlvbj0vXih0b3B8cmlnaHR8Ym90dG9tfGxlZnQpJC8scmRpc3BsYXlzd2FwPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxybWFyZ2luPS9ebWFyZ2luLyxybnVtc3BsaXQ9bmV3IFJlZ0V4cCgiXigiK2NvcmVfcG51bSsiKSguKikkIiwiaSIpLHJudW1ub25weD1uZXcgUmVnRXhwKCJeKCIrY29yZV9wbnVtKyIpKD8hcHgpW2EteiVdKyQiLCJpIikscnJlbE51bT1uZXcgUmVnRXhwKCJeKFsrLV0pPSgiK2NvcmVfcG51bSsiKSIsImkiKSxlbGVtZGlzcGxheT17Qk9EWToiYmxvY2sifSxjc3NTaG93PXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxjc3NOb3JtYWxUcmFuc2Zvcm09e2xldHRlclNwYWNpbmc6MCxmb250V2VpZ2h0OjQwMH0sY3NzRXhwYW5kPVsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0sY3NzUHJlZml4ZXM9WyJXZWJraXQiLCJPIiwiTW96IiwibXMiXTtmdW5jdGlvbiB2ZW5kb3JQcm9wTmFtZShzdHlsZSxuYW1lKXtpZihuYW1lIGluIHN0eWxlKXtyZXR1cm4gbmFtZX12YXIgY2FwTmFtZT1uYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK25hbWUuc2xpY2UoMSksb3JpZ05hbWU9bmFtZSxpPWNzc1ByZWZpeGVzLmxlbmd0aDt3aGlsZShpLS0pe25hbWU9Y3NzUHJlZml4ZXNbaV0rY2FwTmFtZTtpZihuYW1lIGluIHN0eWxlKXtyZXR1cm4gbmFtZX19cmV0dXJuIG9yaWdOYW1lfWZ1bmN0aW9uIGlzSGlkZGVuKGVsZW0sZWwpe2VsZW09ZWx8fGVsZW07cmV0dXJuIGpRdWVyeS5jc3MoZWxlbSwiZGlzcGxheSIpPT09Im5vbmUifHwhalF1ZXJ5LmNvbnRhaW5zKGVsZW0ub3duZXJEb2N1bWVudCxlbGVtKX1mdW5jdGlvbiBzaG93SGlkZShlbGVtZW50cyxzaG93KXt2YXIgZGlzcGxheSxlbGVtLGhpZGRlbix2YWx1ZXM9W10saW5kZXg9MCxsZW5ndGg9ZWxlbWVudHMubGVuZ3RoO2Zvcig7aW5kZXg8bGVuZ3RoO2luZGV4Kyspe2VsZW09ZWxlbWVudHNbaW5kZXhdO2lmKCFlbGVtLnN0eWxlKXtjb250aW51ZX12YWx1ZXNbaW5kZXhdPWpRdWVyeS5fZGF0YShlbGVtLCJvbGRkaXNwbGF5Iik7ZGlzcGxheT1lbGVtLnN0eWxlLmRpc3BsYXk7aWYoc2hvdyl7aWYoIXZhbHVlc1tpbmRleF0mJmRpc3BsYXk9PT0ibm9uZSIpe2VsZW0uc3R5bGUuZGlzcGxheT0iIn1pZihlbGVtLnN0eWxlLmRpc3BsYXk9PT0iIiYmaXNIaWRkZW4oZWxlbSkpe3ZhbHVlc1tpbmRleF09alF1ZXJ5Ll9kYXRhKGVsZW0sIm9sZGRpc3BsYXkiLGNzc19kZWZhdWx0RGlzcGxheShlbGVtLm5vZGVOYW1lKSl9fWVsc2V7aWYoIXZhbHVlc1tpbmRleF0pe2hpZGRlbj1pc0hpZGRlbihlbGVtKTtpZihkaXNwbGF5JiZkaXNwbGF5IT09Im5vbmUifHwhaGlkZGVuKXtqUXVlcnkuX2RhdGEoZWxlbSwib2xkZGlzcGxheSIsaGlkZGVuP2Rpc3BsYXk6alF1ZXJ5LmNzcyhlbGVtLCJkaXNwbGF5IikpfX19fWZvcihpbmRleD0wO2luZGV4PGxlbmd0aDtpbmRleCsrKXtlbGVtPWVsZW1lbnRzW2luZGV4XTtpZighZWxlbS5zdHlsZSl7Y29udGludWV9aWYoIXNob3d8fGVsZW0uc3R5bGUuZGlzcGxheT09PSJub25lInx8ZWxlbS5zdHlsZS5kaXNwbGF5PT09IiIpe2VsZW0uc3R5bGUuZGlzcGxheT1zaG93P3ZhbHVlc1tpbmRleF18fCIiOiJub25lIn19cmV0dXJuIGVsZW1lbnRzfWpRdWVyeS5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihuYW1lLHZhbHVlKXtyZXR1cm4galF1ZXJ5LmFjY2Vzcyh0aGlzLGZ1bmN0aW9uKGVsZW0sbmFtZSx2YWx1ZSl7dmFyIGxlbixzdHlsZXMsbWFwPXt9LGk9MDtpZihqUXVlcnkuaXNBcnJheShuYW1lKSl7c3R5bGVzPWdldFN0eWxlcyhlbGVtKTtsZW49bmFtZS5sZW5ndGg7Zm9yKDtpPGxlbjtpKyspe21hcFtuYW1lW2ldXT1qUXVlcnkuY3NzKGVsZW0sbmFtZVtpXSxmYWxzZSxzdHlsZXMpfXJldHVybiBtYXB9cmV0dXJuIHZhbHVlIT09dW5kZWZpbmVkP2pRdWVyeS5zdHlsZShlbGVtLG5hbWUsdmFsdWUpOmpRdWVyeS5jc3MoZWxlbSxuYW1lKX0sbmFtZSx2YWx1ZSxhcmd1bWVudHMubGVuZ3RoPjEpfSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIHNob3dIaWRlKHRoaXMsdHJ1ZSl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gc2hvd0hpZGUodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihzdGF0ZSl7aWYodHlwZW9mIHN0YXRlPT09ImJvb2xlYW4iKXtyZXR1cm4gc3RhdGU/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCl9cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2lmKGlzSGlkZGVuKHRoaXMpKXtqUXVlcnkodGhpcykuc2hvdygpfWVsc2V7alF1ZXJ5KHRoaXMpLmhpZGUoKX19KX19KTtqUXVlcnkuZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKGVsZW0sY29tcHV0ZWQpe2lmKGNvbXB1dGVkKXt2YXIgcmV0PWN1ckNTUyhlbGVtLCJvcGFjaXR5Iik7cmV0dXJuIHJldD09PSIiPyIxIjpyZXR9fX19LGNzc051bWJlcjp7Y29sdW1uQ291bnQ6dHJ1ZSxmaWxsT3BhY2l0eTp0cnVlLGZvbnRXZWlnaHQ6dHJ1ZSxsaW5lSGVpZ2h0OnRydWUsb3BhY2l0eTp0cnVlLG9yZGVyOnRydWUsb3JwaGFuczp0cnVlLHdpZG93czp0cnVlLHpJbmRleDp0cnVlLHpvb206dHJ1ZX0sY3NzUHJvcHM6eyJmbG9hdCI6alF1ZXJ5LnN1cHBvcnQuY3NzRmxvYXQ/ImNzc0Zsb2F0Ijoic3R5bGVGbG9hdCJ9LHN0eWxlOmZ1bmN0aW9uKGVsZW0sbmFtZSx2YWx1ZSxleHRyYSl7aWYoIWVsZW18fGVsZW0ubm9kZVR5cGU9PT0zfHxlbGVtLm5vZGVUeXBlPT09OHx8IWVsZW0uc3R5bGUpe3JldHVybn12YXIgcmV0LHR5cGUsaG9va3Msb3JpZ05hbWU9alF1ZXJ5LmNhbWVsQ2FzZShuYW1lKSxzdHlsZT1lbGVtLnN0eWxlO25hbWU9alF1ZXJ5LmNzc1Byb3BzW29yaWdOYW1lXXx8KGpRdWVyeS5jc3NQcm9wc1tvcmlnTmFtZV09dmVuZG9yUHJvcE5hbWUoc3R5bGUsb3JpZ05hbWUpKTtob29rcz1qUXVlcnkuY3NzSG9va3NbbmFtZV18fGpRdWVyeS5jc3NIb29rc1tvcmlnTmFtZV07aWYodmFsdWUhPT11bmRlZmluZWQpe3R5cGU9dHlwZW9mIHZhbHVlO2lmKHR5cGU9PT0ic3RyaW5nIiYmKHJldD1ycmVsTnVtLmV4ZWModmFsdWUpKSl7dmFsdWU9KHJldFsxXSsxKSpyZXRbMl0rcGFyc2VGbG9hdChqUXVlcnkuY3NzKGVsZW0sbmFtZSkpO3R5cGU9Im51bWJlciJ9aWYodmFsdWU9PW51bGx8fHR5cGU9PT0ibnVtYmVyIiYmaXNOYU4odmFsdWUpKXtyZXR1cm59aWYodHlwZT09PSJudW1iZXIiJiYhalF1ZXJ5LmNzc051bWJlcltvcmlnTmFtZV0pe3ZhbHVlKz0icHgifWlmKCFqUXVlcnkuc3VwcG9ydC5jbGVhckNsb25lU3R5bGUmJnZhbHVlPT09IiImJm5hbWUuaW5kZXhPZigiYmFja2dyb3VuZCIpPT09MCl7c3R5bGVbbmFtZV09ImluaGVyaXQifWlmKCFob29rc3x8ISgic2V0IiBpbiBob29rcyl8fCh2YWx1ZT1ob29rcy5zZXQoZWxlbSx2YWx1ZSxleHRyYSkpIT09dW5kZWZpbmVkKXt0cnl7c3R5bGVbbmFtZV09dmFsdWV9Y2F0Y2goZSl7fX19ZWxzZXtpZihob29rcyYmImdldCIgaW4gaG9va3MmJihyZXQ9aG9va3MuZ2V0KGVsZW0sZmFsc2UsZXh0cmEpKSE9PXVuZGVmaW5lZCl7cmV0dXJuIHJldH1yZXR1cm4gc3R5bGVbbmFtZV19fSxjc3M6ZnVuY3Rpb24oZWxlbSxuYW1lLGV4dHJhLHN0eWxlcyl7dmFyIG51bSx2YWwsaG9va3Msb3JpZ05hbWU9alF1ZXJ5LmNhbWVsQ2FzZShuYW1lKTtuYW1lPWpRdWVyeS5jc3NQcm9wc1tvcmlnTmFtZV18fChqUXVlcnkuY3NzUHJvcHNbb3JpZ05hbWVdPXZlbmRvclByb3BOYW1lKGVsZW0uc3R5bGUsb3JpZ05hbWUpKTtob29rcz1qUXVlcnkuY3NzSG9va3NbbmFtZV18fGpRdWVyeS5jc3NIb29rc1tvcmlnTmFtZV07aWYoaG9va3MmJiJnZXQiIGluIGhvb2tzKXt2YWw9aG9va3MuZ2V0KGVsZW0sdHJ1ZSxleHRyYSl9aWYodmFsPT09dW5kZWZpbmVkKXt2YWw9Y3VyQ1NTKGVsZW0sbmFtZSxzdHlsZXMpfWlmKHZhbD09PSJub3JtYWwiJiZuYW1lIGluIGNzc05vcm1hbFRyYW5zZm9ybSl7dmFsPWNzc05vcm1hbFRyYW5zZm9ybVtuYW1lXX1pZihleHRyYT09PSIifHxleHRyYSl7bnVtPXBhcnNlRmxvYXQodmFsKTtyZXR1cm4gZXh0cmE9PT10cnVlfHxqUXVlcnkuaXNOdW1lcmljKG51bSk/bnVtfHwwOnZhbH1yZXR1cm4gdmFsfX0pO2lmKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKXtnZXRTdHlsZXM9ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW0sbnVsbCl9O2N1ckNTUz1mdW5jdGlvbihlbGVtLG5hbWUsX2NvbXB1dGVkKXt2YXIgd2lkdGgsbWluV2lkdGgsbWF4V2lkdGgsY29tcHV0ZWQ9X2NvbXB1dGVkfHxnZXRTdHlsZXMoZWxlbSkscmV0PWNvbXB1dGVkP2NvbXB1dGVkLmdldFByb3BlcnR5VmFsdWUobmFtZSl8fGNvbXB1dGVkW25hbWVdOnVuZGVmaW5lZCxzdHlsZT1lbGVtLnN0eWxlO2lmKGNvbXB1dGVkKXtpZihyZXQ9PT0iIiYmIWpRdWVyeS5jb250YWlucyhlbGVtLm93bmVyRG9jdW1lbnQsZWxlbSkpe3JldD1qUXVlcnkuc3R5bGUoZWxlbSxuYW1lKX1pZihybnVtbm9ucHgudGVzdChyZXQpJiZybWFyZ2luLnRlc3QobmFtZSkpe3dpZHRoPXN0eWxlLndpZHRoO21pbldpZHRoPXN0eWxlLm1pbldpZHRoO21heFdpZHRoPXN0eWxlLm1heFdpZHRoO3N0eWxlLm1pbldpZHRoPXN0eWxlLm1heFdpZHRoPXN0eWxlLndpZHRoPXJldDtyZXQ9Y29tcHV0ZWQud2lkdGg7c3R5bGUud2lkdGg9d2lkdGg7c3R5bGUubWluV2lkdGg9bWluV2lkdGg7c3R5bGUubWF4V2lkdGg9bWF4V2lkdGh9fXJldHVybiByZXR9fWVsc2V7aWYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmN1cnJlbnRTdHlsZSl7Z2V0U3R5bGVzPWZ1bmN0aW9uKGVsZW0pe3JldHVybiBlbGVtLmN1cnJlbnRTdHlsZX07Y3VyQ1NTPWZ1bmN0aW9uKGVsZW0sbmFtZSxfY29tcHV0ZWQpe3ZhciBsZWZ0LHJzLHJzTGVmdCxjb21wdXRlZD1fY29tcHV0ZWR8fGdldFN0eWxlcyhlbGVtKSxyZXQ9Y29tcHV0ZWQ/Y29tcHV0ZWRbbmFtZV06dW5kZWZpbmVkLHN0eWxlPWVsZW0uc3R5bGU7aWYocmV0PT1udWxsJiZzdHlsZSYmc3R5bGVbbmFtZV0pe3JldD1zdHlsZVtuYW1lXX1pZihybnVtbm9ucHgudGVzdChyZXQpJiYhcnBvc2l0aW9uLnRlc3QobmFtZSkpe2xlZnQ9c3R5bGUubGVmdDtycz1lbGVtLnJ1bnRpbWVTdHlsZTtyc0xlZnQ9cnMmJnJzLmxlZnQ7aWYocnNMZWZ0KXtycy5sZWZ0PWVsZW0uY3VycmVudFN0eWxlLmxlZnR9c3R5bGUubGVmdD1uYW1lPT09ImZvbnRTaXplIj8iMWVtIjpyZXQ7cmV0PXN0eWxlLnBpeGVsTGVmdCsicHgiO3N0eWxlLmxlZnQ9bGVmdDtpZihyc0xlZnQpe3JzLmxlZnQ9cnNMZWZ0fX1yZXR1cm4gcmV0PT09IiI/ImF1dG8iOnJldH19fWZ1bmN0aW9uIHNldFBvc2l0aXZlTnVtYmVyKGVsZW0sdmFsdWUsc3VidHJhY3Qpe3ZhciBtYXRjaGVzPXJudW1zcGxpdC5leGVjKHZhbHVlKTtyZXR1cm4gbWF0Y2hlcz9NYXRoLm1heCgwLG1hdGNoZXNbMV0tKHN1YnRyYWN0fHwwKSkrKG1hdGNoZXNbMl18fCJweCIpOnZhbHVlfWZ1bmN0aW9uIGF1Z21lbnRXaWR0aE9ySGVpZ2h0KGVsZW0sbmFtZSxleHRyYSxpc0JvcmRlckJveCxzdHlsZXMpe3ZhciBpPWV4dHJhPT09KGlzQm9yZGVyQm94PyJib3JkZXIiOiJjb250ZW50Iik/NDpuYW1lPT09IndpZHRoIj8xOjAsdmFsPTA7Zm9yKDtpPDQ7aSs9Mil7aWYoZXh0cmE9PT0ibWFyZ2luIil7dmFsKz1qUXVlcnkuY3NzKGVsZW0sZXh0cmErY3NzRXhwYW5kW2ldLHRydWUsc3R5bGVzKX1pZihpc0JvcmRlckJveCl7aWYoZXh0cmE9PT0iY29udGVudCIpe3ZhbC09alF1ZXJ5LmNzcyhlbGVtLCJwYWRkaW5nIitjc3NFeHBhbmRbaV0sdHJ1ZSxzdHlsZXMpfWlmKGV4dHJhIT09Im1hcmdpbiIpe3ZhbC09alF1ZXJ5LmNzcyhlbGVtLCJib3JkZXIiK2Nzc0V4cGFuZFtpXSsiV2lkdGgiLHRydWUsc3R5bGVzKX19ZWxzZXt2YWwrPWpRdWVyeS5jc3MoZWxlbSwicGFkZGluZyIrY3NzRXhwYW5kW2ldLHRydWUsc3R5bGVzKTtpZihleHRyYSE9PSJwYWRkaW5nIil7dmFsKz1qUXVlcnkuY3NzKGVsZW0sImJvcmRlciIrY3NzRXhwYW5kW2ldKyJXaWR0aCIsdHJ1ZSxzdHlsZXMpfX19cmV0dXJuIHZhbH1mdW5jdGlvbiBnZXRXaWR0aE9ySGVpZ2h0KGVsZW0sbmFtZSxleHRyYSl7dmFyIHZhbHVlSXNCb3JkZXJCb3g9dHJ1ZSx2YWw9bmFtZT09PSJ3aWR0aCI/ZWxlbS5vZmZzZXRXaWR0aDplbGVtLm9mZnNldEhlaWdodCxzdHlsZXM9Z2V0U3R5bGVzKGVsZW0pLGlzQm9yZGVyQm94PWpRdWVyeS5zdXBwb3J0LmJveFNpemluZyYmalF1ZXJ5LmNzcyhlbGVtLCJib3hTaXppbmciLGZhbHNlLHN0eWxlcyk9PT0iYm9yZGVyLWJveCI7aWYodmFsPD0wfHx2YWw9PW51bGwpe3ZhbD1jdXJDU1MoZWxlbSxuYW1lLHN0eWxlcyk7aWYodmFsPDB8fHZhbD09bnVsbCl7dmFsPWVsZW0uc3R5bGVbbmFtZV19aWYocm51bW5vbnB4LnRlc3QodmFsKSl7cmV0dXJuIHZhbH12YWx1ZUlzQm9yZGVyQm94PWlzQm9yZGVyQm94JiYoalF1ZXJ5LnN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGV8fHZhbD09PWVsZW0uc3R5bGVbbmFtZV0pO3ZhbD1wYXJzZUZsb2F0KHZhbCl8fDB9cmV0dXJuKHZhbCthdWdtZW50V2lkdGhPckhlaWdodChlbGVtLG5hbWUsZXh0cmF8fChpc0JvcmRlckJveD8iYm9yZGVyIjoiY29udGVudCIpLHZhbHVlSXNCb3JkZXJCb3gsc3R5bGVzKSkrInB4In1mdW5jdGlvbiBjc3NfZGVmYXVsdERpc3BsYXkobm9kZU5hbWUpe3ZhciBkb2M9ZG9jdW1lbnQsZGlzcGxheT1lbGVtZGlzcGxheVtub2RlTmFtZV07aWYoIWRpc3BsYXkpe2Rpc3BsYXk9YWN0dWFsRGlzcGxheShub2RlTmFtZSxkb2MpO2lmKGRpc3BsYXk9PT0ibm9uZSJ8fCFkaXNwbGF5KXtpZnJhbWU9KGlmcmFtZXx8alF1ZXJ5KCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+IikuY3NzKCJjc3NUZXh0IiwiZGlzcGxheTpibG9jayAhaW1wb3J0YW50IikpLmFwcGVuZFRvKGRvYy5kb2N1bWVudEVsZW1lbnQpO2RvYz0oaWZyYW1lWzBdLmNvbnRlbnRXaW5kb3d8fGlmcmFtZVswXS5jb250ZW50RG9jdW1lbnQpLmRvY3VtZW50O2RvYy53cml0ZSgiPCFkb2N0eXBlIGh0bWw+PGh0bWw+PGJvZHk+Iik7ZG9jLmNsb3NlKCk7ZGlzcGxheT1hY3R1YWxEaXNwbGF5KG5vZGVOYW1lLGRvYyk7aWZyYW1lLmRldGFjaCgpfWVsZW1kaXNwbGF5W25vZGVOYW1lXT1kaXNwbGF5fXJldHVybiBkaXNwbGF5fWZ1bmN0aW9uIGFjdHVhbERpc3BsYXkobmFtZSxkb2Mpe3ZhciBlbGVtPWpRdWVyeShkb2MuY3JlYXRlRWxlbWVudChuYW1lKSkuYXBwZW5kVG8oZG9jLmJvZHkpLGRpc3BsYXk9alF1ZXJ5LmNzcyhlbGVtWzBdLCJkaXNwbGF5Iik7ZWxlbS5yZW1vdmUoKTtyZXR1cm4gZGlzcGxheX1qUXVlcnkuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oaSxuYW1lKXtqUXVlcnkuY3NzSG9va3NbbmFtZV09e2dldDpmdW5jdGlvbihlbGVtLGNvbXB1dGVkLGV4dHJhKXtpZihjb21wdXRlZCl7cmV0dXJuIGVsZW0ub2Zmc2V0V2lkdGg9PT0wJiZyZGlzcGxheXN3YXAudGVzdChqUXVlcnkuY3NzKGVsZW0sImRpc3BsYXkiKSk/alF1ZXJ5LnN3YXAoZWxlbSxjc3NTaG93LGZ1bmN0aW9uKCl7cmV0dXJuIGdldFdpZHRoT3JIZWlnaHQoZWxlbSxuYW1lLGV4dHJhKX0pOmdldFdpZHRoT3JIZWlnaHQoZWxlbSxuYW1lLGV4dHJhKX19LHNldDpmdW5jdGlvbihlbGVtLHZhbHVlLGV4dHJhKXt2YXIgc3R5bGVzPWV4dHJhJiZnZXRTdHlsZXMoZWxlbSk7cmV0dXJuIHNldFBvc2l0aXZlTnVtYmVyKGVsZW0sdmFsdWUsZXh0cmE/YXVnbWVudFdpZHRoT3JIZWlnaHQoZWxlbSxuYW1lLGV4dHJhLGpRdWVyeS5zdXBwb3J0LmJveFNpemluZyYmalF1ZXJ5LmNzcyhlbGVtLCJib3hTaXppbmciLGZhbHNlLHN0eWxlcyk9PT0iYm9yZGVyLWJveCIsc3R5bGVzKTowKX19fSk7aWYoIWpRdWVyeS5zdXBwb3J0Lm9wYWNpdHkpe2pRdWVyeS5jc3NIb29rcy5vcGFjaXR5PXtnZXQ6ZnVuY3Rpb24oZWxlbSxjb21wdXRlZCl7cmV0dXJuIHJvcGFjaXR5LnRlc3QoKGNvbXB1dGVkJiZlbGVtLmN1cnJlbnRTdHlsZT9lbGVtLmN1cnJlbnRTdHlsZS5maWx0ZXI6ZWxlbS5zdHlsZS5maWx0ZXIpfHwiIik/KDAuMDEqcGFyc2VGbG9hdChSZWdFeHAuJDEpKSsiIjpjb21wdXRlZD8iMSI6IiJ9LHNldDpmdW5jdGlvbihlbGVtLHZhbHVlKXt2YXIgc3R5bGU9ZWxlbS5zdHlsZSxjdXJyZW50U3R5bGU9ZWxlbS5jdXJyZW50U3R5bGUsb3BhY2l0eT1qUXVlcnkuaXNOdW1lcmljKHZhbHVlKT8iYWxwaGEob3BhY2l0eT0iK3ZhbHVlKjEwMCsiKSI6IiIsZmlsdGVyPWN1cnJlbnRTdHlsZSYmY3VycmVudFN0eWxlLmZpbHRlcnx8c3R5bGUuZmlsdGVyfHwiIjtzdHlsZS56b29tPTE7aWYoKHZhbHVlPj0xfHx2YWx1ZT09PSIiKSYmalF1ZXJ5LnRyaW0oZmlsdGVyLnJlcGxhY2UocmFscGhhLCIiKSk9PT0iIiYmc3R5bGUucmVtb3ZlQXR0cmlidXRlKXtzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpO2lmKHZhbHVlPT09IiJ8fGN1cnJlbnRTdHlsZSYmIWN1cnJlbnRTdHlsZS5maWx0ZXIpe3JldHVybn19c3R5bGUuZmlsdGVyPXJhbHBoYS50ZXN0KGZpbHRlcik/ZmlsdGVyLnJlcGxhY2UocmFscGhhLG9wYWNpdHkpOmZpbHRlcisiICIrb3BhY2l0eX19fWpRdWVyeShmdW5jdGlvbigpe2lmKCFqUXVlcnkuc3VwcG9ydC5yZWxpYWJsZU1hcmdpblJpZ2h0KXtqUXVlcnkuY3NzSG9va3MubWFyZ2luUmlnaHQ9e2dldDpmdW5jdGlvbihlbGVtLGNvbXB1dGVkKXtpZihjb21wdXRlZCl7cmV0dXJuIGpRdWVyeS5zd2FwKGVsZW0se2Rpc3BsYXk6ImlubGluZS1ibG9jayJ9LGN1ckNTUyxbZWxlbSwibWFyZ2luUmlnaHQiXSl9fX19aWYoIWpRdWVyeS5zdXBwb3J0LnBpeGVsUG9zaXRpb24mJmpRdWVyeS5mbi5wb3NpdGlvbil7alF1ZXJ5LmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oaSxwcm9wKXtqUXVlcnkuY3NzSG9va3NbcHJvcF09e2dldDpmdW5jdGlvbihlbGVtLGNvbXB1dGVkKXtpZihjb21wdXRlZCl7Y29tcHV0ZWQ9Y3VyQ1NTKGVsZW0scHJvcCk7cmV0dXJuIHJudW1ub25weC50ZXN0KGNvbXB1dGVkKT9qUXVlcnkoZWxlbSkucG9zaXRpb24oKVtwcm9wXSsicHgiOmNvbXB1dGVkfX19fSl9fSk7aWYoalF1ZXJ5LmV4cHImJmpRdWVyeS5leHByLmZpbHRlcnMpe2pRdWVyeS5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGVsZW0pe3JldHVybiBlbGVtLm9mZnNldFdpZHRoPD0wJiZlbGVtLm9mZnNldEhlaWdodDw9MHx8KCFqUXVlcnkuc3VwcG9ydC5yZWxpYWJsZUhpZGRlbk9mZnNldHMmJigoZWxlbS5zdHlsZSYmZWxlbS5zdHlsZS5kaXNwbGF5KXx8alF1ZXJ5LmNzcyhlbGVtLCJkaXNwbGF5IikpPT09Im5vbmUiKX07alF1ZXJ5LmV4cHIuZmlsdGVycy52aXNpYmxlPWZ1bmN0aW9uKGVsZW0pe3JldHVybiAhalF1ZXJ5LmV4cHIuZmlsdGVycy5oaWRkZW4oZWxlbSl9fWpRdWVyeS5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24ocHJlZml4LHN1ZmZpeCl7alF1ZXJ5LmNzc0hvb2tzW3ByZWZpeCtzdWZmaXhdPXtleHBhbmQ6ZnVuY3Rpb24odmFsdWUpe3ZhciBpPTAsZXhwYW5kZWQ9e30scGFydHM9dHlwZW9mIHZhbHVlPT09InN0cmluZyI/dmFsdWUuc3BsaXQoIiAiKTpbdmFsdWVdO2Zvcig7aTw0O2krKyl7ZXhwYW5kZWRbcHJlZml4K2Nzc0V4cGFuZFtpXStzdWZmaXhdPXBhcnRzW2ldfHxwYXJ0c1tpLTJdfHxwYXJ0c1swXX1yZXR1cm4gZXhwYW5kZWR9fTtpZighcm1hcmdpbi50ZXN0KHByZWZpeCkpe2pRdWVyeS5jc3NIb29rc1twcmVmaXgrc3VmZml4XS5zZXQ9c2V0UG9zaXRpdmVOdW1iZXJ9fSk7dmFyIHIyMD0vJTIwL2cscmJyYWNrZXQ9L1xbXF0kLyxyQ1JMRj0vXHI/XG4vZyxyc3VibWl0dGVyVHlwZXM9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLHJzdWJtaXR0YWJsZT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7alF1ZXJ5LmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGpRdWVyeS5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBlbGVtZW50cz1qUXVlcnkucHJvcCh0aGlzLCJlbGVtZW50cyIpO3JldHVybiBlbGVtZW50cz9qUXVlcnkubWFrZUFycmF5KGVsZW1lbnRzKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIHR5cGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFqUXVlcnkodGhpcykuaXMoIjpkaXNhYmxlZCIpJiZyc3VibWl0dGFibGUudGVzdCh0aGlzLm5vZGVOYW1lKSYmIXJzdWJtaXR0ZXJUeXBlcy50ZXN0KHR5cGUpJiYodGhpcy5jaGVja2VkfHwhbWFuaXB1bGF0aW9uX3JjaGVja2FibGVUeXBlLnRlc3QodHlwZSkpfSkubWFwKGZ1bmN0aW9uKGksZWxlbSl7dmFyIHZhbD1qUXVlcnkodGhpcykudmFsKCk7cmV0dXJuIHZhbD09bnVsbD9udWxsOmpRdWVyeS5pc0FycmF5KHZhbCk/alF1ZXJ5Lm1hcCh2YWwsZnVuY3Rpb24odmFsKXtyZXR1cm57bmFtZTplbGVtLm5hbWUsdmFsdWU6dmFsLnJlcGxhY2UockNSTEYsIlxyXG4iKX19KTp7bmFtZTplbGVtLm5hbWUsdmFsdWU6dmFsLnJlcGxhY2UockNSTEYsIlxyXG4iKX19KS5nZXQoKX19KTtqUXVlcnkucGFyYW09ZnVuY3Rpb24oYSx0cmFkaXRpb25hbCl7dmFyIHByZWZpeCxzPVtdLGFkZD1mdW5jdGlvbihrZXksdmFsdWUpe3ZhbHVlPWpRdWVyeS5pc0Z1bmN0aW9uKHZhbHVlKT92YWx1ZSgpOih2YWx1ZT09bnVsbD8iIjp2YWx1ZSk7c1tzLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGtleSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSl9O2lmKHRyYWRpdGlvbmFsPT09dW5kZWZpbmVkKXt0cmFkaXRpb25hbD1qUXVlcnkuYWpheFNldHRpbmdzJiZqUXVlcnkuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsfWlmKGpRdWVyeS5pc0FycmF5KGEpfHwoYS5qcXVlcnkmJiFqUXVlcnkuaXNQbGFpbk9iamVjdChhKSkpe2pRdWVyeS5lYWNoKGEsZnVuY3Rpb24oKXthZGQodGhpcy5uYW1lLHRoaXMudmFsdWUpfSl9ZWxzZXtmb3IocHJlZml4IGluIGEpe2J1aWxkUGFyYW1zKHByZWZpeCxhW3ByZWZpeF0sdHJhZGl0aW9uYWwsYWRkKX19cmV0dXJuIHMuam9pbigiJiIpLnJlcGxhY2UocjIwLCIrIil9O2Z1bmN0aW9uIGJ1aWxkUGFyYW1zKHByZWZpeCxvYmosdHJhZGl0aW9uYWwsYWRkKXt2YXIgbmFtZTtpZihqUXVlcnkuaXNBcnJheShvYmopKXtqUXVlcnkuZWFjaChvYmosZnVuY3Rpb24oaSx2KXtpZih0cmFkaXRpb25hbHx8cmJyYWNrZXQudGVzdChwcmVmaXgpKXthZGQocHJlZml4LHYpfWVsc2V7YnVpbGRQYXJhbXMocHJlZml4KyJbIisodHlwZW9mIHY9PT0ib2JqZWN0Ij9pOiIiKSsiXSIsdix0cmFkaXRpb25hbCxhZGQpfX0pfWVsc2V7aWYoIXRyYWRpdGlvbmFsJiZqUXVlcnkudHlwZShvYmopPT09Im9iamVjdCIpe2ZvcihuYW1lIGluIG9iail7YnVpbGRQYXJhbXMocHJlZml4KyJbIituYW1lKyJdIixvYmpbbmFtZV0sdHJhZGl0aW9uYWwsYWRkKX19ZWxzZXthZGQocHJlZml4LG9iail9fX1qUXVlcnkuZWFjaCgoImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnUiKS5zcGxpdCgiICIpLGZ1bmN0aW9uKGksbmFtZSl7alF1ZXJ5LmZuW25hbWVdPWZ1bmN0aW9uKGRhdGEsZm4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbihuYW1lLG51bGwsZGF0YSxmbik6dGhpcy50cmlnZ2VyKG5hbWUpfX0pO2pRdWVyeS5mbi5leHRlbmQoe2hvdmVyOmZ1bmN0aW9uKGZuT3Zlcixmbk91dCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihmbk92ZXIpLm1vdXNlbGVhdmUoZm5PdXR8fGZuT3Zlcil9LGJpbmQ6ZnVuY3Rpb24odHlwZXMsZGF0YSxmbil7cmV0dXJuIHRoaXMub24odHlwZXMsbnVsbCxkYXRhLGZuKX0sdW5iaW5kOmZ1bmN0aW9uKHR5cGVzLGZuKXtyZXR1cm4gdGhpcy5vZmYodHlwZXMsbnVsbCxmbil9LGRlbGVnYXRlOmZ1bmN0aW9uKHNlbGVjdG9yLHR5cGVzLGRhdGEsZm4pe3JldHVybiB0aGlzLm9uKHR5cGVzLHNlbGVjdG9yLGRhdGEsZm4pfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKHNlbGVjdG9yLHR5cGVzLGZuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD09PTE/dGhpcy5vZmYoc2VsZWN0b3IsIioqIik6dGhpcy5vZmYodHlwZXMsc2VsZWN0b3J8fCIqKiIsZm4pfX0pO3ZhciBhamF4TG9jUGFydHMsYWpheExvY2F0aW9uLGFqYXhfbm9uY2U9alF1ZXJ5Lm5vdygpLGFqYXhfcnF1ZXJ5PS9cPy8scmhhc2g9LyMuKiQvLHJ0cz0vKFs/Jl0pXz1bXiZdKi8scmhlYWRlcnM9L14oLio/KTpbIFx0XSooW15cclxuXSopXHI/JC9tZyxybG9jYWxQcm90b2NvbD0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxybm9Db250ZW50PS9eKD86R0VUfEhFQUQpJC8scnByb3RvY29sPS9eXC9cLy8scnVybD0vXihbXHcuKy1dKzopKD86XC9cLyhbXlwvPyM6XSopKD86OihcZCspfCl8KS8sX2xvYWQ9alF1ZXJ5LmZuLmxvYWQscHJlZmlsdGVycz17fSx0cmFuc3BvcnRzPXt9LGFsbFR5cGVzPSIqLyIuY29uY2F0KCIqIik7dHJ5e2FqYXhMb2NhdGlvbj1sb2NhdGlvbi5ocmVmfWNhdGNoKGUpe2FqYXhMb2NhdGlvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7YWpheExvY2F0aW9uLmhyZWY9IiI7YWpheExvY2F0aW9uPWFqYXhMb2NhdGlvbi5ocmVmfWFqYXhMb2NQYXJ0cz1ydXJsLmV4ZWMoYWpheExvY2F0aW9uLnRvTG93ZXJDYXNlKCkpfHxbXTtmdW5jdGlvbiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoc3RydWN0dXJlKXtyZXR1cm4gZnVuY3Rpb24oZGF0YVR5cGVFeHByZXNzaW9uLGZ1bmMpe2lmKHR5cGVvZiBkYXRhVHlwZUV4cHJlc3Npb24hPT0ic3RyaW5nIil7ZnVuYz1kYXRhVHlwZUV4cHJlc3Npb247ZGF0YVR5cGVFeHByZXNzaW9uPSIqIn12YXIgZGF0YVR5cGUsaT0wLGRhdGFUeXBlcz1kYXRhVHlwZUV4cHJlc3Npb24udG9Mb3dlckNhc2UoKS5tYXRjaChjb3JlX3Jub3R3aGl0ZSl8fFtdO2lmKGpRdWVyeS5pc0Z1bmN0aW9uKGZ1bmMpKXt3aGlsZSgoZGF0YVR5cGU9ZGF0YVR5cGVzW2krK10pKXtpZihkYXRhVHlwZVswXT09PSIrIil7ZGF0YVR5cGU9ZGF0YVR5cGUuc2xpY2UoMSl8fCIqIjsoc3RydWN0dXJlW2RhdGFUeXBlXT1zdHJ1Y3R1cmVbZGF0YVR5cGVdfHxbXSkudW5zaGlmdChmdW5jKX1lbHNleyhzdHJ1Y3R1cmVbZGF0YVR5cGVdPXN0cnVjdHVyZVtkYXRhVHlwZV18fFtdKS5wdXNoKGZ1bmMpfX19fX1mdW5jdGlvbiBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyhzdHJ1Y3R1cmUsb3B0aW9ucyxvcmlnaW5hbE9wdGlvbnMsanFYSFIpe3ZhciBpbnNwZWN0ZWQ9e30sc2Vla2luZ1RyYW5zcG9ydD0oc3RydWN0dXJlPT09dHJhbnNwb3J0cyk7ZnVuY3Rpb24gaW5zcGVjdChkYXRhVHlwZSl7dmFyIHNlbGVjdGVkO2luc3BlY3RlZFtkYXRhVHlwZV09dHJ1ZTtqUXVlcnkuZWFjaChzdHJ1Y3R1cmVbZGF0YVR5cGVdfHxbXSxmdW5jdGlvbihfLHByZWZpbHRlck9yRmFjdG9yeSl7dmFyIGRhdGFUeXBlT3JUcmFuc3BvcnQ9cHJlZmlsdGVyT3JGYWN0b3J5KG9wdGlvbnMsb3JpZ2luYWxPcHRpb25zLGpxWEhSKTtpZih0eXBlb2YgZGF0YVR5cGVPclRyYW5zcG9ydD09PSJzdHJpbmciJiYhc2Vla2luZ1RyYW5zcG9ydCYmIWluc3BlY3RlZFtkYXRhVHlwZU9yVHJhbnNwb3J0XSl7b3B0aW9ucy5kYXRhVHlwZXMudW5zaGlmdChkYXRhVHlwZU9yVHJhbnNwb3J0KTtpbnNwZWN0KGRhdGFUeXBlT3JUcmFuc3BvcnQpO3JldHVybiBmYWxzZX1lbHNle2lmKHNlZWtpbmdUcmFuc3BvcnQpe3JldHVybiAhKHNlbGVjdGVkPWRhdGFUeXBlT3JUcmFuc3BvcnQpfX19KTtyZXR1cm4gc2VsZWN0ZWR9cmV0dXJuIGluc3BlY3Qob3B0aW9ucy5kYXRhVHlwZXNbMF0pfHwhaW5zcGVjdGVkWyIqIl0mJmluc3BlY3QoIioiKX1mdW5jdGlvbiBhamF4RXh0ZW5kKHRhcmdldCxzcmMpe3ZhciBkZWVwLGtleSxmbGF0T3B0aW9ucz1qUXVlcnkuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3Ioa2V5IGluIHNyYyl7aWYoc3JjW2tleV0hPT11bmRlZmluZWQpeyhmbGF0T3B0aW9uc1trZXldP3RhcmdldDooZGVlcHx8KGRlZXA9e30pKSlba2V5XT1zcmNba2V5XX19aWYoZGVlcCl7alF1ZXJ5LmV4dGVuZCh0cnVlLHRhcmdldCxkZWVwKX1yZXR1cm4gdGFyZ2V0fWpRdWVyeS5mbi5sb2FkPWZ1bmN0aW9uKHVybCxwYXJhbXMsY2FsbGJhY2spe2lmKHR5cGVvZiB1cmwhPT0ic3RyaW5nIiYmX2xvYWQpe3JldHVybiBfbG9hZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHNlbGVjdG9yLHJlc3BvbnNlLHR5cGUsc2VsZj10aGlzLG9mZj11cmwuaW5kZXhPZigiICIpO2lmKG9mZj49MCl7c2VsZWN0b3I9dXJsLnNsaWNlKG9mZix1cmwubGVuZ3RoKTt1cmw9dXJsLnNsaWNlKDAsb2ZmKX1pZihqUXVlcnkuaXNGdW5jdGlvbihwYXJhbXMpKXtjYWxsYmFjaz1wYXJhbXM7cGFyYW1zPXVuZGVmaW5lZH1lbHNle2lmKHBhcmFtcyYmdHlwZW9mIHBhcmFtcz09PSJvYmplY3QiKXt0eXBlPSJQT1NUIn19aWYoc2VsZi5sZW5ndGg+MCl7alF1ZXJ5LmFqYXgoe3VybDp1cmwsdHlwZTp0eXBlLGRhdGFUeXBlOiJodG1sIixkYXRhOnBhcmFtc30pLmRvbmUoZnVuY3Rpb24ocmVzcG9uc2VUZXh0KXtyZXNwb25zZT1hcmd1bWVudHM7c2VsZi5odG1sKHNlbGVjdG9yP2pRdWVyeSgiPGRpdj4iKS5hcHBlbmQoalF1ZXJ5LnBhcnNlSFRNTChyZXNwb25zZVRleHQpKS5maW5kKHNlbGVjdG9yKTpyZXNwb25zZVRleHQpfSkuY29tcGxldGUoY2FsbGJhY2smJmZ1bmN0aW9uKGpxWEhSLHN0YXR1cyl7c2VsZi5lYWNoKGNhbGxiYWNrLHJlc3BvbnNlfHxbanFYSFIucmVzcG9uc2VUZXh0LHN0YXR1cyxqcVhIUl0pfSl9cmV0dXJuIHRoaXN9O2pRdWVyeS5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24oaSx0eXBlKXtqUXVlcnkuZm5bdHlwZV09ZnVuY3Rpb24oZm4pe3JldHVybiB0aGlzLm9uKHR5cGUsZm4pfX0pO2pRdWVyeS5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOmFqYXhMb2NhdGlvbix0eXBlOiJHRVQiLGlzTG9jYWw6cmxvY2FsUHJvdG9jb2wudGVzdChhamF4TG9jUGFydHNbMV0pLGdsb2JhbDp0cnVlLHByb2Nlc3NEYXRhOnRydWUsYXN5bmM6dHJ1ZSxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6YWxsVHlwZXMsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L3htbC8saHRtbDovaHRtbC8sanNvbjovanNvbi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjp0cnVlLCJ0ZXh0IGpzb24iOmpRdWVyeS5wYXJzZUpTT04sInRleHQgeG1sIjpqUXVlcnkucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6dHJ1ZSxjb250ZXh0OnRydWV9fSxhamF4U2V0dXA6ZnVuY3Rpb24odGFyZ2V0LHNldHRpbmdzKXtyZXR1cm4gc2V0dGluZ3M/YWpheEV4dGVuZChhamF4RXh0ZW5kKHRhcmdldCxqUXVlcnkuYWpheFNldHRpbmdzKSxzZXR0aW5ncyk6YWpheEV4dGVuZChqUXVlcnkuYWpheFNldHRpbmdzLHRhcmdldCl9LGFqYXhQcmVmaWx0ZXI6YWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKHByZWZpbHRlcnMpLGFqYXhUcmFuc3BvcnQ6YWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKHRyYW5zcG9ydHMpLGFqYXg6ZnVuY3Rpb24odXJsLG9wdGlvbnMpe2lmKHR5cGVvZiB1cmw9PT0ib2JqZWN0Iil7b3B0aW9ucz11cmw7dXJsPXVuZGVmaW5lZH1vcHRpb25zPW9wdGlvbnN8fHt9O3ZhciBwYXJ0cyxpLGNhY2hlVVJMLHJlc3BvbnNlSGVhZGVyc1N0cmluZyx0aW1lb3V0VGltZXIsZmlyZUdsb2JhbHMsdHJhbnNwb3J0LHJlc3BvbnNlSGVhZGVycyxzPWpRdWVyeS5hamF4U2V0dXAoe30sb3B0aW9ucyksY2FsbGJhY2tDb250ZXh0PXMuY29udGV4dHx8cyxnbG9iYWxFdmVudENvbnRleHQ9cy5jb250ZXh0JiYoY2FsbGJhY2tDb250ZXh0Lm5vZGVUeXBlfHxjYWxsYmFja0NvbnRleHQuanF1ZXJ5KT9qUXVlcnkoY2FsbGJhY2tDb250ZXh0KTpqUXVlcnkuZXZlbnQsZGVmZXJyZWQ9alF1ZXJ5LkRlZmVycmVkKCksY29tcGxldGVEZWZlcnJlZD1qUXVlcnkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLHN0YXR1c0NvZGU9cy5zdGF0dXNDb2RlfHx7fSxyZXF1ZXN0SGVhZGVycz17fSxyZXF1ZXN0SGVhZGVyc05hbWVzPXt9LHN0YXRlPTAsc3RyQWJvcnQ9ImNhbmNlbGVkIixqcVhIUj17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGtleSl7dmFyIG1hdGNoO2lmKHN0YXRlPT09Mil7aWYoIXJlc3BvbnNlSGVhZGVycyl7cmVzcG9uc2VIZWFkZXJzPXt9O3doaWxlKChtYXRjaD1yaGVhZGVycy5leGVjKHJlc3BvbnNlSGVhZGVyc1N0cmluZykpKXtyZXNwb25zZUhlYWRlcnNbbWF0Y2hbMV0udG9Mb3dlckNhc2UoKV09bWF0Y2hbMl19fW1hdGNoPXJlc3BvbnNlSGVhZGVyc1trZXkudG9Mb3dlckNhc2UoKV19cmV0dXJuIG1hdGNoPT1udWxsP251bGw6bWF0Y2h9LGdldEFsbFJlc3BvbnNlSGVhZGVyczpmdW5jdGlvbigpe3JldHVybiBzdGF0ZT09PTI/cmVzcG9uc2VIZWFkZXJzU3RyaW5nOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24obmFtZSx2YWx1ZSl7dmFyIGxuYW1lPW5hbWUudG9Mb3dlckNhc2UoKTtpZighc3RhdGUpe25hbWU9cmVxdWVzdEhlYWRlcnNOYW1lc1tsbmFtZV09cmVxdWVzdEhlYWRlcnNOYW1lc1tsbmFtZV18fG5hbWU7cmVxdWVzdEhlYWRlcnNbbmFtZV09dmFsdWV9cmV0dXJuIHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24odHlwZSl7aWYoIXN0YXRlKXtzLm1pbWVUeXBlPXR5cGV9cmV0dXJuIHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24obWFwKXt2YXIgY29kZTtpZihtYXApe2lmKHN0YXRlPDIpe2Zvcihjb2RlIGluIG1hcCl7c3RhdHVzQ29kZVtjb2RlXT1bc3RhdHVzQ29kZVtjb2RlXSxtYXBbY29kZV1dfX1lbHNle2pxWEhSLmFsd2F5cyhtYXBbanFYSFIuc3RhdHVzXSl9fXJldHVybiB0aGlzfSxhYm9ydDpmdW5jdGlvbihzdGF0dXNUZXh0KXt2YXIgZmluYWxUZXh0PXN0YXR1c1RleHR8fHN0ckFib3J0O2lmKHRyYW5zcG9ydCl7dHJhbnNwb3J0LmFib3J0KGZpbmFsVGV4dCl9ZG9uZSgwLGZpbmFsVGV4dCk7cmV0dXJuIHRoaXN9fTtkZWZlcnJlZC5wcm9taXNlKGpxWEhSKS5jb21wbGV0ZT1jb21wbGV0ZURlZmVycmVkLmFkZDtqcVhIUi5zdWNjZXNzPWpxWEhSLmRvbmU7anFYSFIuZXJyb3I9anFYSFIuZmFpbDtzLnVybD0oKHVybHx8cy51cmx8fGFqYXhMb2NhdGlvbikrIiIpLnJlcGxhY2Uocmhhc2gsIiIpLnJlcGxhY2UocnByb3RvY29sLGFqYXhMb2NQYXJ0c1sxXSsiLy8iKTtzLnR5cGU9b3B0aW9ucy5tZXRob2R8fG9wdGlvbnMudHlwZXx8cy5tZXRob2R8fHMudHlwZTtzLmRhdGFUeXBlcz1qUXVlcnkudHJpbShzLmRhdGFUeXBlfHwiKiIpLnRvTG93ZXJDYXNlKCkubWF0Y2goY29yZV9ybm90d2hpdGUpfHxbIiJdO2lmKHMuY3Jvc3NEb21haW49PW51bGwpe3BhcnRzPXJ1cmwuZXhlYyhzLnVybC50b0xvd2VyQ2FzZSgpKTtzLmNyb3NzRG9tYWluPSEhKHBhcnRzJiYocGFydHNbMV0hPT1hamF4TG9jUGFydHNbMV18fHBhcnRzWzJdIT09YWpheExvY1BhcnRzWzJdfHwocGFydHNbM118fChwYXJ0c1sxXT09PSJodHRwOiI/IjgwIjoiNDQzIikpIT09KGFqYXhMb2NQYXJ0c1szXXx8KGFqYXhMb2NQYXJ0c1sxXT09PSJodHRwOiI/IjgwIjoiNDQzIikpKSl9aWYocy5kYXRhJiZzLnByb2Nlc3NEYXRhJiZ0eXBlb2Ygcy5kYXRhIT09InN0cmluZyIpe3MuZGF0YT1qUXVlcnkucGFyYW0ocy5kYXRhLHMudHJhZGl0aW9uYWwpfWluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKHByZWZpbHRlcnMscyxvcHRpb25zLGpxWEhSKTtpZihzdGF0ZT09PTIpe3JldHVybiBqcVhIUn1maXJlR2xvYmFscz1zLmdsb2JhbDtpZihmaXJlR2xvYmFscyYmalF1ZXJ5LmFjdGl2ZSsrPT09MCl7alF1ZXJ5LmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpfXMudHlwZT1zLnR5cGUudG9VcHBlckNhc2UoKTtzLmhhc0NvbnRlbnQ9IXJub0NvbnRlbnQudGVzdChzLnR5cGUpO2NhY2hlVVJMPXMudXJsO2lmKCFzLmhhc0NvbnRlbnQpe2lmKHMuZGF0YSl7Y2FjaGVVUkw9KHMudXJsKz0oYWpheF9ycXVlcnkudGVzdChjYWNoZVVSTCk/IiYiOiI/Iikrcy5kYXRhKTtkZWxldGUgcy5kYXRhfWlmKHMuY2FjaGU9PT1mYWxzZSl7cy51cmw9cnRzLnRlc3QoY2FjaGVVUkwpP2NhY2hlVVJMLnJlcGxhY2UocnRzLCIkMV89IithamF4X25vbmNlKyspOmNhY2hlVVJMKyhhamF4X3JxdWVyeS50ZXN0KGNhY2hlVVJMKT8iJiI6Ij8iKSsiXz0iK2FqYXhfbm9uY2UrK319aWYocy5pZk1vZGlmaWVkKXtpZihqUXVlcnkubGFzdE1vZGlmaWVkW2NhY2hlVVJMXSl7anFYSFIuc2V0UmVxdWVzdEhlYWRlcigiSWYtTW9kaWZpZWQtU2luY2UiLGpRdWVyeS5sYXN0TW9kaWZpZWRbY2FjaGVVUkxdKX1pZihqUXVlcnkuZXRhZ1tjYWNoZVVSTF0pe2pxWEhSLnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLGpRdWVyeS5ldGFnW2NhY2hlVVJMXSl9fWlmKHMuZGF0YSYmcy5oYXNDb250ZW50JiZzLmNvbnRlbnRUeXBlIT09ZmFsc2V8fG9wdGlvbnMuY29udGVudFR5cGUpe2pxWEhSLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIscy5jb250ZW50VHlwZSl9anFYSFIuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixzLmRhdGFUeXBlc1swXSYmcy5hY2NlcHRzW3MuZGF0YVR5cGVzWzBdXT9zLmFjY2VwdHNbcy5kYXRhVHlwZXNbMF1dKyhzLmRhdGFUeXBlc1swXSE9PSIqIj8iLCAiK2FsbFR5cGVzKyI7IHE9MC4wMSI6IiIpOnMuYWNjZXB0c1siKiJdKTtmb3IoaSBpbiBzLmhlYWRlcnMpe2pxWEhSLnNldFJlcXVlc3RIZWFkZXIoaSxzLmhlYWRlcnNbaV0pfWlmKHMuYmVmb3JlU2VuZCYmKHMuYmVmb3JlU2VuZC5jYWxsKGNhbGxiYWNrQ29udGV4dCxqcVhIUixzKT09PWZhbHNlfHxzdGF0ZT09PTIpKXtyZXR1cm4ganFYSFIuYWJvcnQoKX1zdHJBYm9ydD0iYWJvcnQiO2ZvcihpIGluIHtzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0ZToxfSl7anFYSFJbaV0oc1tpXSl9dHJhbnNwb3J0PWluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKHRyYW5zcG9ydHMscyxvcHRpb25zLGpxWEhSKTtpZighdHJhbnNwb3J0KXtkb25lKC0xLCJObyBUcmFuc3BvcnQiKX1lbHNle2pxWEhSLnJlYWR5U3RhdGU9MTtpZihmaXJlR2xvYmFscyl7Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoImFqYXhTZW5kIixbanFYSFIsc10pfWlmKHMuYXN5bmMmJnMudGltZW91dD4wKXt0aW1lb3V0VGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2pxWEhSLmFib3J0KCJ0aW1lb3V0Iil9LHMudGltZW91dCl9dHJ5e3N0YXRlPTE7dHJhbnNwb3J0LnNlbmQocmVxdWVzdEhlYWRlcnMsZG9uZSl9Y2F0Y2goZSl7aWYoc3RhdGU8Mil7ZG9uZSgtMSxlKX1lbHNle3Rocm93IGV9fX1mdW5jdGlvbiBkb25lKHN0YXR1cyxuYXRpdmVTdGF0dXNUZXh0LHJlc3BvbnNlcyxoZWFkZXJzKXt2YXIgaXNTdWNjZXNzLHN1Y2Nlc3MsZXJyb3IscmVzcG9uc2UsbW9kaWZpZWQsc3RhdHVzVGV4dD1uYXRpdmVTdGF0dXNUZXh0O2lmKHJlc3BvbnNlcyYmcmVzcG9uc2VzLnRleHQmJnJlc3BvbnNlcy50ZXh0LmluZGV4T2YoJzxpbnB1dCB0eXBlPSJoaWRkZW4iIGlkPSJoaXN0b3J5VXJsIicpPjApe29wdGlvbnMubG9naW5DaGVjayYmb3B0aW9ucy5sb2dpbkNoZWNrKCk7JCgiI3JlTG9naW5EaWFsb2ciKS5sb2FkKENPTlRFWFRQQVRIKyIvaG9tZS9yZWxvZ2luLm1vb2MiLGZ1bmN0aW9uKCl7JC5kaWFsb2coe3NraW46ImQtbm9UaXRsZSBkLWxvZ2luLWRpYWxvZyIsdGl0bGU6IiIsaWQ6InJlTG9naW5EaWFsb2ciLGNvbnRlbnQ6JCgiI3JlTG9naW5EaWFsb2cgLmRpYWxvZyIpWzBdLHdpZHRoOiIzNzVweCIsbG9jazp0cnVlfSl9KTtyZXR1cm59aWYoc3RhdGU9PT0yKXtyZXR1cm59c3RhdGU9MjtpZih0aW1lb3V0VGltZXIpe2NsZWFyVGltZW91dCh0aW1lb3V0VGltZXIpfXRyYW5zcG9ydD11bmRlZmluZWQ7cmVzcG9uc2VIZWFkZXJzU3RyaW5nPWhlYWRlcnN8fCIiO2pxWEhSLnJlYWR5U3RhdGU9c3RhdHVzPjA/NDowO2lzU3VjY2Vzcz1zdGF0dXM+PTIwMCYmc3RhdHVzPDMwMHx8c3RhdHVzPT09MzA0O2lmKHJlc3BvbnNlcyl7cmVzcG9uc2U9YWpheEhhbmRsZVJlc3BvbnNlcyhzLGpxWEhSLHJlc3BvbnNlcyl9cmVzcG9uc2U9YWpheENvbnZlcnQocyxyZXNwb25zZSxqcVhIUixpc1N1Y2Nlc3MpO2lmKGlzU3VjY2Vzcyl7aWYocy5pZk1vZGlmaWVkKXttb2RpZmllZD1qcVhIUi5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpO2lmKG1vZGlmaWVkKXtqUXVlcnkubGFzdE1vZGlmaWVkW2NhY2hlVVJMXT1tb2RpZmllZH1tb2RpZmllZD1qcVhIUi5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpO2lmKG1vZGlmaWVkKXtqUXVlcnkuZXRhZ1tjYWNoZVVSTF09bW9kaWZpZWR9fWlmKHN0YXR1cz09PTIwNHx8cy50eXBlPT09IkhFQUQiKXtzdGF0dXNUZXh0PSJub2NvbnRlbnQifWVsc2V7aWYoc3RhdHVzPT09MzA0KXtzdGF0dXNUZXh0PSJub3Rtb2RpZmllZCJ9ZWxzZXtzdGF0dXNUZXh0PXJlc3BvbnNlLnN0YXRlO3N1Y2Nlc3M9cmVzcG9uc2UuZGF0YTtlcnJvcj1yZXNwb25zZS5lcnJvcjtpc1N1Y2Nlc3M9IWVycm9yfX19ZWxzZXtlcnJvcj1zdGF0dXNUZXh0O2lmKHN0YXR1c3x8IXN0YXR1c1RleHQpe3N0YXR1c1RleHQ9ImVycm9yIjtpZihzdGF0dXM8MCl7c3RhdHVzPTB9fX1qcVhIUi5zdGF0dXM9c3RhdHVzO2pxWEhSLnN0YXR1c1RleHQ9KG5hdGl2ZVN0YXR1c1RleHR8fHN0YXR1c1RleHQpKyIiO2lmKGlzU3VjY2Vzcyl7ZGVmZXJyZWQucmVzb2x2ZVdpdGgoY2FsbGJhY2tDb250ZXh0LFtzdWNjZXNzLHN0YXR1c1RleHQsanFYSFJdKX1lbHNle2RlZmVycmVkLnJlamVjdFdpdGgoY2FsbGJhY2tDb250ZXh0LFtqcVhIUixzdGF0dXNUZXh0LGVycm9yXSl9anFYSFIuc3RhdHVzQ29kZShzdGF0dXNDb2RlKTtzdGF0dXNDb2RlPXVuZGVmaW5lZDtpZihmaXJlR2xvYmFscyl7Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoaXNTdWNjZXNzPyJhamF4U3VjY2VzcyI6ImFqYXhFcnJvciIsW2pxWEhSLHMsaXNTdWNjZXNzP3N1Y2Nlc3M6ZXJyb3JdKX1jb21wbGV0ZURlZmVycmVkLmZpcmVXaXRoKGNhbGxiYWNrQ29udGV4dCxbanFYSFIsc3RhdHVzVGV4dF0pO2lmKGZpcmVHbG9iYWxzKXtnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlcigiYWpheENvbXBsZXRlIixbanFYSFIsc10pO2lmKCEoLS1qUXVlcnkuYWN0aXZlKSl7alF1ZXJ5LmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIil9fX1yZXR1cm4ganFYSFJ9LGdldEpTT046ZnVuY3Rpb24odXJsLGRhdGEsY2FsbGJhY2spe3JldHVybiBqUXVlcnkuZ2V0KHVybCxkYXRhLGNhbGxiYWNrLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbih1cmwsY2FsbGJhY2spe3JldHVybiBqUXVlcnkuZ2V0KHVybCx1bmRlZmluZWQsY2FsbGJhY2ssInNjcmlwdCIpfX0pO2pRdWVyeS5lYWNoKFsiZ2V0IiwicG9zdCJdLGZ1bmN0aW9uKGksbWV0aG9kKXtqUXVlcnlbbWV0aG9kXT1mdW5jdGlvbih1cmwsZGF0YSxjYWxsYmFjayx0eXBlKXtpZihqUXVlcnkuaXNGdW5jdGlvbihkYXRhKSl7dHlwZT10eXBlfHxjYWxsYmFjaztjYWxsYmFjaz1kYXRhO2RhdGE9dW5kZWZpbmVkfXJldHVybiBqUXVlcnkuYWpheCh7dXJsOnVybCx0eXBlOm1ldGhvZCxkYXRhVHlwZTp0eXBlLGRhdGE6ZGF0YSxzdWNjZXNzOmNhbGxiYWNrfSl9fSk7ZnVuY3Rpb24gYWpheEhhbmRsZVJlc3BvbnNlcyhzLGpxWEhSLHJlc3BvbnNlcyl7dmFyIGZpcnN0RGF0YVR5cGUsY3QsZmluYWxEYXRhVHlwZSx0eXBlLGNvbnRlbnRzPXMuY29udGVudHMsZGF0YVR5cGVzPXMuZGF0YVR5cGVzO3doaWxlKGRhdGFUeXBlc1swXT09PSIqIil7ZGF0YVR5cGVzLnNoaWZ0KCk7aWYoY3Q9PT11bmRlZmluZWQpe2N0PXMubWltZVR5cGV8fGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKX19aWYoY3Qpe2Zvcih0eXBlIGluIGNvbnRlbnRzKXtpZihjb250ZW50c1t0eXBlXSYmY29udGVudHNbdHlwZV0udGVzdChjdCkpe2RhdGFUeXBlcy51bnNoaWZ0KHR5cGUpO2JyZWFrfX19aWYoZGF0YVR5cGVzWzBdIGluIHJlc3BvbnNlcyl7ZmluYWxEYXRhVHlwZT1kYXRhVHlwZXNbMF19ZWxzZXtmb3IodHlwZSBpbiByZXNwb25zZXMpe2lmKCFkYXRhVHlwZXNbMF18fHMuY29udmVydGVyc1t0eXBlKyIgIitkYXRhVHlwZXNbMF1dKXtmaW5hbERhdGFUeXBlPXR5cGU7YnJlYWt9aWYoIWZpcnN0RGF0YVR5cGUpe2ZpcnN0RGF0YVR5cGU9dHlwZX19ZmluYWxEYXRhVHlwZT1maW5hbERhdGFUeXBlfHxmaXJzdERhdGFUeXBlfWlmKGZpbmFsRGF0YVR5cGUpe2lmKGZpbmFsRGF0YVR5cGUhPT1kYXRhVHlwZXNbMF0pe2RhdGFUeXBlcy51bnNoaWZ0KGZpbmFsRGF0YVR5cGUpfXJldHVybiByZXNwb25zZXNbZmluYWxEYXRhVHlwZV19fWZ1bmN0aW9uIGFqYXhDb252ZXJ0KHMscmVzcG9uc2UsanFYSFIsaXNTdWNjZXNzKXt2YXIgY29udjIsY3VycmVudCxjb252LHRtcCxwcmV2LGNvbnZlcnRlcnM9e30sZGF0YVR5cGVzPXMuZGF0YVR5cGVzLnNsaWNlKCk7aWYoZGF0YVR5cGVzWzFdKXtmb3IoY29udiBpbiBzLmNvbnZlcnRlcnMpe2NvbnZlcnRlcnNbY29udi50b0xvd2VyQ2FzZSgpXT1zLmNvbnZlcnRlcnNbY29udl19fWN1cnJlbnQ9ZGF0YVR5cGVzLnNoaWZ0KCk7d2hpbGUoY3VycmVudCl7aWYocy5yZXNwb25zZUZpZWxkc1tjdXJyZW50XSl7anFYSFJbcy5yZXNwb25zZUZpZWxkc1tjdXJyZW50XV09cmVzcG9uc2V9aWYoIXByZXYmJmlzU3VjY2VzcyYmcy5kYXRhRmlsdGVyKXtyZXNwb25zZT1zLmRhdGFGaWx0ZXIocmVzcG9uc2Uscy5kYXRhVHlwZSl9cHJldj1jdXJyZW50O2N1cnJlbnQ9ZGF0YVR5cGVzLnNoaWZ0KCk7aWYoY3VycmVudCl7aWYoY3VycmVudD09PSIqIil7Y3VycmVudD1wcmV2fWVsc2V7aWYocHJldiE9PSIqIiYmcHJldiE9PWN1cnJlbnQpe2NvbnY9Y29udmVydGVyc1twcmV2KyIgIitjdXJyZW50XXx8Y29udmVydGVyc1siKiAiK2N1cnJlbnRdO2lmKCFjb252KXtmb3IoY29udjIgaW4gY29udmVydGVycyl7dG1wPWNvbnYyLnNwbGl0KCIgIik7aWYodG1wWzFdPT09Y3VycmVudCl7Y29udj1jb252ZXJ0ZXJzW3ByZXYrIiAiK3RtcFswXV18fGNvbnZlcnRlcnNbIiogIit0bXBbMF1dO2lmKGNvbnYpe2lmKGNvbnY9PT10cnVlKXtjb252PWNvbnZlcnRlcnNbY29udjJdfWVsc2V7aWYoY29udmVydGVyc1tjb252Ml0hPT10cnVlKXtjdXJyZW50PXRtcFswXTtkYXRhVHlwZXMudW5zaGlmdCh0bXBbMV0pfX1icmVha319fX1pZihjb252IT09dHJ1ZSl7aWYoY29udiYmc1sidGhyb3dzIl0pe3Jlc3BvbnNlPWNvbnYocmVzcG9uc2UpfWVsc2V7dHJ5e3Jlc3BvbnNlPWNvbnYocmVzcG9uc2UpfWNhdGNoKGUpe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmNvbnY/ZToiTm8gY29udmVyc2lvbiBmcm9tICIrcHJldisiIHRvICIrY3VycmVudH19fX19fX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnJlc3BvbnNlfX1qUXVlcnkuYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0In0sY29udGVudHM6e3NjcmlwdDovKD86amF2YXxlY21hKXNjcmlwdC99LGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24odGV4dCl7alF1ZXJ5Lmdsb2JhbEV2YWwodGV4dCk7cmV0dXJuIHRleHR9fX0pO2pRdWVyeS5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKHMpe2lmKHMuY2FjaGU9PT11bmRlZmluZWQpe3MuY2FjaGU9ZmFsc2V9aWYocy5jcm9zc0RvbWFpbil7cy50eXBlPSJHRVQiO3MuZ2xvYmFsPWZhbHNlfX0pO2pRdWVyeS5hamF4VHJhbnNwb3J0KCJzY3JpcHQiLGZ1bmN0aW9uKHMpe2lmKHMuY3Jvc3NEb21haW4pe3ZhciBzY3JpcHQsaGVhZD1kb2N1bWVudC5oZWFkfHxqUXVlcnkoImhlYWQiKVswXXx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O3JldHVybntzZW5kOmZ1bmN0aW9uKF8sY2FsbGJhY2spe3NjcmlwdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtzY3JpcHQuYXN5bmM9dHJ1ZTtpZihzLnNjcmlwdENoYXJzZXQpe3NjcmlwdC5jaGFyc2V0PXMuc2NyaXB0Q2hhcnNldH1zY3JpcHQuc3JjPXMudXJsO3NjcmlwdC5vbmxvYWQ9c2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbihfLGlzQWJvcnQpe2lmKGlzQWJvcnR8fCFzY3JpcHQucmVhZHlTdGF0ZXx8L2xvYWRlZHxjb21wbGV0ZS8udGVzdChzY3JpcHQucmVhZHlTdGF0ZSkpe3NjcmlwdC5vbmxvYWQ9c2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsO2lmKHNjcmlwdC5wYXJlbnROb2RlKXtzY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHQpfXNjcmlwdD1udWxsO2lmKCFpc0Fib3J0KXtjYWxsYmFjaygyMDAsInN1Y2Nlc3MiKX19fTtoZWFkLmluc2VydEJlZm9yZShzY3JpcHQsaGVhZC5maXJzdENoaWxkKX0sYWJvcnQ6ZnVuY3Rpb24oKXtpZihzY3JpcHQpe3NjcmlwdC5vbmxvYWQodW5kZWZpbmVkLHRydWUpfX19fX0pO3ZhciBvbGRDYWxsYmFja3M9W10scmpzb25wPS8oPSlcPyg/PSZ8JCl8XD9cPy87alF1ZXJ5LmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGNhbGxiYWNrPW9sZENhbGxiYWNrcy5wb3AoKXx8KGpRdWVyeS5leHBhbmRvKyJfIisoYWpheF9ub25jZSsrKSk7dGhpc1tjYWxsYmFja109dHJ1ZTtyZXR1cm4gY2FsbGJhY2t9fSk7alF1ZXJ5LmFqYXhQcmVmaWx0ZXIoImpzb24ganNvbnAiLGZ1bmN0aW9uKHMsb3JpZ2luYWxTZXR0aW5ncyxqcVhIUil7dmFyIGNhbGxiYWNrTmFtZSxvdmVyd3JpdHRlbixyZXNwb25zZUNvbnRhaW5lcixqc29uUHJvcD1zLmpzb25wIT09ZmFsc2UmJihyanNvbnAudGVzdChzLnVybCk/InVybCI6dHlwZW9mIHMuZGF0YT09PSJzdHJpbmciJiYhKHMuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmcmpzb25wLnRlc3Qocy5kYXRhKSYmImRhdGEiKTtpZihqc29uUHJvcHx8cy5kYXRhVHlwZXNbMF09PT0ianNvbnAiKXtjYWxsYmFja05hbWU9cy5qc29ucENhbGxiYWNrPWpRdWVyeS5pc0Z1bmN0aW9uKHMuanNvbnBDYWxsYmFjayk/cy5qc29ucENhbGxiYWNrKCk6cy5qc29ucENhbGxiYWNrO2lmKGpzb25Qcm9wKXtzW2pzb25Qcm9wXT1zW2pzb25Qcm9wXS5yZXBsYWNlKHJqc29ucCwiJDEiK2NhbGxiYWNrTmFtZSl9ZWxzZXtpZihzLmpzb25wIT09ZmFsc2Upe3MudXJsKz0oYWpheF9ycXVlcnkudGVzdChzLnVybCk/IiYiOiI/Iikrcy5qc29ucCsiPSIrY2FsbGJhY2tOYW1lfX1zLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtpZighcmVzcG9uc2VDb250YWluZXIpe2pRdWVyeS5lcnJvcihjYWxsYmFja05hbWUrIiB3YXMgbm90IGNhbGxlZCIpfXJldHVybiByZXNwb25zZUNvbnRhaW5lclswXX07cy5kYXRhVHlwZXNbMF09Impzb24iO292ZXJ3cml0dGVuPXdpbmRvd1tjYWxsYmFja05hbWVdO3dpbmRvd1tjYWxsYmFja05hbWVdPWZ1bmN0aW9uKCl7cmVzcG9uc2VDb250YWluZXI9YXJndW1lbnRzfTtqcVhIUi5hbHdheXMoZnVuY3Rpb24oKXt3aW5kb3dbY2FsbGJhY2tOYW1lXT1vdmVyd3JpdHRlbjtpZihzW2NhbGxiYWNrTmFtZV0pe3MuanNvbnBDYWxsYmFjaz1vcmlnaW5hbFNldHRpbmdzLmpzb25wQ2FsbGJhY2s7b2xkQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2tOYW1lKX1pZihyZXNwb25zZUNvbnRhaW5lciYmalF1ZXJ5LmlzRnVuY3Rpb24ob3ZlcndyaXR0ZW4pKXtvdmVyd3JpdHRlbihyZXNwb25zZUNvbnRhaW5lclswXSl9cmVzcG9uc2VDb250YWluZXI9b3ZlcndyaXR0ZW49dW5kZWZpbmVkfSk7cmV0dXJuInNjcmlwdCJ9fSk7dmFyIHhockNhbGxiYWNrcyx4aHJTdXBwb3J0ZWQseGhySWQ9MCx4aHJPblVubG9hZEFib3J0PXdpbmRvdy5BY3RpdmVYT2JqZWN0JiZmdW5jdGlvbigpe3ZhciBrZXk7Zm9yKGtleSBpbiB4aHJDYWxsYmFja3Mpe3hockNhbGxiYWNrc1trZXldKHVuZGVmaW5lZCx0cnVlKX19O2Z1bmN0aW9uIGNyZWF0ZVN0YW5kYXJkWEhSKCl7dHJ5e3JldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCl9Y2F0Y2goZSl7fX1mdW5jdGlvbiBjcmVhdGVBY3RpdmVYSFIoKXt0cnl7cmV0dXJuIG5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKX1jYXRjaChlKXt9fWpRdWVyeS5hamF4U2V0dGluZ3MueGhyPXdpbmRvdy5BY3RpdmVYT2JqZWN0P2Z1bmN0aW9uKCl7cmV0dXJuICF0aGlzLmlzTG9jYWwmJmNyZWF0ZVN0YW5kYXJkWEhSKCl8fGNyZWF0ZUFjdGl2ZVhIUigpfTpjcmVhdGVTdGFuZGFyZFhIUjt4aHJTdXBwb3J0ZWQ9alF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIoKTtqUXVlcnkuc3VwcG9ydC5jb3JzPSEheGhyU3VwcG9ydGVkJiYoIndpdGhDcmVkZW50aWFscyIgaW4geGhyU3VwcG9ydGVkKTt4aHJTdXBwb3J0ZWQ9alF1ZXJ5LnN1cHBvcnQuYWpheD0hIXhoclN1cHBvcnRlZDtpZih4aHJTdXBwb3J0ZWQpe2pRdWVyeS5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKHMpe2lmKCFzLmNyb3NzRG9tYWlufHxqUXVlcnkuc3VwcG9ydC5jb3JzKXt2YXIgY2FsbGJhY2s7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oaGVhZGVycyxjb21wbGV0ZSl7dmFyIGhhbmRsZSxpLHhocj1zLnhocigpO2lmKHMudXNlcm5hbWUpe3hoci5vcGVuKHMudHlwZSxzLnVybCxzLmFzeW5jLHMudXNlcm5hbWUscy5wYXNzd29yZCl9ZWxzZXt4aHIub3BlbihzLnR5cGUscy51cmwscy5hc3luYyl9aWYocy54aHJGaWVsZHMpe2ZvcihpIGluIHMueGhyRmllbGRzKXt4aHJbaV09cy54aHJGaWVsZHNbaV19fWlmKHMubWltZVR5cGUmJnhoci5vdmVycmlkZU1pbWVUeXBlKXt4aHIub3ZlcnJpZGVNaW1lVHlwZShzLm1pbWVUeXBlKX1pZighcy5jcm9zc0RvbWFpbiYmIWhlYWRlcnNbIlgtUmVxdWVzdGVkLVdpdGgiXSl7aGVhZGVyc1siWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCJ9dHJ5e2ZvcihpIGluIGhlYWRlcnMpe3hoci5zZXRSZXF1ZXN0SGVhZGVyKGksaGVhZGVyc1tpXSl9fWNhdGNoKGVycil7fXhoci5zZW5kKChzLmhhc0NvbnRlbnQmJnMuZGF0YSl8fG51bGwpO2NhbGxiYWNrPWZ1bmN0aW9uKF8saXNBYm9ydCl7dmFyIHN0YXR1cyxyZXNwb25zZUhlYWRlcnMsc3RhdHVzVGV4dCxyZXNwb25zZXM7dHJ5e2lmKGNhbGxiYWNrJiYoaXNBYm9ydHx8eGhyLnJlYWR5U3RhdGU9PT00KSl7Y2FsbGJhY2s9dW5kZWZpbmVkO2lmKGhhbmRsZSl7eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZT1qUXVlcnkubm9vcDtpZih4aHJPblVubG9hZEFib3J0KXtkZWxldGUgeGhyQ2FsbGJhY2tzW2hhbmRsZV19fWlmKGlzQWJvcnQpe2lmKHhoci5yZWFkeVN0YXRlIT09NCl7eGhyLmFib3J0KCl9fWVsc2V7cmVzcG9uc2VzPXt9O3N0YXR1cz14aHIuc3RhdHVzO3Jlc3BvbnNlSGVhZGVycz14aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCk7aWYodHlwZW9mIHhoci5yZXNwb25zZVRleHQ9PT0ic3RyaW5nIil7cmVzcG9uc2VzLnRleHQ9eGhyLnJlc3BvbnNlVGV4dH10cnl7c3RhdHVzVGV4dD14aHIuc3RhdHVzVGV4dH1jYXRjaChlKXtzdGF0dXNUZXh0PSIifWlmKCFzdGF0dXMmJnMuaXNMb2NhbCYmIXMuY3Jvc3NEb21haW4pe3N0YXR1cz1yZXNwb25zZXMudGV4dD8yMDA6NDA0fWVsc2V7aWYoc3RhdHVzPT09MTIyMyl7c3RhdHVzPTIwNH19fX19Y2F0Y2goZmlyZWZveEFjY2Vzc0V4Y2VwdGlvbil7aWYoIWlzQWJvcnQpe2NvbXBsZXRlKC0xLGZpcmVmb3hBY2Nlc3NFeGNlcHRpb24pfX1pZihyZXNwb25zZXMpe2NvbXBsZXRlKHN0YXR1cyxzdGF0dXNUZXh0LHJlc3BvbnNlcyxyZXNwb25zZUhlYWRlcnMpfX07aWYoIXMuYXN5bmMpe2NhbGxiYWNrKCl9ZWxzZXtpZih4aHIucmVhZHlTdGF0ZT09PTQpe3NldFRpbWVvdXQoY2FsbGJhY2spfWVsc2V7aGFuZGxlPSsreGhySWQ7aWYoeGhyT25VbmxvYWRBYm9ydCl7aWYoIXhockNhbGxiYWNrcyl7eGhyQ2FsbGJhY2tzPXt9O2pRdWVyeSh3aW5kb3cpLnVubG9hZCh4aHJPblVubG9hZEFib3J0KX14aHJDYWxsYmFja3NbaGFuZGxlXT1jYWxsYmFja314aHIub25yZWFkeXN0YXRlY2hhbmdlPWNhbGxiYWNrfX19LGFib3J0OmZ1bmN0aW9uKCl7aWYoY2FsbGJhY2spe2NhbGxiYWNrKHVuZGVmaW5lZCx0cnVlKX19fX19KX12YXIgZnhOb3csdGltZXJJZCxyZnh0eXBlcz0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8scmZ4bnVtPW5ldyBSZWdFeHAoIl4oPzooWystXSk9fCkoIitjb3JlX3BudW0rIikoW2EteiVdKikkIiwiaSIpLHJydW49L3F1ZXVlSG9va3MkLyxhbmltYXRpb25QcmVmaWx0ZXJzPVtkZWZhdWx0UHJlZmlsdGVyXSx0d2VlbmVycz17IioiOltmdW5jdGlvbihwcm9wLHZhbHVlKXt2YXIgdHdlZW49dGhpcy5jcmVhdGVUd2Vlbihwcm9wLHZhbHVlKSx0YXJnZXQ9dHdlZW4uY3VyKCkscGFydHM9cmZ4bnVtLmV4ZWModmFsdWUpLHVuaXQ9cGFydHMmJnBhcnRzWzNdfHwoalF1ZXJ5LmNzc051bWJlcltwcm9wXT8iIjoicHgiKSxzdGFydD0oalF1ZXJ5LmNzc051bWJlcltwcm9wXXx8dW5pdCE9PSJweCImJit0YXJnZXQpJiZyZnhudW0uZXhlYyhqUXVlcnkuY3NzKHR3ZWVuLmVsZW0scHJvcCkpLHNjYWxlPTEsbWF4SXRlcmF0aW9ucz0yMDtpZihzdGFydCYmc3RhcnRbM10hPT11bml0KXt1bml0PXVuaXR8fHN0YXJ0WzNdO3BhcnRzPXBhcnRzfHxbXTtzdGFydD0rdGFyZ2V0fHwxO2Rve3NjYWxlPXNjYWxlfHwiLjUiO3N0YXJ0PXN0YXJ0L3NjYWxlO2pRdWVyeS5zdHlsZSh0d2Vlbi5lbGVtLHByb3Asc3RhcnQrdW5pdCl9d2hpbGUoc2NhbGUhPT0oc2NhbGU9dHdlZW4uY3VyKCkvdGFyZ2V0KSYmc2NhbGUhPT0xJiYtLW1heEl0ZXJhdGlvbnMpfWlmKHBhcnRzKXtzdGFydD10d2Vlbi5zdGFydD0rc3RhcnR8fCt0YXJnZXR8fDA7dHdlZW4udW5pdD11bml0O3R3ZWVuLmVuZD1wYXJ0c1sxXT9zdGFydCsocGFydHNbMV0rMSkqcGFydHNbMl06K3BhcnRzWzJdfXJldHVybiB0d2Vlbn1dfTtmdW5jdGlvbiBjcmVhdGVGeE5vdygpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtmeE5vdz11bmRlZmluZWR9KTtyZXR1cm4oZnhOb3c9alF1ZXJ5Lm5vdygpKX1mdW5jdGlvbiBjcmVhdGVUd2Vlbih2YWx1ZSxwcm9wLGFuaW1hdGlvbil7dmFyIHR3ZWVuLGNvbGxlY3Rpb249KHR3ZWVuZXJzW3Byb3BdfHxbXSkuY29uY2F0KHR3ZWVuZXJzWyIqIl0pLGluZGV4PTAsbGVuZ3RoPWNvbGxlY3Rpb24ubGVuZ3RoO2Zvcig7aW5kZXg8bGVuZ3RoO2luZGV4Kyspe2lmKCh0d2Vlbj1jb2xsZWN0aW9uW2luZGV4XS5jYWxsKGFuaW1hdGlvbixwcm9wLHZhbHVlKSkpe3JldHVybiB0d2Vlbn19fWZ1bmN0aW9uIEFuaW1hdGlvbihlbGVtLHByb3BlcnRpZXMsb3B0aW9ucyl7dmFyIHJlc3VsdCxzdG9wcGVkLGluZGV4PTAsbGVuZ3RoPWFuaW1hdGlvblByZWZpbHRlcnMubGVuZ3RoLGRlZmVycmVkPWpRdWVyeS5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB0aWNrLmVsZW19KSx0aWNrPWZ1bmN0aW9uKCl7aWYoc3RvcHBlZCl7cmV0dXJuIGZhbHNlfXZhciBjdXJyZW50VGltZT1meE5vd3x8Y3JlYXRlRnhOb3coKSxyZW1haW5pbmc9TWF0aC5tYXgoMCxhbmltYXRpb24uc3RhcnRUaW1lK2FuaW1hdGlvbi5kdXJhdGlvbi1jdXJyZW50VGltZSksdGVtcD1yZW1haW5pbmcvYW5pbWF0aW9uLmR1cmF0aW9ufHwwLHBlcmNlbnQ9MS10ZW1wLGluZGV4PTAsbGVuZ3RoPWFuaW1hdGlvbi50d2VlbnMubGVuZ3RoO2Zvcig7aW5kZXg8bGVuZ3RoO2luZGV4Kyspe2FuaW1hdGlvbi50d2VlbnNbaW5kZXhdLnJ1bihwZXJjZW50KX1kZWZlcnJlZC5ub3RpZnlXaXRoKGVsZW0sW2FuaW1hdGlvbixwZXJjZW50LHJlbWFpbmluZ10pO2lmKHBlcmNlbnQ8MSYmbGVuZ3RoKXtyZXR1cm4gcmVtYWluaW5nfWVsc2V7ZGVmZXJyZWQucmVzb2x2ZVdpdGgoZWxlbSxbYW5pbWF0aW9uXSk7cmV0dXJuIGZhbHNlfX0sYW5pbWF0aW9uPWRlZmVycmVkLnByb21pc2Uoe2VsZW06ZWxlbSxwcm9wczpqUXVlcnkuZXh0ZW5kKHt9LHByb3BlcnRpZXMpLG9wdHM6alF1ZXJ5LmV4dGVuZCh0cnVlLHtzcGVjaWFsRWFzaW5nOnt9fSxvcHRpb25zKSxvcmlnaW5hbFByb3BlcnRpZXM6cHJvcGVydGllcyxvcmlnaW5hbE9wdGlvbnM6b3B0aW9ucyxzdGFydFRpbWU6ZnhOb3d8fGNyZWF0ZUZ4Tm93KCksZHVyYXRpb246b3B0aW9ucy5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24ocHJvcCxlbmQpe3ZhciB0d2Vlbj1qUXVlcnkuVHdlZW4oZWxlbSxhbmltYXRpb24ub3B0cyxwcm9wLGVuZCxhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nW3Byb3BdfHxhbmltYXRpb24ub3B0cy5lYXNpbmcpO2FuaW1hdGlvbi50d2VlbnMucHVzaCh0d2Vlbik7cmV0dXJuIHR3ZWVufSxzdG9wOmZ1bmN0aW9uKGdvdG9FbmQpe3ZhciBpbmRleD0wLGxlbmd0aD1nb3RvRW5kP2FuaW1hdGlvbi50d2VlbnMubGVuZ3RoOjA7aWYoc3RvcHBlZCl7cmV0dXJuIHRoaXN9c3RvcHBlZD10cnVlO2Zvcig7aW5kZXg8bGVuZ3RoO2luZGV4Kyspe2FuaW1hdGlvbi50d2VlbnNbaW5kZXhdLnJ1bigxKX1pZihnb3RvRW5kKXtkZWZlcnJlZC5yZXNvbHZlV2l0aChlbGVtLFthbmltYXRpb24sZ290b0VuZF0pfWVsc2V7ZGVmZXJyZWQucmVqZWN0V2l0aChlbGVtLFthbmltYXRpb24sZ290b0VuZF0pfXJldHVybiB0aGlzfX0pLHByb3BzPWFuaW1hdGlvbi5wcm9wcztwcm9wRmlsdGVyKHByb3BzLGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmcpO2Zvcig7aW5kZXg8bGVuZ3RoO2luZGV4Kyspe3Jlc3VsdD1hbmltYXRpb25QcmVmaWx0ZXJzW2luZGV4XS5jYWxsKGFuaW1hdGlvbixlbGVtLHByb3BzLGFuaW1hdGlvbi5vcHRzKTtpZihyZXN1bHQpe3JldHVybiByZXN1bHR9fWpRdWVyeS5tYXAocHJvcHMsY3JlYXRlVHdlZW4sYW5pbWF0aW9uKTtpZihqUXVlcnkuaXNGdW5jdGlvbihhbmltYXRpb24ub3B0cy5zdGFydCkpe2FuaW1hdGlvbi5vcHRzLnN0YXJ0LmNhbGwoZWxlbSxhbmltYXRpb24pfWpRdWVyeS5meC50aW1lcihqUXVlcnkuZXh0ZW5kKHRpY2sse2VsZW06ZWxlbSxhbmltOmFuaW1hdGlvbixxdWV1ZTphbmltYXRpb24ub3B0cy5xdWV1ZX0pKTtyZXR1cm4gYW5pbWF0aW9uLnByb2dyZXNzKGFuaW1hdGlvbi5vcHRzLnByb2dyZXNzKS5kb25lKGFuaW1hdGlvbi5vcHRzLmRvbmUsYW5pbWF0aW9uLm9wdHMuY29tcGxldGUpLmZhaWwoYW5pbWF0aW9uLm9wdHMuZmFpbCkuYWx3YXlzKGFuaW1hdGlvbi5vcHRzLmFsd2F5cyl9ZnVuY3Rpb24gcHJvcEZpbHRlcihwcm9wcyxzcGVjaWFsRWFzaW5nKXt2YXIgaW5kZXgsbmFtZSxlYXNpbmcsdmFsdWUsaG9va3M7Zm9yKGluZGV4IGluIHByb3BzKXtuYW1lPWpRdWVyeS5jYW1lbENhc2UoaW5kZXgpO2Vhc2luZz1zcGVjaWFsRWFzaW5nW25hbWVdO3ZhbHVlPXByb3BzW2luZGV4XTtpZihqUXVlcnkuaXNBcnJheSh2YWx1ZSkpe2Vhc2luZz12YWx1ZVsxXTt2YWx1ZT1wcm9wc1tpbmRleF09dmFsdWVbMF19aWYoaW5kZXghPT1uYW1lKXtwcm9wc1tuYW1lXT12YWx1ZTtkZWxldGUgcHJvcHNbaW5kZXhdfWhvb2tzPWpRdWVyeS5jc3NIb29rc1tuYW1lXTtpZihob29rcyYmImV4cGFuZCIgaW4gaG9va3Mpe3ZhbHVlPWhvb2tzLmV4cGFuZCh2YWx1ZSk7ZGVsZXRlIHByb3BzW25hbWVdO2ZvcihpbmRleCBpbiB2YWx1ZSl7aWYoIShpbmRleCBpbiBwcm9wcykpe3Byb3BzW2luZGV4XT12YWx1ZVtpbmRleF07c3BlY2lhbEVhc2luZ1tpbmRleF09ZWFzaW5nfX19ZWxzZXtzcGVjaWFsRWFzaW5nW25hbWVdPWVhc2luZ319fWpRdWVyeS5BbmltYXRpb249alF1ZXJ5LmV4dGVuZChBbmltYXRpb24se3R3ZWVuZXI6ZnVuY3Rpb24ocHJvcHMsY2FsbGJhY2spe2lmKGpRdWVyeS5pc0Z1bmN0aW9uKHByb3BzKSl7Y2FsbGJhY2s9cHJvcHM7cHJvcHM9WyIqIl19ZWxzZXtwcm9wcz1wcm9wcy5zcGxpdCgiICIpfXZhciBwcm9wLGluZGV4PTAsbGVuZ3RoPXByb3BzLmxlbmd0aDtmb3IoO2luZGV4PGxlbmd0aDtpbmRleCsrKXtwcm9wPXByb3BzW2luZGV4XTt0d2VlbmVyc1twcm9wXT10d2VlbmVyc1twcm9wXXx8W107dHdlZW5lcnNbcHJvcF0udW5zaGlmdChjYWxsYmFjayl9fSxwcmVmaWx0ZXI6ZnVuY3Rpb24oY2FsbGJhY2sscHJlcGVuZCl7aWYocHJlcGVuZCl7YW5pbWF0aW9uUHJlZmlsdGVycy51bnNoaWZ0KGNhbGxiYWNrKX1lbHNle2FuaW1hdGlvblByZWZpbHRlcnMucHVzaChjYWxsYmFjayl9fX0pO2Z1bmN0aW9uIGRlZmF1bHRQcmVmaWx0ZXIoZWxlbSxwcm9wcyxvcHRzKXt2YXIgcHJvcCx2YWx1ZSx0b2dnbGUsdHdlZW4saG9va3Msb2xkZmlyZSxhbmltPXRoaXMsb3JpZz17fSxzdHlsZT1lbGVtLnN0eWxlLGhpZGRlbj1lbGVtLm5vZGVUeXBlJiZpc0hpZGRlbihlbGVtKSxkYXRhU2hvdz1qUXVlcnkuX2RhdGEoZWxlbSwiZnhzaG93Iik7aWYoIW9wdHMucXVldWUpe2hvb2tzPWpRdWVyeS5fcXVldWVIb29rcyhlbGVtLCJmeCIpO2lmKGhvb2tzLnVucXVldWVkPT1udWxsKXtob29rcy51bnF1ZXVlZD0wO29sZGZpcmU9aG9va3MuZW1wdHkuZmlyZTtob29rcy5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7aWYoIWhvb2tzLnVucXVldWVkKXtvbGRmaXJlKCl9fX1ob29rcy51bnF1ZXVlZCsrO2FuaW0uYWx3YXlzKGZ1bmN0aW9uKCl7YW5pbS5hbHdheXMoZnVuY3Rpb24oKXtob29rcy51bnF1ZXVlZC0tO2lmKCFqUXVlcnkucXVldWUoZWxlbSwiZngiKS5sZW5ndGgpe2hvb2tzLmVtcHR5LmZpcmUoKX19KX0pfWlmKGVsZW0ubm9kZVR5cGU9PT0xJiYoImhlaWdodCIgaW4gcHJvcHN8fCJ3aWR0aCIgaW4gcHJvcHMpKXtvcHRzLm92ZXJmbG93PVtzdHlsZS5vdmVyZmxvdyxzdHlsZS5vdmVyZmxvd1gsc3R5bGUub3ZlcmZsb3dZXTtpZihqUXVlcnkuY3NzKGVsZW0sImRpc3BsYXkiKT09PSJpbmxpbmUiJiZqUXVlcnkuY3NzKGVsZW0sImZsb2F0Iik9PT0ibm9uZSIpe2lmKCFqUXVlcnkuc3VwcG9ydC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0fHxjc3NfZGVmYXVsdERpc3BsYXkoZWxlbS5ub2RlTmFtZSk9PT0iaW5saW5lIil7c3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIn1lbHNle3N0eWxlLnpvb209MX19fWlmKG9wdHMub3ZlcmZsb3cpe3N0eWxlLm92ZXJmbG93PSJoaWRkZW4iO2lmKCFqUXVlcnkuc3VwcG9ydC5zaHJpbmtXcmFwQmxvY2tzKXthbmltLmFsd2F5cyhmdW5jdGlvbigpe3N0eWxlLm92ZXJmbG93PW9wdHMub3ZlcmZsb3dbMF07c3R5bGUub3ZlcmZsb3dYPW9wdHMub3ZlcmZsb3dbMV07c3R5bGUub3ZlcmZsb3dZPW9wdHMub3ZlcmZsb3dbMl19KX19Zm9yKHByb3AgaW4gcHJvcHMpe3ZhbHVlPXByb3BzW3Byb3BdO2lmKHJmeHR5cGVzLmV4ZWModmFsdWUpKXtkZWxldGUgcHJvcHNbcHJvcF07dG9nZ2xlPXRvZ2dsZXx8dmFsdWU9PT0idG9nZ2xlIjtpZih2YWx1ZT09PShoaWRkZW4/ImhpZGUiOiJzaG93Iikpe2NvbnRpbnVlfW9yaWdbcHJvcF09ZGF0YVNob3cmJmRhdGFTaG93W3Byb3BdfHxqUXVlcnkuc3R5bGUoZWxlbSxwcm9wKX19aWYoIWpRdWVyeS5pc0VtcHR5T2JqZWN0KG9yaWcpKXtpZihkYXRhU2hvdyl7aWYoImhpZGRlbiIgaW4gZGF0YVNob3cpe2hpZGRlbj1kYXRhU2hvdy5oaWRkZW59fWVsc2V7ZGF0YVNob3c9alF1ZXJ5Ll9kYXRhKGVsZW0sImZ4c2hvdyIse30pfWlmKHRvZ2dsZSl7ZGF0YVNob3cuaGlkZGVuPSFoaWRkZW59aWYoaGlkZGVuKXtqUXVlcnkoZWxlbSkuc2hvdygpfWVsc2V7YW5pbS5kb25lKGZ1bmN0aW9uKCl7alF1ZXJ5KGVsZW0pLmhpZGUoKX0pfWFuaW0uZG9uZShmdW5jdGlvbigpe3ZhciBwcm9wO2pRdWVyeS5fcmVtb3ZlRGF0YShlbGVtLCJmeHNob3ciKTtmb3IocHJvcCBpbiBvcmlnKXtqUXVlcnkuc3R5bGUoZWxlbSxwcm9wLG9yaWdbcHJvcF0pfX0pO2Zvcihwcm9wIGluIG9yaWcpe3R3ZWVuPWNyZWF0ZVR3ZWVuKGhpZGRlbj9kYXRhU2hvd1twcm9wXTowLHByb3AsYW5pbSk7aWYoIShwcm9wIGluIGRhdGFTaG93KSl7ZGF0YVNob3dbcHJvcF09dHdlZW4uc3RhcnQ7aWYoaGlkZGVuKXt0d2Vlbi5lbmQ9dHdlZW4uc3RhcnQ7dHdlZW4uc3RhcnQ9cHJvcD09PSJ3aWR0aCJ8fHByb3A9PT0iaGVpZ2h0Ij8xOjB9fX19fWZ1bmN0aW9uIFR3ZWVuKGVsZW0sb3B0aW9ucyxwcm9wLGVuZCxlYXNpbmcpe3JldHVybiBuZXcgVHdlZW4ucHJvdG90eXBlLmluaXQoZWxlbSxvcHRpb25zLHByb3AsZW5kLGVhc2luZyl9alF1ZXJ5LlR3ZWVuPVR3ZWVuO1R3ZWVuLnByb3RvdHlwZT17Y29uc3RydWN0b3I6VHdlZW4saW5pdDpmdW5jdGlvbihlbGVtLG9wdGlvbnMscHJvcCxlbmQsZWFzaW5nLHVuaXQpe3RoaXMuZWxlbT1lbGVtO3RoaXMucHJvcD1wcm9wO3RoaXMuZWFzaW5nPWVhc2luZ3x8InN3aW5nIjt0aGlzLm9wdGlvbnM9b3B0aW9uczt0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCk7dGhpcy5lbmQ9ZW5kO3RoaXMudW5pdD11bml0fHwoalF1ZXJ5LmNzc051bWJlcltwcm9wXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGhvb2tzPVR3ZWVuLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBob29rcyYmaG9va3MuZ2V0P2hvb2tzLmdldCh0aGlzKTpUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24ocGVyY2VudCl7dmFyIGVhc2VkLGhvb2tzPVR3ZWVuLnByb3BIb29rc1t0aGlzLnByb3BdO2lmKHRoaXMub3B0aW9ucy5kdXJhdGlvbil7dGhpcy5wb3M9ZWFzZWQ9alF1ZXJ5LmVhc2luZ1t0aGlzLmVhc2luZ10ocGVyY2VudCx0aGlzLm9wdGlvbnMuZHVyYXRpb24qcGVyY2VudCwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKX1lbHNle3RoaXMucG9zPWVhc2VkPXBlcmNlbnR9dGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKmVhc2VkK3RoaXMuc3RhcnQ7aWYodGhpcy5vcHRpb25zLnN0ZXApe3RoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpfWlmKGhvb2tzJiZob29rcy5zZXQpe2hvb2tzLnNldCh0aGlzKX1lbHNle1R3ZWVuLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyl9cmV0dXJuIHRoaXN9fTtUd2Vlbi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9VHdlZW4ucHJvdG90eXBlO1R3ZWVuLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbih0d2Vlbil7dmFyIHJlc3VsdDtpZih0d2Vlbi5lbGVtW3R3ZWVuLnByb3BdIT1udWxsJiYoIXR3ZWVuLmVsZW0uc3R5bGV8fHR3ZWVuLmVsZW0uc3R5bGVbdHdlZW4ucHJvcF09PW51bGwpKXtyZXR1cm4gdHdlZW4uZWxlbVt0d2Vlbi5wcm9wXX1yZXN1bHQ9alF1ZXJ5LmNzcyh0d2Vlbi5lbGVtLHR3ZWVuLnByb3AsIiIpO3JldHVybiAhcmVzdWx0fHxyZXN1bHQ9PT0iYXV0byI/MDpyZXN1bHR9LHNldDpmdW5jdGlvbih0d2Vlbil7aWYoalF1ZXJ5LmZ4LnN0ZXBbdHdlZW4ucHJvcF0pe2pRdWVyeS5meC5zdGVwW3R3ZWVuLnByb3BdKHR3ZWVuKX1lbHNle2lmKHR3ZWVuLmVsZW0uc3R5bGUmJih0d2Vlbi5lbGVtLnN0eWxlW2pRdWVyeS5jc3NQcm9wc1t0d2Vlbi5wcm9wXV0hPW51bGx8fGpRdWVyeS5jc3NIb29rc1t0d2Vlbi5wcm9wXSkpe2pRdWVyeS5zdHlsZSh0d2Vlbi5lbGVtLHR3ZWVuLnByb3AsdHdlZW4ubm93K3R3ZWVuLnVuaXQpfWVsc2V7dHdlZW4uZWxlbVt0d2Vlbi5wcm9wXT10d2Vlbi5ub3d9fX19fTtUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsVG9wPVR3ZWVuLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24odHdlZW4pe2lmKHR3ZWVuLmVsZW0ubm9kZVR5cGUmJnR3ZWVuLmVsZW0ucGFyZW50Tm9kZSl7dHdlZW4uZWxlbVt0d2Vlbi5wcm9wXT10d2Vlbi5ub3d9fX07alF1ZXJ5LmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGksbmFtZSl7dmFyIGNzc0ZuPWpRdWVyeS5mbltuYW1lXTtqUXVlcnkuZm5bbmFtZV09ZnVuY3Rpb24oc3BlZWQsZWFzaW5nLGNhbGxiYWNrKXtyZXR1cm4gc3BlZWQ9PW51bGx8fHR5cGVvZiBzcGVlZD09PSJib29sZWFuIj9jc3NGbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKGdlbkZ4KG5hbWUsdHJ1ZSksc3BlZWQsZWFzaW5nLGNhbGxiYWNrKX19KTtqUXVlcnkuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oc3BlZWQsdG8sZWFzaW5nLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5maWx0ZXIoaXNIaWRkZW4pLmNzcygib3BhY2l0eSIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6dG99LHNwZWVkLGVhc2luZyxjYWxsYmFjayl9LGFuaW1hdGU6ZnVuY3Rpb24ocHJvcCxzcGVlZCxlYXNpbmcsY2FsbGJhY2spe3ZhciBlbXB0eT1qUXVlcnkuaXNFbXB0eU9iamVjdChwcm9wKSxvcHRhbGw9alF1ZXJ5LnNwZWVkKHNwZWVkLGVhc2luZyxjYWxsYmFjayksZG9BbmltYXRpb249ZnVuY3Rpb24oKXt2YXIgYW5pbT1BbmltYXRpb24odGhpcyxqUXVlcnkuZXh0ZW5kKHt9LHByb3ApLG9wdGFsbCk7aWYoZW1wdHl8fGpRdWVyeS5fZGF0YSh0aGlzLCJmaW5pc2giKSl7YW5pbS5zdG9wKHRydWUpfX07ZG9BbmltYXRpb24uZmluaXNoPWRvQW5pbWF0aW9uO3JldHVybiBlbXB0eXx8b3B0YWxsLnF1ZXVlPT09ZmFsc2U/dGhpcy5lYWNoKGRvQW5pbWF0aW9uKTp0aGlzLnF1ZXVlKG9wdGFsbC5xdWV1ZSxkb0FuaW1hdGlvbil9LHN0b3A6ZnVuY3Rpb24odHlwZSxjbGVhclF1ZXVlLGdvdG9FbmQpe3ZhciBzdG9wUXVldWU9ZnVuY3Rpb24oaG9va3Mpe3ZhciBzdG9wPWhvb2tzLnN0b3A7ZGVsZXRlIGhvb2tzLnN0b3A7c3RvcChnb3RvRW5kKX07aWYodHlwZW9mIHR5cGUhPT0ic3RyaW5nIil7Z290b0VuZD1jbGVhclF1ZXVlO2NsZWFyUXVldWU9dHlwZTt0eXBlPXVuZGVmaW5lZH1pZihjbGVhclF1ZXVlJiZ0eXBlIT09ZmFsc2Upe3RoaXMucXVldWUodHlwZXx8ImZ4IixbXSl9cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkZXF1ZXVlPXRydWUsaW5kZXg9dHlwZSE9bnVsbCYmdHlwZSsicXVldWVIb29rcyIsdGltZXJzPWpRdWVyeS50aW1lcnMsZGF0YT1qUXVlcnkuX2RhdGEodGhpcyk7aWYoaW5kZXgpe2lmKGRhdGFbaW5kZXhdJiZkYXRhW2luZGV4XS5zdG9wKXtzdG9wUXVldWUoZGF0YVtpbmRleF0pfX1lbHNle2ZvcihpbmRleCBpbiBkYXRhKXtpZihkYXRhW2luZGV4XSYmZGF0YVtpbmRleF0uc3RvcCYmcnJ1bi50ZXN0KGluZGV4KSl7c3RvcFF1ZXVlKGRhdGFbaW5kZXhdKX19fWZvcihpbmRleD10aW1lcnMubGVuZ3RoO2luZGV4LS07KXtpZih0aW1lcnNbaW5kZXhdLmVsZW09PT10aGlzJiYodHlwZT09bnVsbHx8dGltZXJzW2luZGV4XS5xdWV1ZT09PXR5cGUpKXt0aW1lcnNbaW5kZXhdLmFuaW0uc3RvcChnb3RvRW5kKTtkZXF1ZXVlPWZhbHNlO3RpbWVycy5zcGxpY2UoaW5kZXgsMSl9fWlmKGRlcXVldWV8fCFnb3RvRW5kKXtqUXVlcnkuZGVxdWV1ZSh0aGlzLHR5cGUpfX0pfSxmaW5pc2g6ZnVuY3Rpb24odHlwZSl7aWYodHlwZSE9PWZhbHNlKXt0eXBlPXR5cGV8fCJmeCJ9cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpbmRleCxkYXRhPWpRdWVyeS5fZGF0YSh0aGlzKSxxdWV1ZT1kYXRhW3R5cGUrInF1ZXVlIl0saG9va3M9ZGF0YVt0eXBlKyJxdWV1ZUhvb2tzIl0sdGltZXJzPWpRdWVyeS50aW1lcnMsbGVuZ3RoPXF1ZXVlP3F1ZXVlLmxlbmd0aDowO2RhdGEuZmluaXNoPXRydWU7alF1ZXJ5LnF1ZXVlKHRoaXMsdHlwZSxbXSk7aWYoaG9va3MmJmhvb2tzLnN0b3Ape2hvb2tzLnN0b3AuY2FsbCh0aGlzLHRydWUpfWZvcihpbmRleD10aW1lcnMubGVuZ3RoO2luZGV4LS07KXtpZih0aW1lcnNbaW5kZXhdLmVsZW09PT10aGlzJiZ0aW1lcnNbaW5kZXhdLnF1ZXVlPT09dHlwZSl7dGltZXJzW2luZGV4XS5hbmltLnN0b3AodHJ1ZSk7dGltZXJzLnNwbGljZShpbmRleCwxKX19Zm9yKGluZGV4PTA7aW5kZXg8bGVuZ3RoO2luZGV4Kyspe2lmKHF1ZXVlW2luZGV4XSYmcXVldWVbaW5kZXhdLmZpbmlzaCl7cXVldWVbaW5kZXhdLmZpbmlzaC5jYWxsKHRoaXMpfX1kZWxldGUgZGF0YS5maW5pc2h9KX19KTtmdW5jdGlvbiBnZW5GeCh0eXBlLGluY2x1ZGVXaWR0aCl7dmFyIHdoaWNoLGF0dHJzPXtoZWlnaHQ6dHlwZX0saT0wO2luY2x1ZGVXaWR0aD1pbmNsdWRlV2lkdGg/MTowO2Zvcig7aTw0O2krPTItaW5jbHVkZVdpZHRoKXt3aGljaD1jc3NFeHBhbmRbaV07YXR0cnNbIm1hcmdpbiIrd2hpY2hdPWF0dHJzWyJwYWRkaW5nIit3aGljaF09dHlwZX1pZihpbmNsdWRlV2lkdGgpe2F0dHJzLm9wYWNpdHk9YXR0cnMud2lkdGg9dHlwZX1yZXR1cm4gYXR0cnN9alF1ZXJ5LmVhY2goe3NsaWRlRG93bjpnZW5GeCgic2hvdyIpLHNsaWRlVXA6Z2VuRngoImhpZGUiKSxzbGlkZVRvZ2dsZTpnZW5GeCgidG9nZ2xlIiksZmFkZUluOntvcGFjaXR5OiJzaG93In0sZmFkZU91dDp7b3BhY2l0eToiaGlkZSJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6InRvZ2dsZSJ9fSxmdW5jdGlvbihuYW1lLHByb3BzKXtqUXVlcnkuZm5bbmFtZV09ZnVuY3Rpb24oc3BlZWQsZWFzaW5nLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5hbmltYXRlKHByb3BzLHNwZWVkLGVhc2luZyxjYWxsYmFjayl9fSk7alF1ZXJ5LnNwZWVkPWZ1bmN0aW9uKHNwZWVkLGVhc2luZyxmbil7dmFyIG9wdD1zcGVlZCYmdHlwZW9mIHNwZWVkPT09Im9iamVjdCI/alF1ZXJ5LmV4dGVuZCh7fSxzcGVlZCk6e2NvbXBsZXRlOmZufHwhZm4mJmVhc2luZ3x8alF1ZXJ5LmlzRnVuY3Rpb24oc3BlZWQpJiZzcGVlZCxkdXJhdGlvbjpzcGVlZCxlYXNpbmc6Zm4mJmVhc2luZ3x8ZWFzaW5nJiYhalF1ZXJ5LmlzRnVuY3Rpb24oZWFzaW5nKSYmZWFzaW5nfTtvcHQuZHVyYXRpb249alF1ZXJ5LmZ4Lm9mZj8wOnR5cGVvZiBvcHQuZHVyYXRpb249PT0ibnVtYmVyIj9vcHQuZHVyYXRpb246b3B0LmR1cmF0aW9uIGluIGpRdWVyeS5meC5zcGVlZHM/alF1ZXJ5LmZ4LnNwZWVkc1tvcHQuZHVyYXRpb25dOmpRdWVyeS5meC5zcGVlZHMuX2RlZmF1bHQ7aWYob3B0LnF1ZXVlPT1udWxsfHxvcHQucXVldWU9PT10cnVlKXtvcHQucXVldWU9ImZ4In1vcHQub2xkPW9wdC5jb21wbGV0ZTtvcHQuY29tcGxldGU9ZnVuY3Rpb24oKXtpZihqUXVlcnkuaXNGdW5jdGlvbihvcHQub2xkKSl7b3B0Lm9sZC5jYWxsKHRoaXMpfWlmKG9wdC5xdWV1ZSl7alF1ZXJ5LmRlcXVldWUodGhpcyxvcHQucXVldWUpfX07cmV0dXJuIG9wdH07alF1ZXJ5LmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKHApe3JldHVybiBwfSxzd2luZzpmdW5jdGlvbihwKXtyZXR1cm4gMC41LU1hdGguY29zKHAqTWF0aC5QSSkvMn19O2pRdWVyeS50aW1lcnM9W107alF1ZXJ5LmZ4PVR3ZWVuLnByb3RvdHlwZS5pbml0O2pRdWVyeS5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIHRpbWVyLHRpbWVycz1qUXVlcnkudGltZXJzLGk9MDtmeE5vdz1qUXVlcnkubm93KCk7Zm9yKDtpPHRpbWVycy5sZW5ndGg7aSsrKXt0aW1lcj10aW1lcnNbaV07aWYoIXRpbWVyKCkmJnRpbWVyc1tpXT09PXRpbWVyKXt0aW1lcnMuc3BsaWNlKGktLSwxKX19aWYoIXRpbWVycy5sZW5ndGgpe2pRdWVyeS5meC5zdG9wKCl9ZnhOb3c9dW5kZWZpbmVkfTtqUXVlcnkuZngudGltZXI9ZnVuY3Rpb24odGltZXIpe2lmKHRpbWVyKCkmJmpRdWVyeS50aW1lcnMucHVzaCh0aW1lcikpe2pRdWVyeS5meC5zdGFydCgpfX07alF1ZXJ5LmZ4LmludGVydmFsPTEzO2pRdWVyeS5meC5zdGFydD1mdW5jdGlvbigpe2lmKCF0aW1lcklkKXt0aW1lcklkPXNldEludGVydmFsKGpRdWVyeS5meC50aWNrLGpRdWVyeS5meC5pbnRlcnZhbCl9fTtqUXVlcnkuZnguc3RvcD1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwodGltZXJJZCk7dGltZXJJZD1udWxsfTtqUXVlcnkuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9O2pRdWVyeS5meC5zdGVwPXt9O2lmKGpRdWVyeS5leHByJiZqUXVlcnkuZXhwci5maWx0ZXJzKXtqUXVlcnkuZXhwci5maWx0ZXJzLmFuaW1hdGVkPWZ1bmN0aW9uKGVsZW0pe3JldHVybiBqUXVlcnkuZ3JlcChqUXVlcnkudGltZXJzLGZ1bmN0aW9uKGZuKXtyZXR1cm4gZWxlbT09PWZuLmVsZW19KS5sZW5ndGh9fWpRdWVyeS5mbi5vZmZzZXQ9ZnVuY3Rpb24ob3B0aW9ucyl7aWYoYXJndW1lbnRzLmxlbmd0aCl7cmV0dXJuIG9wdGlvbnM9PT11bmRlZmluZWQ/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oaSl7alF1ZXJ5Lm9mZnNldC5zZXRPZmZzZXQodGhpcyxvcHRpb25zLGkpfSl9dmFyIGRvY0VsZW0sd2luLGJveD17dG9wOjAsbGVmdDowfSxlbGVtPXRoaXNbMF0sZG9jPWVsZW0mJmVsZW0ub3duZXJEb2N1bWVudDtpZighZG9jKXtyZXR1cm59ZG9jRWxlbT1kb2MuZG9jdW1lbnRFbGVtZW50O2lmKCFqUXVlcnkuY29udGFpbnMoZG9jRWxlbSxlbGVtKSl7cmV0dXJuIGJveH1pZih0eXBlb2YgZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QhPT1jb3JlX3N0cnVuZGVmaW5lZCl7Ym94PWVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9d2luPWdldFdpbmRvdyhkb2MpO3JldHVybnt0b3A6Ym94LnRvcCsod2luLnBhZ2VZT2Zmc2V0fHxkb2NFbGVtLnNjcm9sbFRvcCktKGRvY0VsZW0uY2xpZW50VG9wfHwwKSxsZWZ0OmJveC5sZWZ0Kyh3aW4ucGFnZVhPZmZzZXR8fGRvY0VsZW0uc2Nyb2xsTGVmdCktKGRvY0VsZW0uY2xpZW50TGVmdHx8MCl9fTtqUXVlcnkub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oZWxlbSxvcHRpb25zLGkpe3ZhciBwb3NpdGlvbj1qUXVlcnkuY3NzKGVsZW0sInBvc2l0aW9uIik7aWYocG9zaXRpb249PT0ic3RhdGljIil7ZWxlbS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUifXZhciBjdXJFbGVtPWpRdWVyeShlbGVtKSxjdXJPZmZzZXQ9Y3VyRWxlbS5vZmZzZXQoKSxjdXJDU1NUb3A9alF1ZXJ5LmNzcyhlbGVtLCJ0b3AiKSxjdXJDU1NMZWZ0PWpRdWVyeS5jc3MoZWxlbSwibGVmdCIpLGNhbGN1bGF0ZVBvc2l0aW9uPShwb3NpdGlvbj09PSJhYnNvbHV0ZSJ8fHBvc2l0aW9uPT09ImZpeGVkIikmJmpRdWVyeS5pbkFycmF5KCJhdXRvIixbY3VyQ1NTVG9wLGN1ckNTU0xlZnRdKT4tMSxwcm9wcz17fSxjdXJQb3NpdGlvbj17fSxjdXJUb3AsY3VyTGVmdDtpZihjYWxjdWxhdGVQb3NpdGlvbil7Y3VyUG9zaXRpb249Y3VyRWxlbS5wb3NpdGlvbigpO2N1clRvcD1jdXJQb3NpdGlvbi50b3A7Y3VyTGVmdD1jdXJQb3NpdGlvbi5sZWZ0fWVsc2V7Y3VyVG9wPXBhcnNlRmxvYXQoY3VyQ1NTVG9wKXx8MDtjdXJMZWZ0PXBhcnNlRmxvYXQoY3VyQ1NTTGVmdCl8fDB9aWYoalF1ZXJ5LmlzRnVuY3Rpb24ob3B0aW9ucykpe29wdGlvbnM9b3B0aW9ucy5jYWxsKGVsZW0saSxjdXJPZmZzZXQpfWlmKG9wdGlvbnMudG9wIT1udWxsKXtwcm9wcy50b3A9KG9wdGlvbnMudG9wLWN1ck9mZnNldC50b3ApK2N1clRvcH1pZihvcHRpb25zLmxlZnQhPW51bGwpe3Byb3BzLmxlZnQ9KG9wdGlvbnMubGVmdC1jdXJPZmZzZXQubGVmdCkrY3VyTGVmdH1pZigidXNpbmciIGluIG9wdGlvbnMpe29wdGlvbnMudXNpbmcuY2FsbChlbGVtLHByb3BzKX1lbHNle2N1ckVsZW0uY3NzKHByb3BzKX19fTtqUXVlcnkuZm4uZXh0ZW5kKHtwb3NpdGlvbjpmdW5jdGlvbigpe2lmKCF0aGlzWzBdKXtyZXR1cm59dmFyIG9mZnNldFBhcmVudCxvZmZzZXQscGFyZW50T2Zmc2V0PXt0b3A6MCxsZWZ0OjB9LGVsZW09dGhpc1swXTtpZihqUXVlcnkuY3NzKGVsZW0sInBvc2l0aW9uIik9PT0iZml4ZWQiKXtvZmZzZXQ9ZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1lbHNle29mZnNldFBhcmVudD10aGlzLm9mZnNldFBhcmVudCgpO29mZnNldD10aGlzLm9mZnNldCgpO2lmKCFqUXVlcnkubm9kZU5hbWUob2Zmc2V0UGFyZW50WzBdLCJodG1sIikpe3BhcmVudE9mZnNldD1vZmZzZXRQYXJlbnQub2Zmc2V0KCl9cGFyZW50T2Zmc2V0LnRvcCs9alF1ZXJ5LmNzcyhvZmZzZXRQYXJlbnRbMF0sImJvcmRlclRvcFdpZHRoIix0cnVlKTtwYXJlbnRPZmZzZXQubGVmdCs9alF1ZXJ5LmNzcyhvZmZzZXRQYXJlbnRbMF0sImJvcmRlckxlZnRXaWR0aCIsdHJ1ZSl9cmV0dXJue3RvcDpvZmZzZXQudG9wLXBhcmVudE9mZnNldC50b3AtalF1ZXJ5LmNzcyhlbGVtLCJtYXJnaW5Ub3AiLHRydWUpLGxlZnQ6b2Zmc2V0LmxlZnQtcGFyZW50T2Zmc2V0LmxlZnQtalF1ZXJ5LmNzcyhlbGVtLCJtYXJnaW5MZWZ0Iix0cnVlKX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBvZmZzZXRQYXJlbnQ9dGhpcy5vZmZzZXRQYXJlbnR8fGRvY0VsZW07d2hpbGUob2Zmc2V0UGFyZW50JiYoIWpRdWVyeS5ub2RlTmFtZShvZmZzZXRQYXJlbnQsImh0bWwiKSYmalF1ZXJ5LmNzcyhvZmZzZXRQYXJlbnQsInBvc2l0aW9uIik9PT0ic3RhdGljIikpe29mZnNldFBhcmVudD1vZmZzZXRQYXJlbnQub2Zmc2V0UGFyZW50fXJldHVybiBvZmZzZXRQYXJlbnR8fGRvY0VsZW19KX19KTtqUXVlcnkuZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihtZXRob2QscHJvcCl7dmFyIHRvcD0vWS8udGVzdChwcm9wKTtqUXVlcnkuZm5bbWV0aG9kXT1mdW5jdGlvbih2YWwpe3JldHVybiBqUXVlcnkuYWNjZXNzKHRoaXMsZnVuY3Rpb24oZWxlbSxtZXRob2QsdmFsKXt2YXIgd2luPWdldFdpbmRvdyhlbGVtKTtpZih2YWw9PT11bmRlZmluZWQpe3JldHVybiB3aW4/KHByb3AgaW4gd2luKT93aW5bcHJvcF06d2luLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFttZXRob2RdOmVsZW1bbWV0aG9kXX1pZih3aW4pe3dpbi5zY3JvbGxUbyghdG9wP3ZhbDpqUXVlcnkod2luKS5zY3JvbGxMZWZ0KCksdG9wP3ZhbDpqUXVlcnkod2luKS5zY3JvbGxUb3AoKSl9ZWxzZXtlbGVtW21ldGhvZF09dmFsfX0sbWV0aG9kLHZhbCxhcmd1bWVudHMubGVuZ3RoLG51bGwpfX0pO2Z1bmN0aW9uIGdldFdpbmRvdyhlbGVtKXtyZXR1cm4galF1ZXJ5LmlzV2luZG93KGVsZW0pP2VsZW06ZWxlbS5ub2RlVHlwZT09PTk/ZWxlbS5kZWZhdWx0Vmlld3x8ZWxlbS5wYXJlbnRXaW5kb3c6ZmFsc2V9alF1ZXJ5LmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihuYW1lLHR5cGUpe2pRdWVyeS5lYWNoKHtwYWRkaW5nOiJpbm5lciIrbmFtZSxjb250ZW50OnR5cGUsIiI6Im91dGVyIituYW1lfSxmdW5jdGlvbihkZWZhdWx0RXh0cmEsZnVuY05hbWUpe2pRdWVyeS5mbltmdW5jTmFtZV09ZnVuY3Rpb24obWFyZ2luLHZhbHVlKXt2YXIgY2hhaW5hYmxlPWFyZ3VtZW50cy5sZW5ndGgmJihkZWZhdWx0RXh0cmF8fHR5cGVvZiBtYXJnaW4hPT0iYm9vbGVhbiIpLGV4dHJhPWRlZmF1bHRFeHRyYXx8KG1hcmdpbj09PXRydWV8fHZhbHVlPT09dHJ1ZT8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIGpRdWVyeS5hY2Nlc3ModGhpcyxmdW5jdGlvbihlbGVtLHR5cGUsdmFsdWUpe3ZhciBkb2M7aWYoalF1ZXJ5LmlzV2luZG93KGVsZW0pKXtyZXR1cm4gZWxlbS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrbmFtZV19aWYoZWxlbS5ub2RlVHlwZT09PTkpe2RvYz1lbGVtLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gTWF0aC5tYXgoZWxlbS5ib2R5WyJzY3JvbGwiK25hbWVdLGRvY1sic2Nyb2xsIituYW1lXSxlbGVtLmJvZHlbIm9mZnNldCIrbmFtZV0sZG9jWyJvZmZzZXQiK25hbWVdLGRvY1siY2xpZW50IituYW1lXSl9cmV0dXJuIHZhbHVlPT09dW5kZWZpbmVkP2pRdWVyeS5jc3MoZWxlbSx0eXBlLGV4dHJhKTpqUXVlcnkuc3R5bGUoZWxlbSx0eXBlLHZhbHVlLGV4dHJhKX0sdHlwZSxjaGFpbmFibGU/bWFyZ2luOnVuZGVmaW5lZCxjaGFpbmFibGUsbnVsbCl9fSl9KTtqUXVlcnkuZm4uc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH07alF1ZXJ5LmZuLmFuZFNlbGY9alF1ZXJ5LmZuLmFkZEJhY2s7aWYodHlwZW9mIG1vZHVsZT09PSJvYmplY3QiJiZtb2R1bGUmJnR5cGVvZiBtb2R1bGUuZXhwb3J0cz09PSJvYmplY3QiKXttb2R1bGUuZXhwb3J0cz1qUXVlcnl9ZWxzZXt3aW5kb3cualF1ZXJ5PXdpbmRvdy4kPWpRdWVyeTtpZih0eXBlb2YgZGVmaW5lPT09ImZ1bmN0aW9uIiYmZGVmaW5lLmFtZCl7ZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIGpRdWVyeX0pfX19KSh3aW5kb3cpOy8qISBqUXVlcnkgVUkgLSB2MS4xMS4xIC0gMjAxNC0wOC0xMwoqIGh0dHA6Ly9qcXVlcnl1aS5jb20KKiBJbmNsdWRlczogY29yZS5qcywgd2lkZ2V0LmpzLCBtb3VzZS5qcywgcG9zaXRpb24uanMsIGFjY29yZGlvbi5qcywgYXV0b2NvbXBsZXRlLmpzLCBidXR0b24uanMsIGRhdGVwaWNrZXIuanMsIGRpYWxvZy5qcywgZHJhZ2dhYmxlLmpzLCBkcm9wcGFibGUuanMsIGVmZmVjdC5qcywgZWZmZWN0LWJsaW5kLmpzLCBlZmZlY3QtYm91bmNlLmpzLCBlZmZlY3QtY2xpcC5qcywgZWZmZWN0LWRyb3AuanMsIGVmZmVjdC1leHBsb2RlLmpzLCBlZmZlY3QtZmFkZS5qcywgZWZmZWN0LWZvbGQuanMsIGVmZmVjdC1oaWdobGlnaHQuanMsIGVmZmVjdC1wdWZmLmpzLCBlZmZlY3QtcHVsc2F0ZS5qcywgZWZmZWN0LXNjYWxlLmpzLCBlZmZlY3Qtc2hha2UuanMsIGVmZmVjdC1zaXplLmpzLCBlZmZlY3Qtc2xpZGUuanMsIGVmZmVjdC10cmFuc2Zlci5qcywgbWVudS5qcywgcHJvZ3Jlc3NiYXIuanMsIHJlc2l6YWJsZS5qcywgc2VsZWN0YWJsZS5qcywgc2VsZWN0bWVudS5qcywgc2xpZGVyLmpzLCBzb3J0YWJsZS5qcywgc3Bpbm5lci5qcywgdGFicy5qcywgdG9vbHRpcC5qcwoqIENvcHlyaWdodCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnM7IExpY2Vuc2VkIE1JVCAqLwooZnVuY3Rpb24oZSl7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxlKTplKGpRdWVyeSl9KShmdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscyl7dmFyIG4sYSxvLHI9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJhcmVhIj09PXI/KG49dC5wYXJlbnROb2RlLGE9bi5uYW1lLHQuaHJlZiYmYSYmIm1hcCI9PT1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/KG89ZSgiaW1nW3VzZW1hcD0nIyIrYSsiJ10iKVswXSwhIW8mJmkobykpOiExKTooL2lucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0Ly50ZXN0KHIpPyF0LmRpc2FibGVkOiJhIj09PXI/dC5ocmVmfHxzOnMpJiZpKHQpfWZ1bmN0aW9uIGkodCl7cmV0dXJuIGUuZXhwci5maWx0ZXJzLnZpc2libGUodCkmJiFlKHQpLnBhcmVudHMoKS5hZGRCYWNrKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuImhpZGRlbiI9PT1lLmNzcyh0aGlzLCJ2aXNpYmlsaXR5Iil9KS5sZW5ndGh9ZnVuY3Rpb24gcyhlKXtmb3IodmFyIHQsaTtlLmxlbmd0aCYmZVswXSE9PWRvY3VtZW50Oyl7aWYodD1lLmNzcygicG9zaXRpb24iKSwoImFic29sdXRlIj09PXR8fCJyZWxhdGl2ZSI9PT10fHwiZml4ZWQiPT09dCkmJihpPXBhcnNlSW50KGUuY3NzKCJ6SW5kZXgiKSwxMCksIWlzTmFOKGkpJiYwIT09aSkpe3JldHVybiBpfWU9ZS5wYXJlbnQoKX1yZXR1cm4gMH1mdW5jdGlvbiBuKCl7dGhpcy5fY3VySW5zdD1udWxsLHRoaXMuX2tleUV2ZW50PSExLHRoaXMuX2Rpc2FibGVkSW5wdXRzPVtdLHRoaXMuX2RhdGVwaWNrZXJTaG93aW5nPSExLHRoaXMuX2luRGlhbG9nPSExLHRoaXMuX21haW5EaXZJZD0idWktZGF0ZXBpY2tlci1kaXYiLHRoaXMuX2lubGluZUNsYXNzPSJ1aS1kYXRlcGlja2VyLWlubGluZSIsdGhpcy5fYXBwZW5kQ2xhc3M9InVpLWRhdGVwaWNrZXItYXBwZW5kIix0aGlzLl90cmlnZ2VyQ2xhc3M9InVpLWRhdGVwaWNrZXItdHJpZ2dlciIsdGhpcy5fZGlhbG9nQ2xhc3M9InVpLWRhdGVwaWNrZXItZGlhbG9nIix0aGlzLl9kaXNhYmxlQ2xhc3M9InVpLWRhdGVwaWNrZXItZGlzYWJsZWQiLHRoaXMuX3Vuc2VsZWN0YWJsZUNsYXNzPSJ1aS1kYXRlcGlja2VyLXVuc2VsZWN0YWJsZSIsdGhpcy5fY3VycmVudENsYXNzPSJ1aS1kYXRlcGlja2VyLWN1cnJlbnQtZGF5Iix0aGlzLl9kYXlPdmVyQ2xhc3M9InVpLWRhdGVwaWNrZXItZGF5cy1jZWxsLW92ZXIiLHRoaXMucmVnaW9uYWw9W10sdGhpcy5yZWdpb25hbFsiIl09e2Nsb3NlVGV4dDoiRG9uZSIscHJldlRleHQ6IlByZXYiLG5leHRUZXh0OiJOZXh0IixjdXJyZW50VGV4dDoiVG9kYXkiLG1vbnRoTmFtZXM6WyJKYW51YXJ5IiwiRmVicnVhcnkiLCJNYXJjaCIsIkFwcmlsIiwiTWF5IiwiSnVuZSIsIkp1bHkiLCJBdWd1c3QiLCJTZXB0ZW1iZXIiLCJPY3RvYmVyIiwiTm92ZW1iZXIiLCJEZWNlbWJlciJdLG1vbnRoTmFtZXNTaG9ydDpbIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdLGRheU5hbWVzOlsiU3VuZGF5IiwiTW9uZGF5IiwiVHVlc2RheSIsIldlZG5lc2RheSIsIlRodXJzZGF5IiwiRnJpZGF5IiwiU2F0dXJkYXkiXSxkYXlOYW1lc1Nob3J0OlsiU3VuIiwiTW9uIiwiVHVlIiwiV2VkIiwiVGh1IiwiRnJpIiwiU2F0Il0sZGF5TmFtZXNNaW46WyJTdSIsIk1vIiwiVHUiLCJXZSIsIlRoIiwiRnIiLCJTYSJdLHdlZWtIZWFkZXI6IldrIixkYXRlRm9ybWF0OiJtbS9kZC95eSIsZmlyc3REYXk6MCxpc1JUTDohMSxzaG93TW9udGhBZnRlclllYXI6ITEseWVhclN1ZmZpeDoiIn0sdGhpcy5fZGVmYXVsdHM9e3Nob3dPbjoiZm9jdXMiLHNob3dBbmltOiJmYWRlSW4iLHNob3dPcHRpb25zOnt9LGRlZmF1bHREYXRlOm51bGwsYXBwZW5kVGV4dDoiIixidXR0b25UZXh0OiIuLi4iLGJ1dHRvbkltYWdlOiIiLGJ1dHRvbkltYWdlT25seTohMSxoaWRlSWZOb1ByZXZOZXh0OiExLG5hdmlnYXRpb25Bc0RhdGVGb3JtYXQ6ITEsZ290b0N1cnJlbnQ6ITEsY2hhbmdlTW9udGg6ITEsY2hhbmdlWWVhcjohMSx5ZWFyUmFuZ2U6ImMtMTA6YysxMCIsc2hvd090aGVyTW9udGhzOiExLHNlbGVjdE90aGVyTW9udGhzOiExLHNob3dXZWVrOiExLGNhbGN1bGF0ZVdlZWs6dGhpcy5pc284NjAxV2VlayxzaG9ydFllYXJDdXRvZmY6IisxMCIsbWluRGF0ZTpudWxsLG1heERhdGU6bnVsbCxkdXJhdGlvbjoiZmFzdCIsYmVmb3JlU2hvd0RheTpudWxsLGJlZm9yZVNob3c6bnVsbCxvblNlbGVjdDpudWxsLG9uQ2hhbmdlTW9udGhZZWFyOm51bGwsb25DbG9zZTpudWxsLG51bWJlck9mTW9udGhzOjEsc2hvd0N1cnJlbnRBdFBvczowLHN0ZXBNb250aHM6MSxzdGVwQmlnTW9udGhzOjEyLGFsdEZpZWxkOiIiLGFsdEZvcm1hdDoiIixjb25zdHJhaW5JbnB1dDohMCxzaG93QnV0dG9uUGFuZWw6ITEsYXV0b1NpemU6ITEsZGlzYWJsZWQ6ITF9LGUuZXh0ZW5kKHRoaXMuX2RlZmF1bHRzLHRoaXMucmVnaW9uYWxbIiJdKSx0aGlzLnJlZ2lvbmFsLmVuPWUuZXh0ZW5kKCEwLHt9LHRoaXMucmVnaW9uYWxbIiJdKSx0aGlzLnJlZ2lvbmFsWyJlbi1VUyJdPWUuZXh0ZW5kKCEwLHt9LHRoaXMucmVnaW9uYWwuZW4pLHRoaXMuZHBEaXY9YShlKCI8ZGl2IGlkPSciK3RoaXMuX21haW5EaXZJZCsiJyBjbGFzcz0ndWktZGF0ZXBpY2tlciB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktaGVscGVyLWNsZWFyZml4IHVpLWNvcm5lci1hbGwnPjwvZGl2PiIpKX1mdW5jdGlvbiBhKHQpe3ZhciBpPSJidXR0b24sIC51aS1kYXRlcGlja2VyLXByZXYsIC51aS1kYXRlcGlja2VyLW5leHQsIC51aS1kYXRlcGlja2VyLWNhbGVuZGFyIHRkIGEiO3JldHVybiB0LmRlbGVnYXRlKGksIm1vdXNlb3V0IixmdW5jdGlvbigpe2UodGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksLTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLXByZXYiKSYmZSh0aGlzKS5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIiksLTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLW5leHQiKSYmZSh0aGlzKS5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1uZXh0LWhvdmVyIil9KS5kZWxlZ2F0ZShpLCJtb3VzZW92ZXIiLG8pfWZ1bmN0aW9uIG8oKXtlLmRhdGVwaWNrZXIuX2lzRGlzYWJsZWREYXRlcGlja2VyKHYuaW5saW5lP3YuZHBEaXYucGFyZW50KClbMF06di5pbnB1dFswXSl8fChlKHRoaXMpLnBhcmVudHMoIi51aS1kYXRlcGlja2VyLWNhbGVuZGFyIikuZmluZCgiYSIpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLGUodGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksLTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLXByZXYiKSYmZSh0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIiksLTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLW5leHQiKSYmZSh0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1uZXh0LWhvdmVyIikpfWZ1bmN0aW9uIHIodCxpKXtlLmV4dGVuZCh0LGkpO2Zvcih2YXIgcyBpbiBpKXtudWxsPT1pW3NdJiYodFtzXT1pW3NdKX1yZXR1cm4gdH1mdW5jdGlvbiBoKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudC52YWwoKTtlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9yZWZyZXNoKCksdCE9PXRoaXMuZWxlbWVudC52YWwoKSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIil9fWUudWk9ZS51aXx8e30sZS5leHRlbmQoZS51aSx7dmVyc2lvbjoiMS4xMS4xIixrZXlDb2RlOntCQUNLU1BBQ0U6OCxDT01NQToxODgsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LExFRlQ6MzcsUEFHRV9ET1dOOjM0LFBBR0VfVVA6MzMsUEVSSU9EOjE5MCxSSUdIVDozOSxTUEFDRTozMixUQUI6OSxVUDozOH19KSxlLmZuLmV4dGVuZCh7c2Nyb2xsUGFyZW50OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuY3NzKCJwb3NpdGlvbiIpLHM9ImFic29sdXRlIj09PWksbj10Py8oYXV0b3xzY3JvbGx8aGlkZGVuKS86LyhhdXRvfHNjcm9sbCkvLGE9dGhpcy5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKTtyZXR1cm4gcyYmInN0YXRpYyI9PT10LmNzcygicG9zaXRpb24iKT8hMTpuLnRlc3QodC5jc3MoIm92ZXJmbG93IikrdC5jc3MoIm92ZXJmbG93LXkiKSt0LmNzcygib3ZlcmZsb3cteCIpKX0pLmVxKDApO3JldHVybiJmaXhlZCIhPT1pJiZhLmxlbmd0aD9hOmUodGhpc1swXS5vd25lckRvY3VtZW50fHxkb2N1bWVudCl9LHVuaXF1ZUlkOmZ1bmN0aW9uKCl7dmFyIGU9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5pZHx8KHRoaXMuaWQ9InVpLWlkLSIrICsrZSl9KX19KCkscmVtb3ZlVW5pcXVlSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7L151aS1pZC1cZCskLy50ZXN0KHRoaXMuaWQpJiZlKHRoaXMpLnJlbW92ZUF0dHIoImlkIil9KX19KSxlLmV4dGVuZChlLmV4cHJbIjoiXSx7ZGF0YTplLmV4cHIuY3JlYXRlUHNldWRvP2UuZXhwci5jcmVhdGVQc2V1ZG8oZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiAhIWUuZGF0YShpLHQpfX0pOmZ1bmN0aW9uKHQsaSxzKXtyZXR1cm4gISFlLmRhdGEodCxzWzNdKX0sZm9jdXNhYmxlOmZ1bmN0aW9uKGkpe3JldHVybiB0KGksIWlzTmFOKGUuYXR0cihpLCJ0YWJpbmRleCIpKSl9LHRhYmJhYmxlOmZ1bmN0aW9uKGkpe3ZhciBzPWUuYXR0cihpLCJ0YWJpbmRleCIpLG49aXNOYU4ocyk7cmV0dXJuKG58fHM+PTApJiZ0KGksIW4pfX0pLGUoIjxhPiIpLm91dGVyV2lkdGgoMSkuanF1ZXJ5fHxlLmVhY2goWyJXaWR0aCIsIkhlaWdodCJdLGZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gcyh0LGkscyxhKXtyZXR1cm4gZS5lYWNoKG4sZnVuY3Rpb24oKXtpLT1wYXJzZUZsb2F0KGUuY3NzKHQsInBhZGRpbmciK3RoaXMpKXx8MCxzJiYoaS09cGFyc2VGbG9hdChlLmNzcyh0LCJib3JkZXIiK3RoaXMrIldpZHRoIikpfHwwKSxhJiYoaS09cGFyc2VGbG9hdChlLmNzcyh0LCJtYXJnaW4iK3RoaXMpKXx8MCl9KSxpfXZhciBuPSJXaWR0aCI9PT1pP1siTGVmdCIsIlJpZ2h0Il06WyJUb3AiLCJCb3R0b20iXSxhPWkudG9Mb3dlckNhc2UoKSxvPXtpbm5lcldpZHRoOmUuZm4uaW5uZXJXaWR0aCxpbm5lckhlaWdodDplLmZuLmlubmVySGVpZ2h0LG91dGVyV2lkdGg6ZS5mbi5vdXRlcldpZHRoLG91dGVySGVpZ2h0OmUuZm4ub3V0ZXJIZWlnaHR9O2UuZm5bImlubmVyIitpXT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dD9vWyJpbm5lciIraV0uY2FsbCh0aGlzKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtlKHRoaXMpLmNzcyhhLHModGhpcyx0KSsicHgiKX0pfSxlLmZuWyJvdXRlciIraV09ZnVuY3Rpb24odCxuKXtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIHQ/b1sib3V0ZXIiK2ldLmNhbGwodGhpcyx0KTp0aGlzLmVhY2goZnVuY3Rpb24oKXtlKHRoaXMpLmNzcyhhLHModGhpcyx0LCEwLG4pKyJweCIpfSl9fSksZS5mbi5hZGRCYWNrfHwoZS5mbi5hZGRCYWNrPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFkZChudWxsPT1lP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGUpKX0pLGUoIjxhPiIpLmRhdGEoImEtYiIsImEiKS5yZW1vdmVEYXRhKCJhLWIiKS5kYXRhKCJhLWIiKSYmKGUuZm4ucmVtb3ZlRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oaSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dC5jYWxsKHRoaXMsZS5jYW1lbENhc2UoaSkpOnQuY2FsbCh0aGlzKX19KGUuZm4ucmVtb3ZlRGF0YSkpLGUudWkuaWU9ISEvbXNpZSBbXHcuXSsvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKSxlLmZuLmV4dGVuZCh7Zm9jdXM6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGkscyl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBpP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2UodCkuZm9jdXMoKSxzJiZzLmNhbGwodCl9LGkpfSk6dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fShlLmZuLmZvY3VzKSxkaXNhYmxlU2VsZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9Im9uc2VsZWN0c3RhcnQiIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpPyJzZWxlY3RzdGFydCI6Im1vdXNlZG93biI7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmluZChlKyIudWktZGlzYWJsZVNlbGVjdGlvbiIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpfSl9fSgpLGVuYWJsZVNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuYmluZCgiLnVpLWRpc2FibGVTZWxlY3Rpb24iKX0sekluZGV4OmZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PXQpe3JldHVybiB0aGlzLmNzcygiekluZGV4Iix0KX1pZih0aGlzLmxlbmd0aCl7Zm9yKHZhciBpLHMsbj1lKHRoaXNbMF0pO24ubGVuZ3RoJiZuWzBdIT09ZG9jdW1lbnQ7KXtpZihpPW4uY3NzKCJwb3NpdGlvbiIpLCgiYWJzb2x1dGUiPT09aXx8InJlbGF0aXZlIj09PWl8fCJmaXhlZCI9PT1pKSYmKHM9cGFyc2VJbnQobi5jc3MoInpJbmRleCIpLDEwKSwhaXNOYU4ocykmJjAhPT1zKSl7cmV0dXJuIHN9bj1uLnBhcmVudCgpfX1yZXR1cm4gMH19KSxlLnVpLnBsdWdpbj17YWRkOmZ1bmN0aW9uKHQsaSxzKXt2YXIgbixhPWUudWlbdF0ucHJvdG90eXBlO2ZvcihuIGluIHMpe2EucGx1Z2luc1tuXT1hLnBsdWdpbnNbbl18fFtdLGEucGx1Z2luc1tuXS5wdXNoKFtpLHNbbl1dKX19LGNhbGw6ZnVuY3Rpb24oZSx0LGkscyl7dmFyIG4sYT1lLnBsdWdpbnNbdF07aWYoYSYmKHN8fGUuZWxlbWVudFswXS5wYXJlbnROb2RlJiYxMSE9PWUuZWxlbWVudFswXS5wYXJlbnROb2RlLm5vZGVUeXBlKSl7Zm9yKG49MDthLmxlbmd0aD5uO24rKyl7ZS5vcHRpb25zW2Fbbl1bMF1dJiZhW25dWzFdLmFwcGx5KGUuZWxlbWVudCxpKX19fX07dmFyIGw9MCx1PUFycmF5LnByb3RvdHlwZS5zbGljZTtlLmNsZWFuRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oaSl7dmFyIHMsbixhO2ZvcihhPTA7bnVsbCE9KG49aVthXSk7YSsrKXt0cnl7cz1lLl9kYXRhKG4sImV2ZW50cyIpLHMmJnMucmVtb3ZlJiZlKG4pLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKX1jYXRjaChvKXt9fXQoaSl9fShlLmNsZWFuRGF0YSksZS53aWRnZXQ9ZnVuY3Rpb24odCxpLHMpe3ZhciBuLGEsbyxyLGg9e30sbD10LnNwbGl0KCIuIilbMF07cmV0dXJuIHQ9dC5zcGxpdCgiLiIpWzFdLG49bCsiLSIrdCxzfHwocz1pLGk9ZS5XaWRnZXQpLGUuZXhwclsiOiJdW24udG9Mb3dlckNhc2UoKV09ZnVuY3Rpb24odCl7cmV0dXJuICEhZS5kYXRhKHQsbil9LGVbbF09ZVtsXXx8e30sYT1lW2xdW3RdLG89ZVtsXVt0XT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9jcmVhdGVXaWRnZXQ/KGFyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChlLHQpLHZvaWQgMCk6bmV3IG8oZSx0KX0sZS5leHRlbmQobyxhLHt2ZXJzaW9uOnMudmVyc2lvbixfcHJvdG86ZS5leHRlbmQoe30scyksX2NoaWxkQ29uc3RydWN0b3JzOltdfSkscj1uZXcgaSxyLm9wdGlvbnM9ZS53aWRnZXQuZXh0ZW5kKHt9LHIub3B0aW9ucyksZS5lYWNoKHMsZnVuY3Rpb24odCxzKXtyZXR1cm4gZS5pc0Z1bmN0aW9uKHMpPyhoW3RdPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4gaS5wcm90b3R5cGVbdF0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxuPWZ1bmN0aW9uKGUpe3JldHVybiBpLnByb3RvdHlwZVt0XS5hcHBseSh0aGlzLGUpfTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMuX3N1cGVyLGE9dGhpcy5fc3VwZXJBcHBseTtyZXR1cm4gdGhpcy5fc3VwZXI9ZSx0aGlzLl9zdXBlckFwcGx5PW4sdD1zLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9zdXBlcj1pLHRoaXMuX3N1cGVyQXBwbHk9YSx0fX0oKSx2b2lkIDApOihoW3RdPXMsdm9pZCAwKX0pLG8ucHJvdG90eXBlPWUud2lkZ2V0LmV4dGVuZChyLHt3aWRnZXRFdmVudFByZWZpeDphP3Iud2lkZ2V0RXZlbnRQcmVmaXh8fHQ6dH0saCx7Y29uc3RydWN0b3I6byxuYW1lc3BhY2U6bCx3aWRnZXROYW1lOnQsd2lkZ2V0RnVsbE5hbWU6bn0pLGE/KGUuZWFjaChhLl9jaGlsZENvbnN0cnVjdG9ycyxmdW5jdGlvbih0LGkpe3ZhciBzPWkucHJvdG90eXBlO2Uud2lkZ2V0KHMubmFtZXNwYWNlKyIuIitzLndpZGdldE5hbWUsbyxpLl9wcm90byl9KSxkZWxldGUgYS5fY2hpbGRDb25zdHJ1Y3RvcnMpOmkuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2gobyksZS53aWRnZXQuYnJpZGdlKHQsbyksb30sZS53aWRnZXQuZXh0ZW5kPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaSxzLG49dS5jYWxsKGFyZ3VtZW50cywxKSxhPTAsbz1uLmxlbmd0aDtvPmE7YSsrKXtmb3IoaSBpbiBuW2FdKXtzPW5bYV1baV0sblthXS5oYXNPd25Qcm9wZXJ0eShpKSYmdm9pZCAwIT09cyYmKHRbaV09ZS5pc1BsYWluT2JqZWN0KHMpP2UuaXNQbGFpbk9iamVjdCh0W2ldKT9lLndpZGdldC5leHRlbmQoe30sdFtpXSxzKTplLndpZGdldC5leHRlbmQoe30scyk6cyl9fXJldHVybiB0fSxlLndpZGdldC5icmlkZ2U9ZnVuY3Rpb24odCxpKXt2YXIgcz1pLnByb3RvdHlwZS53aWRnZXRGdWxsTmFtZXx8dDtlLmZuW3RdPWZ1bmN0aW9uKG4pe3ZhciBhPSJzdHJpbmciPT10eXBlb2YgbixvPXUuY2FsbChhcmd1bWVudHMsMSkscj10aGlzO3JldHVybiBuPSFhJiZvLmxlbmd0aD9lLndpZGdldC5leHRlbmQuYXBwbHkobnVsbCxbbl0uY29uY2F0KG8pKTpuLGE/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGksYT1lLmRhdGEodGhpcyxzKTtyZXR1cm4iaW5zdGFuY2UiPT09bj8ocj1hLCExKTphP2UuaXNGdW5jdGlvbihhW25dKSYmIl8iIT09bi5jaGFyQXQoMCk/KGk9YVtuXS5hcHBseShhLG8pLGkhPT1hJiZ2b2lkIDAhPT1pPyhyPWkmJmkuanF1ZXJ5P3IucHVzaFN0YWNrKGkuZ2V0KCkpOmksITEpOnZvaWQgMCk6ZS5lcnJvcigibm8gc3VjaCBtZXRob2QgJyIrbisiJyBmb3IgIit0KyIgd2lkZ2V0IGluc3RhbmNlIik6ZS5lcnJvcigiY2Fubm90IGNhbGwgbWV0aG9kcyBvbiAiK3QrIiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICciK24rIiciKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PWUuZGF0YSh0aGlzLHMpO3Q/KHQub3B0aW9uKG58fHt9KSx0Ll9pbml0JiZ0Ll9pbml0KCkpOmUuZGF0YSh0aGlzLHMsbmV3IGkobix0aGlzKSl9KSxyfX0sZS5XaWRnZXQ9ZnVuY3Rpb24oKXt9LGUuV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycz1bXSxlLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsZGVmYXVsdEVsZW1lbnQ6IjxkaXY+IixvcHRpb25zOntkaXNhYmxlZDohMSxjcmVhdGU6bnVsbH0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbih0LGkpe2k9ZShpfHx0aGlzLmRlZmF1bHRFbGVtZW50fHx0aGlzKVswXSx0aGlzLmVsZW1lbnQ9ZShpKSx0aGlzLnV1aWQ9bCsrLHRoaXMuZXZlbnROYW1lc3BhY2U9Ii4iK3RoaXMud2lkZ2V0TmFtZSt0aGlzLnV1aWQsdGhpcy5vcHRpb25zPWUud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLHQpLHRoaXMuYmluZGluZ3M9ZSgpLHRoaXMuaG92ZXJhYmxlPWUoKSx0aGlzLmZvY3VzYWJsZT1lKCksaSE9PXRoaXMmJihlLmRhdGEoaSx0aGlzLndpZGdldEZ1bGxOYW1lLHRoaXMpLHRoaXMuX29uKCEwLHRoaXMuZWxlbWVudCx7cmVtb3ZlOmZ1bmN0aW9uKGUpe2UudGFyZ2V0PT09aSYmdGhpcy5kZXN0cm95KCl9fSksdGhpcy5kb2N1bWVudD1lKGkuc3R5bGU/aS5vd25lckRvY3VtZW50OmkuZG9jdW1lbnR8fGkpLHRoaXMud2luZG93PWUodGhpcy5kb2N1bWVudFswXS5kZWZhdWx0Vmlld3x8dGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKSx0aGlzLl9jcmVhdGUoKSx0aGlzLl90cmlnZ2VyKCJjcmVhdGUiLG51bGwsdGhpcy5fZ2V0Q3JlYXRlRXZlbnREYXRhKCkpLHRoaXMuX2luaXQoKX0sX2dldENyZWF0ZU9wdGlvbnM6ZS5ub29wLF9nZXRDcmVhdGVFdmVudERhdGE6ZS5ub29wLF9jcmVhdGU6ZS5ub29wLF9pbml0OmUubm9vcCxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fZGVzdHJveSgpLHRoaXMuZWxlbWVudC51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKS5yZW1vdmVEYXRhKGUuY2FtZWxDYXNlKHRoaXMud2lkZ2V0RnVsbE5hbWUpKSx0aGlzLndpZGdldCgpLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkIHVpLXN0YXRlLWRpc2FibGVkIiksdGhpcy5iaW5kaW5ncy51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9LF9kZXN0cm95OmUubm9vcCx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24odCxpKXt2YXIgcyxuLGEsbz10O2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXtyZXR1cm4gZS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyl9aWYoInN0cmluZyI9PXR5cGVvZiB0KXtpZihvPXt9LHM9dC5zcGxpdCgiLiIpLHQ9cy5zaGlmdCgpLHMubGVuZ3RoKXtmb3Iobj1vW3RdPWUud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnNbdF0pLGE9MDtzLmxlbmd0aC0xPmE7YSsrKXtuW3NbYV1dPW5bc1thXV18fHt9LG49bltzW2FdXX1pZih0PXMucG9wKCksMT09PWFyZ3VtZW50cy5sZW5ndGgpe3JldHVybiB2b2lkIDA9PT1uW3RdP251bGw6blt0XX1uW3RdPWl9ZWxzZXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7cmV0dXJuIHZvaWQgMD09PXRoaXMub3B0aW9uc1t0XT9udWxsOnRoaXMub3B0aW9uc1t0XX1vW3RdPWl9fXJldHVybiB0aGlzLl9zZXRPcHRpb25zKG8pLHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0IGluIGUpe3RoaXMuX3NldE9wdGlvbih0LGVbdF0pfXJldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub3B0aW9uc1tlXT10LCJkaXNhYmxlZCI9PT1lJiYodGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lKyItZGlzYWJsZWQiLCEhdCksdCYmKHRoaXMuaG92ZXJhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLHRoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpKSksdGhpc30sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoe2Rpc2FibGVkOiExfSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITB9KX0sX29uOmZ1bmN0aW9uKHQsaSxzKXt2YXIgbixhPXRoaXM7ImJvb2xlYW4iIT10eXBlb2YgdCYmKHM9aSxpPXQsdD0hMSkscz8oaT1uPWUoaSksdGhpcy5iaW5kaW5ncz10aGlzLmJpbmRpbmdzLmFkZChpKSk6KHM9aSxpPXRoaXMuZWxlbWVudCxuPXRoaXMud2lkZ2V0KCkpLGUuZWFjaChzLGZ1bmN0aW9uKHMsbyl7ZnVuY3Rpb24gcigpe3JldHVybiB0fHxhLm9wdGlvbnMuZGlzYWJsZWQhPT0hMCYmIWUodGhpcykuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIik/KCJzdHJpbmciPT10eXBlb2Ygbz9hW29dOm8pLmFwcGx5KGEsYXJndW1lbnRzKTp2b2lkIDB9InN0cmluZyIhPXR5cGVvZiBvJiYoci5ndWlkPW8uZ3VpZD1vLmd1aWR8fHIuZ3VpZHx8ZS5ndWlkKyspO3ZhciBoPXMubWF0Y2goL14oW1x3Oi1dKilccyooLiopJC8pLGw9aFsxXSthLmV2ZW50TmFtZXNwYWNlLHU9aFsyXTt1P24uZGVsZWdhdGUodSxsLHIpOmkuYmluZChsLHIpfSl9LF9vZmY6ZnVuY3Rpb24oZSx0KXt0PSh0fHwiIikuc3BsaXQoIiAiKS5qb2luKHRoaXMuZXZlbnROYW1lc3BhY2UrIiAiKSt0aGlzLmV2ZW50TmFtZXNwYWNlLGUudW5iaW5kKHQpLnVuZGVsZWdhdGUodCl9LF9kZWxheTpmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoKXtyZXR1cm4oInN0cmluZyI9PXR5cGVvZiBlP3NbZV06ZSkuYXBwbHkocyxhcmd1bWVudHMpfXZhciBzPXRoaXM7cmV0dXJuIHNldFRpbWVvdXQoaSx0fHwwKX0sX2hvdmVyYWJsZTpmdW5jdGlvbih0KXt0aGlzLmhvdmVyYWJsZT10aGlzLmhvdmVyYWJsZS5hZGQodCksdGhpcy5fb24odCx7bW91c2VlbnRlcjpmdW5jdGlvbih0KXtlKHQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIil9LG1vdXNlbGVhdmU6ZnVuY3Rpb24odCl7ZSh0LmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZCh0KSx0aGlzLl9vbih0LHtmb2N1c2luOmZ1bmN0aW9uKHQpe2UodC5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcygidWktc3RhdGUtZm9jdXMiKX0sZm9jdXNvdXQ6ZnVuY3Rpb24odCl7ZSh0LmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfX0pfSxfdHJpZ2dlcjpmdW5jdGlvbih0LGkscyl7dmFyIG4sYSxvPXRoaXMub3B0aW9uc1t0XTtpZihzPXN8fHt9LGk9ZS5FdmVudChpKSxpLnR5cGU9KHQ9PT10aGlzLndpZGdldEV2ZW50UHJlZml4P3Q6dGhpcy53aWRnZXRFdmVudFByZWZpeCt0KS50b0xvd2VyQ2FzZSgpLGkudGFyZ2V0PXRoaXMuZWxlbWVudFswXSxhPWkub3JpZ2luYWxFdmVudCl7Zm9yKG4gaW4gYSl7biBpbiBpfHwoaVtuXT1hW25dKX19cmV0dXJuIHRoaXMuZWxlbWVudC50cmlnZ2VyKGkscyksIShlLmlzRnVuY3Rpb24obykmJm8uYXBwbHkodGhpcy5lbGVtZW50WzBdLFtpXS5jb25jYXQocykpPT09ITF8fGkuaXNEZWZhdWx0UHJldmVudGVkKCkpfX0sZS5lYWNoKHtzaG93OiJmYWRlSW4iLGhpZGU6ImZhZGVPdXQifSxmdW5jdGlvbih0LGkpe2UuV2lkZ2V0LnByb3RvdHlwZVsiXyIrdF09ZnVuY3Rpb24ocyxuLGEpeyJzdHJpbmciPT10eXBlb2YgbiYmKG49e2VmZmVjdDpufSk7dmFyIG8scj1uP249PT0hMHx8Im51bWJlciI9PXR5cGVvZiBuP2k6bi5lZmZlY3R8fGk6dDtuPW58fHt9LCJudW1iZXIiPT10eXBlb2YgbiYmKG49e2R1cmF0aW9uOm59KSxvPSFlLmlzRW1wdHlPYmplY3Qobiksbi5jb21wbGV0ZT1hLG4uZGVsYXkmJnMuZGVsYXkobi5kZWxheSksbyYmZS5lZmZlY3RzJiZlLmVmZmVjdHMuZWZmZWN0W3JdP3NbdF0obik6ciE9PXQmJnNbcl0/c1tyXShuLmR1cmF0aW9uLG4uZWFzaW5nLGEpOnMucXVldWUoZnVuY3Rpb24oaSl7ZSh0aGlzKVt0XSgpLGEmJmEuY2FsbChzWzBdKSxpKCl9KX19KSxlLndpZGdldDt2YXIgZD0hMTtlKGRvY3VtZW50KS5tb3VzZXVwKGZ1bmN0aW9uKCl7ZD0hMX0pLGUud2lkZ2V0KCJ1aS5tb3VzZSIse3ZlcnNpb246IjEuMTEuMSIsb3B0aW9uczp7Y2FuY2VsOiJpbnB1dCx0ZXh0YXJlYSxidXR0b24sc2VsZWN0LG9wdGlvbiIsZGlzdGFuY2U6MSxkZWxheTowfSxfbW91c2VJbml0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmVsZW1lbnQuYmluZCgibW91c2Vkb3duLiIrdGhpcy53aWRnZXROYW1lLGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9tb3VzZURvd24oZSl9KS5iaW5kKCJjbGljay4iK3RoaXMud2lkZ2V0TmFtZSxmdW5jdGlvbihpKXtyZXR1cm4gITA9PT1lLmRhdGEoaS50YXJnZXQsdC53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiKT8oZS5yZW1vdmVEYXRhKGkudGFyZ2V0LHQud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50IiksaS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwhMSk6dm9pZCAwfSksdGhpcy5zdGFydGVkPSExfSxfbW91c2VEZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnVuYmluZCgiLiIrdGhpcy53aWRnZXROYW1lKSx0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSYmdGhpcy5kb2N1bWVudC51bmJpbmQoIm1vdXNlbW92ZS4iK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSkudW5iaW5kKCJtb3VzZXVwLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSl9LF9tb3VzZURvd246ZnVuY3Rpb24odCl7aWYoIWQpe3RoaXMuX21vdXNlU3RhcnRlZCYmdGhpcy5fbW91c2VVcCh0KSx0aGlzLl9tb3VzZURvd25FdmVudD10O3ZhciBpPXRoaXMscz0xPT09dC53aGljaCxuPSJzdHJpbmciPT10eXBlb2YgdGhpcy5vcHRpb25zLmNhbmNlbCYmdC50YXJnZXQubm9kZU5hbWU/ZSh0LnRhcmdldCkuY2xvc2VzdCh0aGlzLm9wdGlvbnMuY2FuY2VsKS5sZW5ndGg6ITE7cmV0dXJuIHMmJiFuJiZ0aGlzLl9tb3VzZUNhcHR1cmUodCk/KHRoaXMubW91c2VEZWxheU1ldD0hdGhpcy5vcHRpb25zLmRlbGF5LHRoaXMubW91c2VEZWxheU1ldHx8KHRoaXMuX21vdXNlRGVsYXlUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5tb3VzZURlbGF5TWV0PSEwfSx0aGlzLm9wdGlvbnMuZGVsYXkpKSx0aGlzLl9tb3VzZURpc3RhbmNlTWV0KHQpJiZ0aGlzLl9tb3VzZURlbGF5TWV0KHQpJiYodGhpcy5fbW91c2VTdGFydGVkPXRoaXMuX21vdXNlU3RhcnQodCkhPT0hMSwhdGhpcy5fbW91c2VTdGFydGVkKT8odC5wcmV2ZW50RGVmYXVsdCgpLCEwKTooITA9PT1lLmRhdGEodC50YXJnZXQsdGhpcy53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiKSYmZS5yZW1vdmVEYXRhKHQudGFyZ2V0LHRoaXMud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50IiksdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuX21vdXNlTW92ZShlKX0sdGhpcy5fbW91c2VVcERlbGVnYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBpLl9tb3VzZVVwKGUpfSx0aGlzLmRvY3VtZW50LmJpbmQoIm1vdXNlbW92ZS4iK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSkuYmluZCgibW91c2V1cC4iK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZVVwRGVsZWdhdGUpLHQucHJldmVudERlZmF1bHQoKSxkPSEwLCEwKSk6ITB9fSxfbW91c2VNb3ZlOmZ1bmN0aW9uKHQpe3JldHVybiBlLnVpLmllJiYoIWRvY3VtZW50LmRvY3VtZW50TW9kZXx8OT5kb2N1bWVudC5kb2N1bWVudE1vZGUpJiYhdC5idXR0b24/dGhpcy5fbW91c2VVcCh0KTp0LndoaWNoP3RoaXMuX21vdXNlU3RhcnRlZD8odGhpcy5fbW91c2VEcmFnKHQpLHQucHJldmVudERlZmF1bHQoKSk6KHRoaXMuX21vdXNlRGlzdGFuY2VNZXQodCkmJnRoaXMuX21vdXNlRGVsYXlNZXQodCkmJih0aGlzLl9tb3VzZVN0YXJ0ZWQ9dGhpcy5fbW91c2VTdGFydCh0aGlzLl9tb3VzZURvd25FdmVudCx0KSE9PSExLHRoaXMuX21vdXNlU3RhcnRlZD90aGlzLl9tb3VzZURyYWcodCk6dGhpcy5fbW91c2VVcCh0KSksIXRoaXMuX21vdXNlU3RhcnRlZCk6dGhpcy5fbW91c2VVcCh0KX0sX21vdXNlVXA6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZG9jdW1lbnQudW5iaW5kKCJtb3VzZW1vdmUuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLnVuYmluZCgibW91c2V1cC4iK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZVVwRGVsZWdhdGUpLHRoaXMuX21vdXNlU3RhcnRlZCYmKHRoaXMuX21vdXNlU3RhcnRlZD0hMSx0LnRhcmdldD09PXRoaXMuX21vdXNlRG93bkV2ZW50LnRhcmdldCYmZS5kYXRhKHQudGFyZ2V0LHRoaXMud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50IiwhMCksdGhpcy5fbW91c2VTdG9wKHQpKSxkPSExLCExfSxfbW91c2VEaXN0YW5jZU1ldDpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5fbW91c2VEb3duRXZlbnQucGFnZVgtZS5wYWdlWCksTWF0aC5hYnModGhpcy5fbW91c2VEb3duRXZlbnQucGFnZVktZS5wYWdlWSkpPj10aGlzLm9wdGlvbnMuZGlzdGFuY2V9LF9tb3VzZURlbGF5TWV0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW91c2VEZWxheU1ldH0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24oKXt9LF9tb3VzZURyYWc6ZnVuY3Rpb24oKXt9LF9tb3VzZVN0b3A6ZnVuY3Rpb24oKXt9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24oKXtyZXR1cm4gITB9fSksZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsdCxpKXtyZXR1cm5bcGFyc2VGbG9hdChlWzBdKSoocC50ZXN0KGVbMF0pP3QvMTAwOjEpLHBhcnNlRmxvYXQoZVsxXSkqKHAudGVzdChlWzFdKT9pLzEwMDoxKV19ZnVuY3Rpb24gaSh0LGkpe3JldHVybiBwYXJzZUludChlLmNzcyh0LGkpLDEwKXx8MH1mdW5jdGlvbiBzKHQpe3ZhciBpPXRbMF07cmV0dXJuIDk9PT1pLm5vZGVUeXBlP3t3aWR0aDp0LndpZHRoKCksaGVpZ2h0OnQuaGVpZ2h0KCksb2Zmc2V0Ont0b3A6MCxsZWZ0OjB9fTplLmlzV2luZG93KGkpP3t3aWR0aDp0LndpZHRoKCksaGVpZ2h0OnQuaGVpZ2h0KCksb2Zmc2V0Ont0b3A6dC5zY3JvbGxUb3AoKSxsZWZ0OnQuc2Nyb2xsTGVmdCgpfX06aS5wcmV2ZW50RGVmYXVsdD97d2lkdGg6MCxoZWlnaHQ6MCxvZmZzZXQ6e3RvcDppLnBhZ2VZLGxlZnQ6aS5wYWdlWH19Ont3aWR0aDp0Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dC5vdXRlckhlaWdodCgpLG9mZnNldDp0Lm9mZnNldCgpfX1lLnVpPWUudWl8fHt9O3ZhciBuLGEsbz1NYXRoLm1heCxyPU1hdGguYWJzLGg9TWF0aC5yb3VuZCxsPS9sZWZ0fGNlbnRlcnxyaWdodC8sdT0vdG9wfGNlbnRlcnxib3R0b20vLGQ9L1tcK1wtXVxkKyhcLltcZF0rKT8lPy8sYz0vXlx3Ky8scD0vJSQvLGY9ZS5mbi5wb3NpdGlvbjtlLnBvc2l0aW9uPXtzY3JvbGxiYXJXaWR0aDpmdW5jdGlvbigpe2lmKHZvaWQgMCE9PW4pe3JldHVybiBufXZhciB0LGkscz1lKCI8ZGl2IHN0eWxlPSdkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7b3ZlcmZsb3c6aGlkZGVuOyc+PGRpdiBzdHlsZT0naGVpZ2h0OjEwMHB4O3dpZHRoOmF1dG87Jz48L2Rpdj48L2Rpdj4iKSxhPXMuY2hpbGRyZW4oKVswXTtyZXR1cm4gZSgiYm9keSIpLmFwcGVuZChzKSx0PWEub2Zmc2V0V2lkdGgscy5jc3MoIm92ZXJmbG93Iiwic2Nyb2xsIiksaT1hLm9mZnNldFdpZHRoLHQ9PT1pJiYoaT1zWzBdLmNsaWVudFdpZHRoKSxzLnJlbW92ZSgpLG49dC1pfSxnZXRTY3JvbGxJbmZvOmZ1bmN0aW9uKHQpe3ZhciBpPXQuaXNXaW5kb3d8fHQuaXNEb2N1bWVudD8iIjp0LmVsZW1lbnQuY3NzKCJvdmVyZmxvdy14Iikscz10LmlzV2luZG93fHx0LmlzRG9jdW1lbnQ/IiI6dC5lbGVtZW50LmNzcygib3ZlcmZsb3cteSIpLG49InNjcm9sbCI9PT1pfHwiYXV0byI9PT1pJiZ0LndpZHRoPHQuZWxlbWVudFswXS5zY3JvbGxXaWR0aCxhPSJzY3JvbGwiPT09c3x8ImF1dG8iPT09cyYmdC5oZWlnaHQ8dC5lbGVtZW50WzBdLnNjcm9sbEhlaWdodDtyZXR1cm57d2lkdGg6YT9lLnBvc2l0aW9uLnNjcm9sbGJhcldpZHRoKCk6MCxoZWlnaHQ6bj9lLnBvc2l0aW9uLnNjcm9sbGJhcldpZHRoKCk6MH19LGdldFdpdGhpbkluZm86ZnVuY3Rpb24odCl7dmFyIGk9ZSh0fHx3aW5kb3cpLHM9ZS5pc1dpbmRvdyhpWzBdKSxuPSEhaVswXSYmOT09PWlbMF0ubm9kZVR5cGU7cmV0dXJue2VsZW1lbnQ6aSxpc1dpbmRvdzpzLGlzRG9jdW1lbnQ6bixvZmZzZXQ6aS5vZmZzZXQoKXx8e2xlZnQ6MCx0b3A6MH0sc2Nyb2xsTGVmdDppLnNjcm9sbExlZnQoKSxzY3JvbGxUb3A6aS5zY3JvbGxUb3AoKSx3aWR0aDpzfHxuP2kud2lkdGgoKTppLm91dGVyV2lkdGgoKSxoZWlnaHQ6c3x8bj9pLmhlaWdodCgpOmkub3V0ZXJIZWlnaHQoKX19fSxlLmZuLnBvc2l0aW9uPWZ1bmN0aW9uKG4pe2lmKCFufHwhbi5vZil7cmV0dXJuIGYuYXBwbHkodGhpcyxhcmd1bWVudHMpfW49ZS5leHRlbmQoe30sbik7dmFyIHAsbSxnLHYseSxiLF89ZShuLm9mKSx4PWUucG9zaXRpb24uZ2V0V2l0aGluSW5mbyhuLndpdGhpbiksdz1lLnBvc2l0aW9uLmdldFNjcm9sbEluZm8oeCksaz0obi5jb2xsaXNpb258fCJmbGlwIikuc3BsaXQoIiAiKSxUPXt9O3JldHVybiBiPXMoXyksX1swXS5wcmV2ZW50RGVmYXVsdCYmKG4uYXQ9ImxlZnQgdG9wIiksbT1iLndpZHRoLGc9Yi5oZWlnaHQsdj1iLm9mZnNldCx5PWUuZXh0ZW5kKHt9LHYpLGUuZWFjaChbIm15IiwiYXQiXSxmdW5jdGlvbigpe3ZhciBlLHQsaT0oblt0aGlzXXx8IiIpLnNwbGl0KCIgIik7MT09PWkubGVuZ3RoJiYoaT1sLnRlc3QoaVswXSk/aS5jb25jYXQoWyJjZW50ZXIiXSk6dS50ZXN0KGlbMF0pP1siY2VudGVyIl0uY29uY2F0KGkpOlsiY2VudGVyIiwiY2VudGVyIl0pLGlbMF09bC50ZXN0KGlbMF0pP2lbMF06ImNlbnRlciIsaVsxXT11LnRlc3QoaVsxXSk/aVsxXToiY2VudGVyIixlPWQuZXhlYyhpWzBdKSx0PWQuZXhlYyhpWzFdKSxUW3RoaXNdPVtlP2VbMF06MCx0P3RbMF06MF0sblt0aGlzXT1bYy5leGVjKGlbMF0pWzBdLGMuZXhlYyhpWzFdKVswXV19KSwxPT09ay5sZW5ndGgmJihrWzFdPWtbMF0pLCJyaWdodCI9PT1uLmF0WzBdP3kubGVmdCs9bToiY2VudGVyIj09PW4uYXRbMF0mJih5LmxlZnQrPW0vMiksImJvdHRvbSI9PT1uLmF0WzFdP3kudG9wKz1nOiJjZW50ZXIiPT09bi5hdFsxXSYmKHkudG9wKz1nLzIpLHA9dChULmF0LG0sZykseS5sZWZ0Kz1wWzBdLHkudG9wKz1wWzFdLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBzLGwsdT1lKHRoaXMpLGQ9dS5vdXRlcldpZHRoKCksYz11Lm91dGVySGVpZ2h0KCksZj1pKHRoaXMsIm1hcmdpbkxlZnQiKSxiPWkodGhpcywibWFyZ2luVG9wIiksRD1kK2YraSh0aGlzLCJtYXJnaW5SaWdodCIpK3cud2lkdGgsUz1jK2IraSh0aGlzLCJtYXJnaW5Cb3R0b20iKSt3LmhlaWdodCxNPWUuZXh0ZW5kKHt9LHkpLE49dChULm15LHUub3V0ZXJXaWR0aCgpLHUub3V0ZXJIZWlnaHQoKSk7InJpZ2h0Ij09PW4ubXlbMF0/TS5sZWZ0LT1kOiJjZW50ZXIiPT09bi5teVswXSYmKE0ubGVmdC09ZC8yKSwiYm90dG9tIj09PW4ubXlbMV0/TS50b3AtPWM6ImNlbnRlciI9PT1uLm15WzFdJiYoTS50b3AtPWMvMiksTS5sZWZ0Kz1OWzBdLE0udG9wKz1OWzFdLGF8fChNLmxlZnQ9aChNLmxlZnQpLE0udG9wPWgoTS50b3ApKSxzPXttYXJnaW5MZWZ0OmYsbWFyZ2luVG9wOmJ9LGUuZWFjaChbImxlZnQiLCJ0b3AiXSxmdW5jdGlvbih0LGkpe2UudWkucG9zaXRpb25ba1t0XV0mJmUudWkucG9zaXRpb25ba1t0XV1baV0oTSx7dGFyZ2V0V2lkdGg6bSx0YXJnZXRIZWlnaHQ6ZyxlbGVtV2lkdGg6ZCxlbGVtSGVpZ2h0OmMsY29sbGlzaW9uUG9zaXRpb246cyxjb2xsaXNpb25XaWR0aDpELGNvbGxpc2lvbkhlaWdodDpTLG9mZnNldDpbcFswXStOWzBdLHBbMV0rTlsxXV0sbXk6bi5teSxhdDpuLmF0LHdpdGhpbjp4LGVsZW06dX0pfSksbi51c2luZyYmKGw9ZnVuY3Rpb24oZSl7dmFyIHQ9di5sZWZ0LU0ubGVmdCxpPXQrbS1kLHM9di50b3AtTS50b3AsYT1zK2ctYyxoPXt0YXJnZXQ6e2VsZW1lbnQ6XyxsZWZ0OnYubGVmdCx0b3A6di50b3Asd2lkdGg6bSxoZWlnaHQ6Z30sZWxlbWVudDp7ZWxlbWVudDp1LGxlZnQ6TS5sZWZ0LHRvcDpNLnRvcCx3aWR0aDpkLGhlaWdodDpjfSxob3Jpem9udGFsOjA+aT8ibGVmdCI6dD4wPyJyaWdodCI6ImNlbnRlciIsdmVydGljYWw6MD5hPyJ0b3AiOnM+MD8iYm90dG9tIjoibWlkZGxlIn07ZD5tJiZtPnIodCtpKSYmKGguaG9yaXpvbnRhbD0iY2VudGVyIiksYz5nJiZnPnIocythKSYmKGgudmVydGljYWw9Im1pZGRsZSIpLGguaW1wb3J0YW50PW8ocih0KSxyKGkpKT5vKHIocykscihhKSk/Imhvcml6b250YWwiOiJ2ZXJ0aWNhbCIsbi51c2luZy5jYWxsKHRoaXMsZSxoKX0pLHUub2Zmc2V0KGUuZXh0ZW5kKE0se3VzaW5nOmx9KSl9KX0sZS51aS5wb3NpdGlvbj17Zml0OntsZWZ0OmZ1bmN0aW9uKGUsdCl7dmFyIGkscz10LndpdGhpbixuPXMuaXNXaW5kb3c/cy5zY3JvbGxMZWZ0OnMub2Zmc2V0LmxlZnQsYT1zLndpZHRoLHI9ZS5sZWZ0LXQuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luTGVmdCxoPW4tcixsPXIrdC5jb2xsaXNpb25XaWR0aC1hLW47dC5jb2xsaXNpb25XaWR0aD5hP2g+MCYmMD49bD8oaT1lLmxlZnQraCt0LmNvbGxpc2lvbldpZHRoLWEtbixlLmxlZnQrPWgtaSk6ZS5sZWZ0PWw+MCYmMD49aD9uOmg+bD9uK2EtdC5jb2xsaXNpb25XaWR0aDpuOmg+MD9lLmxlZnQrPWg6bD4wP2UubGVmdC09bDplLmxlZnQ9byhlLmxlZnQtcixlLmxlZnQpfSx0b3A6ZnVuY3Rpb24oZSx0KXt2YXIgaSxzPXQud2l0aGluLG49cy5pc1dpbmRvdz9zLnNjcm9sbFRvcDpzLm9mZnNldC50b3AsYT10LndpdGhpbi5oZWlnaHQscj1lLnRvcC10LmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpblRvcCxoPW4tcixsPXIrdC5jb2xsaXNpb25IZWlnaHQtYS1uO3QuY29sbGlzaW9uSGVpZ2h0PmE/aD4wJiYwPj1sPyhpPWUudG9wK2grdC5jb2xsaXNpb25IZWlnaHQtYS1uLGUudG9wKz1oLWkpOmUudG9wPWw+MCYmMD49aD9uOmg+bD9uK2EtdC5jb2xsaXNpb25IZWlnaHQ6bjpoPjA/ZS50b3ArPWg6bD4wP2UudG9wLT1sOmUudG9wPW8oZS50b3AtcixlLnRvcCl9fSxmbGlwOntsZWZ0OmZ1bmN0aW9uKGUsdCl7dmFyIGkscyxuPXQud2l0aGluLGE9bi5vZmZzZXQubGVmdCtuLnNjcm9sbExlZnQsbz1uLndpZHRoLGg9bi5pc1dpbmRvdz9uLnNjcm9sbExlZnQ6bi5vZmZzZXQubGVmdCxsPWUubGVmdC10LmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQsdT1sLWgsZD1sK3QuY29sbGlzaW9uV2lkdGgtby1oLGM9ImxlZnQiPT09dC5teVswXT8tdC5lbGVtV2lkdGg6InJpZ2h0Ij09PXQubXlbMF0/dC5lbGVtV2lkdGg6MCxwPSJsZWZ0Ij09PXQuYXRbMF0/dC50YXJnZXRXaWR0aDoicmlnaHQiPT09dC5hdFswXT8tdC50YXJnZXRXaWR0aDowLGY9LTIqdC5vZmZzZXRbMF07MD51PyhpPWUubGVmdCtjK3ArZit0LmNvbGxpc2lvbldpZHRoLW8tYSwoMD5pfHxyKHUpPmkpJiYoZS5sZWZ0Kz1jK3ArZikpOmQ+MCYmKHM9ZS5sZWZ0LXQuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luTGVmdCtjK3ArZi1oLChzPjB8fGQ+cihzKSkmJihlLmxlZnQrPWMrcCtmKSl9LHRvcDpmdW5jdGlvbihlLHQpe3ZhciBpLHMsbj10LndpdGhpbixhPW4ub2Zmc2V0LnRvcCtuLnNjcm9sbFRvcCxvPW4uaGVpZ2h0LGg9bi5pc1dpbmRvdz9uLnNjcm9sbFRvcDpuLm9mZnNldC50b3AsbD1lLnRvcC10LmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpblRvcCx1PWwtaCxkPWwrdC5jb2xsaXNpb25IZWlnaHQtby1oLGM9InRvcCI9PT10Lm15WzFdLHA9Yz8tdC5lbGVtSGVpZ2h0OiJib3R0b20iPT09dC5teVsxXT90LmVsZW1IZWlnaHQ6MCxmPSJ0b3AiPT09dC5hdFsxXT90LnRhcmdldEhlaWdodDoiYm90dG9tIj09PXQuYXRbMV0/LXQudGFyZ2V0SGVpZ2h0OjAsbT0tMip0Lm9mZnNldFsxXTswPnU/KHM9ZS50b3ArcCtmK20rdC5jb2xsaXNpb25IZWlnaHQtby1hLGUudG9wK3ArZittPnUmJigwPnN8fHIodSk+cykmJihlLnRvcCs9cCtmK20pKTpkPjAmJihpPWUudG9wLXQuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luVG9wK3ArZittLWgsZS50b3ArcCtmK20+ZCYmKGk+MHx8ZD5yKGkpKSYmKGUudG9wKz1wK2YrbSkpfX0sZmxpcGZpdDp7bGVmdDpmdW5jdGlvbigpe2UudWkucG9zaXRpb24uZmxpcC5sZWZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlLnVpLnBvc2l0aW9uLmZpdC5sZWZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdG9wOmZ1bmN0aW9uKCl7ZS51aS5wb3NpdGlvbi5mbGlwLnRvcC5hcHBseSh0aGlzLGFyZ3VtZW50cyksZS51aS5wb3NpdGlvbi5maXQudG9wLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSxmdW5jdGlvbigpe3ZhciB0LGkscyxuLG8scj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdLGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KHI/ImRpdiI6ImJvZHkiKSxzPXt2aXNpYmlsaXR5OiJoaWRkZW4iLHdpZHRoOjAsaGVpZ2h0OjAsYm9yZGVyOjAsbWFyZ2luOjAsYmFja2dyb3VuZDoibm9uZSJ9LHImJmUuZXh0ZW5kKHMse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsbGVmdDoiLTEwMDBweCIsdG9wOiItMTAwMHB4In0pO2ZvcihvIGluIHMpe3Quc3R5bGVbb109c1tvXX10LmFwcGVuZENoaWxkKGgpLGk9cnx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGkuaW5zZXJ0QmVmb3JlKHQsaS5maXJzdENoaWxkKSxoLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogMTAuNzQzMjIyMnB4OyIsbj1lKGgpLm9mZnNldCgpLmxlZnQsYT1uPjEwJiYxMT5uLHQuaW5uZXJIVE1MPSIiLGkucmVtb3ZlQ2hpbGQodCl9KCl9KCksZS51aS5wb3NpdGlvbixlLndpZGdldCgidWkuYWNjb3JkaW9uIix7dmVyc2lvbjoiMS4xMS4xIixvcHRpb25zOnthY3RpdmU6MCxhbmltYXRlOnt9LGNvbGxhcHNpYmxlOiExLGV2ZW50OiJjbGljayIsaGVhZGVyOiI+IGxpID4gOmZpcnN0LWNoaWxkLD4gOm5vdChsaSk6ZXZlbiIsaGVpZ2h0U3R5bGU6ImF1dG8iLGljb25zOnthY3RpdmVIZWFkZXI6InVpLWljb24tdHJpYW5nbGUtMS1zIixoZWFkZXI6InVpLWljb24tdHJpYW5nbGUtMS1lIn0sYWN0aXZhdGU6bnVsbCxiZWZvcmVBY3RpdmF0ZTpudWxsfSxoaWRlUHJvcHM6e2JvcmRlclRvcFdpZHRoOiJoaWRlIixib3JkZXJCb3R0b21XaWR0aDoiaGlkZSIscGFkZGluZ1RvcDoiaGlkZSIscGFkZGluZ0JvdHRvbToiaGlkZSIsaGVpZ2h0OiJoaWRlIn0sc2hvd1Byb3BzOntib3JkZXJUb3BXaWR0aDoic2hvdyIsYm9yZGVyQm90dG9tV2lkdGg6InNob3ciLHBhZGRpbmdUb3A6InNob3ciLHBhZGRpbmdCb3R0b206InNob3ciLGhlaWdodDoic2hvdyJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnM7dGhpcy5wcmV2U2hvdz10aGlzLnByZXZIaWRlPWUoKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWFjY29yZGlvbiB1aS13aWRnZXQgdWktaGVscGVyLXJlc2V0IikuYXR0cigicm9sZSIsInRhYmxpc3QiKSx0LmNvbGxhcHNpYmxlfHx0LmFjdGl2ZSE9PSExJiZudWxsIT10LmFjdGl2ZXx8KHQuYWN0aXZlPTApLHRoaXMuX3Byb2Nlc3NQYW5lbHMoKSwwPnQuYWN0aXZlJiYodC5hY3RpdmUrPXRoaXMuaGVhZGVycy5sZW5ndGgpLHRoaXMuX3JlZnJlc2goKX0sX2dldENyZWF0ZUV2ZW50RGF0YTpmdW5jdGlvbigpe3JldHVybntoZWFkZXI6dGhpcy5hY3RpdmUscGFuZWw6dGhpcy5hY3RpdmUubGVuZ3RoP3RoaXMuYWN0aXZlLm5leHQoKTplKCl9fSxfY3JlYXRlSWNvbnM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuaWNvbnM7dCYmKGUoIjxzcGFuPiIpLmFkZENsYXNzKCJ1aS1hY2NvcmRpb24taGVhZGVyLWljb24gdWktaWNvbiAiK3QuaGVhZGVyKS5wcmVwZW5kVG8odGhpcy5oZWFkZXJzKSx0aGlzLmFjdGl2ZS5jaGlsZHJlbigiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvbiIpLnJlbW92ZUNsYXNzKHQuaGVhZGVyKS5hZGRDbGFzcyh0LmFjdGl2ZUhlYWRlciksdGhpcy5oZWFkZXJzLmFkZENsYXNzKCJ1aS1hY2NvcmRpb24taWNvbnMiKSl9LF9kZXN0cm95SWNvbnM6ZnVuY3Rpb24oKXt0aGlzLmhlYWRlcnMucmVtb3ZlQ2xhc3MoInVpLWFjY29yZGlvbi1pY29ucyIpLmNoaWxkcmVuKCIudWktYWNjb3JkaW9uLWhlYWRlci1pY29uIikucmVtb3ZlKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGU7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1hY2NvcmRpb24gdWktd2lkZ2V0IHVpLWhlbHBlci1yZXNldCIpLnJlbW92ZUF0dHIoInJvbGUiKSx0aGlzLmhlYWRlcnMucmVtb3ZlQ2xhc3MoInVpLWFjY29yZGlvbi1oZWFkZXIgdWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmUgdWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItYWxsIHVpLXN0YXRlLWFjdGl2ZSB1aS1zdGF0ZS1kaXNhYmxlZCB1aS1jb3JuZXItdG9wIikucmVtb3ZlQXR0cigicm9sZSIpLnJlbW92ZUF0dHIoImFyaWEtZXhwYW5kZWQiKS5yZW1vdmVBdHRyKCJhcmlhLXNlbGVjdGVkIikucmVtb3ZlQXR0cigiYXJpYS1jb250cm9scyIpLnJlbW92ZUF0dHIoInRhYkluZGV4IikucmVtb3ZlVW5pcXVlSWQoKSx0aGlzLl9kZXN0cm95SWNvbnMoKSxlPXRoaXMuaGVhZGVycy5uZXh0KCkucmVtb3ZlQ2xhc3MoInVpLWhlbHBlci1yZXNldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tIHVpLWFjY29yZGlvbi1jb250ZW50IHVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSB1aS1zdGF0ZS1kaXNhYmxlZCIpLmNzcygiZGlzcGxheSIsIiIpLnJlbW92ZUF0dHIoInJvbGUiKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtbGFiZWxsZWRieSIpLnJlbW92ZVVuaXF1ZUlkKCksImNvbnRlbnQiIT09dGhpcy5vcHRpb25zLmhlaWdodFN0eWxlJiZlLmNzcygiaGVpZ2h0IiwiIil9LF9zZXRPcHRpb246ZnVuY3Rpb24oZSx0KXtyZXR1cm4iYWN0aXZlIj09PWU/KHRoaXMuX2FjdGl2YXRlKHQpLHZvaWQgMCk6KCJldmVudCI9PT1lJiYodGhpcy5vcHRpb25zLmV2ZW50JiZ0aGlzLl9vZmYodGhpcy5oZWFkZXJzLHRoaXMub3B0aW9ucy5ldmVudCksdGhpcy5fc2V0dXBFdmVudHModCkpLHRoaXMuX3N1cGVyKGUsdCksImNvbGxhcHNpYmxlIiE9PWV8fHR8fHRoaXMub3B0aW9ucy5hY3RpdmUhPT0hMXx8dGhpcy5fYWN0aXZhdGUoMCksImljb25zIj09PWUmJih0aGlzLl9kZXN0cm95SWNvbnMoKSx0JiZ0aGlzLl9jcmVhdGVJY29ucygpKSwiZGlzYWJsZWQiPT09ZSYmKHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiLCEhdCkuYXR0cigiYXJpYS1kaXNhYmxlZCIsdCksdGhpcy5oZWFkZXJzLmFkZCh0aGlzLmhlYWRlcnMubmV4dCgpKS50b2dnbGVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiLCEhdCkpLHZvaWQgMCl9LF9rZXlkb3duOmZ1bmN0aW9uKHQpe2lmKCF0LmFsdEtleSYmIXQuY3RybEtleSl7dmFyIGk9ZS51aS5rZXlDb2RlLHM9dGhpcy5oZWFkZXJzLmxlbmd0aCxuPXRoaXMuaGVhZGVycy5pbmRleCh0LnRhcmdldCksYT0hMTtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIGkuUklHSFQ6Y2FzZSBpLkRPV046YT10aGlzLmhlYWRlcnNbKG4rMSklc107YnJlYWs7Y2FzZSBpLkxFRlQ6Y2FzZSBpLlVQOmE9dGhpcy5oZWFkZXJzWyhuLTErcyklc107YnJlYWs7Y2FzZSBpLlNQQUNFOmNhc2UgaS5FTlRFUjp0aGlzLl9ldmVudEhhbmRsZXIodCk7YnJlYWs7Y2FzZSBpLkhPTUU6YT10aGlzLmhlYWRlcnNbMF07YnJlYWs7Y2FzZSBpLkVORDphPXRoaXMuaGVhZGVyc1tzLTFdfWEmJihlKHQudGFyZ2V0KS5hdHRyKCJ0YWJJbmRleCIsLTEpLGUoYSkuYXR0cigidGFiSW5kZXgiLDApLGEuZm9jdXMoKSx0LnByZXZlbnREZWZhdWx0KCkpfX0sX3BhbmVsS2V5RG93bjpmdW5jdGlvbih0KXt0LmtleUNvZGU9PT1lLnVpLmtleUNvZGUuVVAmJnQuY3RybEtleSYmZSh0LmN1cnJlbnRUYXJnZXQpLnByZXYoKS5mb2N1cygpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3RoaXMuX3Byb2Nlc3NQYW5lbHMoKSx0LmFjdGl2ZT09PSExJiZ0LmNvbGxhcHNpYmxlPT09ITB8fCF0aGlzLmhlYWRlcnMubGVuZ3RoPyh0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1lKCkpOnQuYWN0aXZlPT09ITE/dGhpcy5fYWN0aXZhdGUoMCk6dGhpcy5hY3RpdmUubGVuZ3RoJiYhZS5jb250YWlucyh0aGlzLmVsZW1lbnRbMF0sdGhpcy5hY3RpdmVbMF0pP3RoaXMuaGVhZGVycy5sZW5ndGg9PT10aGlzLmhlYWRlcnMuZmluZCgiLnVpLXN0YXRlLWRpc2FibGVkIikubGVuZ3RoPyh0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1lKCkpOnRoaXMuX2FjdGl2YXRlKE1hdGgubWF4KDAsdC5hY3RpdmUtMSkpOnQuYWN0aXZlPXRoaXMuaGVhZGVycy5pbmRleCh0aGlzLmFjdGl2ZSksdGhpcy5fZGVzdHJveUljb25zKCksdGhpcy5fcmVmcmVzaCgpfSxfcHJvY2Vzc1BhbmVsczpmdW5jdGlvbigpe3RoaXMuaGVhZGVycz10aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaGVhZGVyKS5hZGRDbGFzcygidWktYWNjb3JkaW9uLWhlYWRlciB1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci1hbGwiKSx0aGlzLmhlYWRlcnMubmV4dCgpLmFkZENsYXNzKCJ1aS1hY2NvcmRpb24tY29udGVudCB1aS1oZWxwZXItcmVzZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWJvdHRvbSIpLmZpbHRlcigiOm5vdCgudWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlKSIpLmhpZGUoKX0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMub3B0aW9ucyxzPWkuaGVpZ2h0U3R5bGUsbj10aGlzLmVsZW1lbnQucGFyZW50KCk7dGhpcy5hY3RpdmU9dGhpcy5fZmluZEFjdGl2ZShpLmFjdGl2ZSkuYWRkQ2xhc3MoInVpLWFjY29yZGlvbi1oZWFkZXItYWN0aXZlIHVpLXN0YXRlLWFjdGl2ZSB1aS1jb3JuZXItdG9wIikucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci1hbGwiKSx0aGlzLmFjdGl2ZS5uZXh0KCkuYWRkQ2xhc3MoInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSIpLnNob3coKSx0aGlzLmhlYWRlcnMuYXR0cigicm9sZSIsInRhYiIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLGk9dC51bmlxdWVJZCgpLmF0dHIoImlkIikscz10Lm5leHQoKSxuPXMudW5pcXVlSWQoKS5hdHRyKCJpZCIpO3QuYXR0cigiYXJpYS1jb250cm9scyIsbikscy5hdHRyKCJhcmlhLWxhYmVsbGVkYnkiLGkpfSkubmV4dCgpLmF0dHIoInJvbGUiLCJ0YWJwYW5lbCIpLHRoaXMuaGVhZGVycy5ub3QodGhpcy5hY3RpdmUpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLHRhYkluZGV4Oi0xfSkubmV4dCgpLmF0dHIoeyJhcmlhLWhpZGRlbiI6InRydWUifSkuaGlkZSgpLHRoaXMuYWN0aXZlLmxlbmd0aD90aGlzLmFjdGl2ZS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6InRydWUiLCJhcmlhLWV4cGFuZGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pLm5leHQoKS5hdHRyKHsiYXJpYS1oaWRkZW4iOiJmYWxzZSJ9KTp0aGlzLmhlYWRlcnMuZXEoMCkuYXR0cigidGFiSW5kZXgiLDApLHRoaXMuX2NyZWF0ZUljb25zKCksdGhpcy5fc2V0dXBFdmVudHMoaS5ldmVudCksImZpbGwiPT09cz8odD1uLmhlaWdodCgpLHRoaXMuZWxlbWVudC5zaWJsaW5ncygiOnZpc2libGUiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9ZSh0aGlzKSxzPWkuY3NzKCJwb3NpdGlvbiIpOyJhYnNvbHV0ZSIhPT1zJiYiZml4ZWQiIT09cyYmKHQtPWkub3V0ZXJIZWlnaHQoITApKX0pLHRoaXMuaGVhZGVycy5lYWNoKGZ1bmN0aW9uKCl7dC09ZSh0aGlzKS5vdXRlckhlaWdodCghMCl9KSx0aGlzLmhlYWRlcnMubmV4dCgpLmVhY2goZnVuY3Rpb24oKXtlKHRoaXMpLmhlaWdodChNYXRoLm1heCgwLHQtZSh0aGlzKS5pbm5lckhlaWdodCgpK2UodGhpcykuaGVpZ2h0KCkpKX0pLmNzcygib3ZlcmZsb3ciLCJhdXRvIikpOiJhdXRvIj09PXMmJih0PTAsdGhpcy5oZWFkZXJzLm5leHQoKS5lYWNoKGZ1bmN0aW9uKCl7dD1NYXRoLm1heCh0LGUodGhpcykuY3NzKCJoZWlnaHQiLCIiKS5oZWlnaHQoKSl9KS5oZWlnaHQodCkpfSxfYWN0aXZhdGU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fZmluZEFjdGl2ZSh0KVswXTtpIT09dGhpcy5hY3RpdmVbMF0mJihpPWl8fHRoaXMuYWN0aXZlWzBdLHRoaXMuX2V2ZW50SGFuZGxlcih7dGFyZ2V0OmksY3VycmVudFRhcmdldDppLHByZXZlbnREZWZhdWx0OmUubm9vcH0pKX0sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24odCl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0P3RoaXMuaGVhZGVycy5lcSh0KTplKCl9LF9zZXR1cEV2ZW50czpmdW5jdGlvbih0KXt2YXIgaT17a2V5ZG93bjoiX2tleWRvd24ifTt0JiZlLmVhY2godC5zcGxpdCgiICIpLGZ1bmN0aW9uKGUsdCl7aVt0XT0iX2V2ZW50SGFuZGxlciJ9KSx0aGlzLl9vZmYodGhpcy5oZWFkZXJzLmFkZCh0aGlzLmhlYWRlcnMubmV4dCgpKSksdGhpcy5fb24odGhpcy5oZWFkZXJzLGkpLHRoaXMuX29uKHRoaXMuaGVhZGVycy5uZXh0KCkse2tleWRvd246Il9wYW5lbEtleURvd24ifSksdGhpcy5faG92ZXJhYmxlKHRoaXMuaGVhZGVycyksdGhpcy5fZm9jdXNhYmxlKHRoaXMuaGVhZGVycyl9LF9ldmVudEhhbmRsZXI6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zLHM9dGhpcy5hY3RpdmUsbj1lKHQuY3VycmVudFRhcmdldCksYT1uWzBdPT09c1swXSxvPWEmJmkuY29sbGFwc2libGUscj1vP2UoKTpuLm5leHQoKSxoPXMubmV4dCgpLGw9e29sZEhlYWRlcjpzLG9sZFBhbmVsOmgsbmV3SGVhZGVyOm8/ZSgpOm4sbmV3UGFuZWw6cn07dC5wcmV2ZW50RGVmYXVsdCgpLGEmJiFpLmNvbGxhcHNpYmxlfHx0aGlzLl90cmlnZ2VyKCJiZWZvcmVBY3RpdmF0ZSIsdCxsKT09PSExfHwoaS5hY3RpdmU9bz8hMTp0aGlzLmhlYWRlcnMuaW5kZXgobiksdGhpcy5hY3RpdmU9YT9lKCk6bix0aGlzLl90b2dnbGUobCkscy5yZW1vdmVDbGFzcygidWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIiksaS5pY29ucyYmcy5jaGlsZHJlbigiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvbiIpLnJlbW92ZUNsYXNzKGkuaWNvbnMuYWN0aXZlSGVhZGVyKS5hZGRDbGFzcyhpLmljb25zLmhlYWRlciksYXx8KG4ucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci1hbGwiKS5hZGRDbGFzcygidWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIHVpLWNvcm5lci10b3AiKSxpLmljb25zJiZuLmNoaWxkcmVuKCIudWktYWNjb3JkaW9uLWhlYWRlci1pY29uIikucmVtb3ZlQ2xhc3MoaS5pY29ucy5oZWFkZXIpLmFkZENsYXNzKGkuaWNvbnMuYWN0aXZlSGVhZGVyKSxuLm5leHQoKS5hZGRDbGFzcygidWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlIikpKX0sX3RvZ2dsZTpmdW5jdGlvbih0KXt2YXIgaT10Lm5ld1BhbmVsLHM9dGhpcy5wcmV2U2hvdy5sZW5ndGg/dGhpcy5wcmV2U2hvdzp0Lm9sZFBhbmVsO3RoaXMucHJldlNob3cuYWRkKHRoaXMucHJldkhpZGUpLnN0b3AoITAsITApLHRoaXMucHJldlNob3c9aSx0aGlzLnByZXZIaWRlPXMsdGhpcy5vcHRpb25zLmFuaW1hdGU/dGhpcy5fYW5pbWF0ZShpLHMsdCk6KHMuaGlkZSgpLGkuc2hvdygpLHRoaXMuX3RvZ2dsZUNvbXBsZXRlKHQpKSxzLmF0dHIoeyJhcmlhLWhpZGRlbiI6InRydWUifSkscy5wcmV2KCkuYXR0cigiYXJpYS1zZWxlY3RlZCIsImZhbHNlIiksaS5sZW5ndGgmJnMubGVuZ3RoP3MucHJldigpLmF0dHIoe3RhYkluZGV4Oi0xLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UifSk6aS5sZW5ndGgmJnRoaXMuaGVhZGVycy5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMD09PWUodGhpcykuYXR0cigidGFiSW5kZXgiKX0pLmF0dHIoInRhYkluZGV4IiwtMSksaS5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIikucHJldigpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsdGFiSW5kZXg6MCwiYXJpYS1leHBhbmRlZCI6InRydWUifSl9LF9hbmltYXRlOmZ1bmN0aW9uKGUsdCxpKXt2YXIgcyxuLGEsbz10aGlzLHI9MCxoPWUubGVuZ3RoJiYoIXQubGVuZ3RofHxlLmluZGV4KCk8dC5pbmRleCgpKSxsPXRoaXMub3B0aW9ucy5hbmltYXRlfHx7fSx1PWgmJmwuZG93bnx8bCxkPWZ1bmN0aW9uKCl7by5fdG9nZ2xlQ29tcGxldGUoaSl9O3JldHVybiJudW1iZXIiPT10eXBlb2YgdSYmKGE9dSksInN0cmluZyI9PXR5cGVvZiB1JiYobj11KSxuPW58fHUuZWFzaW5nfHxsLmVhc2luZyxhPWF8fHUuZHVyYXRpb258fGwuZHVyYXRpb24sdC5sZW5ndGg/ZS5sZW5ndGg/KHM9ZS5zaG93KCkub3V0ZXJIZWlnaHQoKSx0LmFuaW1hdGUodGhpcy5oaWRlUHJvcHMse2R1cmF0aW9uOmEsZWFzaW5nOm4sc3RlcDpmdW5jdGlvbihlLHQpe3Qubm93PU1hdGgucm91bmQoZSl9fSksZS5oaWRlKCkuYW5pbWF0ZSh0aGlzLnNob3dQcm9wcyx7ZHVyYXRpb246YSxlYXNpbmc6bixjb21wbGV0ZTpkLHN0ZXA6ZnVuY3Rpb24oZSxpKXtpLm5vdz1NYXRoLnJvdW5kKGUpLCJoZWlnaHQiIT09aS5wcm9wP3IrPWkubm93OiJjb250ZW50IiE9PW8ub3B0aW9ucy5oZWlnaHRTdHlsZSYmKGkubm93PU1hdGgucm91bmQocy10Lm91dGVySGVpZ2h0KCktcikscj0wKX19KSx2b2lkIDApOnQuYW5pbWF0ZSh0aGlzLmhpZGVQcm9wcyxhLG4sZCk6ZS5hbmltYXRlKHRoaXMuc2hvd1Byb3BzLGEsbixkKX0sX3RvZ2dsZUNvbXBsZXRlOmZ1bmN0aW9uKGUpe3ZhciB0PWUub2xkUGFuZWw7dC5yZW1vdmVDbGFzcygidWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlIikucHJldigpLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItdG9wIikuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwiKSx0Lmxlbmd0aCYmKHQucGFyZW50KClbMF0uY2xhc3NOYW1lPXQucGFyZW50KClbMF0uY2xhc3NOYW1lKSx0aGlzLl90cmlnZ2VyKCJhY3RpdmF0ZSIsbnVsbCxlKX19KSxlLndpZGdldCgidWkubWVudSIse3ZlcnNpb246IjEuMTEuMSIsZGVmYXVsdEVsZW1lbnQ6Ijx1bD4iLGRlbGF5OjMwMCxvcHRpb25zOntpY29uczp7c3VibWVudToidWktaWNvbi1jYXJhdC0xLWUifSxpdGVtczoiPiAqIixtZW51czoidWwiLHBvc2l0aW9uOntteToibGVmdC0xIHRvcCIsYXQ6InJpZ2h0IHRvcCJ9LHJvbGU6Im1lbnUiLGJsdXI6bnVsbCxmb2N1czpudWxsLHNlbGVjdDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5hY3RpdmVNZW51PXRoaXMuZWxlbWVudCx0aGlzLm1vdXNlSGFuZGxlZD0hMSx0aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hZGRDbGFzcygidWktbWVudSB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQiKS50b2dnbGVDbGFzcygidWktbWVudS1pY29ucyIsISF0aGlzLmVsZW1lbnQuZmluZCgiLnVpLWljb24iKS5sZW5ndGgpLmF0dHIoe3JvbGU6dGhpcy5vcHRpb25zLnJvbGUsdGFiSW5kZXg6MH0pLHRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIiksdGhpcy5fb24oeyJtb3VzZWRvd24gLnVpLW1lbnUtaXRlbSI6ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpfSwiY2xpY2sgLnVpLW1lbnUtaXRlbSI6ZnVuY3Rpb24odCl7dmFyIGk9ZSh0LnRhcmdldCk7IXRoaXMubW91c2VIYW5kbGVkJiZpLm5vdCgiLnVpLXN0YXRlLWRpc2FibGVkIikubGVuZ3RoJiYodGhpcy5zZWxlY3QodCksdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpfHwodGhpcy5tb3VzZUhhbmRsZWQ9ITApLGkuaGFzKCIudWktbWVudSIpLmxlbmd0aD90aGlzLmV4cGFuZCh0KTohdGhpcy5lbGVtZW50LmlzKCI6Zm9jdXMiKSYmZSh0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQpLmNsb3Nlc3QoIi51aS1tZW51IikubGVuZ3RoJiYodGhpcy5lbGVtZW50LnRyaWdnZXIoImZvY3VzIixbITBdKSx0aGlzLmFjdGl2ZSYmMT09PXRoaXMuYWN0aXZlLnBhcmVudHMoIi51aS1tZW51IikubGVuZ3RoJiZjbGVhclRpbWVvdXQodGhpcy50aW1lcikpKX0sIm1vdXNlZW50ZXIgLnVpLW1lbnUtaXRlbSI6ZnVuY3Rpb24odCl7dmFyIGk9ZSh0LmN1cnJlbnRUYXJnZXQpO2kuc2libGluZ3MoIi51aS1zdGF0ZS1hY3RpdmUiKS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIiksdGhpcy5mb2N1cyh0LGkpfSxtb3VzZWxlYXZlOiJjb2xsYXBzZUFsbCIsIm1vdXNlbGVhdmUgLnVpLW1lbnUiOiJjb2xsYXBzZUFsbCIsZm9jdXM6ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzLmFjdGl2ZXx8dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKS5lcSgwKTt0fHx0aGlzLmZvY3VzKGUsaSl9LGJsdXI6ZnVuY3Rpb24odCl7dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtlLmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSx0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQpfHx0aGlzLmNvbGxhcHNlQWxsKHQpfSl9LGtleWRvd246Il9rZXlkb3duIn0pLHRoaXMucmVmcmVzaCgpLHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse2NsaWNrOmZ1bmN0aW9uKGUpe3RoaXMuX2Nsb3NlT25Eb2N1bWVudENsaWNrKGUpJiZ0aGlzLmNvbGxhcHNlQWxsKGUpLHRoaXMubW91c2VIYW5kbGVkPSExfX0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiKS5maW5kKCIudWktbWVudSIpLmFkZEJhY2soKS5yZW1vdmVDbGFzcygidWktbWVudSB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktbWVudS1pY29ucyB1aS1mcm9udCIpLnJlbW92ZUF0dHIoInJvbGUiKS5yZW1vdmVBdHRyKCJ0YWJJbmRleCIpLnJlbW92ZUF0dHIoImFyaWEtbGFiZWxsZWRieSIpLnJlbW92ZUF0dHIoImFyaWEtZXhwYW5kZWQiKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtZGlzYWJsZWQiKS5yZW1vdmVVbmlxdWVJZCgpLnNob3coKSx0aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUtaXRlbSIpLnJlbW92ZUNsYXNzKCJ1aS1tZW51LWl0ZW0iKS5yZW1vdmVBdHRyKCJyb2xlIikucmVtb3ZlQXR0cigiYXJpYS1kaXNhYmxlZCIpLnJlbW92ZVVuaXF1ZUlkKCkucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIikucmVtb3ZlQXR0cigidGFiSW5kZXgiKS5yZW1vdmVBdHRyKCJyb2xlIikucmVtb3ZlQXR0cigiYXJpYS1oYXNwb3B1cCIpLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpe3ZhciB0PWUodGhpcyk7dC5kYXRhKCJ1aS1tZW51LXN1Ym1lbnUtY2FyYXQiKSYmdC5yZW1vdmUoKX0pLHRoaXMuZWxlbWVudC5maW5kKCIudWktbWVudS1kaXZpZGVyIikucmVtb3ZlQ2xhc3MoInVpLW1lbnUtZGl2aWRlciB1aS13aWRnZXQtY29udGVudCIpfSxfa2V5ZG93bjpmdW5jdGlvbih0KXtmdW5jdGlvbiBpKGUpe3JldHVybiBlLnJlcGxhY2UoL1tcLVxbXF17fSgpKis/LixcXFxeJHwjXHNdL2csIlxcJCYiKX12YXIgcyxuLGEsbyxyLGg9ITA7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSBlLnVpLmtleUNvZGUuUEFHRV9VUDp0aGlzLnByZXZpb3VzUGFnZSh0KTticmVhaztjYXNlIGUudWkua2V5Q29kZS5QQUdFX0RPV046dGhpcy5uZXh0UGFnZSh0KTticmVhaztjYXNlIGUudWkua2V5Q29kZS5IT01FOnRoaXMuX21vdmUoImZpcnN0IiwiZmlyc3QiLHQpO2JyZWFrO2Nhc2UgZS51aS5rZXlDb2RlLkVORDp0aGlzLl9tb3ZlKCJsYXN0IiwibGFzdCIsdCk7YnJlYWs7Y2FzZSBlLnVpLmtleUNvZGUuVVA6dGhpcy5wcmV2aW91cyh0KTticmVhaztjYXNlIGUudWkua2V5Q29kZS5ET1dOOnRoaXMubmV4dCh0KTticmVhaztjYXNlIGUudWkua2V5Q29kZS5MRUZUOnRoaXMuY29sbGFwc2UodCk7YnJlYWs7Y2FzZSBlLnVpLmtleUNvZGUuUklHSFQ6dGhpcy5hY3RpdmUmJiF0aGlzLmFjdGl2ZS5pcygiLnVpLXN0YXRlLWRpc2FibGVkIikmJnRoaXMuZXhwYW5kKHQpO2JyZWFrO2Nhc2UgZS51aS5rZXlDb2RlLkVOVEVSOmNhc2UgZS51aS5rZXlDb2RlLlNQQUNFOnRoaXMuX2FjdGl2YXRlKHQpO2JyZWFrO2Nhc2UgZS51aS5rZXlDb2RlLkVTQ0FQRTp0aGlzLmNvbGxhcHNlKHQpO2JyZWFrO2RlZmF1bHQ6aD0hMSxuPXRoaXMucHJldmlvdXNGaWx0ZXJ8fCIiLGE9U3RyaW5nLmZyb21DaGFyQ29kZSh0LmtleUNvZGUpLG89ITEsY2xlYXJUaW1lb3V0KHRoaXMuZmlsdGVyVGltZXIpLGE9PT1uP289ITA6YT1uK2Escj1SZWdFeHAoIl4iK2koYSksImkiKSxzPXRoaXMuYWN0aXZlTWVudS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcykuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHIudGVzdChlKHRoaXMpLnRleHQoKSl9KSxzPW8mJi0xIT09cy5pbmRleCh0aGlzLmFjdGl2ZS5uZXh0KCkpP3RoaXMuYWN0aXZlLm5leHRBbGwoIi51aS1tZW51LWl0ZW0iKTpzLHMubGVuZ3RofHwoYT1TdHJpbmcuZnJvbUNoYXJDb2RlKHQua2V5Q29kZSkscj1SZWdFeHAoIl4iK2koYSksImkiKSxzPXRoaXMuYWN0aXZlTWVudS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcykuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHIudGVzdChlKHRoaXMpLnRleHQoKSl9KSkscy5sZW5ndGg/KHRoaXMuZm9jdXModCxzKSxzLmxlbmd0aD4xPyh0aGlzLnByZXZpb3VzRmlsdGVyPWEsdGhpcy5maWx0ZXJUaW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLnByZXZpb3VzRmlsdGVyfSwxMDAwKSk6ZGVsZXRlIHRoaXMucHJldmlvdXNGaWx0ZXIpOmRlbGV0ZSB0aGlzLnByZXZpb3VzRmlsdGVyfWgmJnQucHJldmVudERlZmF1bHQoKX0sX2FjdGl2YXRlOmZ1bmN0aW9uKGUpe3RoaXMuYWN0aXZlLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKXx8KHRoaXMuYWN0aXZlLmlzKCJbYXJpYS1oYXNwb3B1cD0ndHJ1ZSddIik/dGhpcy5leHBhbmQoZSk6dGhpcy5zZWxlY3QoZSkpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQsaSxzPXRoaXMsbj10aGlzLm9wdGlvbnMuaWNvbnMuc3VibWVudSxhPXRoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5tZW51cyk7dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1tZW51LWljb25zIiwhIXRoaXMuZWxlbWVudC5maW5kKCIudWktaWNvbiIpLmxlbmd0aCksYS5maWx0ZXIoIjpub3QoLnVpLW1lbnUpIikuYWRkQ2xhc3MoInVpLW1lbnUgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWZyb250IikuaGlkZSgpLmF0dHIoe3JvbGU6dGhpcy5vcHRpb25zLnJvbGUsImFyaWEtaGlkZGVuIjoidHJ1ZSIsImFyaWEtZXhwYW5kZWQiOiJmYWxzZSJ9KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKSxpPXQucGFyZW50KCkscz1lKCI8c3Bhbj4iKS5hZGRDbGFzcygidWktbWVudS1pY29uIHVpLWljb24gIituKS5kYXRhKCJ1aS1tZW51LXN1Ym1lbnUtY2FyYXQiLCEwKTtpLmF0dHIoImFyaWEtaGFzcG9wdXAiLCJ0cnVlIikucHJlcGVuZChzKSx0LmF0dHIoImFyaWEtbGFiZWxsZWRieSIsaS5hdHRyKCJpZCIpKX0pLHQ9YS5hZGQodGhpcy5lbGVtZW50KSxpPXQuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLGkubm90KCIudWktbWVudS1pdGVtIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PWUodGhpcyk7cy5faXNEaXZpZGVyKHQpJiZ0LmFkZENsYXNzKCJ1aS13aWRnZXQtY29udGVudCB1aS1tZW51LWRpdmlkZXIiKX0pLGkubm90KCIudWktbWVudS1pdGVtLCAudWktbWVudS1kaXZpZGVyIikuYWRkQ2xhc3MoInVpLW1lbnUtaXRlbSIpLnVuaXF1ZUlkKCkuYXR0cih7dGFiSW5kZXg6LTEscm9sZTp0aGlzLl9pdGVtUm9sZSgpfSksaS5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIiksdGhpcy5hY3RpdmUmJiFlLmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSx0aGlzLmFjdGl2ZVswXSkmJnRoaXMuYmx1cigpfSxfaXRlbVJvbGU6ZnVuY3Rpb24oKXtyZXR1cm57bWVudToibWVudWl0ZW0iLGxpc3Rib3g6Im9wdGlvbiJ9W3RoaXMub3B0aW9ucy5yb2xlXX0sX3NldE9wdGlvbjpmdW5jdGlvbihlLHQpeyJpY29ucyI9PT1lJiZ0aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUtaWNvbiIpLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5pY29ucy5zdWJtZW51KS5hZGRDbGFzcyh0LnN1Ym1lbnUpLCJkaXNhYmxlZCI9PT1lJiZ0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIiwhIXQpLmF0dHIoImFyaWEtZGlzYWJsZWQiLHQpLHRoaXMuX3N1cGVyKGUsdCl9LGZvY3VzOmZ1bmN0aW9uKGUsdCl7dmFyIGksczt0aGlzLmJsdXIoZSxlJiYiZm9jdXMiPT09ZS50eXBlKSx0aGlzLl9zY3JvbGxJbnRvVmlldyh0KSx0aGlzLmFjdGl2ZT10LmZpcnN0KCkscz10aGlzLmFjdGl2ZS5hZGRDbGFzcygidWktc3RhdGUtZm9jdXMiKS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIiksdGhpcy5vcHRpb25zLnJvbGUmJnRoaXMuZWxlbWVudC5hdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiLHMuYXR0cigiaWQiKSksdGhpcy5hY3RpdmUucGFyZW50KCkuY2xvc2VzdCgiLnVpLW1lbnUtaXRlbSIpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSxlJiYia2V5ZG93biI9PT1lLnR5cGU/dGhpcy5fY2xvc2UoKTp0aGlzLnRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5fY2xvc2UoKX0sdGhpcy5kZWxheSksaT10LmNoaWxkcmVuKCIudWktbWVudSIpLGkubGVuZ3RoJiZlJiYvXm1vdXNlLy50ZXN0KGUudHlwZSkmJnRoaXMuX3N0YXJ0T3BlbmluZyhpKSx0aGlzLmFjdGl2ZU1lbnU9dC5wYXJlbnQoKSx0aGlzLl90cmlnZ2VyKCJmb2N1cyIsZSx7aXRlbTp0fSl9LF9zY3JvbGxJbnRvVmlldzpmdW5jdGlvbih0KXt2YXIgaSxzLG4sYSxvLHI7dGhpcy5faGFzU2Nyb2xsKCkmJihpPXBhcnNlRmxvYXQoZS5jc3ModGhpcy5hY3RpdmVNZW51WzBdLCJib3JkZXJUb3BXaWR0aCIpKXx8MCxzPXBhcnNlRmxvYXQoZS5jc3ModGhpcy5hY3RpdmVNZW51WzBdLCJwYWRkaW5nVG9wIikpfHwwLG49dC5vZmZzZXQoKS50b3AtdGhpcy5hY3RpdmVNZW51Lm9mZnNldCgpLnRvcC1pLXMsYT10aGlzLmFjdGl2ZU1lbnUuc2Nyb2xsVG9wKCksbz10aGlzLmFjdGl2ZU1lbnUuaGVpZ2h0KCkscj10Lm91dGVySGVpZ2h0KCksMD5uP3RoaXMuYWN0aXZlTWVudS5zY3JvbGxUb3AoYStuKTpuK3I+byYmdGhpcy5hY3RpdmVNZW51LnNjcm9sbFRvcChhK24tbytyKSl9LGJsdXI6ZnVuY3Rpb24oZSx0KXt0fHxjbGVhclRpbWVvdXQodGhpcy50aW1lciksdGhpcy5hY3RpdmUmJih0aGlzLmFjdGl2ZS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKSx0aGlzLmFjdGl2ZT1udWxsLHRoaXMuX3RyaWdnZXIoImJsdXIiLGUse2l0ZW06dGhpcy5hY3RpdmV9KSl9LF9zdGFydE9wZW5pbmc6ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpLCJ0cnVlIj09PWUuYXR0cigiYXJpYS1oaWRkZW4iKSYmKHRoaXMudGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLl9jbG9zZSgpLHRoaXMuX29wZW4oZSl9LHRoaXMuZGVsYXkpKX0sX29wZW46ZnVuY3Rpb24odCl7dmFyIGk9ZS5leHRlbmQoe29mOnRoaXMuYWN0aXZlfSx0aGlzLm9wdGlvbnMucG9zaXRpb24pO2NsZWFyVGltZW91dCh0aGlzLnRpbWVyKSx0aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUiKS5ub3QodC5wYXJlbnRzKCIudWktbWVudSIpKS5oaWRlKCkuYXR0cigiYXJpYS1oaWRkZW4iLCJ0cnVlIiksdC5zaG93KCkucmVtb3ZlQXR0cigiYXJpYS1oaWRkZW4iKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwidHJ1ZSIpLnBvc2l0aW9uKGkpfSxjb2xsYXBzZUFsbDpmdW5jdGlvbih0LGkpe2NsZWFyVGltZW91dCh0aGlzLnRpbWVyKSx0aGlzLnRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dmFyIHM9aT90aGlzLmVsZW1lbnQ6ZSh0JiZ0LnRhcmdldCkuY2xvc2VzdCh0aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUiKSk7cy5sZW5ndGh8fChzPXRoaXMuZWxlbWVudCksdGhpcy5fY2xvc2UocyksdGhpcy5ibHVyKHQpLHRoaXMuYWN0aXZlTWVudT1zfSx0aGlzLmRlbGF5KX0sX2Nsb3NlOmZ1bmN0aW9uKGUpe2V8fChlPXRoaXMuYWN0aXZlP3RoaXMuYWN0aXZlLnBhcmVudCgpOnRoaXMuZWxlbWVudCksZS5maW5kKCIudWktbWVudSIpLmhpZGUoKS5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwiZmFsc2UiKS5lbmQoKS5maW5kKCIudWktc3RhdGUtYWN0aXZlIikubm90KCIudWktc3RhdGUtZm9jdXMiKS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIil9LF9jbG9zZU9uRG9jdW1lbnRDbGljazpmdW5jdGlvbih0KXtyZXR1cm4gIWUodC50YXJnZXQpLmNsb3Nlc3QoIi51aS1tZW51IikubGVuZ3RofSxfaXNEaXZpZGVyOmZ1bmN0aW9uKGUpe3JldHVybiAhL1teXC1cdTIwMTRcdTIwMTNcc10vLnRlc3QoZS50ZXh0KCkpfSxjb2xsYXBzZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmFjdGl2ZSYmdGhpcy5hY3RpdmUucGFyZW50KCkuY2xvc2VzdCgiLnVpLW1lbnUtaXRlbSIsdGhpcy5lbGVtZW50KTt0JiZ0Lmxlbmd0aCYmKHRoaXMuX2Nsb3NlKCksdGhpcy5mb2N1cyhlLHQpKX0sZXhwYW5kOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYWN0aXZlJiZ0aGlzLmFjdGl2ZS5jaGlsZHJlbigiLnVpLW1lbnUgIikuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmZpcnN0KCk7dCYmdC5sZW5ndGgmJih0aGlzLl9vcGVuKHQucGFyZW50KCkpLHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5mb2N1cyhlLHQpfSkpfSxuZXh0OmZ1bmN0aW9uKGUpe3RoaXMuX21vdmUoIm5leHQiLCJmaXJzdCIsZSl9LHByZXZpb3VzOmZ1bmN0aW9uKGUpe3RoaXMuX21vdmUoInByZXYiLCJsYXN0IixlKX0saXNGaXJzdEl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmUmJiF0aGlzLmFjdGl2ZS5wcmV2QWxsKCIudWktbWVudS1pdGVtIikubGVuZ3RofSxpc0xhc3RJdGVtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlJiYhdGhpcy5hY3RpdmUubmV4dEFsbCgiLnVpLW1lbnUtaXRlbSIpLmxlbmd0aH0sX21vdmU6ZnVuY3Rpb24oZSx0LGkpe3ZhciBzO3RoaXMuYWN0aXZlJiYocz0iZmlyc3QiPT09ZXx8Imxhc3QiPT09ZT90aGlzLmFjdGl2ZVsiZmlyc3QiPT09ZT8icHJldkFsbCI6Im5leHRBbGwiXSgiLnVpLW1lbnUtaXRlbSIpLmVxKC0xKTp0aGlzLmFjdGl2ZVtlKyJBbGwiXSgiLnVpLW1lbnUtaXRlbSIpLmVxKDApKSxzJiZzLmxlbmd0aCYmdGhpcy5hY3RpdmV8fChzPXRoaXMuYWN0aXZlTWVudS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcylbdF0oKSksdGhpcy5mb2N1cyhpLHMpfSxuZXh0UGFnZTpmdW5jdGlvbih0KXt2YXIgaSxzLG47cmV0dXJuIHRoaXMuYWN0aXZlPyh0aGlzLmlzTGFzdEl0ZW0oKXx8KHRoaXMuX2hhc1Njcm9sbCgpPyhzPXRoaXMuYWN0aXZlLm9mZnNldCgpLnRvcCxuPXRoaXMuZWxlbWVudC5oZWlnaHQoKSx0aGlzLmFjdGl2ZS5uZXh0QWxsKCIudWktbWVudS1pdGVtIikuZWFjaChmdW5jdGlvbigpe3JldHVybiBpPWUodGhpcyksMD5pLm9mZnNldCgpLnRvcC1zLW59KSx0aGlzLmZvY3VzKHQsaSkpOnRoaXMuZm9jdXModCx0aGlzLmFjdGl2ZU1lbnUuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpW3RoaXMuYWN0aXZlPyJsYXN0IjoiZmlyc3QiXSgpKSksdm9pZCAwKToodGhpcy5uZXh0KHQpLHZvaWQgMCl9LHByZXZpb3VzUGFnZTpmdW5jdGlvbih0KXt2YXIgaSxzLG47cmV0dXJuIHRoaXMuYWN0aXZlPyh0aGlzLmlzRmlyc3RJdGVtKCl8fCh0aGlzLl9oYXNTY3JvbGwoKT8ocz10aGlzLmFjdGl2ZS5vZmZzZXQoKS50b3Asbj10aGlzLmVsZW1lbnQuaGVpZ2h0KCksdGhpcy5hY3RpdmUucHJldkFsbCgiLnVpLW1lbnUtaXRlbSIpLmVhY2goZnVuY3Rpb24oKXtyZXR1cm4gaT1lKHRoaXMpLGkub2Zmc2V0KCkudG9wLXMrbj4wfSksdGhpcy5mb2N1cyh0LGkpKTp0aGlzLmZvY3VzKHQsdGhpcy5hY3RpdmVNZW51LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKS5maXJzdCgpKSksdm9pZCAwKToodGhpcy5uZXh0KHQpLHZvaWQgMCl9LF9oYXNTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCk8dGhpcy5lbGVtZW50LnByb3AoInNjcm9sbEhlaWdodCIpfSxzZWxlY3Q6ZnVuY3Rpb24odCl7dGhpcy5hY3RpdmU9dGhpcy5hY3RpdmV8fGUodC50YXJnZXQpLmNsb3Nlc3QoIi51aS1tZW51LWl0ZW0iKTt2YXIgaT17aXRlbTp0aGlzLmFjdGl2ZX07dGhpcy5hY3RpdmUuaGFzKCIudWktbWVudSIpLmxlbmd0aHx8dGhpcy5jb2xsYXBzZUFsbCh0LCEwKSx0aGlzLl90cmlnZ2VyKCJzZWxlY3QiLHQsaSl9fSksZS53aWRnZXQoInVpLmF1dG9jb21wbGV0ZSIse3ZlcnNpb246IjEuMTEuMSIsZGVmYXVsdEVsZW1lbnQ6IjxpbnB1dD4iLG9wdGlvbnM6e2FwcGVuZFRvOm51bGwsYXV0b0ZvY3VzOiExLGRlbGF5OjMwMCxtaW5MZW5ndGg6MSxwb3NpdGlvbjp7bXk6ImxlZnQgdG9wIixhdDoibGVmdCBib3R0b20iLGNvbGxpc2lvbjoibm9uZSJ9LHNvdXJjZTpudWxsLGNoYW5nZTpudWxsLGNsb3NlOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwscmVzcG9uc2U6bnVsbCxzZWFyY2g6bnVsbCxzZWxlY3Q6bnVsbH0scmVxdWVzdEluZGV4OjAscGVuZGluZzowLF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdCxpLHMsbj10aGlzLmVsZW1lbnRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxhPSJ0ZXh0YXJlYSI9PT1uLG89ImlucHV0Ij09PW47dGhpcy5pc011bHRpTGluZT1hPyEwOm8/ITE6dGhpcy5lbGVtZW50LnByb3AoImlzQ29udGVudEVkaXRhYmxlIiksdGhpcy52YWx1ZU1ldGhvZD10aGlzLmVsZW1lbnRbYXx8bz8idmFsIjoidGV4dCJdLHRoaXMuaXNOZXdNZW51PSEwLHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktYXV0b2NvbXBsZXRlLWlucHV0IikuYXR0cigiYXV0b2NvbXBsZXRlIiwib2ZmIiksdGhpcy5fb24odGhpcy5lbGVtZW50LHtrZXlkb3duOmZ1bmN0aW9uKG4pe2lmKHRoaXMuZWxlbWVudC5wcm9wKCJyZWFkT25seSIpKXtyZXR1cm4gdD0hMCxzPSEwLGk9ITAsdm9pZCAwfXQ9ITEscz0hMSxpPSExO3ZhciBhPWUudWkua2V5Q29kZTtzd2l0Y2gobi5rZXlDb2RlKXtjYXNlIGEuUEFHRV9VUDp0PSEwLHRoaXMuX21vdmUoInByZXZpb3VzUGFnZSIsbik7YnJlYWs7Y2FzZSBhLlBBR0VfRE9XTjp0PSEwLHRoaXMuX21vdmUoIm5leHRQYWdlIixuKTticmVhaztjYXNlIGEuVVA6dD0hMCx0aGlzLl9rZXlFdmVudCgicHJldmlvdXMiLG4pO2JyZWFrO2Nhc2UgYS5ET1dOOnQ9ITAsdGhpcy5fa2V5RXZlbnQoIm5leHQiLG4pO2JyZWFrO2Nhc2UgYS5FTlRFUjp0aGlzLm1lbnUuYWN0aXZlJiYodD0hMCxuLnByZXZlbnREZWZhdWx0KCksdGhpcy5tZW51LnNlbGVjdChuKSk7YnJlYWs7Y2FzZSBhLlRBQjp0aGlzLm1lbnUuYWN0aXZlJiZ0aGlzLm1lbnUuc2VsZWN0KG4pO2JyZWFrO2Nhc2UgYS5FU0NBUEU6dGhpcy5tZW51LmVsZW1lbnQuaXMoIjp2aXNpYmxlIikmJih0aGlzLmlzTXVsdGlMaW5lfHx0aGlzLl92YWx1ZSh0aGlzLnRlcm0pLHRoaXMuY2xvc2Uobiksbi5wcmV2ZW50RGVmYXVsdCgpKTticmVhaztkZWZhdWx0Omk9ITAsdGhpcy5fc2VhcmNoVGltZW91dChuKX19LGtleXByZXNzOmZ1bmN0aW9uKHMpe2lmKHQpe3JldHVybiB0PSExLCghdGhpcy5pc011bHRpTGluZXx8dGhpcy5tZW51LmVsZW1lbnQuaXMoIjp2aXNpYmxlIikpJiZzLnByZXZlbnREZWZhdWx0KCksdm9pZCAwfWlmKCFpKXt2YXIgbj1lLnVpLmtleUNvZGU7c3dpdGNoKHMua2V5Q29kZSl7Y2FzZSBuLlBBR0VfVVA6dGhpcy5fbW92ZSgicHJldmlvdXNQYWdlIixzKTticmVhaztjYXNlIG4uUEFHRV9ET1dOOnRoaXMuX21vdmUoIm5leHRQYWdlIixzKTticmVhaztjYXNlIG4uVVA6dGhpcy5fa2V5RXZlbnQoInByZXZpb3VzIixzKTticmVhaztjYXNlIG4uRE9XTjp0aGlzLl9rZXlFdmVudCgibmV4dCIscyl9fX0saW5wdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHM/KHM9ITEsZS5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgMCk6KHRoaXMuX3NlYXJjaFRpbWVvdXQoZSksdm9pZCAwKX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkSXRlbT1udWxsLHRoaXMucHJldmlvdXM9dGhpcy5fdmFsdWUoKX0sYmx1cjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jYW5jZWxCbHVyPyhkZWxldGUgdGhpcy5jYW5jZWxCbHVyLHZvaWQgMCk6KGNsZWFyVGltZW91dCh0aGlzLnNlYXJjaGluZyksdGhpcy5jbG9zZShlKSx0aGlzLl9jaGFuZ2UoZSksdm9pZCAwKX19KSx0aGlzLl9pbml0U291cmNlKCksdGhpcy5tZW51PWUoIjx1bD4iKS5hZGRDbGFzcygidWktYXV0b2NvbXBsZXRlIHVpLWZyb250IikuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8oKSkubWVudSh7cm9sZTpudWxsfSkuaGlkZSgpLm1lbnUoImluc3RhbmNlIiksdGhpcy5fb24odGhpcy5tZW51LmVsZW1lbnQse21vdXNlZG93bjpmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksdGhpcy5jYW5jZWxCbHVyPSEwLHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuY2FuY2VsQmx1cn0pO3ZhciBpPXRoaXMubWVudS5lbGVtZW50WzBdO2UodC50YXJnZXQpLmNsb3Nlc3QoIi51aS1tZW51LWl0ZW0iKS5sZW5ndGh8fHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmRvY3VtZW50Lm9uZSgibW91c2Vkb3duIixmdW5jdGlvbihzKXtzLnRhcmdldD09PXQuZWxlbWVudFswXXx8cy50YXJnZXQ9PT1pfHxlLmNvbnRhaW5zKGkscy50YXJnZXQpfHx0LmNsb3NlKCl9KX0pfSxtZW51Zm9jdXM6ZnVuY3Rpb24odCxpKXt2YXIgcyxuO3JldHVybiB0aGlzLmlzTmV3TWVudSYmKHRoaXMuaXNOZXdNZW51PSExLHQub3JpZ2luYWxFdmVudCYmL15tb3VzZS8udGVzdCh0Lm9yaWdpbmFsRXZlbnQudHlwZSkpPyh0aGlzLm1lbnUuYmx1cigpLHRoaXMuZG9jdW1lbnQub25lKCJtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7ZSh0LnRhcmdldCkudHJpZ2dlcih0Lm9yaWdpbmFsRXZlbnQpfSksdm9pZCAwKToobj1pLml0ZW0uZGF0YSgidWktYXV0b2NvbXBsZXRlLWl0ZW0iKSwhMSE9PXRoaXMuX3RyaWdnZXIoImZvY3VzIix0LHtpdGVtOm59KSYmdC5vcmlnaW5hbEV2ZW50JiYvXmtleS8udGVzdCh0Lm9yaWdpbmFsRXZlbnQudHlwZSkmJnRoaXMuX3ZhbHVlKG4udmFsdWUpLHM9aS5pdGVtLmF0dHIoImFyaWEtbGFiZWwiKXx8bi52YWx1ZSxzJiZlLnRyaW0ocykubGVuZ3RoJiYodGhpcy5saXZlUmVnaW9uLmNoaWxkcmVuKCkuaGlkZSgpLGUoIjxkaXY+IikudGV4dChzKS5hcHBlbmRUbyh0aGlzLmxpdmVSZWdpb24pKSx2b2lkIDApfSxtZW51c2VsZWN0OmZ1bmN0aW9uKGUsdCl7dmFyIGk9dC5pdGVtLmRhdGEoInVpLWF1dG9jb21wbGV0ZS1pdGVtIikscz10aGlzLnByZXZpb3VzO3RoaXMuZWxlbWVudFswXSE9PXRoaXMuZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCYmKHRoaXMuZWxlbWVudC5mb2N1cygpLHRoaXMucHJldmlvdXM9cyx0aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMucHJldmlvdXM9cyx0aGlzLnNlbGVjdGVkSXRlbT1pfSkpLCExIT09dGhpcy5fdHJpZ2dlcigic2VsZWN0IixlLHtpdGVtOml9KSYmdGhpcy5fdmFsdWUoaS52YWx1ZSksdGhpcy50ZXJtPXRoaXMuX3ZhbHVlKCksdGhpcy5jbG9zZShlKSx0aGlzLnNlbGVjdGVkSXRlbT1pfX0pLHRoaXMubGl2ZVJlZ2lvbj1lKCI8c3Bhbj4iLHtyb2xlOiJzdGF0dXMiLCJhcmlhLWxpdmUiOiJhc3NlcnRpdmUiLCJhcmlhLXJlbGV2YW50IjoiYWRkaXRpb25zIn0pLmFkZENsYXNzKCJ1aS1oZWxwZXItaGlkZGVuLWFjY2Vzc2libGUiKS5hcHBlbmRUbyh0aGlzLmRvY3VtZW50WzBdLmJvZHkpLHRoaXMuX29uKHRoaXMud2luZG93LHtiZWZvcmV1bmxvYWQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigiYXV0b2NvbXBsZXRlIil9fSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuc2VhcmNoaW5nKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWF1dG9jb21wbGV0ZS1pbnB1dCIpLnJlbW92ZUF0dHIoImF1dG9jb21wbGV0ZSIpLHRoaXMubWVudS5lbGVtZW50LnJlbW92ZSgpLHRoaXMubGl2ZVJlZ2lvbi5yZW1vdmUoKX0sX3NldE9wdGlvbjpmdW5jdGlvbihlLHQpe3RoaXMuX3N1cGVyKGUsdCksInNvdXJjZSI9PT1lJiZ0aGlzLl9pbml0U291cmNlKCksImFwcGVuZFRvIj09PWUmJnRoaXMubWVudS5lbGVtZW50LmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLCJkaXNhYmxlZCI9PT1lJiZ0JiZ0aGlzLnhociYmdGhpcy54aHIuYWJvcnQoKX0sX2FwcGVuZFRvOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLmFwcGVuZFRvO3JldHVybiB0JiYodD10LmpxdWVyeXx8dC5ub2RlVHlwZT9lKHQpOnRoaXMuZG9jdW1lbnQuZmluZCh0KS5lcSgwKSksdCYmdFswXXx8KHQ9dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1mcm9udCIpKSx0Lmxlbmd0aHx8KHQ9dGhpcy5kb2N1bWVudFswXS5ib2R5KSx0fSxfaW5pdFNvdXJjZTpmdW5jdGlvbigpe3ZhciB0LGkscz10aGlzO2UuaXNBcnJheSh0aGlzLm9wdGlvbnMuc291cmNlKT8odD10aGlzLm9wdGlvbnMuc291cmNlLHRoaXMuc291cmNlPWZ1bmN0aW9uKGkscyl7cyhlLnVpLmF1dG9jb21wbGV0ZS5maWx0ZXIodCxpLnRlcm0pKX0pOiJzdHJpbmciPT10eXBlb2YgdGhpcy5vcHRpb25zLnNvdXJjZT8oaT10aGlzLm9wdGlvbnMuc291cmNlLHRoaXMuc291cmNlPWZ1bmN0aW9uKHQsbil7cy54aHImJnMueGhyLmFib3J0KCkscy54aHI9ZS5hamF4KHt1cmw6aSxkYXRhOnQsZGF0YVR5cGU6Impzb24iLHN1Y2Nlc3M6ZnVuY3Rpb24oZSl7bihlKX0sZXJyb3I6ZnVuY3Rpb24oKXtuKFtdKX19KX0pOnRoaXMuc291cmNlPXRoaXMub3B0aW9ucy5zb3VyY2V9LF9zZWFyY2hUaW1lb3V0OmZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dCh0aGlzLnNlYXJjaGluZyksdGhpcy5zZWFyY2hpbmc9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRlcm09PT10aGlzLl92YWx1ZSgpLGk9dGhpcy5tZW51LmVsZW1lbnQuaXMoIjp2aXNpYmxlIikscz1lLmFsdEtleXx8ZS5jdHJsS2V5fHxlLm1ldGFLZXl8fGUuc2hpZnRLZXk7KCF0fHx0JiYhaSYmIXMpJiYodGhpcy5zZWxlY3RlZEl0ZW09bnVsbCx0aGlzLnNlYXJjaChudWxsLGUpKX0sdGhpcy5vcHRpb25zLmRlbGF5KX0sc2VhcmNoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bnVsbCE9ZT9lOnRoaXMuX3ZhbHVlKCksdGhpcy50ZXJtPXRoaXMuX3ZhbHVlKCksZS5sZW5ndGg8dGhpcy5vcHRpb25zLm1pbkxlbmd0aD90aGlzLmNsb3NlKHQpOnRoaXMuX3RyaWdnZXIoInNlYXJjaCIsdCkhPT0hMT90aGlzLl9zZWFyY2goZSk6dm9pZCAwfSxfc2VhcmNoOmZ1bmN0aW9uKGUpe3RoaXMucGVuZGluZysrLHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktYXV0b2NvbXBsZXRlLWxvYWRpbmciKSx0aGlzLmNhbmNlbFNlYXJjaD0hMSx0aGlzLnNvdXJjZSh7dGVybTplfSx0aGlzLl9yZXNwb25zZSgpKX0sX3Jlc3BvbnNlOmZ1bmN0aW9uKCl7dmFyIHQ9Kyt0aGlzLnJlcXVlc3RJbmRleDtyZXR1cm4gZS5wcm94eShmdW5jdGlvbihlKXt0PT09dGhpcy5yZXF1ZXN0SW5kZXgmJnRoaXMuX19yZXNwb25zZShlKSx0aGlzLnBlbmRpbmctLSx0aGlzLnBlbmRpbmd8fHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktYXV0b2NvbXBsZXRlLWxvYWRpbmciKX0sdGhpcyl9LF9fcmVzcG9uc2U6ZnVuY3Rpb24oZSl7ZSYmKGU9dGhpcy5fbm9ybWFsaXplKGUpKSx0aGlzLl90cmlnZ2VyKCJyZXNwb25zZSIsbnVsbCx7Y29udGVudDplfSksIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmZSYmZS5sZW5ndGgmJiF0aGlzLmNhbmNlbFNlYXJjaD8odGhpcy5fc3VnZ2VzdChlKSx0aGlzLl90cmlnZ2VyKCJvcGVuIikpOnRoaXMuX2Nsb3NlKCl9LGNsb3NlOmZ1bmN0aW9uKGUpe3RoaXMuY2FuY2VsU2VhcmNoPSEwLHRoaXMuX2Nsb3NlKGUpfSxfY2xvc2U6ZnVuY3Rpb24oZSl7dGhpcy5tZW51LmVsZW1lbnQuaXMoIjp2aXNpYmxlIikmJih0aGlzLm1lbnUuZWxlbWVudC5oaWRlKCksdGhpcy5tZW51LmJsdXIoKSx0aGlzLmlzTmV3TWVudT0hMCx0aGlzLl90cmlnZ2VyKCJjbG9zZSIsZSkpfSxfY2hhbmdlOmZ1bmN0aW9uKGUpe3RoaXMucHJldmlvdXMhPT10aGlzLl92YWx1ZSgpJiZ0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLGUse2l0ZW06dGhpcy5zZWxlY3RlZEl0ZW19KX0sX25vcm1hbGl6ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5sZW5ndGgmJnRbMF0ubGFiZWwmJnRbMF0udmFsdWU/dDplLm1hcCh0LGZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD97bGFiZWw6dCx2YWx1ZTp0fTplLmV4dGVuZCh7fSx0LHtsYWJlbDp0LmxhYmVsfHx0LnZhbHVlLHZhbHVlOnQudmFsdWV8fHQubGFiZWx9KX0pfSxfc3VnZ2VzdDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLm1lbnUuZWxlbWVudC5lbXB0eSgpO3RoaXMuX3JlbmRlck1lbnUoaSx0KSx0aGlzLmlzTmV3TWVudT0hMCx0aGlzLm1lbnUucmVmcmVzaCgpLGkuc2hvdygpLHRoaXMuX3Jlc2l6ZU1lbnUoKSxpLnBvc2l0aW9uKGUuZXh0ZW5kKHtvZjp0aGlzLmVsZW1lbnR9LHRoaXMub3B0aW9ucy5wb3NpdGlvbikpLHRoaXMub3B0aW9ucy5hdXRvRm9jdXMmJnRoaXMubWVudS5uZXh0KCl9LF9yZXNpemVNZW51OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5tZW51LmVsZW1lbnQ7ZS5vdXRlcldpZHRoKE1hdGgubWF4KGUud2lkdGgoIiIpLm91dGVyV2lkdGgoKSsxLHRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCkpKX0sX3JlbmRlck1lbnU6ZnVuY3Rpb24odCxpKXt2YXIgcz10aGlzO2UuZWFjaChpLGZ1bmN0aW9uKGUsaSl7cy5fcmVuZGVySXRlbURhdGEodCxpKX0pfSxfcmVuZGVySXRlbURhdGE6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcmVuZGVySXRlbShlLHQpLmRhdGEoInVpLWF1dG9jb21wbGV0ZS1pdGVtIix0KX0sX3JlbmRlckl0ZW06ZnVuY3Rpb24odCxpKXtyZXR1cm4gZSgiPGxpPiIpLnRleHQoaS5sYWJlbCkuYXBwZW5kVG8odCl9LF9tb3ZlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpP3RoaXMubWVudS5pc0ZpcnN0SXRlbSgpJiYvXnByZXZpb3VzLy50ZXN0KGUpfHx0aGlzLm1lbnUuaXNMYXN0SXRlbSgpJiYvXm5leHQvLnRlc3QoZSk/KHRoaXMuaXNNdWx0aUxpbmV8fHRoaXMuX3ZhbHVlKHRoaXMudGVybSksdGhpcy5tZW51LmJsdXIoKSx2b2lkIDApOih0aGlzLm1lbnVbZV0odCksdm9pZCAwKToodGhpcy5zZWFyY2gobnVsbCx0KSx2b2lkIDApfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51LmVsZW1lbnR9LF92YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlTWV0aG9kLmFwcGx5KHRoaXMuZWxlbWVudCxhcmd1bWVudHMpfSxfa2V5RXZlbnQ6ZnVuY3Rpb24oZSx0KXsoIXRoaXMuaXNNdWx0aUxpbmV8fHRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpKSYmKHRoaXMuX21vdmUoZSx0KSx0LnByZXZlbnREZWZhdWx0KCkpfX0pLGUuZXh0ZW5kKGUudWkuYXV0b2NvbXBsZXRlLHtlc2NhcGVSZWdleDpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9bXC1cW1xde30oKSorPy4sXFxcXiR8I1xzXS9nLCJcXCQmIil9LGZpbHRlcjpmdW5jdGlvbih0LGkpe3ZhciBzPVJlZ0V4cChlLnVpLmF1dG9jb21wbGV0ZS5lc2NhcGVSZWdleChpKSwiaSIpO3JldHVybiBlLmdyZXAodCxmdW5jdGlvbihlKXtyZXR1cm4gcy50ZXN0KGUubGFiZWx8fGUudmFsdWV8fGUpfSl9fSksZS53aWRnZXQoInVpLmF1dG9jb21wbGV0ZSIsZS51aS5hdXRvY29tcGxldGUse29wdGlvbnM6e21lc3NhZ2VzOntub1Jlc3VsdHM6Ik5vIHNlYXJjaCByZXN1bHRzLiIscmVzdWx0czpmdW5jdGlvbihlKXtyZXR1cm4gZSsoZT4xPyIgcmVzdWx0cyBhcmUiOiIgcmVzdWx0IGlzIikrIiBhdmFpbGFibGUsIHVzZSB1cCBhbmQgZG93biBhcnJvdyBrZXlzIHRvIG5hdmlnYXRlLiJ9fX0sX19yZXNwb25zZTpmdW5jdGlvbih0KXt2YXIgaTt0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyksdGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmNhbmNlbFNlYXJjaHx8KGk9dCYmdC5sZW5ndGg/dGhpcy5vcHRpb25zLm1lc3NhZ2VzLnJlc3VsdHModC5sZW5ndGgpOnRoaXMub3B0aW9ucy5tZXNzYWdlcy5ub1Jlc3VsdHMsdGhpcy5saXZlUmVnaW9uLmNoaWxkcmVuKCkuaGlkZSgpLGUoIjxkaXY+IikudGV4dChpKS5hcHBlbmRUbyh0aGlzLmxpdmVSZWdpb24pKX19KSxlLnVpLmF1dG9jb21wbGV0ZTt2YXIgYyxwPSJ1aS1idXR0b24gdWktd2lkZ2V0IHVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLWFsbCIsZj0idWktYnV0dG9uLWljb25zLW9ubHkgdWktYnV0dG9uLWljb24tb25seSB1aS1idXR0b24tdGV4dC1pY29ucyB1aS1idXR0b24tdGV4dC1pY29uLXByaW1hcnkgdWktYnV0dG9uLXRleHQtaWNvbi1zZWNvbmRhcnkgdWktYnV0dG9uLXRleHQtb25seSIsbT1mdW5jdGlvbigpe3ZhciB0PWUodGhpcyk7c2V0VGltZW91dChmdW5jdGlvbigpe3QuZmluZCgiOnVpLWJ1dHRvbiIpLmJ1dHRvbigicmVmcmVzaCIpfSwxKX0sZz1mdW5jdGlvbih0KXt2YXIgaT10Lm5hbWUscz10LmZvcm0sbj1lKFtdKTtyZXR1cm4gaSYmKGk9aS5yZXBsYWNlKC8nL2csIlxcJyIpLG49cz9lKHMpLmZpbmQoIltuYW1lPSciK2krIiddW3R5cGU9cmFkaW9dIik6ZSgiW25hbWU9JyIraSsiJ11bdHlwZT1yYWRpb10iLHQub3duZXJEb2N1bWVudCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuICF0aGlzLmZvcm19KSksbn07ZS53aWRnZXQoInVpLmJ1dHRvbiIse3ZlcnNpb246IjEuMTEuMSIsZGVmYXVsdEVsZW1lbnQ6IjxidXR0b24+IixvcHRpb25zOntkaXNhYmxlZDpudWxsLHRleHQ6ITAsbGFiZWw6bnVsbCxpY29uczp7cHJpbWFyeTpudWxsLHNlY29uZGFyeTpudWxsfX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jbG9zZXN0KCJmb3JtIikudW5iaW5kKCJyZXNldCIrdGhpcy5ldmVudE5hbWVzcGFjZSkuYmluZCgicmVzZXQiK3RoaXMuZXZlbnROYW1lc3BhY2UsbSksImJvb2xlYW4iIT10eXBlb2YgdGhpcy5vcHRpb25zLmRpc2FibGVkP3RoaXMub3B0aW9ucy5kaXNhYmxlZD0hIXRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIpOnRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsdGhpcy5vcHRpb25zLmRpc2FibGVkKSx0aGlzLl9kZXRlcm1pbmVCdXR0b25UeXBlKCksdGhpcy5oYXNUaXRsZT0hIXRoaXMuYnV0dG9uRWxlbWVudC5hdHRyKCJ0aXRsZSIpO3ZhciB0PXRoaXMsaT10aGlzLm9wdGlvbnMscz0iY2hlY2tib3giPT09dGhpcy50eXBlfHwicmFkaW8iPT09dGhpcy50eXBlLG49cz8iIjoidWktc3RhdGUtYWN0aXZlIjtudWxsPT09aS5sYWJlbCYmKGkubGFiZWw9ImlucHV0Ij09PXRoaXMudHlwZT90aGlzLmJ1dHRvbkVsZW1lbnQudmFsKCk6dGhpcy5idXR0b25FbGVtZW50Lmh0bWwoKSksdGhpcy5faG92ZXJhYmxlKHRoaXMuYnV0dG9uRWxlbWVudCksdGhpcy5idXR0b25FbGVtZW50LmFkZENsYXNzKHApLmF0dHIoInJvbGUiLCJidXR0b24iKS5iaW5kKCJtb3VzZWVudGVyIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7aS5kaXNhYmxlZHx8dGhpcz09PWMmJmUodGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpfSkuYmluZCgibW91c2VsZWF2ZSIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbigpe2kuZGlzYWJsZWR8fGUodGhpcykucmVtb3ZlQ2xhc3Mobil9KS5iaW5kKCJjbGljayIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbihlKXtpLmRpc2FibGVkJiYoZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfSksdGhpcy5fb24oe2ZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5idXR0b25FbGVtZW50LmFkZENsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfSxibHVyOmZ1bmN0aW9uKCl7dGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfX0pLHMmJnRoaXMuZWxlbWVudC5iaW5kKCJjaGFuZ2UiK3RoaXMuZXZlbnROYW1lc3BhY2UsZnVuY3Rpb24oKXt0LnJlZnJlc2goKX0pLCJjaGVja2JveCI9PT10aGlzLnR5cGU/dGhpcy5idXR0b25FbGVtZW50LmJpbmQoImNsaWNrIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7cmV0dXJuIGkuZGlzYWJsZWQ/ITE6dm9pZCAwfSk6InJhZGlvIj09PXRoaXMudHlwZT90aGlzLmJ1dHRvbkVsZW1lbnQuYmluZCgiY2xpY2siK3RoaXMuZXZlbnROYW1lc3BhY2UsZnVuY3Rpb24oKXtpZihpLmRpc2FibGVkKXtyZXR1cm4gITF9ZSh0aGlzKS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIiksdC5idXR0b25FbGVtZW50LmF0dHIoImFyaWEtcHJlc3NlZCIsInRydWUiKTt2YXIgcz10LmVsZW1lbnRbMF07ZyhzKS5ub3QocykubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcykuYnV0dG9uKCJ3aWRnZXQiKVswXX0pLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKS5hdHRyKCJhcmlhLXByZXNzZWQiLCJmYWxzZSIpfSk6KHRoaXMuYnV0dG9uRWxlbWVudC5iaW5kKCJtb3VzZWRvd24iK3RoaXMuZXZlbnROYW1lc3BhY2UsZnVuY3Rpb24oKXtyZXR1cm4gaS5kaXNhYmxlZD8hMTooZSh0aGlzKS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIiksYz10aGlzLHQuZG9jdW1lbnQub25lKCJtb3VzZXVwIixmdW5jdGlvbigpe2M9bnVsbH0pLHZvaWQgMCl9KS5iaW5kKCJtb3VzZXVwIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7cmV0dXJuIGkuZGlzYWJsZWQ/ITE6KGUodGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLHZvaWQgMCl9KS5iaW5kKCJrZXlkb3duIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKHQpe3JldHVybiBpLmRpc2FibGVkPyExOigodC5rZXlDb2RlPT09ZS51aS5rZXlDb2RlLlNQQUNFfHx0LmtleUNvZGU9PT1lLnVpLmtleUNvZGUuRU5URVIpJiZlKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSx2b2lkIDApfSkuYmluZCgia2V5dXAiK3RoaXMuZXZlbnROYW1lc3BhY2UrIiBibHVyIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7ZSh0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIil9KSx0aGlzLmJ1dHRvbkVsZW1lbnQuaXMoImEiKSYmdGhpcy5idXR0b25FbGVtZW50LmtleXVwKGZ1bmN0aW9uKHQpe3Qua2V5Q29kZT09PWUudWkua2V5Q29kZS5TUEFDRSYmZSh0aGlzKS5jbGljaygpfSkpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLGkuZGlzYWJsZWQpLHRoaXMuX3Jlc2V0QnV0dG9uKCl9LF9kZXRlcm1pbmVCdXR0b25UeXBlOmZ1bmN0aW9uKCl7dmFyIGUsdCxpO3RoaXMudHlwZT10aGlzLmVsZW1lbnQuaXMoIlt0eXBlPWNoZWNrYm94XSIpPyJjaGVja2JveCI6dGhpcy5lbGVtZW50LmlzKCJbdHlwZT1yYWRpb10iKT8icmFkaW8iOnRoaXMuZWxlbWVudC5pcygiaW5wdXQiKT8iaW5wdXQiOiJidXR0b24iLCJjaGVja2JveCI9PT10aGlzLnR5cGV8fCJyYWRpbyI9PT10aGlzLnR5cGU/KGU9dGhpcy5lbGVtZW50LnBhcmVudHMoKS5sYXN0KCksdD0ibGFiZWxbZm9yPSciK3RoaXMuZWxlbWVudC5hdHRyKCJpZCIpKyInXSIsdGhpcy5idXR0b25FbGVtZW50PWUuZmluZCh0KSx0aGlzLmJ1dHRvbkVsZW1lbnQubGVuZ3RofHwoZT1lLmxlbmd0aD9lLnNpYmxpbmdzKCk6dGhpcy5lbGVtZW50LnNpYmxpbmdzKCksdGhpcy5idXR0b25FbGVtZW50PWUuZmlsdGVyKHQpLHRoaXMuYnV0dG9uRWxlbWVudC5sZW5ndGh8fCh0aGlzLmJ1dHRvbkVsZW1lbnQ9ZS5maW5kKHQpKSksdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1oZWxwZXItaGlkZGVuLWFjY2Vzc2libGUiKSxpPXRoaXMuZWxlbWVudC5pcygiOmNoZWNrZWQiKSxpJiZ0aGlzLmJ1dHRvbkVsZW1lbnQuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuYnV0dG9uRWxlbWVudC5wcm9wKCJhcmlhLXByZXNzZWQiLGkpKTp0aGlzLmJ1dHRvbkVsZW1lbnQ9dGhpcy5lbGVtZW50fSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idXR0b25FbGVtZW50fSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIiksdGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUNsYXNzKHArIiB1aS1zdGF0ZS1hY3RpdmUgIitmKS5yZW1vdmVBdHRyKCJyb2xlIikucmVtb3ZlQXR0cigiYXJpYS1wcmVzc2VkIikuaHRtbCh0aGlzLmJ1dHRvbkVsZW1lbnQuZmluZCgiLnVpLWJ1dHRvbi10ZXh0IikuaHRtbCgpKSx0aGlzLmhhc1RpdGxlfHx0aGlzLmJ1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cigidGl0bGUiKX0sX3NldE9wdGlvbjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9zdXBlcihlLHQpLCJkaXNhYmxlZCI9PT1lPyh0aGlzLndpZGdldCgpLnRvZ2dsZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIsISF0KSx0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLCEhdCksdCYmKCJjaGVja2JveCI9PT10aGlzLnR5cGV8fCJyYWRpbyI9PT10aGlzLnR5cGU/dGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpOnRoaXMuYnV0dG9uRWxlbWVudC5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMgdWktc3RhdGUtYWN0aXZlIikpLHZvaWQgMCk6KHRoaXMuX3Jlc2V0QnV0dG9uKCksdm9pZCAwKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudC5pcygiaW5wdXQsIGJ1dHRvbiIpP3RoaXMuZWxlbWVudC5pcygiOmRpc2FibGVkIik6dGhpcy5lbGVtZW50Lmhhc0NsYXNzKCJ1aS1idXR0b24tZGlzYWJsZWQiKTt0IT09dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIix0KSwicmFkaW8iPT09dGhpcy50eXBlP2codGhpcy5lbGVtZW50WzBdKS5lYWNoKGZ1bmN0aW9uKCl7ZSh0aGlzKS5pcygiOmNoZWNrZWQiKT9lKHRoaXMpLmJ1dHRvbigid2lkZ2V0IikuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLmF0dHIoImFyaWEtcHJlc3NlZCIsInRydWUiKTplKHRoaXMpLmJ1dHRvbigid2lkZ2V0IikucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLmF0dHIoImFyaWEtcHJlc3NlZCIsImZhbHNlIil9KToiY2hlY2tib3giPT09dGhpcy50eXBlJiYodGhpcy5lbGVtZW50LmlzKCI6Y2hlY2tlZCIpP3RoaXMuYnV0dG9uRWxlbWVudC5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIikuYXR0cigiYXJpYS1wcmVzc2VkIiwidHJ1ZSIpOnRoaXMuYnV0dG9uRWxlbWVudC5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIikuYXR0cigiYXJpYS1wcmVzc2VkIiwiZmFsc2UiKSl9LF9yZXNldEJ1dHRvbjpmdW5jdGlvbigpe2lmKCJpbnB1dCI9PT10aGlzLnR5cGUpe3JldHVybiB0aGlzLm9wdGlvbnMubGFiZWwmJnRoaXMuZWxlbWVudC52YWwodGhpcy5vcHRpb25zLmxhYmVsKSx2b2lkIDB9dmFyIHQ9dGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUNsYXNzKGYpLGk9ZSgiPHNwYW4+PC9zcGFuPiIsdGhpcy5kb2N1bWVudFswXSkuYWRkQ2xhc3MoInVpLWJ1dHRvbi10ZXh0IikuaHRtbCh0aGlzLm9wdGlvbnMubGFiZWwpLmFwcGVuZFRvKHQuZW1wdHkoKSkudGV4dCgpLHM9dGhpcy5vcHRpb25zLmljb25zLG49cy5wcmltYXJ5JiZzLnNlY29uZGFyeSxhPVtdO3MucHJpbWFyeXx8cy5zZWNvbmRhcnk/KHRoaXMub3B0aW9ucy50ZXh0JiZhLnB1c2goInVpLWJ1dHRvbi10ZXh0LWljb24iKyhuPyJzIjpzLnByaW1hcnk/Ii1wcmltYXJ5IjoiLXNlY29uZGFyeSIpKSxzLnByaW1hcnkmJnQucHJlcGVuZCgiPHNwYW4gY2xhc3M9J3VpLWJ1dHRvbi1pY29uLXByaW1hcnkgdWktaWNvbiAiK3MucHJpbWFyeSsiJz48L3NwYW4+Iikscy5zZWNvbmRhcnkmJnQuYXBwZW5kKCI8c3BhbiBjbGFzcz0ndWktYnV0dG9uLWljb24tc2Vjb25kYXJ5IHVpLWljb24gIitzLnNlY29uZGFyeSsiJz48L3NwYW4+IiksdGhpcy5vcHRpb25zLnRleHR8fChhLnB1c2gobj8idWktYnV0dG9uLWljb25zLW9ubHkiOiJ1aS1idXR0b24taWNvbi1vbmx5IiksdGhpcy5oYXNUaXRsZXx8dC5hdHRyKCJ0aXRsZSIsZS50cmltKGkpKSkpOmEucHVzaCgidWktYnV0dG9uLXRleHQtb25seSIpLHQuYWRkQ2xhc3MoYS5qb2luKCIgIikpfX0pLGUud2lkZ2V0KCJ1aS5idXR0b25zZXQiLHt2ZXJzaW9uOiIxLjExLjEiLG9wdGlvbnM6e2l0ZW1zOiJidXR0b24sIGlucHV0W3R5cGU9YnV0dG9uXSwgaW5wdXRbdHlwZT1zdWJtaXRdLCBpbnB1dFt0eXBlPXJlc2V0XSwgaW5wdXRbdHlwZT1jaGVja2JveF0sIGlucHV0W3R5cGU9cmFkaW9dLCBhLCA6ZGF0YSh1aS1idXR0b24pIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hZGRDbGFzcygidWktYnV0dG9uc2V0Iil9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24oZSx0KXsiZGlzYWJsZWQiPT09ZSYmdGhpcy5idXR0b25zLmJ1dHRvbigib3B0aW9uIixlLHQpLHRoaXMuX3N1cGVyKGUsdCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD0icnRsIj09PXRoaXMuZWxlbWVudC5jc3MoImRpcmVjdGlvbiIpLGk9dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKSxzPWkuZmlsdGVyKCI6dWktYnV0dG9uIik7aS5ub3QoIjp1aS1idXR0b24iKS5idXR0b24oKSxzLmJ1dHRvbigicmVmcmVzaCIpLHRoaXMuYnV0dG9ucz1pLm1hcChmdW5jdGlvbigpe3JldHVybiBlKHRoaXMpLmJ1dHRvbigid2lkZ2V0IilbMF19KS5yZW1vdmVDbGFzcygidWktY29ybmVyLWFsbCB1aS1jb3JuZXItbGVmdCB1aS1jb3JuZXItcmlnaHQiKS5maWx0ZXIoIjpmaXJzdCIpLmFkZENsYXNzKHQ/InVpLWNvcm5lci1yaWdodCI6InVpLWNvcm5lci1sZWZ0IikuZW5kKCkuZmlsdGVyKCI6bGFzdCIpLmFkZENsYXNzKHQ/InVpLWNvcm5lci1sZWZ0IjoidWktY29ybmVyLXJpZ2h0IikuZW5kKCkuZW5kKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1idXR0b25zZXQiKSx0aGlzLmJ1dHRvbnMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcykuYnV0dG9uKCJ3aWRnZXQiKVswXX0pLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItbGVmdCB1aS1jb3JuZXItcmlnaHQiKS5lbmQoKS5idXR0b24oImRlc3Ryb3kiKX19KSxlLnVpLmJ1dHRvbixlLmV4dGVuZChlLnVpLHtkYXRlcGlja2VyOnt2ZXJzaW9uOiIxLjExLjEifX0pO3ZhciB2O2UuZXh0ZW5kKG4ucHJvdG90eXBlLHttYXJrZXJDbGFzc05hbWU6Imhhc0RhdGVwaWNrZXIiLG1heFJvd3M6NCxfd2lkZ2V0RGF0ZXBpY2tlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRwRGl2fSxzZXREZWZhdWx0czpmdW5jdGlvbihlKXtyZXR1cm4gcih0aGlzLl9kZWZhdWx0cyxlfHx7fSksdGhpc30sX2F0dGFjaERhdGVwaWNrZXI6ZnVuY3Rpb24odCxpKXt2YXIgcyxuLGE7cz10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksbj0iZGl2Ij09PXN8fCJzcGFuIj09PXMsdC5pZHx8KHRoaXMudXVpZCs9MSx0LmlkPSJkcCIrdGhpcy51dWlkKSxhPXRoaXMuX25ld0luc3QoZSh0KSxuKSxhLnNldHRpbmdzPWUuZXh0ZW5kKHt9LGl8fHt9KSwiaW5wdXQiPT09cz90aGlzLl9jb25uZWN0RGF0ZXBpY2tlcih0LGEpOm4mJnRoaXMuX2lubGluZURhdGVwaWNrZXIodCxhKX0sX25ld0luc3Q6ZnVuY3Rpb24odCxpKXt2YXIgcz10WzBdLmlkLnJlcGxhY2UoLyhbXkEtWmEtejAtOV9cLV0pL2csIlxcXFwkMSIpO3JldHVybntpZDpzLGlucHV0OnQsc2VsZWN0ZWREYXk6MCxzZWxlY3RlZE1vbnRoOjAsc2VsZWN0ZWRZZWFyOjAsZHJhd01vbnRoOjAsZHJhd1llYXI6MCxpbmxpbmU6aSxkcERpdjppP2EoZSgiPGRpdiBjbGFzcz0nIit0aGlzLl9pbmxpbmVDbGFzcysiIHVpLWRhdGVwaWNrZXIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCB1aS1jb3JuZXItYWxsJz48L2Rpdj4iKSk6dGhpcy5kcERpdn19LF9jb25uZWN0RGF0ZXBpY2tlcjpmdW5jdGlvbih0LGkpe3ZhciBzPWUodCk7aS5hcHBlbmQ9ZShbXSksaS50cmlnZ2VyPWUoW10pLHMuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpfHwodGhpcy5fYXR0YWNobWVudHMocyxpKSxzLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5rZXlkb3duKHRoaXMuX2RvS2V5RG93bikua2V5cHJlc3ModGhpcy5fZG9LZXlQcmVzcykua2V5dXAodGhpcy5fZG9LZXlVcCksdGhpcy5fYXV0b1NpemUoaSksZS5kYXRhKHQsImRhdGVwaWNrZXIiLGkpLGkuc2V0dGluZ3MuZGlzYWJsZWQmJnRoaXMuX2Rpc2FibGVEYXRlcGlja2VyKHQpKX0sX2F0dGFjaG1lbnRzOmZ1bmN0aW9uKHQsaSl7dmFyIHMsbixhLG89dGhpcy5fZ2V0KGksImFwcGVuZFRleHQiKSxyPXRoaXMuX2dldChpLCJpc1JUTCIpO2kuYXBwZW5kJiZpLmFwcGVuZC5yZW1vdmUoKSxvJiYoaS5hcHBlbmQ9ZSgiPHNwYW4gY2xhc3M9JyIrdGhpcy5fYXBwZW5kQ2xhc3MrIic+IitvKyI8L3NwYW4+IiksdFtyPyJiZWZvcmUiOiJhZnRlciJdKGkuYXBwZW5kKSksdC51bmJpbmQoImZvY3VzIix0aGlzLl9zaG93RGF0ZXBpY2tlciksaS50cmlnZ2VyJiZpLnRyaWdnZXIucmVtb3ZlKCkscz10aGlzLl9nZXQoaSwic2hvd09uIiksKCJmb2N1cyI9PT1zfHwiYm90aCI9PT1zKSYmdC5mb2N1cyh0aGlzLl9zaG93RGF0ZXBpY2tlciksKCJidXR0b24iPT09c3x8ImJvdGgiPT09cykmJihuPXRoaXMuX2dldChpLCJidXR0b25UZXh0IiksYT10aGlzLl9nZXQoaSwiYnV0dG9uSW1hZ2UiKSxpLnRyaWdnZXI9ZSh0aGlzLl9nZXQoaSwiYnV0dG9uSW1hZ2VPbmx5Iik/ZSgiPGltZy8+IikuYWRkQ2xhc3ModGhpcy5fdHJpZ2dlckNsYXNzKS5hdHRyKHtzcmM6YSxhbHQ6bix0aXRsZTpufSk6ZSgiPGJ1dHRvbiB0eXBlPSdidXR0b24nPjwvYnV0dG9uPiIpLmFkZENsYXNzKHRoaXMuX3RyaWdnZXJDbGFzcykuaHRtbChhP2UoIjxpbWcvPiIpLmF0dHIoe3NyYzphLGFsdDpuLHRpdGxlOm59KTpuKSksdFtyPyJiZWZvcmUiOiJhZnRlciJdKGkudHJpZ2dlciksaS50cmlnZ2VyLmNsaWNrKGZ1bmN0aW9uKCl7cmV0dXJuIGUuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJmUuZGF0ZXBpY2tlci5fbGFzdElucHV0PT09dFswXT9lLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk6ZS5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmZS5kYXRlcGlja2VyLl9sYXN0SW5wdXQhPT10WzBdPyhlLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCksZS5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcih0WzBdKSk6ZS5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcih0WzBdKSwhMX0pKX0sX2F1dG9TaXplOmZ1bmN0aW9uKGUpe2lmKHRoaXMuX2dldChlLCJhdXRvU2l6ZSIpJiYhZS5pbmxpbmUpe3ZhciB0LGkscyxuLGE9bmV3IERhdGUoMjAwOSwxMSwyMCksbz10aGlzLl9nZXQoZSwiZGF0ZUZvcm1hdCIpO28ubWF0Y2goL1tETV0vKSYmKHQ9ZnVuY3Rpb24oZSl7Zm9yKGk9MCxzPTAsbj0wO2UubGVuZ3RoPm47bisrKXtlW25dLmxlbmd0aD5pJiYoaT1lW25dLmxlbmd0aCxzPW4pfXJldHVybiBzfSxhLnNldE1vbnRoKHQodGhpcy5fZ2V0KGUsby5tYXRjaCgvTU0vKT8ibW9udGhOYW1lcyI6Im1vbnRoTmFtZXNTaG9ydCIpKSksYS5zZXREYXRlKHQodGhpcy5fZ2V0KGUsby5tYXRjaCgvREQvKT8iZGF5TmFtZXMiOiJkYXlOYW1lc1Nob3J0IikpKzIwLWEuZ2V0RGF5KCkpKSxlLmlucHV0LmF0dHIoInNpemUiLHRoaXMuX2Zvcm1hdERhdGUoZSxhKS5sZW5ndGgpfX0sX2lubGluZURhdGVwaWNrZXI6ZnVuY3Rpb24odCxpKXt2YXIgcz1lKHQpO3MuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpfHwocy5hZGRDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkuYXBwZW5kKGkuZHBEaXYpLGUuZGF0YSh0LCJkYXRlcGlja2VyIixpKSx0aGlzLl9zZXREYXRlKGksdGhpcy5fZ2V0RGVmYXVsdERhdGUoaSksITApLHRoaXMuX3VwZGF0ZURhdGVwaWNrZXIoaSksdGhpcy5fdXBkYXRlQWx0ZXJuYXRlKGkpLGkuc2V0dGluZ3MuZGlzYWJsZWQmJnRoaXMuX2Rpc2FibGVEYXRlcGlja2VyKHQpLGkuZHBEaXYuY3NzKCJkaXNwbGF5IiwiYmxvY2siKSl9LF9kaWFsb2dEYXRlcGlja2VyOmZ1bmN0aW9uKHQsaSxzLG4sYSl7dmFyIG8saCxsLHUsZCxjPXRoaXMuX2RpYWxvZ0luc3Q7cmV0dXJuIGN8fCh0aGlzLnV1aWQrPTEsbz0iZHAiK3RoaXMudXVpZCx0aGlzLl9kaWFsb2dJbnB1dD1lKCI8aW5wdXQgdHlwZT0ndGV4dCcgaWQ9JyIrbysiJyBzdHlsZT0ncG9zaXRpb246IGFic29sdXRlOyB0b3A6IC0xMDBweDsgd2lkdGg6IDBweDsnLz4iKSx0aGlzLl9kaWFsb2dJbnB1dC5rZXlkb3duKHRoaXMuX2RvS2V5RG93biksZSgiYm9keSIpLmFwcGVuZCh0aGlzLl9kaWFsb2dJbnB1dCksYz10aGlzLl9kaWFsb2dJbnN0PXRoaXMuX25ld0luc3QodGhpcy5fZGlhbG9nSW5wdXQsITEpLGMuc2V0dGluZ3M9e30sZS5kYXRhKHRoaXMuX2RpYWxvZ0lucHV0WzBdLCJkYXRlcGlja2VyIixjKSkscihjLnNldHRpbmdzLG58fHt9KSxpPWkmJmkuY29uc3RydWN0b3I9PT1EYXRlP3RoaXMuX2Zvcm1hdERhdGUoYyxpKTppLHRoaXMuX2RpYWxvZ0lucHV0LnZhbChpKSx0aGlzLl9wb3M9YT9hLmxlbmd0aD9hOlthLnBhZ2VYLGEucGFnZVldOm51bGwsdGhpcy5fcG9zfHwoaD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsbD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LHU9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnR8fGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCxkPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wLHRoaXMuX3Bvcz1baC8yLTEwMCt1LGwvMi0xNTArZF0pLHRoaXMuX2RpYWxvZ0lucHV0LmNzcygibGVmdCIsdGhpcy5fcG9zWzBdKzIwKyJweCIpLmNzcygidG9wIix0aGlzLl9wb3NbMV0rInB4IiksYy5zZXR0aW5ncy5vblNlbGVjdD1zLHRoaXMuX2luRGlhbG9nPSEwLHRoaXMuZHBEaXYuYWRkQ2xhc3ModGhpcy5fZGlhbG9nQ2xhc3MpLHRoaXMuX3Nob3dEYXRlcGlja2VyKHRoaXMuX2RpYWxvZ0lucHV0WzBdKSxlLmJsb2NrVUkmJmUuYmxvY2tVSSh0aGlzLmRwRGl2KSxlLmRhdGEodGhpcy5fZGlhbG9nSW5wdXRbMF0sImRhdGVwaWNrZXIiLGMpLHRoaXN9LF9kZXN0cm95RGF0ZXBpY2tlcjpmdW5jdGlvbih0KXt2YXIgaSxzPWUodCksbj1lLmRhdGEodCwiZGF0ZXBpY2tlciIpO3MuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpJiYoaT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksZS5yZW1vdmVEYXRhKHQsImRhdGVwaWNrZXIiKSwiaW5wdXQiPT09aT8obi5hcHBlbmQucmVtb3ZlKCksbi50cmlnZ2VyLnJlbW92ZSgpLHMucmVtb3ZlQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpLnVuYmluZCgiZm9jdXMiLHRoaXMuX3Nob3dEYXRlcGlja2VyKS51bmJpbmQoImtleWRvd24iLHRoaXMuX2RvS2V5RG93bikudW5iaW5kKCJrZXlwcmVzcyIsdGhpcy5fZG9LZXlQcmVzcykudW5iaW5kKCJrZXl1cCIsdGhpcy5fZG9LZXlVcCkpOigiZGl2Ij09PWl8fCJzcGFuIj09PWkpJiZzLnJlbW92ZUNsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5lbXB0eSgpKX0sX2VuYWJsZURhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dmFyIGkscyxuPWUodCksYT1lLmRhdGEodCwiZGF0ZXBpY2tlciIpO24uaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpJiYoaT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksImlucHV0Ij09PWk/KHQuZGlzYWJsZWQ9ITEsYS50cmlnZ2VyLmZpbHRlcigiYnV0dG9uIikuZWFjaChmdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9ITF9KS5lbmQoKS5maWx0ZXIoImltZyIpLmNzcyh7b3BhY2l0eToiMS4wIixjdXJzb3I6IiJ9KSk6KCJkaXYiPT09aXx8InNwYW4iPT09aSkmJihzPW4uY2hpbGRyZW4oIi4iK3RoaXMuX2lubGluZUNsYXNzKSxzLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIikscy5maW5kKCJzZWxlY3QudWktZGF0ZXBpY2tlci1tb250aCwgc2VsZWN0LnVpLWRhdGVwaWNrZXIteWVhciIpLnByb3AoImRpc2FibGVkIiwhMSkpLHRoaXMuX2Rpc2FibGVkSW5wdXRzPWUubWFwKHRoaXMuX2Rpc2FibGVkSW5wdXRzLGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dD9udWxsOmV9KSl9LF9kaXNhYmxlRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXt2YXIgaSxzLG49ZSh0KSxhPWUuZGF0YSh0LCJkYXRlcGlja2VyIik7bi5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkmJihpPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwiaW5wdXQiPT09aT8odC5kaXNhYmxlZD0hMCxhLnRyaWdnZXIuZmlsdGVyKCJidXR0b24iKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD0hMH0pLmVuZCgpLmZpbHRlcigiaW1nIikuY3NzKHtvcGFjaXR5OiIwLjUiLGN1cnNvcjoiZGVmYXVsdCJ9KSk6KCJkaXYiPT09aXx8InNwYW4iPT09aSkmJihzPW4uY2hpbGRyZW4oIi4iK3RoaXMuX2lubGluZUNsYXNzKSxzLmNoaWxkcmVuKCkuYWRkQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIikscy5maW5kKCJzZWxlY3QudWktZGF0ZXBpY2tlci1tb250aCwgc2VsZWN0LnVpLWRhdGVwaWNrZXIteWVhciIpLnByb3AoImRpc2FibGVkIiwhMCkpLHRoaXMuX2Rpc2FibGVkSW5wdXRzPWUubWFwKHRoaXMuX2Rpc2FibGVkSW5wdXRzLGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dD9udWxsOmV9KSx0aGlzLl9kaXNhYmxlZElucHV0c1t0aGlzLl9kaXNhYmxlZElucHV0cy5sZW5ndGhdPXQpfSxfaXNEaXNhYmxlZERhdGVwaWNrZXI6ZnVuY3Rpb24oZSl7aWYoIWUpe3JldHVybiAhMX1mb3IodmFyIHQ9MDt0aGlzLl9kaXNhYmxlZElucHV0cy5sZW5ndGg+dDt0Kyspe2lmKHRoaXMuX2Rpc2FibGVkSW5wdXRzW3RdPT09ZSl7cmV0dXJuICEwfX1yZXR1cm4gITF9LF9nZXRJbnN0OmZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gZS5kYXRhKHQsImRhdGVwaWNrZXIiKX1jYXRjaChpKXt0aHJvdyJNaXNzaW5nIGluc3RhbmNlIGRhdGEgZm9yIHRoaXMgZGF0ZXBpY2tlciJ9fSxfb3B0aW9uRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGkscyl7dmFyIG4sYSxvLGgsbD10aGlzLl9nZXRJbnN0KHQpO3JldHVybiAyPT09YXJndW1lbnRzLmxlbmd0aCYmInN0cmluZyI9PXR5cGVvZiBpPyJkZWZhdWx0cyI9PT1pP2UuZXh0ZW5kKHt9LGUuZGF0ZXBpY2tlci5fZGVmYXVsdHMpOmw/ImFsbCI9PT1pP2UuZXh0ZW5kKHt9LGwuc2V0dGluZ3MpOnRoaXMuX2dldChsLGkpOm51bGw6KG49aXx8e30sInN0cmluZyI9PXR5cGVvZiBpJiYobj17fSxuW2ldPXMpLGwmJih0aGlzLl9jdXJJbnN0PT09bCYmdGhpcy5faGlkZURhdGVwaWNrZXIoKSxhPXRoaXMuX2dldERhdGVEYXRlcGlja2VyKHQsITApLG89dGhpcy5fZ2V0TWluTWF4RGF0ZShsLCJtaW4iKSxoPXRoaXMuX2dldE1pbk1heERhdGUobCwibWF4IikscihsLnNldHRpbmdzLG4pLG51bGwhPT1vJiZ2b2lkIDAhPT1uLmRhdGVGb3JtYXQmJnZvaWQgMD09PW4ubWluRGF0ZSYmKGwuc2V0dGluZ3MubWluRGF0ZT10aGlzLl9mb3JtYXREYXRlKGwsbykpLG51bGwhPT1oJiZ2b2lkIDAhPT1uLmRhdGVGb3JtYXQmJnZvaWQgMD09PW4ubWF4RGF0ZSYmKGwuc2V0dGluZ3MubWF4RGF0ZT10aGlzLl9mb3JtYXREYXRlKGwsaCkpLCJkaXNhYmxlZCIgaW4gbiYmKG4uZGlzYWJsZWQ/dGhpcy5fZGlzYWJsZURhdGVwaWNrZXIodCk6dGhpcy5fZW5hYmxlRGF0ZXBpY2tlcih0KSksdGhpcy5fYXR0YWNobWVudHMoZSh0KSxsKSx0aGlzLl9hdXRvU2l6ZShsKSx0aGlzLl9zZXREYXRlKGwsYSksdGhpcy5fdXBkYXRlQWx0ZXJuYXRlKGwpLHRoaXMuX3VwZGF0ZURhdGVwaWNrZXIobCkpLHZvaWQgMCl9LF9jaGFuZ2VEYXRlcGlja2VyOmZ1bmN0aW9uKGUsdCxpKXt0aGlzLl9vcHRpb25EYXRlcGlja2VyKGUsdCxpKX0sX3JlZnJlc2hEYXRlcGlja2VyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2dldEluc3QoZSk7dCYmdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcih0KX0sX3NldERhdGVEYXRlcGlja2VyOmZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5fZ2V0SW5zdChlKTtpJiYodGhpcy5fc2V0RGF0ZShpLHQpLHRoaXMuX3VwZGF0ZURhdGVwaWNrZXIoaSksdGhpcy5fdXBkYXRlQWx0ZXJuYXRlKGkpKX0sX2dldERhdGVEYXRlcGlja2VyOmZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5fZ2V0SW5zdChlKTtyZXR1cm4gaSYmIWkuaW5saW5lJiZ0aGlzLl9zZXREYXRlRnJvbUZpZWxkKGksdCksaT90aGlzLl9nZXREYXRlKGkpOm51bGx9LF9kb0tleURvd246ZnVuY3Rpb24odCl7dmFyIGkscyxuLGE9ZS5kYXRlcGlja2VyLl9nZXRJbnN0KHQudGFyZ2V0KSxvPSEwLHI9YS5kcERpdi5pcygiLnVpLWRhdGVwaWNrZXItcnRsIik7aWYoYS5fa2V5RXZlbnQ9ITAsZS5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyl7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSA5OmUuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKSxvPSExO2JyZWFrO2Nhc2UgMTM6cmV0dXJuIG49ZSgidGQuIitlLmRhdGVwaWNrZXIuX2RheU92ZXJDbGFzcysiOm5vdCguIitlLmRhdGVwaWNrZXIuX2N1cnJlbnRDbGFzcysiKSIsYS5kcERpdiksblswXSYmZS5kYXRlcGlja2VyLl9zZWxlY3REYXkodC50YXJnZXQsYS5zZWxlY3RlZE1vbnRoLGEuc2VsZWN0ZWRZZWFyLG5bMF0pLGk9ZS5kYXRlcGlja2VyLl9nZXQoYSwib25TZWxlY3QiKSxpPyhzPWUuZGF0ZXBpY2tlci5fZm9ybWF0RGF0ZShhKSxpLmFwcGx5KGEuaW5wdXQ/YS5pbnB1dFswXTpudWxsLFtzLGFdKSk6ZS5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpLCExO2Nhc2UgMjc6ZS5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpO2JyZWFrO2Nhc2UgMzM6ZS5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LHQuY3RybEtleT8tZS5kYXRlcGlja2VyLl9nZXQoYSwic3RlcEJpZ01vbnRocyIpOi1lLmRhdGVwaWNrZXIuX2dldChhLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDM0OmUuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCx0LmN0cmxLZXk/K2UuZGF0ZXBpY2tlci5fZ2V0KGEsInN0ZXBCaWdNb250aHMiKTorZS5kYXRlcGlja2VyLl9nZXQoYSwic3RlcE1vbnRocyIpLCJNIik7YnJlYWs7Y2FzZSAzNToodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiZlLmRhdGVwaWNrZXIuX2NsZWFyRGF0ZSh0LnRhcmdldCksbz10LmN0cmxLZXl8fHQubWV0YUtleTticmVhaztjYXNlIDM2Oih0LmN0cmxLZXl8fHQubWV0YUtleSkmJmUuZGF0ZXBpY2tlci5fZ290b1RvZGF5KHQudGFyZ2V0KSxvPXQuY3RybEtleXx8dC5tZXRhS2V5O2JyZWFrO2Nhc2UgMzc6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmZS5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LHI/MTotMSwiRCIpLG89dC5jdHJsS2V5fHx0Lm1ldGFLZXksdC5vcmlnaW5hbEV2ZW50LmFsdEtleSYmZS5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LHQuY3RybEtleT8tZS5kYXRlcGlja2VyLl9nZXQoYSwic3RlcEJpZ01vbnRocyIpOi1lLmRhdGVwaWNrZXIuX2dldChhLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDM4Oih0LmN0cmxLZXl8fHQubWV0YUtleSkmJmUuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCwtNywiRCIpLG89dC5jdHJsS2V5fHx0Lm1ldGFLZXk7YnJlYWs7Y2FzZSAzOToodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiZlLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQscj8tMToxLCJEIiksbz10LmN0cmxLZXl8fHQubWV0YUtleSx0Lm9yaWdpbmFsRXZlbnQuYWx0S2V5JiZlLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsdC5jdHJsS2V5PytlLmRhdGVwaWNrZXIuX2dldChhLCJzdGVwQmlnTW9udGhzIik6K2UuZGF0ZXBpY2tlci5fZ2V0KGEsInN0ZXBNb250aHMiKSwiTSIpO2JyZWFrO2Nhc2UgNDA6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmZS5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LDcsIkQiKSxvPXQuY3RybEtleXx8dC5tZXRhS2V5O2JyZWFrO2RlZmF1bHQ6bz0hMX19ZWxzZXszNj09PXQua2V5Q29kZSYmdC5jdHJsS2V5P2UuZGF0ZXBpY2tlci5fc2hvd0RhdGVwaWNrZXIodGhpcyk6bz0hMX1vJiYodC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCkpfSxfZG9LZXlQcmVzczpmdW5jdGlvbih0KXt2YXIgaSxzLG49ZS5kYXRlcGlja2VyLl9nZXRJbnN0KHQudGFyZ2V0KTtyZXR1cm4gZS5kYXRlcGlja2VyLl9nZXQobiwiY29uc3RyYWluSW5wdXQiKT8oaT1lLmRhdGVwaWNrZXIuX3Bvc3NpYmxlQ2hhcnMoZS5kYXRlcGlja2VyLl9nZXQobiwiZGF0ZUZvcm1hdCIpKSxzPVN0cmluZy5mcm9tQ2hhckNvZGUobnVsbD09dC5jaGFyQ29kZT90LmtleUNvZGU6dC5jaGFyQ29kZSksdC5jdHJsS2V5fHx0Lm1ldGFLZXl8fCIgIj5zfHwhaXx8aS5pbmRleE9mKHMpPi0xKTp2b2lkIDB9LF9kb0tleVVwOmZ1bmN0aW9uKHQpe3ZhciBpLHM9ZS5kYXRlcGlja2VyLl9nZXRJbnN0KHQudGFyZ2V0KTtpZihzLmlucHV0LnZhbCgpIT09cy5sYXN0VmFsKXt0cnl7aT1lLmRhdGVwaWNrZXIucGFyc2VEYXRlKGUuZGF0ZXBpY2tlci5fZ2V0KHMsImRhdGVGb3JtYXQiKSxzLmlucHV0P3MuaW5wdXQudmFsKCk6bnVsbCxlLmRhdGVwaWNrZXIuX2dldEZvcm1hdENvbmZpZyhzKSksaSYmKGUuZGF0ZXBpY2tlci5fc2V0RGF0ZUZyb21GaWVsZChzKSxlLmRhdGVwaWNrZXIuX3VwZGF0ZUFsdGVybmF0ZShzKSxlLmRhdGVwaWNrZXIuX3VwZGF0ZURhdGVwaWNrZXIocykpfWNhdGNoKG4pe319cmV0dXJuICEwfSxfc2hvd0RhdGVwaWNrZXI6ZnVuY3Rpb24odCl7aWYodD10LnRhcmdldHx8dCwiaW5wdXQiIT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYodD1lKCJpbnB1dCIsdC5wYXJlbnROb2RlKVswXSksIWUuZGF0ZXBpY2tlci5faXNEaXNhYmxlZERhdGVwaWNrZXIodCkmJmUuZGF0ZXBpY2tlci5fbGFzdElucHV0IT09dCl7dmFyIGksbixhLG8saCxsLHU7aT1lLmRhdGVwaWNrZXIuX2dldEluc3QodCksZS5kYXRlcGlja2VyLl9jdXJJbnN0JiZlLmRhdGVwaWNrZXIuX2N1ckluc3QhPT1pJiYoZS5kYXRlcGlja2VyLl9jdXJJbnN0LmRwRGl2LnN0b3AoITAsITApLGkmJmUuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJmUuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoZS5kYXRlcGlja2VyLl9jdXJJbnN0LmlucHV0WzBdKSksbj1lLmRhdGVwaWNrZXIuX2dldChpLCJiZWZvcmVTaG93IiksYT1uP24uYXBwbHkodCxbdCxpXSk6e30sYSE9PSExJiYocihpLnNldHRpbmdzLGEpLGkubGFzdFZhbD1udWxsLGUuZGF0ZXBpY2tlci5fbGFzdElucHV0PXQsZS5kYXRlcGlja2VyLl9zZXREYXRlRnJvbUZpZWxkKGkpLGUuZGF0ZXBpY2tlci5faW5EaWFsb2cmJih0LnZhbHVlPSIiKSxlLmRhdGVwaWNrZXIuX3Bvc3x8KGUuZGF0ZXBpY2tlci5fcG9zPWUuZGF0ZXBpY2tlci5fZmluZFBvcyh0KSxlLmRhdGVwaWNrZXIuX3Bvc1sxXSs9dC5vZmZzZXRIZWlnaHQpLG89ITEsZSh0KS5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe3JldHVybiBvfD0iZml4ZWQiPT09ZSh0aGlzKS5jc3MoInBvc2l0aW9uIiksIW99KSxoPXtsZWZ0OmUuZGF0ZXBpY2tlci5fcG9zWzBdLHRvcDplLmRhdGVwaWNrZXIuX3Bvc1sxXX0sZS5kYXRlcGlja2VyLl9wb3M9bnVsbCxpLmRwRGl2LmVtcHR5KCksaS5kcERpdi5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsZGlzcGxheToiYmxvY2siLHRvcDoiLTEwMDBweCJ9KSxlLmRhdGVwaWNrZXIuX3VwZGF0ZURhdGVwaWNrZXIoaSksaD1lLmRhdGVwaWNrZXIuX2NoZWNrT2Zmc2V0KGksaCxvKSxpLmRwRGl2LmNzcyh7cG9zaXRpb246ZS5kYXRlcGlja2VyLl9pbkRpYWxvZyYmZS5ibG9ja1VJPyJzdGF0aWMiOm8/ImZpeGVkIjoiYWJzb2x1dGUiLGRpc3BsYXk6Im5vbmUiLGxlZnQ6aC5sZWZ0KyJweCIsdG9wOmgudG9wKyJweCJ9KSxpLmlubGluZXx8KGw9ZS5kYXRlcGlja2VyLl9nZXQoaSwic2hvd0FuaW0iKSx1PWUuZGF0ZXBpY2tlci5fZ2V0KGksImR1cmF0aW9uIiksaS5kcERpdi5jc3MoInotaW5kZXgiLHMoZSh0KSkrMSksZS5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZz0hMCxlLmVmZmVjdHMmJmUuZWZmZWN0cy5lZmZlY3RbbF0/aS5kcERpdi5zaG93KGwsZS5kYXRlcGlja2VyLl9nZXQoaSwic2hvd09wdGlvbnMiKSx1KTppLmRwRGl2W2x8fCJzaG93Il0obD91Om51bGwpLGUuZGF0ZXBpY2tlci5fc2hvdWxkRm9jdXNJbnB1dChpKSYmaS5pbnB1dC5mb2N1cygpLGUuZGF0ZXBpY2tlci5fY3VySW5zdD1pKSl9fSxfdXBkYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXt0aGlzLm1heFJvd3M9NCx2PXQsdC5kcERpdi5lbXB0eSgpLmFwcGVuZCh0aGlzLl9nZW5lcmF0ZUhUTUwodCkpLHRoaXMuX2F0dGFjaEhhbmRsZXJzKHQpO3ZhciBpLHM9dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHModCksbj1zWzFdLGE9MTcscj10LmRwRGl2LmZpbmQoIi4iK3RoaXMuX2RheU92ZXJDbGFzcysiIGEiKTtyLmxlbmd0aD4wJiZvLmFwcGx5KHIuZ2V0KDApKSx0LmRwRGl2LnJlbW92ZUNsYXNzKCJ1aS1kYXRlcGlja2VyLW11bHRpLTIgdWktZGF0ZXBpY2tlci1tdWx0aS0zIHVpLWRhdGVwaWNrZXItbXVsdGktNCIpLndpZHRoKCIiKSxuPjEmJnQuZHBEaXYuYWRkQ2xhc3MoInVpLWRhdGVwaWNrZXItbXVsdGktIituKS5jc3MoIndpZHRoIixhKm4rImVtIiksdC5kcERpdlsoMSE9PXNbMF18fDEhPT1zWzFdPyJhZGQiOiJyZW1vdmUiKSsiQ2xhc3MiXSgidWktZGF0ZXBpY2tlci1tdWx0aSIpLHQuZHBEaXZbKHRoaXMuX2dldCh0LCJpc1JUTCIpPyJhZGQiOiJyZW1vdmUiKSsiQ2xhc3MiXSgidWktZGF0ZXBpY2tlci1ydGwiKSx0PT09ZS5kYXRlcGlja2VyLl9jdXJJbnN0JiZlLmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nJiZlLmRhdGVwaWNrZXIuX3Nob3VsZEZvY3VzSW5wdXQodCkmJnQuaW5wdXQuZm9jdXMoKSx0LnllYXJzaHRtbCYmKGk9dC55ZWFyc2h0bWwsc2V0VGltZW91dChmdW5jdGlvbigpe2k9PT10LnllYXJzaHRtbCYmdC55ZWFyc2h0bWwmJnQuZHBEaXYuZmluZCgic2VsZWN0LnVpLWRhdGVwaWNrZXIteWVhcjpmaXJzdCIpLnJlcGxhY2VXaXRoKHQueWVhcnNodG1sKSxpPXQueWVhcnNodG1sPW51bGx9LDApKX0sX3Nob3VsZEZvY3VzSW5wdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5wdXQmJmUuaW5wdXQuaXMoIjp2aXNpYmxlIikmJiFlLmlucHV0LmlzKCI6ZGlzYWJsZWQiKSYmIWUuaW5wdXQuaXMoIjpmb2N1cyIpfSxfY2hlY2tPZmZzZXQ6ZnVuY3Rpb24odCxpLHMpe3ZhciBuPXQuZHBEaXYub3V0ZXJXaWR0aCgpLGE9dC5kcERpdi5vdXRlckhlaWdodCgpLG89dC5pbnB1dD90LmlucHV0Lm91dGVyV2lkdGgoKTowLHI9dC5pbnB1dD90LmlucHV0Lm91dGVySGVpZ2h0KCk6MCxoPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCsocz8wOmUoZG9jdW1lbnQpLnNjcm9sbExlZnQoKSksbD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KyhzPzA6ZShkb2N1bWVudCkuc2Nyb2xsVG9wKCkpO3JldHVybiBpLmxlZnQtPXRoaXMuX2dldCh0LCJpc1JUTCIpP24tbzowLGkubGVmdC09cyYmaS5sZWZ0PT09dC5pbnB1dC5vZmZzZXQoKS5sZWZ0P2UoZG9jdW1lbnQpLnNjcm9sbExlZnQoKTowLGkudG9wLT1zJiZpLnRvcD09PXQuaW5wdXQub2Zmc2V0KCkudG9wK3I/ZShkb2N1bWVudCkuc2Nyb2xsVG9wKCk6MCxpLmxlZnQtPU1hdGgubWluKGkubGVmdCxpLmxlZnQrbj5oJiZoPm4/TWF0aC5hYnMoaS5sZWZ0K24taCk6MCksaS50b3AtPU1hdGgubWluKGkudG9wLGkudG9wK2E+bCYmbD5hP01hdGguYWJzKGErcik6MCksaX0sX2ZpbmRQb3M6ZnVuY3Rpb24odCl7Zm9yKHZhciBpLHM9dGhpcy5fZ2V0SW5zdCh0KSxuPXRoaXMuX2dldChzLCJpc1JUTCIpO3QmJigiaGlkZGVuIj09PXQudHlwZXx8MSE9PXQubm9kZVR5cGV8fGUuZXhwci5maWx0ZXJzLmhpZGRlbih0KSk7KXt0PXRbbj8icHJldmlvdXNTaWJsaW5nIjoibmV4dFNpYmxpbmciXX1yZXR1cm4gaT1lKHQpLm9mZnNldCgpLFtpLmxlZnQsaS50b3BdfSxfaGlkZURhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dmFyIGkscyxuLGEsbz10aGlzLl9jdXJJbnN0OyFvfHx0JiZvIT09ZS5kYXRhKHQsImRhdGVwaWNrZXIiKXx8dGhpcy5fZGF0ZXBpY2tlclNob3dpbmcmJihpPXRoaXMuX2dldChvLCJzaG93QW5pbSIpLHM9dGhpcy5fZ2V0KG8sImR1cmF0aW9uIiksbj1mdW5jdGlvbigpe2UuZGF0ZXBpY2tlci5fdGlkeURpYWxvZyhvKX0sZS5lZmZlY3RzJiYoZS5lZmZlY3RzLmVmZmVjdFtpXXx8ZS5lZmZlY3RzW2ldKT9vLmRwRGl2LmhpZGUoaSxlLmRhdGVwaWNrZXIuX2dldChvLCJzaG93T3B0aW9ucyIpLHMsbik6by5kcERpdlsic2xpZGVEb3duIj09PWk/InNsaWRlVXAiOiJmYWRlSW4iPT09aT8iZmFkZU91dCI6ImhpZGUiXShpP3M6bnVsbCxuKSxpfHxuKCksdGhpcy5fZGF0ZXBpY2tlclNob3dpbmc9ITEsYT10aGlzLl9nZXQobywib25DbG9zZSIpLGEmJmEuYXBwbHkoby5pbnB1dD9vLmlucHV0WzBdOm51bGwsW28uaW5wdXQ/by5pbnB1dC52YWwoKToiIixvXSksdGhpcy5fbGFzdElucHV0PW51bGwsdGhpcy5faW5EaWFsb2cmJih0aGlzLl9kaWFsb2dJbnB1dC5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsbGVmdDoiMCIsdG9wOiItMTAwcHgifSksZS5ibG9ja1VJJiYoZS51bmJsb2NrVUkoKSxlKCJib2R5IikuYXBwZW5kKHRoaXMuZHBEaXYpKSksdGhpcy5faW5EaWFsb2c9ITEpfSxfdGlkeURpYWxvZzpmdW5jdGlvbihlKXtlLmRwRGl2LnJlbW92ZUNsYXNzKHRoaXMuX2RpYWxvZ0NsYXNzKS51bmJpbmQoIi51aS1kYXRlcGlja2VyLWNhbGVuZGFyIil9LF9jaGVja0V4dGVybmFsQ2xpY2s6ZnVuY3Rpb24odCl7aWYoZS5kYXRlcGlja2VyLl9jdXJJbnN0KXt2YXIgaT1lKHQudGFyZ2V0KSxzPWUuZGF0ZXBpY2tlci5fZ2V0SW5zdChpWzBdKTsoaVswXS5pZCE9PWUuZGF0ZXBpY2tlci5fbWFpbkRpdklkJiYwPT09aS5wYXJlbnRzKCIjIitlLmRhdGVwaWNrZXIuX21haW5EaXZJZCkubGVuZ3RoJiYhaS5oYXNDbGFzcyhlLmRhdGVwaWNrZXIubWFya2VyQ2xhc3NOYW1lKSYmIWkuY2xvc2VzdCgiLiIrZS5kYXRlcGlja2VyLl90cmlnZ2VyQ2xhc3MpLmxlbmd0aCYmZS5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmKCFlLmRhdGVwaWNrZXIuX2luRGlhbG9nfHwhZS5ibG9ja1VJKXx8aS5oYXNDbGFzcyhlLmRhdGVwaWNrZXIubWFya2VyQ2xhc3NOYW1lKSYmZS5kYXRlcGlja2VyLl9jdXJJbnN0IT09cykmJmUuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKX19LF9hZGp1c3REYXRlOmZ1bmN0aW9uKHQsaSxzKXt2YXIgbj1lKHQpLGE9dGhpcy5fZ2V0SW5zdChuWzBdKTt0aGlzLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcihuWzBdKXx8KHRoaXMuX2FkanVzdEluc3REYXRlKGEsaSsoIk0iPT09cz90aGlzLl9nZXQoYSwic2hvd0N1cnJlbnRBdFBvcyIpOjApLHMpLHRoaXMuX3VwZGF0ZURhdGVwaWNrZXIoYSkpfSxfZ290b1RvZGF5OmZ1bmN0aW9uKHQpe3ZhciBpLHM9ZSh0KSxuPXRoaXMuX2dldEluc3Qoc1swXSk7dGhpcy5fZ2V0KG4sImdvdG9DdXJyZW50IikmJm4uY3VycmVudERheT8obi5zZWxlY3RlZERheT1uLmN1cnJlbnREYXksbi5kcmF3TW9udGg9bi5zZWxlY3RlZE1vbnRoPW4uY3VycmVudE1vbnRoLG4uZHJhd1llYXI9bi5zZWxlY3RlZFllYXI9bi5jdXJyZW50WWVhcik6KGk9bmV3IERhdGUsbi5zZWxlY3RlZERheT1pLmdldERhdGUoKSxuLmRyYXdNb250aD1uLnNlbGVjdGVkTW9udGg9aS5nZXRNb250aCgpLG4uZHJhd1llYXI9bi5zZWxlY3RlZFllYXI9aS5nZXRGdWxsWWVhcigpKSx0aGlzLl9ub3RpZnlDaGFuZ2UobiksdGhpcy5fYWRqdXN0RGF0ZShzKX0sX3NlbGVjdE1vbnRoWWVhcjpmdW5jdGlvbih0LGkscyl7dmFyIG49ZSh0KSxhPXRoaXMuX2dldEluc3QoblswXSk7YVsic2VsZWN0ZWQiKygiTSI9PT1zPyJNb250aCI6IlllYXIiKV09YVsiZHJhdyIrKCJNIj09PXM/Ik1vbnRoIjoiWWVhciIpXT1wYXJzZUludChpLm9wdGlvbnNbaS5zZWxlY3RlZEluZGV4XS52YWx1ZSwxMCksdGhpcy5fbm90aWZ5Q2hhbmdlKGEpLHRoaXMuX2FkanVzdERhdGUobil9LF9zZWxlY3REYXk6ZnVuY3Rpb24odCxpLHMsbil7dmFyIGEsbz1lKHQpO2UobikuaGFzQ2xhc3ModGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3MpfHx0aGlzLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcihvWzBdKXx8KGE9dGhpcy5fZ2V0SW5zdChvWzBdKSxhLnNlbGVjdGVkRGF5PWEuY3VycmVudERheT1lKCJhIixuKS5odG1sKCksYS5zZWxlY3RlZE1vbnRoPWEuY3VycmVudE1vbnRoPWksYS5zZWxlY3RlZFllYXI9YS5jdXJyZW50WWVhcj1zLHRoaXMuX3NlbGVjdERhdGUodCx0aGlzLl9mb3JtYXREYXRlKGEsYS5jdXJyZW50RGF5LGEuY3VycmVudE1vbnRoLGEuY3VycmVudFllYXIpKSl9LF9jbGVhckRhdGU6ZnVuY3Rpb24odCl7dmFyIGk9ZSh0KTt0aGlzLl9zZWxlY3REYXRlKGksIiIpfSxfc2VsZWN0RGF0ZTpmdW5jdGlvbih0LGkpe3ZhciBzLG49ZSh0KSxhPXRoaXMuX2dldEluc3QoblswXSk7aT1udWxsIT1pP2k6dGhpcy5fZm9ybWF0RGF0ZShhKSxhLmlucHV0JiZhLmlucHV0LnZhbChpKSx0aGlzLl91cGRhdGVBbHRlcm5hdGUoYSkscz10aGlzLl9nZXQoYSwib25TZWxlY3QiKSxzP3MuYXBwbHkoYS5pbnB1dD9hLmlucHV0WzBdOm51bGwsW2ksYV0pOmEuaW5wdXQmJmEuaW5wdXQudHJpZ2dlcigiY2hhbmdlIiksYS5pbmxpbmU/dGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihhKToodGhpcy5faGlkZURhdGVwaWNrZXIoKSx0aGlzLl9sYXN0SW5wdXQ9YS5pbnB1dFswXSwib2JqZWN0IiE9dHlwZW9mIGEuaW5wdXRbMF0mJmEuaW5wdXQuZm9jdXMoKSx0aGlzLl9sYXN0SW5wdXQ9bnVsbCl9LF91cGRhdGVBbHRlcm5hdGU6ZnVuY3Rpb24odCl7dmFyIGkscyxuLGE9dGhpcy5fZ2V0KHQsImFsdEZpZWxkIik7YSYmKGk9dGhpcy5fZ2V0KHQsImFsdEZvcm1hdCIpfHx0aGlzLl9nZXQodCwiZGF0ZUZvcm1hdCIpLHM9dGhpcy5fZ2V0RGF0ZSh0KSxuPXRoaXMuZm9ybWF0RGF0ZShpLHMsdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKHQpKSxlKGEpLmVhY2goZnVuY3Rpb24oKXtlKHRoaXMpLnZhbChuKX0pKX0sbm9XZWVrZW5kczpmdW5jdGlvbihlKXt2YXIgdD1lLmdldERheSgpO3JldHVyblt0PjAmJjY+dCwiIl19LGlzbzg2MDFXZWVrOmZ1bmN0aW9uKGUpe3ZhciB0LGk9bmV3IERhdGUoZS5nZXRUaW1lKCkpO3JldHVybiBpLnNldERhdGUoaS5nZXREYXRlKCkrNC0oaS5nZXREYXkoKXx8NykpLHQ9aS5nZXRUaW1lKCksaS5zZXRNb250aCgwKSxpLnNldERhdGUoMSksTWF0aC5mbG9vcihNYXRoLnJvdW5kKCh0LWkpLzg2NDAwMDAwKS83KSsxfSxwYXJzZURhdGU6ZnVuY3Rpb24odCxpLHMpe2lmKG51bGw9PXR8fG51bGw9PWkpe3Rocm93IkludmFsaWQgYXJndW1lbnRzIn1pZihpPSJvYmplY3QiPT10eXBlb2YgaT8iIitpOmkrIiIsIiI9PT1pKXtyZXR1cm4gbnVsbH12YXIgbixhLG8scixoPTAsbD0ocz9zLnNob3J0WWVhckN1dG9mZjpudWxsKXx8dGhpcy5fZGVmYXVsdHMuc2hvcnRZZWFyQ3V0b2ZmLHU9InN0cmluZyIhPXR5cGVvZiBsP2w6KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpJTEwMCtwYXJzZUludChsLDEwKSxkPShzP3MuZGF5TmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXNTaG9ydCxjPShzP3MuZGF5TmFtZXM6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzLHA9KHM/cy5tb250aE5hbWVzU2hvcnQ6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXNTaG9ydCxmPShzP3MubW9udGhOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lcyxtPS0xLGc9LTEsdj0tMSx5PS0xLGI9ITEsXz1mdW5jdGlvbihlKXt2YXIgaT10Lmxlbmd0aD5uKzEmJnQuY2hhckF0KG4rMSk9PT1lO3JldHVybiBpJiZuKyssaX0seD1mdW5jdGlvbihlKXt2YXIgdD1fKGUpLHM9IkAiPT09ZT8xNDoiISI9PT1lPzIwOiJ5Ij09PWUmJnQ/NDoibyI9PT1lPzM6MixuPSJ5Ij09PWU/czoxLGE9UmVnRXhwKCJeXFxkeyIrbisiLCIrcysifSIpLG89aS5zdWJzdHJpbmcoaCkubWF0Y2goYSk7aWYoIW8pe3Rocm93Ik1pc3NpbmcgbnVtYmVyIGF0IHBvc2l0aW9uICIraH1yZXR1cm4gaCs9b1swXS5sZW5ndGgscGFyc2VJbnQob1swXSwxMCl9LHc9ZnVuY3Rpb24odCxzLG4pe3ZhciBhPS0xLG89ZS5tYXAoXyh0KT9uOnMsZnVuY3Rpb24oZSx0KXtyZXR1cm5bW3QsZV1dfSkuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiAtKGVbMV0ubGVuZ3RoLXRbMV0ubGVuZ3RoKX0pO2lmKGUuZWFjaChvLGZ1bmN0aW9uKGUsdCl7dmFyIHM9dFsxXTtyZXR1cm4gaS5zdWJzdHIoaCxzLmxlbmd0aCkudG9Mb3dlckNhc2UoKT09PXMudG9Mb3dlckNhc2UoKT8oYT10WzBdLGgrPXMubGVuZ3RoLCExKTp2b2lkIDB9KSwtMSE9PWEpe3JldHVybiBhKzF9dGhyb3ciVW5rbm93biBuYW1lIGF0IHBvc2l0aW9uICIraH0saz1mdW5jdGlvbigpe2lmKGkuY2hhckF0KGgpIT09dC5jaGFyQXQobikpe3Rocm93IlVuZXhwZWN0ZWQgbGl0ZXJhbCBhdCBwb3NpdGlvbiAiK2h9aCsrfTtmb3Iobj0wO3QubGVuZ3RoPm47bisrKXtpZihiKXsiJyIhPT10LmNoYXJBdChuKXx8XygiJyIpP2soKTpiPSExfWVsc2V7c3dpdGNoKHQuY2hhckF0KG4pKXtjYXNlImQiOnY9eCgiZCIpO2JyZWFrO2Nhc2UiRCI6dygiRCIsZCxjKTticmVhaztjYXNlIm8iOnk9eCgibyIpO2JyZWFrO2Nhc2UibSI6Zz14KCJtIik7YnJlYWs7Y2FzZSJNIjpnPXcoIk0iLHAsZik7YnJlYWs7Y2FzZSJ5IjptPXgoInkiKTticmVhaztjYXNlIkAiOnI9bmV3IERhdGUoeCgiQCIpKSxtPXIuZ2V0RnVsbFllYXIoKSxnPXIuZ2V0TW9udGgoKSsxLHY9ci5nZXREYXRlKCk7YnJlYWs7Y2FzZSIhIjpyPW5ldyBEYXRlKCh4KCIhIiktdGhpcy5fdGlja3NUbzE5NzApLzEwMDAwKSxtPXIuZ2V0RnVsbFllYXIoKSxnPXIuZ2V0TW9udGgoKSsxLHY9ci5nZXREYXRlKCk7YnJlYWs7Y2FzZSInIjpfKCInIik/aygpOmI9ITA7YnJlYWs7ZGVmYXVsdDprKCl9fX1pZihpLmxlbmd0aD5oJiYobz1pLnN1YnN0cihoKSwhL15ccysvLnRlc3QobykpKXt0aHJvdyJFeHRyYS91bnBhcnNlZCBjaGFyYWN0ZXJzIGZvdW5kIGluIGRhdGU6ICIrb31pZigtMT09PW0/bT0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCk6MTAwPm0mJihtKz0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCktKG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpJTEwMCsodT49bT8wOi0xMDApKSx5Pi0xKXtmb3IoZz0xLHY9eTs7KXtpZihhPXRoaXMuX2dldERheXNJbk1vbnRoKG0sZy0xKSxhPj12KXticmVha31nKyssdi09YX19aWYocj10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShtLGctMSx2KSksci5nZXRGdWxsWWVhcigpIT09bXx8ci5nZXRNb250aCgpKzEhPT1nfHxyLmdldERhdGUoKSE9PXYpe3Rocm93IkludmFsaWQgZGF0ZSJ9cmV0dXJuIHJ9LEFUT006Inl5LW1tLWRkIixDT09LSUU6IkQsIGRkIE0geXkiLElTT184NjAxOiJ5eS1tbS1kZCIsUkZDXzgyMjoiRCwgZCBNIHkiLFJGQ184NTA6IkRELCBkZC1NLXkiLFJGQ18xMDM2OiJELCBkIE0geSIsUkZDXzExMjM6IkQsIGQgTSB5eSIsUkZDXzI4MjI6IkQsIGQgTSB5eSIsUlNTOiJELCBkIE0geSIsVElDS1M6IiEiLFRJTUVTVEFNUDoiQCIsVzNDOiJ5eS1tbS1kZCIsX3RpY2tzVG8xOTcwOjEwMDAwMDAwKjYwKjYwKjI0Kig3MTg2ODUrTWF0aC5mbG9vcig0OTIuNSktTWF0aC5mbG9vcigxOS43KStNYXRoLmZsb29yKDQuOTI1KSksZm9ybWF0RGF0ZTpmdW5jdGlvbihlLHQsaSl7aWYoIXQpe3JldHVybiIifXZhciBzLG49KGk/aS5kYXlOYW1lc1Nob3J0Om51bGwpfHx0aGlzLl9kZWZhdWx0cy5kYXlOYW1lc1Nob3J0LGE9KGk/aS5kYXlOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXMsbz0oaT9pLm1vbnRoTmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lc1Nob3J0LHI9KGk/aS5tb250aE5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzLGg9ZnVuY3Rpb24odCl7dmFyIGk9ZS5sZW5ndGg+cysxJiZlLmNoYXJBdChzKzEpPT09dDtyZXR1cm4gaSYmcysrLGl9LGw9ZnVuY3Rpb24oZSx0LGkpe3ZhciBzPSIiK3Q7aWYoaChlKSl7Zm9yKDtpPnMubGVuZ3RoOyl7cz0iMCIrc319cmV0dXJuIHN9LHU9ZnVuY3Rpb24oZSx0LGkscyl7cmV0dXJuIGgoZSk/c1t0XTppW3RdfSxkPSIiLGM9ITE7aWYodCl7Zm9yKHM9MDtlLmxlbmd0aD5zO3MrKyl7aWYoYyl7IiciIT09ZS5jaGFyQXQocyl8fGgoIiciKT9kKz1lLmNoYXJBdChzKTpjPSExfWVsc2V7c3dpdGNoKGUuY2hhckF0KHMpKXtjYXNlImQiOmQrPWwoImQiLHQuZ2V0RGF0ZSgpLDIpO2JyZWFrO2Nhc2UiRCI6ZCs9dSgiRCIsdC5nZXREYXkoKSxuLGEpO2JyZWFrO2Nhc2UibyI6ZCs9bCgibyIsTWF0aC5yb3VuZCgobmV3IERhdGUodC5nZXRGdWxsWWVhcigpLHQuZ2V0TW9udGgoKSx0LmdldERhdGUoKSkuZ2V0VGltZSgpLW5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSwwLDApLmdldFRpbWUoKSkvODY0MDAwMDApLDMpO2JyZWFrO2Nhc2UibSI6ZCs9bCgibSIsdC5nZXRNb250aCgpKzEsMik7YnJlYWs7Y2FzZSJNIjpkKz11KCJNIix0LmdldE1vbnRoKCksbyxyKTticmVhaztjYXNlInkiOmQrPWgoInkiKT90LmdldEZ1bGxZZWFyKCk6KDEwPnQuZ2V0WWVhcigpJTEwMD8iMCI6IiIpK3QuZ2V0WWVhcigpJTEwMDticmVhaztjYXNlIkAiOmQrPXQuZ2V0VGltZSgpO2JyZWFrO2Nhc2UiISI6ZCs9MTAwMDAqdC5nZXRUaW1lKCkrdGhpcy5fdGlja3NUbzE5NzA7YnJlYWs7Y2FzZSInIjpoKCInIik/ZCs9IiciOmM9ITA7YnJlYWs7ZGVmYXVsdDpkKz1lLmNoYXJBdChzKX19fX1yZXR1cm4gZH0sX3Bvc3NpYmxlQ2hhcnM6ZnVuY3Rpb24oZSl7dmFyIHQsaT0iIixzPSExLG49ZnVuY3Rpb24oaSl7dmFyIHM9ZS5sZW5ndGg+dCsxJiZlLmNoYXJBdCh0KzEpPT09aTtyZXR1cm4gcyYmdCsrLHN9O2Zvcih0PTA7ZS5sZW5ndGg+dDt0Kyspe2lmKHMpeyInIiE9PWUuY2hhckF0KHQpfHxuKCInIik/aSs9ZS5jaGFyQXQodCk6cz0hMX1lbHNle3N3aXRjaChlLmNoYXJBdCh0KSl7Y2FzZSJkIjpjYXNlIm0iOmNhc2UieSI6Y2FzZSJAIjppKz0iMDEyMzQ1Njc4OSI7YnJlYWs7Y2FzZSJEIjpjYXNlIk0iOnJldHVybiBudWxsO2Nhc2UiJyI6bigiJyIpP2krPSInIjpzPSEwO2JyZWFrO2RlZmF1bHQ6aSs9ZS5jaGFyQXQodCl9fX1yZXR1cm4gaX0sX2dldDpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDAhPT1lLnNldHRpbmdzW3RdP2Uuc2V0dGluZ3NbdF06dGhpcy5fZGVmYXVsdHNbdF19LF9zZXREYXRlRnJvbUZpZWxkOmZ1bmN0aW9uKGUsdCl7aWYoZS5pbnB1dC52YWwoKSE9PWUubGFzdFZhbCl7dmFyIGk9dGhpcy5fZ2V0KGUsImRhdGVGb3JtYXQiKSxzPWUubGFzdFZhbD1lLmlucHV0P2UuaW5wdXQudmFsKCk6bnVsbCxuPXRoaXMuX2dldERlZmF1bHREYXRlKGUpLGE9bixvPXRoaXMuX2dldEZvcm1hdENvbmZpZyhlKTt0cnl7YT10aGlzLnBhcnNlRGF0ZShpLHMsbyl8fG59Y2F0Y2gocil7cz10PyIiOnN9ZS5zZWxlY3RlZERheT1hLmdldERhdGUoKSxlLmRyYXdNb250aD1lLnNlbGVjdGVkTW9udGg9YS5nZXRNb250aCgpLGUuZHJhd1llYXI9ZS5zZWxlY3RlZFllYXI9YS5nZXRGdWxsWWVhcigpLGUuY3VycmVudERheT1zP2EuZ2V0RGF0ZSgpOjAsZS5jdXJyZW50TW9udGg9cz9hLmdldE1vbnRoKCk6MCxlLmN1cnJlbnRZZWFyPXM/YS5nZXRGdWxsWWVhcigpOjAsdGhpcy5fYWRqdXN0SW5zdERhdGUoZSl9fSxfZ2V0RGVmYXVsdERhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3Jlc3RyaWN0TWluTWF4KGUsdGhpcy5fZGV0ZXJtaW5lRGF0ZShlLHRoaXMuX2dldChlLCJkZWZhdWx0RGF0ZSIpLG5ldyBEYXRlKSl9LF9kZXRlcm1pbmVEYXRlOmZ1bmN0aW9uKHQsaSxzKXt2YXIgbj1mdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF0ZTtyZXR1cm4gdC5zZXREYXRlKHQuZ2V0RGF0ZSgpK2UpLHR9LGE9ZnVuY3Rpb24oaSl7dHJ5e3JldHVybiBlLmRhdGVwaWNrZXIucGFyc2VEYXRlKGUuZGF0ZXBpY2tlci5fZ2V0KHQsImRhdGVGb3JtYXQiKSxpLGUuZGF0ZXBpY2tlci5fZ2V0Rm9ybWF0Q29uZmlnKHQpKX1jYXRjaChzKXt9Zm9yKHZhciBuPShpLnRvTG93ZXJDYXNlKCkubWF0Y2goL15jLyk/ZS5kYXRlcGlja2VyLl9nZXREYXRlKHQpOm51bGwpfHxuZXcgRGF0ZSxhPW4uZ2V0RnVsbFllYXIoKSxvPW4uZ2V0TW9udGgoKSxyPW4uZ2V0RGF0ZSgpLGg9LyhbK1wtXT9bMC05XSspXHMqKGR8RHx3fFd8bXxNfHl8WSk/L2csbD1oLmV4ZWMoaSk7bDspe3N3aXRjaChsWzJdfHwiZCIpe2Nhc2UiZCI6Y2FzZSJEIjpyKz1wYXJzZUludChsWzFdLDEwKTticmVhaztjYXNlInciOmNhc2UiVyI6cis9NypwYXJzZUludChsWzFdLDEwKTticmVhaztjYXNlIm0iOmNhc2UiTSI6bys9cGFyc2VJbnQobFsxXSwxMCkscj1NYXRoLm1pbihyLGUuZGF0ZXBpY2tlci5fZ2V0RGF5c0luTW9udGgoYSxvKSk7YnJlYWs7Y2FzZSJ5IjpjYXNlIlkiOmErPXBhcnNlSW50KGxbMV0sMTApLHI9TWF0aC5taW4ocixlLmRhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKGEsbykpfWw9aC5leGVjKGkpfXJldHVybiBuZXcgRGF0ZShhLG8scil9LG89bnVsbD09aXx8IiI9PT1pP3M6InN0cmluZyI9PXR5cGVvZiBpP2EoaSk6Im51bWJlciI9PXR5cGVvZiBpP2lzTmFOKGkpP3M6bihpKTpuZXcgRGF0ZShpLmdldFRpbWUoKSk7cmV0dXJuIG89byYmIkludmFsaWQgRGF0ZSI9PSIiK28/czpvLG8mJihvLnNldEhvdXJzKDApLG8uc2V0TWludXRlcygwKSxvLnNldFNlY29uZHMoMCksby5zZXRNaWxsaXNlY29uZHMoMCkpLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG8pfSxfZGF5bGlnaHRTYXZpbmdBZGp1c3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/KGUuc2V0SG91cnMoZS5nZXRIb3VycygpPjEyP2UuZ2V0SG91cnMoKSsyOjApLGUpOm51bGx9LF9zZXREYXRlOmZ1bmN0aW9uKGUsdCxpKXt2YXIgcz0hdCxuPWUuc2VsZWN0ZWRNb250aCxhPWUuc2VsZWN0ZWRZZWFyLG89dGhpcy5fcmVzdHJpY3RNaW5NYXgoZSx0aGlzLl9kZXRlcm1pbmVEYXRlKGUsdCxuZXcgRGF0ZSkpO2Uuc2VsZWN0ZWREYXk9ZS5jdXJyZW50RGF5PW8uZ2V0RGF0ZSgpLGUuZHJhd01vbnRoPWUuc2VsZWN0ZWRNb250aD1lLmN1cnJlbnRNb250aD1vLmdldE1vbnRoKCksZS5kcmF3WWVhcj1lLnNlbGVjdGVkWWVhcj1lLmN1cnJlbnRZZWFyPW8uZ2V0RnVsbFllYXIoKSxuPT09ZS5zZWxlY3RlZE1vbnRoJiZhPT09ZS5zZWxlY3RlZFllYXJ8fGl8fHRoaXMuX25vdGlmeUNoYW5nZShlKSx0aGlzLl9hZGp1c3RJbnN0RGF0ZShlKSxlLmlucHV0JiZlLmlucHV0LnZhbChzPyIiOnRoaXMuX2Zvcm1hdERhdGUoZSkpfSxfZ2V0RGF0ZTpmdW5jdGlvbihlKXt2YXIgdD0hZS5jdXJyZW50WWVhcnx8ZS5pbnB1dCYmIiI9PT1lLmlucHV0LnZhbCgpP251bGw6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoZS5jdXJyZW50WWVhcixlLmN1cnJlbnRNb250aCxlLmN1cnJlbnREYXkpKTtyZXR1cm4gdH0sX2F0dGFjaEhhbmRsZXJzOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuX2dldCh0LCJzdGVwTW9udGhzIikscz0iIyIrdC5pZC5yZXBsYWNlKC9cXFxcL2csIlxcIik7dC5kcERpdi5maW5kKCJbZGF0YS1oYW5kbGVyXSIpLm1hcChmdW5jdGlvbigpe3ZhciB0PXtwcmV2OmZ1bmN0aW9uKCl7ZS5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHMsLWksIk0iKX0sbmV4dDpmdW5jdGlvbigpe2UuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShzLCtpLCJNIil9LGhpZGU6ZnVuY3Rpb24oKXtlLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCl9LHRvZGF5OmZ1bmN0aW9uKCl7ZS5kYXRlcGlja2VyLl9nb3RvVG9kYXkocyl9LHNlbGVjdERheTpmdW5jdGlvbigpe3JldHVybiBlLmRhdGVwaWNrZXIuX3NlbGVjdERheShzLCt0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS1tb250aCIpLCt0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS15ZWFyIiksdGhpcyksITF9LHNlbGVjdE1vbnRoOmZ1bmN0aW9uKCl7cmV0dXJuIGUuZGF0ZXBpY2tlci5fc2VsZWN0TW9udGhZZWFyKHMsdGhpcywiTSIpLCExfSxzZWxlY3RZZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIGUuZGF0ZXBpY2tlci5fc2VsZWN0TW9udGhZZWFyKHMsdGhpcywiWSIpLCExfX07ZSh0aGlzKS5iaW5kKHRoaXMuZ2V0QXR0cmlidXRlKCJkYXRhLWV2ZW50IiksdFt0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS1oYW5kbGVyIildKX0pfSxfZ2VuZXJhdGVIVE1MOmZ1bmN0aW9uKGUpe3ZhciB0LGkscyxuLGEsbyxyLGgsbCx1LGQsYyxwLGYsbSxnLHYseSxiLF8seCx3LGssVCxELFMsTSxOLEMsQSxJLFAseixILEYsRSxqLE8sVyxMPW5ldyBEYXRlLFI9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoTC5nZXRGdWxsWWVhcigpLEwuZ2V0TW9udGgoKSxMLmdldERhdGUoKSkpLFk9dGhpcy5fZ2V0KGUsImlzUlRMIiksQj10aGlzLl9nZXQoZSwic2hvd0J1dHRvblBhbmVsIiksSj10aGlzLl9nZXQoZSwiaGlkZUlmTm9QcmV2TmV4dCIpLHE9dGhpcy5fZ2V0KGUsIm5hdmlnYXRpb25Bc0RhdGVGb3JtYXQiKSxLPXRoaXMuX2dldE51bWJlck9mTW9udGhzKGUpLFY9dGhpcy5fZ2V0KGUsInNob3dDdXJyZW50QXRQb3MiKSxVPXRoaXMuX2dldChlLCJzdGVwTW9udGhzIiksUT0xIT09S1swXXx8MSE9PUtbMV0sRz10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChlLmN1cnJlbnREYXk/bmV3IERhdGUoZS5jdXJyZW50WWVhcixlLmN1cnJlbnRNb250aCxlLmN1cnJlbnREYXkpOm5ldyBEYXRlKDk5OTksOSw5KSksWD10aGlzLl9nZXRNaW5NYXhEYXRlKGUsIm1pbiIpLCQ9dGhpcy5fZ2V0TWluTWF4RGF0ZShlLCJtYXgiKSxaPWUuZHJhd01vbnRoLVYsZXQ9ZS5kcmF3WWVhcjtpZigwPlomJihaKz0xMixldC0tKSwkKXtmb3IodD10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZSgkLmdldEZ1bGxZZWFyKCksJC5nZXRNb250aCgpLUtbMF0qS1sxXSsxLCQuZ2V0RGF0ZSgpKSksdD1YJiZYPnQ/WDp0O3RoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGV0LFosMSkpPnQ7KXtaLS0sMD5aJiYoWj0xMSxldC0tKX19Zm9yKGUuZHJhd01vbnRoPVosZS5kcmF3WWVhcj1ldCxpPXRoaXMuX2dldChlLCJwcmV2VGV4dCIpLGk9cT90aGlzLmZvcm1hdERhdGUoaSx0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShldCxaLVUsMSkpLHRoaXMuX2dldEZvcm1hdENvbmZpZyhlKSk6aSxzPXRoaXMuX2NhbkFkanVzdE1vbnRoKGUsLTEsZXQsWik/IjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLXByZXYgdWktY29ybmVyLWFsbCcgZGF0YS1oYW5kbGVyPSdwcmV2JyBkYXRhLWV2ZW50PSdjbGljaycgdGl0bGU9JyIraSsiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhZPyJlIjoidyIpKyInPiIraSsiPC9zcGFuPjwvYT4iOko/IiI6IjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLXByZXYgdWktY29ybmVyLWFsbCB1aS1zdGF0ZS1kaXNhYmxlZCcgdGl0bGU9JyIraSsiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhZPyJlIjoidyIpKyInPiIraSsiPC9zcGFuPjwvYT4iLG49dGhpcy5fZ2V0KGUsIm5leHRUZXh0Iiksbj1xP3RoaXMuZm9ybWF0RGF0ZShuLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGV0LForVSwxKSksdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKGUpKTpuLGE9dGhpcy5fY2FuQWRqdXN0TW9udGgoZSwxLGV0LFopPyI8YSBjbGFzcz0ndWktZGF0ZXBpY2tlci1uZXh0IHVpLWNvcm5lci1hbGwnIGRhdGEtaGFuZGxlcj0nbmV4dCcgZGF0YS1ldmVudD0nY2xpY2snIHRpdGxlPSciK24rIic+PHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtIisoWT8idyI6ImUiKSsiJz4iK24rIjwvc3Bhbj48L2E+IjpKPyIiOiI8YSBjbGFzcz0ndWktZGF0ZXBpY2tlci1uZXh0IHVpLWNvcm5lci1hbGwgdWktc3RhdGUtZGlzYWJsZWQnIHRpdGxlPSciK24rIic+PHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtIisoWT8idyI6ImUiKSsiJz4iK24rIjwvc3Bhbj48L2E+IixvPXRoaXMuX2dldChlLCJjdXJyZW50VGV4dCIpLHI9dGhpcy5fZ2V0KGUsImdvdG9DdXJyZW50IikmJmUuY3VycmVudERheT9HOlIsbz1xP3RoaXMuZm9ybWF0RGF0ZShvLHIsdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKGUpKTpvLGg9ZS5pbmxpbmU/IiI6IjxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0ndWktZGF0ZXBpY2tlci1jbG9zZSB1aS1zdGF0ZS1kZWZhdWx0IHVpLXByaW9yaXR5LXByaW1hcnkgdWktY29ybmVyLWFsbCcgZGF0YS1oYW5kbGVyPSdoaWRlJyBkYXRhLWV2ZW50PSdjbGljayc+Iit0aGlzLl9nZXQoZSwiY2xvc2VUZXh0IikrIjwvYnV0dG9uPiIsbD1CPyI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLWJ1dHRvbnBhbmUgdWktd2lkZ2V0LWNvbnRlbnQnPiIrKFk/aDoiIikrKHRoaXMuX2lzSW5SYW5nZShlLHIpPyI8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J3VpLWRhdGVwaWNrZXItY3VycmVudCB1aS1zdGF0ZS1kZWZhdWx0IHVpLXByaW9yaXR5LXNlY29uZGFyeSB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J3RvZGF5JyBkYXRhLWV2ZW50PSdjbGljayc+IitvKyI8L2J1dHRvbj4iOiIiKSsoWT8iIjpoKSsiPC9kaXY+IjoiIix1PXBhcnNlSW50KHRoaXMuX2dldChlLCJmaXJzdERheSIpLDEwKSx1PWlzTmFOKHUpPzA6dSxkPXRoaXMuX2dldChlLCJzaG93V2VlayIpLGM9dGhpcy5fZ2V0KGUsImRheU5hbWVzIikscD10aGlzLl9nZXQoZSwiZGF5TmFtZXNNaW4iKSxmPXRoaXMuX2dldChlLCJtb250aE5hbWVzIiksbT10aGlzLl9nZXQoZSwibW9udGhOYW1lc1Nob3J0IiksZz10aGlzLl9nZXQoZSwiYmVmb3JlU2hvd0RheSIpLHY9dGhpcy5fZ2V0KGUsInNob3dPdGhlck1vbnRocyIpLHk9dGhpcy5fZ2V0KGUsInNlbGVjdE90aGVyTW9udGhzIiksYj10aGlzLl9nZXREZWZhdWx0RGF0ZShlKSxfPSIiLHc9MDtLWzBdPnc7dysrKXtmb3Ioaz0iIix0aGlzLm1heFJvd3M9NCxUPTA7S1sxXT5UO1QrKyl7aWYoRD10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShldCxaLGUuc2VsZWN0ZWREYXkpKSxTPSIgdWktY29ybmVyLWFsbCIsTT0iIixRKXtpZihNKz0iPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1ncm91cCIsS1sxXT4xKXtzd2l0Y2goVCl7Y2FzZSAwOk0rPSIgdWktZGF0ZXBpY2tlci1ncm91cC1maXJzdCIsUz0iIHVpLWNvcm5lci0iKyhZPyJyaWdodCI6ImxlZnQiKTticmVhaztjYXNlIEtbMV0tMTpNKz0iIHVpLWRhdGVwaWNrZXItZ3JvdXAtbGFzdCIsUz0iIHVpLWNvcm5lci0iKyhZPyJsZWZ0IjoicmlnaHQiKTticmVhaztkZWZhdWx0Ok0rPSIgdWktZGF0ZXBpY2tlci1ncm91cC1taWRkbGUiLFM9IiJ9fU0rPSInPiJ9Zm9yKE0rPSI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLWhlYWRlciB1aS13aWRnZXQtaGVhZGVyIHVpLWhlbHBlci1jbGVhcmZpeCIrUysiJz4iKygvYWxsfGxlZnQvLnRlc3QoUykmJjA9PT13P1k/YTpzOiIiKSsoL2FsbHxyaWdodC8udGVzdChTKSYmMD09PXc/WT9zOmE6IiIpK3RoaXMuX2dlbmVyYXRlTW9udGhZZWFySGVhZGVyKGUsWixldCxYLCQsdz4wfHxUPjAsZixtKSsiPC9kaXY+PHRhYmxlIGNsYXNzPSd1aS1kYXRlcGlja2VyLWNhbGVuZGFyJz48dGhlYWQ+PHRyPiIsTj1kPyI8dGggY2xhc3M9J3VpLWRhdGVwaWNrZXItd2Vlay1jb2wnPiIrdGhpcy5fZ2V0KGUsIndlZWtIZWFkZXIiKSsiPC90aD4iOiIiLHg9MDs3Png7eCsrKXtDPSh4K3UpJTcsTis9Ijx0aCBzY29wZT0nY29sJyIrKCh4K3UrNiklNz49NT8iIGNsYXNzPSd1aS1kYXRlcGlja2VyLXdlZWstZW5kJyI6IiIpKyI+PHNwYW4gdGl0bGU9JyIrY1tDXSsiJz4iK3BbQ10rIjwvc3Bhbj48L3RoPiJ9Zm9yKE0rPU4rIjwvdHI+PC90aGVhZD48dGJvZHk+IixBPXRoaXMuX2dldERheXNJbk1vbnRoKGV0LFopLGV0PT09ZS5zZWxlY3RlZFllYXImJlo9PT1lLnNlbGVjdGVkTW9udGgmJihlLnNlbGVjdGVkRGF5PU1hdGgubWluKGUuc2VsZWN0ZWREYXksQSkpLEk9KHRoaXMuX2dldEZpcnN0RGF5T2ZNb250aChldCxaKS11KzcpJTcsUD1NYXRoLmNlaWwoKEkrQSkvNyksej1RP3RoaXMubWF4Um93cz5QP3RoaXMubWF4Um93czpQOlAsdGhpcy5tYXhSb3dzPXosSD10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShldCxaLDEtSSkpLEY9MDt6PkY7RisrKXtmb3IoTSs9Ijx0cj4iLEU9ZD8iPHRkIGNsYXNzPSd1aS1kYXRlcGlja2VyLXdlZWstY29sJz4iK3RoaXMuX2dldChlLCJjYWxjdWxhdGVXZWVrIikoSCkrIjwvdGQ+IjoiIix4PTA7Nz54O3grKyl7aj1nP2cuYXBwbHkoZS5pbnB1dD9lLmlucHV0WzBdOm51bGwsW0hdKTpbITAsIiJdLE89SC5nZXRNb250aCgpIT09WixXPU8mJiF5fHwhalswXXx8WCYmWD5IfHwkJiZIPiQsRSs9Ijx0ZCBjbGFzcz0nIisoKHgrdSs2KSU3Pj01PyIgdWktZGF0ZXBpY2tlci13ZWVrLWVuZCI6IiIpKyhPPyIgdWktZGF0ZXBpY2tlci1vdGhlci1tb250aCI6IiIpKyhILmdldFRpbWUoKT09PUQuZ2V0VGltZSgpJiZaPT09ZS5zZWxlY3RlZE1vbnRoJiZlLl9rZXlFdmVudHx8Yi5nZXRUaW1lKCk9PT1ILmdldFRpbWUoKSYmYi5nZXRUaW1lKCk9PT1ELmdldFRpbWUoKT8iICIrdGhpcy5fZGF5T3ZlckNsYXNzOiIiKSsoVz8iICIrdGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3MrIiB1aS1zdGF0ZS1kaXNhYmxlZCI6IiIpKyhPJiYhdj8iIjoiICIralsxXSsoSC5nZXRUaW1lKCk9PT1HLmdldFRpbWUoKT8iICIrdGhpcy5fY3VycmVudENsYXNzOiIiKSsoSC5nZXRUaW1lKCk9PT1SLmdldFRpbWUoKT8iIHVpLWRhdGVwaWNrZXItdG9kYXkiOiIiKSkrIiciKyhPJiYhdnx8IWpbMl0/IiI6IiB0aXRsZT0nIitqWzJdLnJlcGxhY2UoLycvZywiJiMzOTsiKSsiJyIpKyhXPyIiOiIgZGF0YS1oYW5kbGVyPSdzZWxlY3REYXknIGRhdGEtZXZlbnQ9J2NsaWNrJyBkYXRhLW1vbnRoPSciK0guZ2V0TW9udGgoKSsiJyBkYXRhLXllYXI9JyIrSC5nZXRGdWxsWWVhcigpKyInIikrIj4iKyhPJiYhdj8iJiN4YTA7IjpXPyI8c3BhbiBjbGFzcz0ndWktc3RhdGUtZGVmYXVsdCc+IitILmdldERhdGUoKSsiPC9zcGFuPiI6IjxhIGNsYXNzPSd1aS1zdGF0ZS1kZWZhdWx0IisoSC5nZXRUaW1lKCk9PT1SLmdldFRpbWUoKT8iIHVpLXN0YXRlLWhpZ2hsaWdodCI6IiIpKyhILmdldFRpbWUoKT09PUcuZ2V0VGltZSgpPyIgdWktc3RhdGUtYWN0aXZlIjoiIikrKE8/IiB1aS1wcmlvcml0eS1zZWNvbmRhcnkiOiIiKSsiJyBocmVmPScjJz4iK0guZ2V0RGF0ZSgpKyI8L2E+IikrIjwvdGQ+IixILnNldERhdGUoSC5nZXREYXRlKCkrMSksSD10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChIKX1NKz1FKyI8L3RyPiJ9WisrLFo+MTEmJihaPTAsZXQrKyksTSs9IjwvdGJvZHk+PC90YWJsZT4iKyhRPyI8L2Rpdj4iKyhLWzBdPjAmJlQ9PT1LWzFdLTE/IjxkaXYgY2xhc3M9J3VpLWRhdGVwaWNrZXItcm93LWJyZWFrJz48L2Rpdj4iOiIiKToiIiksays9TX1fKz1rfXJldHVybiBfKz1sLGUuX2tleUV2ZW50PSExLF99LF9nZW5lcmF0ZU1vbnRoWWVhckhlYWRlcjpmdW5jdGlvbihlLHQsaSxzLG4sYSxvLHIpe3ZhciBoLGwsdSxkLGMscCxmLG0sZz10aGlzLl9nZXQoZSwiY2hhbmdlTW9udGgiKSx2PXRoaXMuX2dldChlLCJjaGFuZ2VZZWFyIikseT10aGlzLl9nZXQoZSwic2hvd01vbnRoQWZ0ZXJZZWFyIiksYj0iPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci10aXRsZSc+IixfPSIiO2lmKGF8fCFnKXtfKz0iPHNwYW4gY2xhc3M9J3VpLWRhdGVwaWNrZXItbW9udGgnPiIrb1t0XSsiPC9zcGFuPiJ9ZWxzZXtmb3IoaD1zJiZzLmdldEZ1bGxZZWFyKCk9PT1pLGw9biYmbi5nZXRGdWxsWWVhcigpPT09aSxfKz0iPHNlbGVjdCBjbGFzcz0ndWktZGF0ZXBpY2tlci1tb250aCcgZGF0YS1oYW5kbGVyPSdzZWxlY3RNb250aCcgZGF0YS1ldmVudD0nY2hhbmdlJz4iLHU9MDsxMj51O3UrKyl7KCFofHx1Pj1zLmdldE1vbnRoKCkpJiYoIWx8fG4uZ2V0TW9udGgoKT49dSkmJihfKz0iPG9wdGlvbiB2YWx1ZT0nIit1KyInIisodT09PXQ/IiBzZWxlY3RlZD0nc2VsZWN0ZWQnIjoiIikrIj4iK3JbdV0rIjwvb3B0aW9uPiIpfV8rPSI8L3NlbGVjdD4ifWlmKHl8fChiKz1fKyghYSYmZyYmdj8iIjoiJiN4YTA7IikpLCFlLnllYXJzaHRtbCl7aWYoZS55ZWFyc2h0bWw9IiIsYXx8IXYpe2IrPSI8c3BhbiBjbGFzcz0ndWktZGF0ZXBpY2tlci15ZWFyJz4iK2krIjwvc3Bhbj4ifWVsc2V7Zm9yKGQ9dGhpcy5fZ2V0KGUsInllYXJSYW5nZSIpLnNwbGl0KCI6IiksYz0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCkscD1mdW5jdGlvbihlKXt2YXIgdD1lLm1hdGNoKC9jWytcLV0uKi8pP2krcGFyc2VJbnQoZS5zdWJzdHJpbmcoMSksMTApOmUubWF0Y2goL1srXC1dLiovKT9jK3BhcnNlSW50KGUsMTApOnBhcnNlSW50KGUsMTApO3JldHVybiBpc05hTih0KT9jOnR9LGY9cChkWzBdKSxtPU1hdGgubWF4KGYscChkWzFdfHwiIikpLGY9cz9NYXRoLm1heChmLHMuZ2V0RnVsbFllYXIoKSk6ZixtPW4/TWF0aC5taW4obSxuLmdldEZ1bGxZZWFyKCkpOm0sZS55ZWFyc2h0bWwrPSI8c2VsZWN0IGNsYXNzPSd1aS1kYXRlcGlja2VyLXllYXInIGRhdGEtaGFuZGxlcj0nc2VsZWN0WWVhcicgZGF0YS1ldmVudD0nY2hhbmdlJz4iO20+PWY7ZisrKXtlLnllYXJzaHRtbCs9IjxvcHRpb24gdmFsdWU9JyIrZisiJyIrKGY9PT1pPyIgc2VsZWN0ZWQ9J3NlbGVjdGVkJyI6IiIpKyI+IitmKyI8L29wdGlvbj4ifWUueWVhcnNodG1sKz0iPC9zZWxlY3Q+IixiKz1lLnllYXJzaHRtbCxlLnllYXJzaHRtbD1udWxsfX1yZXR1cm4gYis9dGhpcy5fZ2V0KGUsInllYXJTdWZmaXgiKSx5JiYoYis9KCFhJiZnJiZ2PyIiOiImI3hhMDsiKStfKSxiKz0iPC9kaXY+In0sX2FkanVzdEluc3REYXRlOmZ1bmN0aW9uKGUsdCxpKXt2YXIgcz1lLmRyYXdZZWFyKygiWSI9PT1pP3Q6MCksbj1lLmRyYXdNb250aCsoIk0iPT09aT90OjApLGE9TWF0aC5taW4oZS5zZWxlY3RlZERheSx0aGlzLl9nZXREYXlzSW5Nb250aChzLG4pKSsoIkQiPT09aT90OjApLG89dGhpcy5fcmVzdHJpY3RNaW5NYXgoZSx0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShzLG4sYSkpKTtlLnNlbGVjdGVkRGF5PW8uZ2V0RGF0ZSgpLGUuZHJhd01vbnRoPWUuc2VsZWN0ZWRNb250aD1vLmdldE1vbnRoKCksZS5kcmF3WWVhcj1lLnNlbGVjdGVkWWVhcj1vLmdldEZ1bGxZZWFyKCksKCJNIj09PWl8fCJZIj09PWkpJiZ0aGlzLl9ub3RpZnlDaGFuZ2UoZSl9LF9yZXN0cmljdE1pbk1heDpmdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuX2dldE1pbk1heERhdGUoZSwibWluIikscz10aGlzLl9nZXRNaW5NYXhEYXRlKGUsIm1heCIpLG49aSYmaT50P2k6dDtyZXR1cm4gcyYmbj5zP3M6bn0sX25vdGlmeUNoYW5nZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9nZXQoZSwib25DaGFuZ2VNb250aFllYXIiKTt0JiZ0LmFwcGx5KGUuaW5wdXQ/ZS5pbnB1dFswXTpudWxsLFtlLnNlbGVjdGVkWWVhcixlLnNlbGVjdGVkTW9udGgrMSxlXSl9LF9nZXROdW1iZXJPZk1vbnRoczpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9nZXQoZSwibnVtYmVyT2ZNb250aHMiKTtyZXR1cm4gbnVsbD09dD9bMSwxXToibnVtYmVyIj09dHlwZW9mIHQ/WzEsdF06dH0sX2dldE1pbk1heERhdGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fZGV0ZXJtaW5lRGF0ZShlLHRoaXMuX2dldChlLHQrIkRhdGUiKSxudWxsKX0sX2dldERheXNJbk1vbnRoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIDMyLXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGUsdCwzMikpLmdldERhdGUoKX0sX2dldEZpcnN0RGF5T2ZNb250aDpmdW5jdGlvbihlLHQpe3JldHVybiBuZXcgRGF0ZShlLHQsMSkuZ2V0RGF5KCl9LF9jYW5BZGp1c3RNb250aDpmdW5jdGlvbihlLHQsaSxzKXt2YXIgbj10aGlzLl9nZXROdW1iZXJPZk1vbnRocyhlKSxhPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGkscysoMD50P3Q6blswXSpuWzFdKSwxKSk7cmV0dXJuIDA+dCYmYS5zZXREYXRlKHRoaXMuX2dldERheXNJbk1vbnRoKGEuZ2V0RnVsbFllYXIoKSxhLmdldE1vbnRoKCkpKSx0aGlzLl9pc0luUmFuZ2UoZSxhKX0sX2lzSW5SYW5nZTpmdW5jdGlvbihlLHQpe3ZhciBpLHMsbj10aGlzLl9nZXRNaW5NYXhEYXRlKGUsIm1pbiIpLGE9dGhpcy5fZ2V0TWluTWF4RGF0ZShlLCJtYXgiKSxvPW51bGwscj1udWxsLGg9dGhpcy5fZ2V0KGUsInllYXJSYW5nZSIpO3JldHVybiBoJiYoaT1oLnNwbGl0KCI6Iikscz0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCksbz1wYXJzZUludChpWzBdLDEwKSxyPXBhcnNlSW50KGlbMV0sMTApLGlbMF0ubWF0Y2goL1srXC1dLiovKSYmKG8rPXMpLGlbMV0ubWF0Y2goL1srXC1dLiovKSYmKHIrPXMpKSwoIW58fHQuZ2V0VGltZSgpPj1uLmdldFRpbWUoKSkmJighYXx8dC5nZXRUaW1lKCk8PWEuZ2V0VGltZSgpKSYmKCFvfHx0LmdldEZ1bGxZZWFyKCk+PW8pJiYoIXJ8fHI+PXQuZ2V0RnVsbFllYXIoKSl9LF9nZXRGb3JtYXRDb25maWc6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0KGUsInNob3J0WWVhckN1dG9mZiIpO3JldHVybiB0PSJzdHJpbmciIT10eXBlb2YgdD90OihuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSUxMDArcGFyc2VJbnQodCwxMCkse3Nob3J0WWVhckN1dG9mZjp0LGRheU5hbWVzU2hvcnQ6dGhpcy5fZ2V0KGUsImRheU5hbWVzU2hvcnQiKSxkYXlOYW1lczp0aGlzLl9nZXQoZSwiZGF5TmFtZXMiKSxtb250aE5hbWVzU2hvcnQ6dGhpcy5fZ2V0KGUsIm1vbnRoTmFtZXNTaG9ydCIpLG1vbnRoTmFtZXM6dGhpcy5fZ2V0KGUsIm1vbnRoTmFtZXMiKX19LF9mb3JtYXREYXRlOmZ1bmN0aW9uKGUsdCxpLHMpe3R8fChlLmN1cnJlbnREYXk9ZS5zZWxlY3RlZERheSxlLmN1cnJlbnRNb250aD1lLnNlbGVjdGVkTW9udGgsZS5jdXJyZW50WWVhcj1lLnNlbGVjdGVkWWVhcik7dmFyIG49dD8ib2JqZWN0Ij09dHlwZW9mIHQ/dDp0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShzLGksdCkpOnRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGUuY3VycmVudFllYXIsZS5jdXJyZW50TW9udGgsZS5jdXJyZW50RGF5KSk7cmV0dXJuIHRoaXMuZm9ybWF0RGF0ZSh0aGlzLl9nZXQoZSwiZGF0ZUZvcm1hdCIpLG4sdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKGUpKX19KSxlLmZuLmRhdGVwaWNrZXI9ZnVuY3Rpb24odCl7aWYoIXRoaXMubGVuZ3RoKXtyZXR1cm4gdGhpc31lLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWR8fChlKGRvY3VtZW50KS5tb3VzZWRvd24oZS5kYXRlcGlja2VyLl9jaGVja0V4dGVybmFsQ2xpY2spLGUuZGF0ZXBpY2tlci5pbml0aWFsaXplZD0hMCksMD09PWUoIiMiK2UuZGF0ZXBpY2tlci5fbWFpbkRpdklkKS5sZW5ndGgmJmUoImJvZHkiKS5hcHBlbmQoZS5kYXRlcGlja2VyLmRwRGl2KTt2YXIgaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiB0fHwiaXNEaXNhYmxlZCIhPT10JiYiZ2V0RGF0ZSIhPT10JiYid2lkZ2V0IiE9PXQ/Im9wdGlvbiI9PT10JiYyPT09YXJndW1lbnRzLmxlbmd0aCYmInN0cmluZyI9PXR5cGVvZiBhcmd1bWVudHNbMV0/ZS5kYXRlcGlja2VyWyJfIit0KyJEYXRlcGlja2VyIl0uYXBwbHkoZS5kYXRlcGlja2VyLFt0aGlzWzBdXS5jb25jYXQoaSkpOnRoaXMuZWFjaChmdW5jdGlvbigpeyJzdHJpbmciPT10eXBlb2YgdD9lLmRhdGVwaWNrZXJbIl8iK3QrIkRhdGVwaWNrZXIiXS5hcHBseShlLmRhdGVwaWNrZXIsW3RoaXNdLmNvbmNhdChpKSk6ZS5kYXRlcGlja2VyLl9hdHRhY2hEYXRlcGlja2VyKHRoaXMsdCl9KTplLmRhdGVwaWNrZXJbIl8iK3QrIkRhdGVwaWNrZXIiXS5hcHBseShlLmRhdGVwaWNrZXIsW3RoaXNbMF1dLmNvbmNhdChpKSl9LGUuZGF0ZXBpY2tlcj1uZXcgbixlLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWQ9ITEsZS5kYXRlcGlja2VyLnV1aWQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksZS5kYXRlcGlja2VyLnZlcnNpb249IjEuMTEuMSIsZS5kYXRlcGlja2VyLGUud2lkZ2V0KCJ1aS5kcmFnZ2FibGUiLGUudWkubW91c2Use3ZlcnNpb246IjEuMTEuMSIsd2lkZ2V0RXZlbnRQcmVmaXg6ImRyYWciLG9wdGlvbnM6e2FkZENsYXNzZXM6ITAsYXBwZW5kVG86InBhcmVudCIsYXhpczohMSxjb25uZWN0VG9Tb3J0YWJsZTohMSxjb250YWlubWVudDohMSxjdXJzb3I6ImF1dG8iLGN1cnNvckF0OiExLGdyaWQ6ITEsaGFuZGxlOiExLGhlbHBlcjoib3JpZ2luYWwiLGlmcmFtZUZpeDohMSxvcGFjaXR5OiExLHJlZnJlc2hQb3NpdGlvbnM6ITEscmV2ZXJ0OiExLHJldmVydER1cmF0aW9uOjUwMCxzY29wZToiZGVmYXVsdCIsc2Nyb2xsOiEwLHNjcm9sbFNlbnNpdGl2aXR5OjIwLHNjcm9sbFNwZWVkOjIwLHNuYXA6ITEsc25hcE1vZGU6ImJvdGgiLHNuYXBUb2xlcmFuY2U6MjAsc3RhY2s6ITEsekluZGV4OiExLGRyYWc6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpeyJvcmlnaW5hbCIhPT10aGlzLm9wdGlvbnMuaGVscGVyfHwvXig/OnJ8YXxmKS8udGVzdCh0aGlzLmVsZW1lbnQuY3NzKCJwb3NpdGlvbiIpKXx8KHRoaXMuZWxlbWVudFswXS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSx0aGlzLm9wdGlvbnMuYWRkQ2xhc3NlcyYmdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1kcmFnZ2FibGUiKSx0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktZHJhZ2dhYmxlLWRpc2FibGVkIiksdGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCksdGhpcy5fbW91c2VJbml0KCl9LF9zZXRPcHRpb246ZnVuY3Rpb24oZSx0KXt0aGlzLl9zdXBlcihlLHQpLCJoYW5kbGUiPT09ZSYmKHRoaXMuX3JlbW92ZUhhbmRsZUNsYXNzTmFtZSgpLHRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5oZWxwZXJ8fHRoaXMuZWxlbWVudCkuaXMoIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmciKT8odGhpcy5kZXN0cm95T25DbGVhcj0hMCx2b2lkIDApOih0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWRyYWdnYWJsZSB1aS1kcmFnZ2FibGUtZHJhZ2dpbmcgdWktZHJhZ2dhYmxlLWRpc2FibGVkIiksdGhpcy5fcmVtb3ZlSGFuZGxlQ2xhc3NOYW1lKCksdGhpcy5fbW91c2VEZXN0cm95KCksdm9pZCAwKX0sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmRvY3VtZW50WzBdLHM9dGhpcy5vcHRpb25zO3RyeXtpLmFjdGl2ZUVsZW1lbnQmJiJib2R5IiE9PWkuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZlKGkuYWN0aXZlRWxlbWVudCkuYmx1cigpfWNhdGNoKG4pe31yZXR1cm4gdGhpcy5oZWxwZXJ8fHMuZGlzYWJsZWR8fGUodC50YXJnZXQpLmNsb3Nlc3QoIi51aS1yZXNpemFibGUtaGFuZGxlIikubGVuZ3RoPjA/ITE6KHRoaXMuaGFuZGxlPXRoaXMuX2dldEhhbmRsZSh0KSx0aGlzLmhhbmRsZT8oZShzLmlmcmFtZUZpeD09PSEwPyJpZnJhbWUiOnMuaWZyYW1lRml4KS5lYWNoKGZ1bmN0aW9uKCl7ZSgiPGRpdiBjbGFzcz0ndWktZHJhZ2dhYmxlLWlmcmFtZUZpeCcgc3R5bGU9J2JhY2tncm91bmQ6ICNmZmY7Jz48L2Rpdj4iKS5jc3Moe3dpZHRoOnRoaXMub2Zmc2V0V2lkdGgrInB4IixoZWlnaHQ6dGhpcy5vZmZzZXRIZWlnaHQrInB4Iixwb3NpdGlvbjoiYWJzb2x1dGUiLG9wYWNpdHk6IjAuMDAxIix6SW5kZXg6MTAwMH0pLmNzcyhlKHRoaXMpLm9mZnNldCgpKS5hcHBlbmRUbygiYm9keSIpfSksITApOiExKX0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zO3JldHVybiB0aGlzLmhlbHBlcj10aGlzLl9jcmVhdGVIZWxwZXIodCksdGhpcy5oZWxwZXIuYWRkQ2xhc3MoInVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpLHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSxlLnVpLmRkbWFuYWdlciYmKGUudWkuZGRtYW5hZ2VyLmN1cnJlbnQ9dGhpcyksdGhpcy5fY2FjaGVNYXJnaW5zKCksdGhpcy5jc3NQb3NpdGlvbj10aGlzLmhlbHBlci5jc3MoInBvc2l0aW9uIiksdGhpcy5zY3JvbGxQYXJlbnQ9dGhpcy5oZWxwZXIuc2Nyb2xsUGFyZW50KCEwKSx0aGlzLm9mZnNldFBhcmVudD10aGlzLmhlbHBlci5vZmZzZXRQYXJlbnQoKSx0aGlzLm9mZnNldFBhcmVudENzc1Bvc2l0aW9uPXRoaXMub2Zmc2V0UGFyZW50LmNzcygicG9zaXRpb24iKSx0aGlzLm9mZnNldD10aGlzLnBvc2l0aW9uQWJzPXRoaXMuZWxlbWVudC5vZmZzZXQoKSx0aGlzLm9mZnNldD17dG9wOnRoaXMub2Zmc2V0LnRvcC10aGlzLm1hcmdpbnMudG9wLGxlZnQ6dGhpcy5vZmZzZXQubGVmdC10aGlzLm1hcmdpbnMubGVmdH0sdGhpcy5vZmZzZXQuc2Nyb2xsPSExLGUuZXh0ZW5kKHRoaXMub2Zmc2V0LHtjbGljazp7bGVmdDp0LnBhZ2VYLXRoaXMub2Zmc2V0LmxlZnQsdG9wOnQucGFnZVktdGhpcy5vZmZzZXQudG9wfSxwYXJlbnQ6dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkscmVsYXRpdmU6dGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKX0pLHRoaXMub3JpZ2luYWxQb3NpdGlvbj10aGlzLnBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24odCwhMSksdGhpcy5vcmlnaW5hbFBhZ2VYPXQucGFnZVgsdGhpcy5vcmlnaW5hbFBhZ2VZPXQucGFnZVksaS5jdXJzb3JBdCYmdGhpcy5fYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcihpLmN1cnNvckF0KSx0aGlzLl9zZXRDb250YWlubWVudCgpLHRoaXMuX3RyaWdnZXIoInN0YXJ0Iix0KT09PSExPyh0aGlzLl9jbGVhcigpLCExKToodGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpLGUudWkuZGRtYW5hZ2VyJiYhaS5kcm9wQmVoYXZpb3VyJiZlLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLHQpLHRoaXMuX21vdXNlRHJhZyh0LCEwKSxlLnVpLmRkbWFuYWdlciYmZS51aS5kZG1hbmFnZXIuZHJhZ1N0YXJ0KHRoaXMsdCksITApfSxfbW91c2VEcmFnOmZ1bmN0aW9uKHQsaSl7aWYoImZpeGVkIj09PXRoaXMub2Zmc2V0UGFyZW50Q3NzUG9zaXRpb24mJih0aGlzLm9mZnNldC5wYXJlbnQ9dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkpLHRoaXMucG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbih0LCEwKSx0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLCFpKXt2YXIgcz10aGlzLl91aUhhc2goKTtpZih0aGlzLl90cmlnZ2VyKCJkcmFnIix0LHMpPT09ITEpe3JldHVybiB0aGlzLl9tb3VzZVVwKHt9KSwhMX10aGlzLnBvc2l0aW9uPXMucG9zaXRpb259cmV0dXJuIHRoaXMuaGVscGVyWzBdLnN0eWxlLmxlZnQ9dGhpcy5wb3NpdGlvbi5sZWZ0KyJweCIsdGhpcy5oZWxwZXJbMF0uc3R5bGUudG9wPXRoaXMucG9zaXRpb24udG9wKyJweCIsZS51aS5kZG1hbmFnZXImJmUudWkuZGRtYW5hZ2VyLmRyYWcodGhpcyx0KSwhMX0sX21vdXNlU3RvcDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLHM9ITE7cmV0dXJuIGUudWkuZGRtYW5hZ2VyJiYhdGhpcy5vcHRpb25zLmRyb3BCZWhhdmlvdXImJihzPWUudWkuZGRtYW5hZ2VyLmRyb3AodGhpcyx0KSksdGhpcy5kcm9wcGVkJiYocz10aGlzLmRyb3BwZWQsdGhpcy5kcm9wcGVkPSExKSwiaW52YWxpZCI9PT10aGlzLm9wdGlvbnMucmV2ZXJ0JiYhc3x8InZhbGlkIj09PXRoaXMub3B0aW9ucy5yZXZlcnQmJnN8fHRoaXMub3B0aW9ucy5yZXZlcnQ9PT0hMHx8ZS5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5yZXZlcnQpJiZ0aGlzLm9wdGlvbnMucmV2ZXJ0LmNhbGwodGhpcy5lbGVtZW50LHMpP2UodGhpcy5oZWxwZXIpLmFuaW1hdGUodGhpcy5vcmlnaW5hbFBvc2l0aW9uLHBhcnNlSW50KHRoaXMub3B0aW9ucy5yZXZlcnREdXJhdGlvbiwxMCksZnVuY3Rpb24oKXtpLl90cmlnZ2VyKCJzdG9wIix0KSE9PSExJiZpLl9jbGVhcigpfSk6dGhpcy5fdHJpZ2dlcigic3RvcCIsdCkhPT0hMSYmdGhpcy5fY2xlYXIoKSwhMX0sX21vdXNlVXA6ZnVuY3Rpb24odCl7cmV0dXJuIGUoImRpdi51aS1kcmFnZ2FibGUtaWZyYW1lRml4IikuZWFjaChmdW5jdGlvbigpe3RoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzKX0pLGUudWkuZGRtYW5hZ2VyJiZlLnVpLmRkbWFuYWdlci5kcmFnU3RvcCh0aGlzLHQpLHRoaXMuZWxlbWVudC5mb2N1cygpLGUudWkubW91c2UucHJvdG90eXBlLl9tb3VzZVVwLmNhbGwodGhpcyx0KX0sY2FuY2VsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGVscGVyLmlzKCIudWktZHJhZ2dhYmxlLWRyYWdnaW5nIik/dGhpcy5fbW91c2VVcCh7fSk6dGhpcy5fY2xlYXIoKSx0aGlzfSxfZ2V0SGFuZGxlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMuaGFuZGxlPyEhZSh0LnRhcmdldCkuY2xvc2VzdCh0aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaGFuZGxlKSkubGVuZ3RoOiEwfSxfc2V0SGFuZGxlQ2xhc3NOYW1lOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVFbGVtZW50PXRoaXMub3B0aW9ucy5oYW5kbGU/dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLmhhbmRsZSk6dGhpcy5lbGVtZW50LHRoaXMuaGFuZGxlRWxlbWVudC5hZGRDbGFzcygidWktZHJhZ2dhYmxlLWhhbmRsZSIpfSxfcmVtb3ZlSGFuZGxlQ2xhc3NOYW1lOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVFbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1kcmFnZ2FibGUtaGFuZGxlIil9LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zLHM9ZS5pc0Z1bmN0aW9uKGkuaGVscGVyKT9lKGkuaGVscGVyLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbdF0pKToiY2xvbmUiPT09aS5oZWxwZXI/dGhpcy5lbGVtZW50LmNsb25lKCkucmVtb3ZlQXR0cigiaWQiKTp0aGlzLmVsZW1lbnQ7cmV0dXJuIHMucGFyZW50cygiYm9keSIpLmxlbmd0aHx8cy5hcHBlbmRUbygicGFyZW50Ij09PWkuYXBwZW5kVG8/dGhpcy5lbGVtZW50WzBdLnBhcmVudE5vZGU6aS5hcHBlbmRUbyksc1swXT09PXRoaXMuZWxlbWVudFswXXx8LyhmaXhlZHxhYnNvbHV0ZSkvLnRlc3Qocy5jc3MoInBvc2l0aW9uIikpfHxzLmNzcygicG9zaXRpb24iLCJhYnNvbHV0ZSIpLHN9LF9hZGp1c3RPZmZzZXRGcm9tSGVscGVyOmZ1bmN0aW9uKHQpeyJzdHJpbmciPT10eXBlb2YgdCYmKHQ9dC5zcGxpdCgiICIpKSxlLmlzQXJyYXkodCkmJih0PXtsZWZ0Oit0WzBdLHRvcDordFsxXXx8MH0pLCJsZWZ0IiBpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2subGVmdD10LmxlZnQrdGhpcy5tYXJnaW5zLmxlZnQpLCJyaWdodCIgaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ9dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10LnJpZ2h0K3RoaXMubWFyZ2lucy5sZWZ0KSwidG9wIiBpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2sudG9wPXQudG9wK3RoaXMubWFyZ2lucy50b3ApLCJib3R0b20iIGluIHQmJih0aGlzLm9mZnNldC5jbGljay50b3A9dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdC5ib3R0b20rdGhpcy5tYXJnaW5zLnRvcCl9LF9pc1Jvb3ROb2RlOmZ1bmN0aW9uKGUpe3JldHVybi8oaHRtbHxib2R5KS9pLnRlc3QoZS50YWdOYW1lKXx8ZT09PXRoaXMuZG9jdW1lbnRbMF19LF9nZXRQYXJlbnRPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9mZnNldFBhcmVudC5vZmZzZXQoKSxpPXRoaXMuZG9jdW1lbnRbMF07cmV0dXJuImFic29sdXRlIj09PXRoaXMuY3NzUG9zaXRpb24mJnRoaXMuc2Nyb2xsUGFyZW50WzBdIT09aSYmZS5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSkmJih0LmxlZnQrPXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSx0LnRvcCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCkpLHRoaXMuX2lzUm9vdE5vZGUodGhpcy5vZmZzZXRQYXJlbnRbMF0pJiYodD17dG9wOjAsbGVmdDowfSkse3RvcDp0LnRvcCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJUb3BXaWR0aCIpLDEwKXx8MCksbGVmdDp0LmxlZnQrKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKX19LF9nZXRSZWxhdGl2ZU9mZnNldDpmdW5jdGlvbigpe2lmKCJyZWxhdGl2ZSIhPT10aGlzLmNzc1Bvc2l0aW9uKXtyZXR1cm57dG9wOjAsbGVmdDowfX12YXIgZT10aGlzLmVsZW1lbnQucG9zaXRpb24oKSx0PXRoaXMuX2lzUm9vdE5vZGUodGhpcy5zY3JvbGxQYXJlbnRbMF0pO3JldHVybnt0b3A6ZS50b3AtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygidG9wIiksMTApfHwwKSsodD8wOnRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpKSxsZWZ0OmUubGVmdC0ocGFyc2VJbnQodGhpcy5oZWxwZXIuY3NzKCJsZWZ0IiksMTApfHwwKSsodD8wOnRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSl9fSxfY2FjaGVNYXJnaW5zOmZ1bmN0aW9uKCl7dGhpcy5tYXJnaW5zPXtsZWZ0OnBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoIm1hcmdpbkxlZnQiKSwxMCl8fDAsdG9wOnBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoIm1hcmdpblRvcCIpLDEwKXx8MCxyaWdodDpwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJtYXJnaW5SaWdodCIpLDEwKXx8MCxib3R0b206cGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcygibWFyZ2luQm90dG9tIiksMTApfHwwfX0sX2NhY2hlSGVscGVyUHJvcG9ydGlvbnM6ZnVuY3Rpb24oKXt0aGlzLmhlbHBlclByb3BvcnRpb25zPXt3aWR0aDp0aGlzLmhlbHBlci5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuaGVscGVyLm91dGVySGVpZ2h0KCl9fSxfc2V0Q29udGFpbm1lbnQ6ZnVuY3Rpb24oKXt2YXIgdCxpLHMsbj10aGlzLm9wdGlvbnMsYT10aGlzLmRvY3VtZW50WzBdO3JldHVybiB0aGlzLnJlbGF0aXZlQ29udGFpbmVyPW51bGwsbi5jb250YWlubWVudD8id2luZG93Ij09PW4uY29udGFpbm1lbnQ/KHRoaXMuY29udGFpbm1lbnQ9W2Uod2luZG93KS5zY3JvbGxMZWZ0KCktdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdC10aGlzLm9mZnNldC5wYXJlbnQubGVmdCxlKHdpbmRvdykuc2Nyb2xsVG9wKCktdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3AsZSh3aW5kb3cpLnNjcm9sbExlZnQoKStlKHdpbmRvdykud2lkdGgoKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LGUod2luZG93KS5zY3JvbGxUb3AoKSsoZSh3aW5kb3cpLmhlaWdodCgpfHxhLmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdLHZvaWQgMCk6ImRvY3VtZW50Ij09PW4uY29udGFpbm1lbnQ/KHRoaXMuY29udGFpbm1lbnQ9WzAsMCxlKGEpLndpZHRoKCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdCwoZShhKS5oZWlnaHQoKXx8YS5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0KS10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10aGlzLm1hcmdpbnMudG9wXSx2b2lkIDApOm4uY29udGFpbm1lbnQuY29uc3RydWN0b3I9PT1BcnJheT8odGhpcy5jb250YWlubWVudD1uLmNvbnRhaW5tZW50LHZvaWQgMCk6KCJwYXJlbnQiPT09bi5jb250YWlubWVudCYmKG4uY29udGFpbm1lbnQ9dGhpcy5oZWxwZXJbMF0ucGFyZW50Tm9kZSksaT1lKG4uY29udGFpbm1lbnQpLHM9aVswXSxzJiYodD0iaGlkZGVuIiE9PWkuY3NzKCJvdmVyZmxvdyIpLHRoaXMuY29udGFpbm1lbnQ9WyhwYXJzZUludChpLmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQoaS5jc3MoInBhZGRpbmdMZWZ0IiksMTApfHwwKSwocGFyc2VJbnQoaS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQoaS5jc3MoInBhZGRpbmdUb3AiKSwxMCl8fDApLCh0P01hdGgubWF4KHMuc2Nyb2xsV2lkdGgscy5vZmZzZXRXaWR0aCk6cy5vZmZzZXRXaWR0aCktKHBhcnNlSW50KGkuY3NzKCJib3JkZXJSaWdodFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQoaS5jc3MoInBhZGRpbmdSaWdodCIpLDEwKXx8MCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdC10aGlzLm1hcmdpbnMucmlnaHQsKHQ/TWF0aC5tYXgocy5zY3JvbGxIZWlnaHQscy5vZmZzZXRIZWlnaHQpOnMub2Zmc2V0SGVpZ2h0KS0ocGFyc2VJbnQoaS5jc3MoImJvcmRlckJvdHRvbVdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQoaS5jc3MoInBhZGRpbmdCb3R0b20iKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3AtdGhpcy5tYXJnaW5zLmJvdHRvbV0sdGhpcy5yZWxhdGl2ZUNvbnRhaW5lcj1pKSx2b2lkIDApOih0aGlzLmNvbnRhaW5tZW50PW51bGwsdm9pZCAwKX0sX2NvbnZlcnRQb3NpdGlvblRvOmZ1bmN0aW9uKGUsdCl7dHx8KHQ9dGhpcy5wb3NpdGlvbik7dmFyIGk9ImFic29sdXRlIj09PWU/MTotMSxzPXRoaXMuX2lzUm9vdE5vZGUodGhpcy5zY3JvbGxQYXJlbnRbMF0pO3JldHVybnt0b3A6dC50b3ArdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wKmkrdGhpcy5vZmZzZXQucGFyZW50LnRvcCppLSgiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5vZmZzZXQuc2Nyb2xsLnRvcDpzPzA6dGhpcy5vZmZzZXQuc2Nyb2xsLnRvcCkqaSxsZWZ0OnQubGVmdCt0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0KmkrdGhpcy5vZmZzZXQucGFyZW50LmxlZnQqaS0oImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0OnM/MDp0aGlzLm9mZnNldC5zY3JvbGwubGVmdCkqaX19LF9nZW5lcmF0ZVBvc2l0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIGkscyxuLGEsbz10aGlzLm9wdGlvbnMscj10aGlzLl9pc1Jvb3ROb2RlKHRoaXMuc2Nyb2xsUGFyZW50WzBdKSxoPWUucGFnZVgsbD1lLnBhZ2VZO3JldHVybiByJiZ0aGlzLm9mZnNldC5zY3JvbGx8fCh0aGlzLm9mZnNldC5zY3JvbGw9e3RvcDp0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSxsZWZ0OnRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKX0pLHQmJih0aGlzLmNvbnRhaW5tZW50JiYodGhpcy5yZWxhdGl2ZUNvbnRhaW5lcj8ocz10aGlzLnJlbGF0aXZlQ29udGFpbmVyLm9mZnNldCgpLGk9W3RoaXMuY29udGFpbm1lbnRbMF0rcy5sZWZ0LHRoaXMuY29udGFpbm1lbnRbMV0rcy50b3AsdGhpcy5jb250YWlubWVudFsyXStzLmxlZnQsdGhpcy5jb250YWlubWVudFszXStzLnRvcF0pOmk9dGhpcy5jb250YWlubWVudCxlLnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8aVswXSYmKGg9aVswXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSxlLnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDxpWzFdJiYobD1pWzFdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCksZS5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PmlbMl0mJihoPWlbMl0rdGhpcy5vZmZzZXQuY2xpY2subGVmdCksZS5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A+aVszXSYmKGw9aVszXSt0aGlzLm9mZnNldC5jbGljay50b3ApKSxvLmdyaWQmJihuPW8uZ3JpZFsxXT90aGlzLm9yaWdpbmFsUGFnZVkrTWF0aC5yb3VuZCgobC10aGlzLm9yaWdpbmFsUGFnZVkpL28uZ3JpZFsxXSkqby5ncmlkWzFdOnRoaXMub3JpZ2luYWxQYWdlWSxsPWk/bi10aGlzLm9mZnNldC5jbGljay50b3A+PWlbMV18fG4tdGhpcy5vZmZzZXQuY2xpY2sudG9wPmlbM10/bjpuLXRoaXMub2Zmc2V0LmNsaWNrLnRvcD49aVsxXT9uLW8uZ3JpZFsxXTpuK28uZ3JpZFsxXTpuLGE9by5ncmlkWzBdP3RoaXMub3JpZ2luYWxQYWdlWCtNYXRoLnJvdW5kKChoLXRoaXMub3JpZ2luYWxQYWdlWCkvby5ncmlkWzBdKSpvLmdyaWRbMF06dGhpcy5vcmlnaW5hbFBhZ2VYLGg9aT9hLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+PWlbMF18fGEtdGhpcy5vZmZzZXQuY2xpY2subGVmdD5pWzJdP2E6YS10aGlzLm9mZnNldC5jbGljay5sZWZ0Pj1pWzBdP2Etby5ncmlkWzBdOmErby5ncmlkWzBdOmEpLCJ5Ij09PW8uYXhpcyYmKGg9dGhpcy5vcmlnaW5hbFBhZ2VYKSwieCI9PT1vLmF4aXMmJihsPXRoaXMub3JpZ2luYWxQYWdlWSkpLHt0b3A6bC10aGlzLm9mZnNldC5jbGljay50b3AtdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3ArKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLm9mZnNldC5zY3JvbGwudG9wOnI/MDp0aGlzLm9mZnNldC5zY3JvbGwudG9wKSxsZWZ0OmgtdGhpcy5vZmZzZXQuY2xpY2subGVmdC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KygiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQ6cj8wOnRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0KX19LF9jbGVhcjpmdW5jdGlvbigpe3RoaXMuaGVscGVyLnJlbW92ZUNsYXNzKCJ1aS1kcmFnZ2FibGUtZHJhZ2dpbmciKSx0aGlzLmhlbHBlclswXT09PXRoaXMuZWxlbWVudFswXXx8dGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsfHx0aGlzLmhlbHBlci5yZW1vdmUoKSx0aGlzLmhlbHBlcj1udWxsLHRoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbD0hMSx0aGlzLmRlc3Ryb3lPbkNsZWFyJiZ0aGlzLmRlc3Ryb3koKX0sX3RyaWdnZXI6ZnVuY3Rpb24odCxpLHMpe3JldHVybiBzPXN8fHRoaXMuX3VpSGFzaCgpLGUudWkucGx1Z2luLmNhbGwodGhpcyx0LFtpLHMsdGhpc10sITApLCJkcmFnIj09PXQmJih0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpKSxlLldpZGdldC5wcm90b3R5cGUuX3RyaWdnZXIuY2FsbCh0aGlzLHQsaSxzKX0scGx1Z2luczp7fSxfdWlIYXNoOmZ1bmN0aW9uKCl7cmV0dXJue2hlbHBlcjp0aGlzLmhlbHBlcixwb3NpdGlvbjp0aGlzLnBvc2l0aW9uLG9yaWdpbmFsUG9zaXRpb246dGhpcy5vcmlnaW5hbFBvc2l0aW9uLG9mZnNldDp0aGlzLnBvc2l0aW9uQWJzfX19KSxlLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsImNvbm5lY3RUb1NvcnRhYmxlIix7c3RhcnQ6ZnVuY3Rpb24odCxpLHMpe3ZhciBuPXMub3B0aW9ucyxhPWUuZXh0ZW5kKHt9LGkse2l0ZW06cy5lbGVtZW50fSk7cy5zb3J0YWJsZXM9W10sZShuLmNvbm5lY3RUb1NvcnRhYmxlKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9ZSh0aGlzKS5zb3J0YWJsZSgiaW5zdGFuY2UiKTtpJiYhaS5vcHRpb25zLmRpc2FibGVkJiYocy5zb3J0YWJsZXMucHVzaCh7aW5zdGFuY2U6aSxzaG91bGRSZXZlcnQ6aS5vcHRpb25zLnJldmVydH0pLGkucmVmcmVzaFBvc2l0aW9ucygpLGkuX3RyaWdnZXIoImFjdGl2YXRlIix0LGEpKX0pfSxzdG9wOmZ1bmN0aW9uKHQsaSxzKXt2YXIgbj1lLmV4dGVuZCh7fSxpLHtpdGVtOnMuZWxlbWVudH0pO2UuZWFjaChzLnNvcnRhYmxlcyxmdW5jdGlvbigpe3RoaXMuaW5zdGFuY2UuaXNPdmVyPyh0aGlzLmluc3RhbmNlLmlzT3Zlcj0wLHMuY2FuY2VsSGVscGVyUmVtb3ZhbD0hMCx0aGlzLmluc3RhbmNlLmNhbmNlbEhlbHBlclJlbW92YWw9ITEsdGhpcy5zaG91bGRSZXZlcnQmJih0aGlzLmluc3RhbmNlLm9wdGlvbnMucmV2ZXJ0PXRoaXMuc2hvdWxkUmV2ZXJ0KSx0aGlzLmluc3RhbmNlLl9tb3VzZVN0b3AodCksdGhpcy5pbnN0YW5jZS5vcHRpb25zLmhlbHBlcj10aGlzLmluc3RhbmNlLm9wdGlvbnMuX2hlbHBlciwib3JpZ2luYWwiPT09cy5vcHRpb25zLmhlbHBlciYmdGhpcy5pbnN0YW5jZS5jdXJyZW50SXRlbS5jc3Moe3RvcDoiYXV0byIsbGVmdDoiYXV0byJ9KSk6KHRoaXMuaW5zdGFuY2UuY2FuY2VsSGVscGVyUmVtb3ZhbD0hMSx0aGlzLmluc3RhbmNlLl90cmlnZ2VyKCJkZWFjdGl2YXRlIix0LG4pKX0pfSxkcmFnOmZ1bmN0aW9uKHQsaSxzKXt2YXIgbj10aGlzO2UuZWFjaChzLnNvcnRhYmxlcyxmdW5jdGlvbigpe3ZhciBhPSExLG89dGhpczt0aGlzLmluc3RhbmNlLnBvc2l0aW9uQWJzPXMucG9zaXRpb25BYnMsdGhpcy5pbnN0YW5jZS5oZWxwZXJQcm9wb3J0aW9ucz1zLmhlbHBlclByb3BvcnRpb25zLHRoaXMuaW5zdGFuY2Uub2Zmc2V0LmNsaWNrPXMub2Zmc2V0LmNsaWNrLHRoaXMuaW5zdGFuY2UuX2ludGVyc2VjdHNXaXRoKHRoaXMuaW5zdGFuY2UuY29udGFpbmVyQ2FjaGUpJiYoYT0hMCxlLmVhY2gocy5zb3J0YWJsZXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnN0YW5jZS5wb3NpdGlvbkFicz1zLnBvc2l0aW9uQWJzLHRoaXMuaW5zdGFuY2UuaGVscGVyUHJvcG9ydGlvbnM9cy5oZWxwZXJQcm9wb3J0aW9ucyx0aGlzLmluc3RhbmNlLm9mZnNldC5jbGljaz1zLm9mZnNldC5jbGljayx0aGlzIT09byYmdGhpcy5pbnN0YW5jZS5faW50ZXJzZWN0c1dpdGgodGhpcy5pbnN0YW5jZS5jb250YWluZXJDYWNoZSkmJmUuY29udGFpbnMoby5pbnN0YW5jZS5lbGVtZW50WzBdLHRoaXMuaW5zdGFuY2UuZWxlbWVudFswXSkmJihhPSExKSxhfSkpLGE/KHRoaXMuaW5zdGFuY2UuaXNPdmVyfHwodGhpcy5pbnN0YW5jZS5pc092ZXI9MSx0aGlzLmluc3RhbmNlLmN1cnJlbnRJdGVtPWUobikuY2xvbmUoKS5yZW1vdmVBdHRyKCJpZCIpLmFwcGVuZFRvKHRoaXMuaW5zdGFuY2UuZWxlbWVudCkuZGF0YSgidWktc29ydGFibGUtaXRlbSIsITApLHRoaXMuaW5zdGFuY2Uub3B0aW9ucy5faGVscGVyPXRoaXMuaW5zdGFuY2Uub3B0aW9ucy5oZWxwZXIsdGhpcy5pbnN0YW5jZS5vcHRpb25zLmhlbHBlcj1mdW5jdGlvbigpe3JldHVybiBpLmhlbHBlclswXX0sdC50YXJnZXQ9dGhpcy5pbnN0YW5jZS5jdXJyZW50SXRlbVswXSx0aGlzLmluc3RhbmNlLl9tb3VzZUNhcHR1cmUodCwhMCksdGhpcy5pbnN0YW5jZS5fbW91c2VTdGFydCh0LCEwLCEwKSx0aGlzLmluc3RhbmNlLm9mZnNldC5jbGljay50b3A9cy5vZmZzZXQuY2xpY2sudG9wLHRoaXMuaW5zdGFuY2Uub2Zmc2V0LmNsaWNrLmxlZnQ9cy5vZmZzZXQuY2xpY2subGVmdCx0aGlzLmluc3RhbmNlLm9mZnNldC5wYXJlbnQubGVmdC09cy5vZmZzZXQucGFyZW50LmxlZnQtdGhpcy5pbnN0YW5jZS5vZmZzZXQucGFyZW50LmxlZnQsdGhpcy5pbnN0YW5jZS5vZmZzZXQucGFyZW50LnRvcC09cy5vZmZzZXQucGFyZW50LnRvcC10aGlzLmluc3RhbmNlLm9mZnNldC5wYXJlbnQudG9wLHMuX3RyaWdnZXIoInRvU29ydGFibGUiLHQpLHMuZHJvcHBlZD10aGlzLmluc3RhbmNlLmVsZW1lbnQscy5jdXJyZW50SXRlbT1zLmVsZW1lbnQsdGhpcy5pbnN0YW5jZS5mcm9tT3V0c2lkZT1zKSx0aGlzLmluc3RhbmNlLmN1cnJlbnRJdGVtJiZ0aGlzLmluc3RhbmNlLl9tb3VzZURyYWcodCkpOnRoaXMuaW5zdGFuY2UuaXNPdmVyJiYodGhpcy5pbnN0YW5jZS5pc092ZXI9MCx0aGlzLmluc3RhbmNlLmNhbmNlbEhlbHBlclJlbW92YWw9ITAsdGhpcy5pbnN0YW5jZS5vcHRpb25zLnJldmVydD0hMSx0aGlzLmluc3RhbmNlLl90cmlnZ2VyKCJvdXQiLHQsdGhpcy5pbnN0YW5jZS5fdWlIYXNoKHRoaXMuaW5zdGFuY2UpKSx0aGlzLmluc3RhbmNlLl9tb3VzZVN0b3AodCwhMCksdGhpcy5pbnN0YW5jZS5vcHRpb25zLmhlbHBlcj10aGlzLmluc3RhbmNlLm9wdGlvbnMuX2hlbHBlcix0aGlzLmluc3RhbmNlLmN1cnJlbnRJdGVtLnJlbW92ZSgpLHRoaXMuaW5zdGFuY2UucGxhY2Vob2xkZXImJnRoaXMuaW5zdGFuY2UucGxhY2Vob2xkZXIucmVtb3ZlKCkscy5fdHJpZ2dlcigiZnJvbVNvcnRhYmxlIix0KSxzLmRyb3BwZWQ9ITEpfSl9fSksZS51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJjdXJzb3IiLHtzdGFydDpmdW5jdGlvbih0LGkscyl7dmFyIG49ZSgiYm9keSIpLGE9cy5vcHRpb25zO24uY3NzKCJjdXJzb3IiKSYmKGEuX2N1cnNvcj1uLmNzcygiY3Vyc29yIikpLG4uY3NzKCJjdXJzb3IiLGEuY3Vyc29yKX0sc3RvcDpmdW5jdGlvbih0LGkscyl7dmFyIG49cy5vcHRpb25zO24uX2N1cnNvciYmZSgiYm9keSIpLmNzcygiY3Vyc29yIixuLl9jdXJzb3IpfX0pLGUudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwib3BhY2l0eSIse3N0YXJ0OmZ1bmN0aW9uKHQsaSxzKXt2YXIgbj1lKGkuaGVscGVyKSxhPXMub3B0aW9ucztuLmNzcygib3BhY2l0eSIpJiYoYS5fb3BhY2l0eT1uLmNzcygib3BhY2l0eSIpKSxuLmNzcygib3BhY2l0eSIsYS5vcGFjaXR5KX0sc3RvcDpmdW5jdGlvbih0LGkscyl7dmFyIG49cy5vcHRpb25zO24uX29wYWNpdHkmJmUoaS5oZWxwZXIpLmNzcygib3BhY2l0eSIsbi5fb3BhY2l0eSl9fSksZS51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJzY3JvbGwiLHtzdGFydDpmdW5jdGlvbihlLHQsaSl7aS5zY3JvbGxQYXJlbnROb3RIaWRkZW58fChpLnNjcm9sbFBhcmVudE5vdEhpZGRlbj1pLmhlbHBlci5zY3JvbGxQYXJlbnQoITEpKSxpLnNjcm9sbFBhcmVudE5vdEhpZGRlblswXSE9PWkuZG9jdW1lbnRbMF0mJiJIVE1MIiE9PWkuc2Nyb2xsUGFyZW50Tm90SGlkZGVuWzBdLnRhZ05hbWUmJihpLm92ZXJmbG93T2Zmc2V0PWkuc2Nyb2xsUGFyZW50Tm90SGlkZGVuLm9mZnNldCgpKX0sZHJhZzpmdW5jdGlvbih0LGkscyl7dmFyIG49cy5vcHRpb25zLGE9ITEsbz1zLnNjcm9sbFBhcmVudE5vdEhpZGRlblswXSxyPXMuZG9jdW1lbnRbMF07byE9PXImJiJIVE1MIiE9PW8udGFnTmFtZT8obi5heGlzJiYieCI9PT1uLmF4aXN8fChzLm92ZXJmbG93T2Zmc2V0LnRvcCtvLm9mZnNldEhlaWdodC10LnBhZ2VZPG4uc2Nyb2xsU2Vuc2l0aXZpdHk/by5zY3JvbGxUb3A9YT1vLnNjcm9sbFRvcCtuLnNjcm9sbFNwZWVkOnQucGFnZVktcy5vdmVyZmxvd09mZnNldC50b3A8bi5zY3JvbGxTZW5zaXRpdml0eSYmKG8uc2Nyb2xsVG9wPWE9by5zY3JvbGxUb3Atbi5zY3JvbGxTcGVlZCkpLG4uYXhpcyYmInkiPT09bi5heGlzfHwocy5vdmVyZmxvd09mZnNldC5sZWZ0K28ub2Zmc2V0V2lkdGgtdC5wYWdlWDxuLnNjcm9sbFNlbnNpdGl2aXR5P28uc2Nyb2xsTGVmdD1hPW8uc2Nyb2xsTGVmdCtuLnNjcm9sbFNwZWVkOnQucGFnZVgtcy5vdmVyZmxvd09mZnNldC5sZWZ0PG4uc2Nyb2xsU2Vuc2l0aXZpdHkmJihvLnNjcm9sbExlZnQ9YT1vLnNjcm9sbExlZnQtbi5zY3JvbGxTcGVlZCkpKToobi5heGlzJiYieCI9PT1uLmF4aXN8fCh0LnBhZ2VZLWUocikuc2Nyb2xsVG9wKCk8bi5zY3JvbGxTZW5zaXRpdml0eT9hPWUocikuc2Nyb2xsVG9wKGUocikuc2Nyb2xsVG9wKCktbi5zY3JvbGxTcGVlZCk6ZSh3aW5kb3cpLmhlaWdodCgpLSh0LnBhZ2VZLWUocikuc2Nyb2xsVG9wKCkpPG4uc2Nyb2xsU2Vuc2l0aXZpdHkmJihhPWUocikuc2Nyb2xsVG9wKGUocikuc2Nyb2xsVG9wKCkrbi5zY3JvbGxTcGVlZCkpKSxuLmF4aXMmJiJ5Ij09PW4uYXhpc3x8KHQucGFnZVgtZShyKS5zY3JvbGxMZWZ0KCk8bi5zY3JvbGxTZW5zaXRpdml0eT9hPWUocikuc2Nyb2xsTGVmdChlKHIpLnNjcm9sbExlZnQoKS1uLnNjcm9sbFNwZWVkKTplKHdpbmRvdykud2lkdGgoKS0odC5wYWdlWC1lKHIpLnNjcm9sbExlZnQoKSk8bi5zY3JvbGxTZW5zaXRpdml0eSYmKGE9ZShyKS5zY3JvbGxMZWZ0KGUocikuc2Nyb2xsTGVmdCgpK24uc2Nyb2xsU3BlZWQpKSkpLGEhPT0hMSYmZS51aS5kZG1hbmFnZXImJiFuLmRyb3BCZWhhdmlvdXImJmUudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHMsdCl9fSksZS51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJzbmFwIix7c3RhcnQ6ZnVuY3Rpb24odCxpLHMpe3ZhciBuPXMub3B0aW9ucztzLnNuYXBFbGVtZW50cz1bXSxlKG4uc25hcC5jb25zdHJ1Y3RvciE9PVN0cmluZz9uLnNuYXAuaXRlbXN8fCI6ZGF0YSh1aS1kcmFnZ2FibGUpIjpuLnNuYXApLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLGk9dC5vZmZzZXQoKTt0aGlzIT09cy5lbGVtZW50WzBdJiZzLnNuYXBFbGVtZW50cy5wdXNoKHtpdGVtOnRoaXMsd2lkdGg6dC5vdXRlcldpZHRoKCksaGVpZ2h0OnQub3V0ZXJIZWlnaHQoKSx0b3A6aS50b3AsbGVmdDppLmxlZnR9KX0pfSxkcmFnOmZ1bmN0aW9uKHQsaSxzKXt2YXIgbixhLG8scixoLGwsdSxkLGMscCxmPXMub3B0aW9ucyxtPWYuc25hcFRvbGVyYW5jZSxnPWkub2Zmc2V0LmxlZnQsdj1nK3MuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgseT1pLm9mZnNldC50b3AsYj15K3MuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0O2ZvcihjPXMuc25hcEVsZW1lbnRzLmxlbmd0aC0xO2M+PTA7Yy0tKXtoPXMuc25hcEVsZW1lbnRzW2NdLmxlZnQsbD1oK3Muc25hcEVsZW1lbnRzW2NdLndpZHRoLHU9cy5zbmFwRWxlbWVudHNbY10udG9wLGQ9dStzLnNuYXBFbGVtZW50c1tjXS5oZWlnaHQsaC1tPnZ8fGc+bCttfHx1LW0+Ynx8eT5kK218fCFlLmNvbnRhaW5zKHMuc25hcEVsZW1lbnRzW2NdLml0ZW0ub3duZXJEb2N1bWVudCxzLnNuYXBFbGVtZW50c1tjXS5pdGVtKT8ocy5zbmFwRWxlbWVudHNbY10uc25hcHBpbmcmJnMub3B0aW9ucy5zbmFwLnJlbGVhc2UmJnMub3B0aW9ucy5zbmFwLnJlbGVhc2UuY2FsbChzLmVsZW1lbnQsdCxlLmV4dGVuZChzLl91aUhhc2goKSx7c25hcEl0ZW06cy5zbmFwRWxlbWVudHNbY10uaXRlbX0pKSxzLnNuYXBFbGVtZW50c1tjXS5zbmFwcGluZz0hMSk6KCJpbm5lciIhPT1mLnNuYXBNb2RlJiYobj1tPj1NYXRoLmFicyh1LWIpLGE9bT49TWF0aC5hYnMoZC15KSxvPW0+PU1hdGguYWJzKGgtdikscj1tPj1NYXRoLmFicyhsLWcpLG4mJihpLnBvc2l0aW9uLnRvcD1zLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6dS1zLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxsZWZ0OjB9KS50b3Atcy5tYXJnaW5zLnRvcCksYSYmKGkucG9zaXRpb24udG9wPXMuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDpkLGxlZnQ6MH0pLnRvcC1zLm1hcmdpbnMudG9wKSxvJiYoaS5wb3NpdGlvbi5sZWZ0PXMuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDowLGxlZnQ6aC1zLmhlbHBlclByb3BvcnRpb25zLndpZHRofSkubGVmdC1zLm1hcmdpbnMubGVmdCksciYmKGkucG9zaXRpb24ubGVmdD1zLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0Omx9KS5sZWZ0LXMubWFyZ2lucy5sZWZ0KSkscD1ufHxhfHxvfHxyLCJvdXRlciIhPT1mLnNuYXBNb2RlJiYobj1tPj1NYXRoLmFicyh1LXkpLGE9bT49TWF0aC5hYnMoZC1iKSxvPW0+PU1hdGguYWJzKGgtZykscj1tPj1NYXRoLmFicyhsLXYpLG4mJihpLnBvc2l0aW9uLnRvcD1zLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6dSxsZWZ0OjB9KS50b3Atcy5tYXJnaW5zLnRvcCksYSYmKGkucG9zaXRpb24udG9wPXMuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDpkLXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LGxlZnQ6MH0pLnRvcC1zLm1hcmdpbnMudG9wKSxvJiYoaS5wb3NpdGlvbi5sZWZ0PXMuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDowLGxlZnQ6aH0pLmxlZnQtcy5tYXJnaW5zLmxlZnQpLHImJihpLnBvc2l0aW9uLmxlZnQ9cy5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOjAsbGVmdDpsLXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGh9KS5sZWZ0LXMubWFyZ2lucy5sZWZ0KSksIXMuc25hcEVsZW1lbnRzW2NdLnNuYXBwaW5nJiYobnx8YXx8b3x8cnx8cCkmJnMub3B0aW9ucy5zbmFwLnNuYXAmJnMub3B0aW9ucy5zbmFwLnNuYXAuY2FsbChzLmVsZW1lbnQsdCxlLmV4dGVuZChzLl91aUhhc2goKSx7c25hcEl0ZW06cy5zbmFwRWxlbWVudHNbY10uaXRlbX0pKSxzLnNuYXBFbGVtZW50c1tjXS5zbmFwcGluZz1ufHxhfHxvfHxyfHxwKX19fSksZS51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJzdGFjayIse3N0YXJ0OmZ1bmN0aW9uKHQsaSxzKXt2YXIgbixhPXMub3B0aW9ucyxvPWUubWFrZUFycmF5KGUoYS5zdGFjaykpLnNvcnQoZnVuY3Rpb24odCxpKXtyZXR1cm4ocGFyc2VJbnQoZSh0KS5jc3MoInpJbmRleCIpLDEwKXx8MCktKHBhcnNlSW50KGUoaSkuY3NzKCJ6SW5kZXgiKSwxMCl8fDApfSk7by5sZW5ndGgmJihuPXBhcnNlSW50KGUob1swXSkuY3NzKCJ6SW5kZXgiKSwxMCl8fDAsZShvKS5lYWNoKGZ1bmN0aW9uKHQpe2UodGhpcykuY3NzKCJ6SW5kZXgiLG4rdCl9KSx0aGlzLmNzcygiekluZGV4IixuK28ubGVuZ3RoKSl9fSksZS51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJ6SW5kZXgiLHtzdGFydDpmdW5jdGlvbih0LGkscyl7dmFyIG49ZShpLmhlbHBlciksYT1zLm9wdGlvbnM7bi5jc3MoInpJbmRleCIpJiYoYS5fekluZGV4PW4uY3NzKCJ6SW5kZXgiKSksbi5jc3MoInpJbmRleCIsYS56SW5kZXgpfSxzdG9wOmZ1bmN0aW9uKHQsaSxzKXt2YXIgbj1zLm9wdGlvbnM7bi5fekluZGV4JiZlKGkuaGVscGVyKS5jc3MoInpJbmRleCIsbi5fekluZGV4KX19KSxlLnVpLmRyYWdnYWJsZSxlLndpZGdldCgidWkucmVzaXphYmxlIixlLnVpLm1vdXNlLHt2ZXJzaW9uOiIxLjExLjEiLHdpZGdldEV2ZW50UHJlZml4OiJyZXNpemUiLG9wdGlvbnM6e2Fsc29SZXNpemU6ITEsYW5pbWF0ZTohMSxhbmltYXRlRHVyYXRpb246InNsb3ciLGFuaW1hdGVFYXNpbmc6InN3aW5nIixhc3BlY3RSYXRpbzohMSxhdXRvSGlkZTohMSxjb250YWlubWVudDohMSxnaG9zdDohMSxncmlkOiExLGhhbmRsZXM6ImUscyxzZSIsaGVscGVyOiExLG1heEhlaWdodDpudWxsLG1heFdpZHRoOm51bGwsbWluSGVpZ2h0OjEwLG1pbldpZHRoOjEwLHpJbmRleDo5MCxyZXNpemU6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbH0sX251bTpmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxMCl8fDB9LF9pc051bWJlcjpmdW5jdGlvbihlKXtyZXR1cm4gIWlzTmFOKHBhcnNlSW50KGUsMTApKX0sX2hhc1Njcm9sbDpmdW5jdGlvbih0LGkpe2lmKCJoaWRkZW4iPT09ZSh0KS5jc3MoIm92ZXJmbG93Iikpe3JldHVybiAhMX12YXIgcz1pJiYibGVmdCI9PT1pPyJzY3JvbGxMZWZ0Ijoic2Nyb2xsVG9wIixuPSExO3JldHVybiB0W3NdPjA/ITA6KHRbc109MSxuPXRbc10+MCx0W3NdPTAsbil9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdCxpLHMsbixhLG89dGhpcyxyPXRoaXMub3B0aW9ucztpZih0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXJlc2l6YWJsZSIpLGUuZXh0ZW5kKHRoaXMse19hc3BlY3RSYXRpbzohIXIuYXNwZWN0UmF0aW8sYXNwZWN0UmF0aW86ci5hc3BlY3RSYXRpbyxvcmlnaW5hbEVsZW1lbnQ6dGhpcy5lbGVtZW50LF9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzOltdLF9oZWxwZXI6ci5oZWxwZXJ8fHIuZ2hvc3R8fHIuYW5pbWF0ZT9yLmhlbHBlcnx8InVpLXJlc2l6YWJsZS1oZWxwZXIiOm51bGx9KSx0aGlzLmVsZW1lbnRbMF0ubm9kZU5hbWUubWF0Y2goL2NhbnZhc3x0ZXh0YXJlYXxpbnB1dHxzZWxlY3R8YnV0dG9ufGltZy9pKSYmKHRoaXMuZWxlbWVudC53cmFwKGUoIjxkaXYgY2xhc3M9J3VpLXdyYXBwZXInIHN0eWxlPSdvdmVyZmxvdzogaGlkZGVuOyc+PC9kaXY+IikuY3NzKHtwb3NpdGlvbjp0aGlzLmVsZW1lbnQuY3NzKCJwb3NpdGlvbiIpLHdpZHRoOnRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLHRvcDp0aGlzLmVsZW1lbnQuY3NzKCJ0b3AiKSxsZWZ0OnRoaXMuZWxlbWVudC5jc3MoImxlZnQiKX0pKSx0aGlzLmVsZW1lbnQ9dGhpcy5lbGVtZW50LnBhcmVudCgpLmRhdGEoInVpLXJlc2l6YWJsZSIsdGhpcy5lbGVtZW50LnJlc2l6YWJsZSgiaW5zdGFuY2UiKSksdGhpcy5lbGVtZW50SXNXcmFwcGVyPSEwLHRoaXMuZWxlbWVudC5jc3Moe21hcmdpbkxlZnQ6dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW5MZWZ0IiksbWFyZ2luVG9wOnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luVG9wIiksbWFyZ2luUmlnaHQ6dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW5SaWdodCIpLG1hcmdpbkJvdHRvbTp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpbkJvdHRvbSIpfSksdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHttYXJnaW5MZWZ0OjAsbWFyZ2luVG9wOjAsbWFyZ2luUmlnaHQ6MCxtYXJnaW5Cb3R0b206MH0pLHRoaXMub3JpZ2luYWxSZXNpemVTdHlsZT10aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoInJlc2l6ZSIpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygicmVzaXplIiwibm9uZSIpLHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMucHVzaCh0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3Moe3Bvc2l0aW9uOiJzdGF0aWMiLHpvb206MSxkaXNwbGF5OiJibG9jayJ9KSksdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHttYXJnaW46dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW4iKX0pLHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCkpLHRoaXMuaGFuZGxlcz1yLmhhbmRsZXN8fChlKCIudWktcmVzaXphYmxlLWhhbmRsZSIsdGhpcy5lbGVtZW50KS5sZW5ndGg/e246Ii51aS1yZXNpemFibGUtbiIsZToiLnVpLXJlc2l6YWJsZS1lIixzOiIudWktcmVzaXphYmxlLXMiLHc6Ii51aS1yZXNpemFibGUtdyIsc2U6Ii51aS1yZXNpemFibGUtc2UiLHN3OiIudWktcmVzaXphYmxlLXN3IixuZToiLnVpLXJlc2l6YWJsZS1uZSIsbnc6Ii51aS1yZXNpemFibGUtbncifToiZSxzLHNlIiksdGhpcy5oYW5kbGVzLmNvbnN0cnVjdG9yPT09U3RyaW5nKXtmb3IoImFsbCI9PT10aGlzLmhhbmRsZXMmJih0aGlzLmhhbmRsZXM9Im4sZSxzLHcsc2Usc3csbmUsbnciKSx0PXRoaXMuaGFuZGxlcy5zcGxpdCgiLCIpLHRoaXMuaGFuZGxlcz17fSxpPTA7dC5sZW5ndGg+aTtpKyspe3M9ZS50cmltKHRbaV0pLGE9InVpLXJlc2l6YWJsZS0iK3Msbj1lKCI8ZGl2IGNsYXNzPSd1aS1yZXNpemFibGUtaGFuZGxlICIrYSsiJz48L2Rpdj4iKSxuLmNzcyh7ekluZGV4OnIuekluZGV4fSksInNlIj09PXMmJm4uYWRkQ2xhc3MoInVpLWljb24gdWktaWNvbi1ncmlwc21hbGwtZGlhZ29uYWwtc2UiKSx0aGlzLmhhbmRsZXNbc109Ii51aS1yZXNpemFibGUtIitzLHRoaXMuZWxlbWVudC5hcHBlbmQobil9fXRoaXMuX3JlbmRlckF4aXM9ZnVuY3Rpb24odCl7dmFyIGkscyxuLGE7dD10fHx0aGlzLmVsZW1lbnQ7Zm9yKGkgaW4gdGhpcy5oYW5kbGVzKXt0aGlzLmhhbmRsZXNbaV0uY29uc3RydWN0b3I9PT1TdHJpbmcmJih0aGlzLmhhbmRsZXNbaV09dGhpcy5lbGVtZW50LmNoaWxkcmVuKHRoaXMuaGFuZGxlc1tpXSkuZmlyc3QoKS5zaG93KCkpLHRoaXMuZWxlbWVudElzV3JhcHBlciYmdGhpcy5vcmlnaW5hbEVsZW1lbnRbMF0ubm9kZU5hbWUubWF0Y2goL3RleHRhcmVhfGlucHV0fHNlbGVjdHxidXR0b24vaSkmJihzPWUodGhpcy5oYW5kbGVzW2ldLHRoaXMuZWxlbWVudCksYT0vc3d8bmV8bnd8c2V8bnxzLy50ZXN0KGkpP3Mub3V0ZXJIZWlnaHQoKTpzLm91dGVyV2lkdGgoKSxuPVsicGFkZGluZyIsL25lfG53fG4vLnRlc3QoaSk/IlRvcCI6L3NlfHN3fHMvLnRlc3QoaSk/IkJvdHRvbSI6L15lJC8udGVzdChpKT8iUmlnaHQiOiJMZWZ0Il0uam9pbigiIiksdC5jc3MobixhKSx0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpKSxlKHRoaXMuaGFuZGxlc1tpXSkubGVuZ3RofX0sdGhpcy5fcmVuZGVyQXhpcyh0aGlzLmVsZW1lbnQpLHRoaXMuX2hhbmRsZXM9ZSgiLnVpLXJlc2l6YWJsZS1oYW5kbGUiLHRoaXMuZWxlbWVudCkuZGlzYWJsZVNlbGVjdGlvbigpLHRoaXMuX2hhbmRsZXMubW91c2VvdmVyKGZ1bmN0aW9uKCl7by5yZXNpemluZ3x8KHRoaXMuY2xhc3NOYW1lJiYobj10aGlzLmNsYXNzTmFtZS5tYXRjaCgvdWktcmVzaXphYmxlLShzZXxzd3xuZXxud3xufGV8c3x3KS9pKSksby5heGlzPW4mJm5bMV0/blsxXToic2UiKX0pLHIuYXV0b0hpZGUmJih0aGlzLl9oYW5kbGVzLmhpZGUoKSxlKHRoaXMuZWxlbWVudCkuYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1hdXRvaGlkZSIpLm1vdXNlZW50ZXIoZnVuY3Rpb24oKXtyLmRpc2FibGVkfHwoZSh0aGlzKS5yZW1vdmVDbGFzcygidWktcmVzaXphYmxlLWF1dG9oaWRlIiksby5faGFuZGxlcy5zaG93KCkpfSkubW91c2VsZWF2ZShmdW5jdGlvbigpe3IuZGlzYWJsZWR8fG8ucmVzaXppbmd8fChlKHRoaXMpLmFkZENsYXNzKCJ1aS1yZXNpemFibGUtYXV0b2hpZGUiKSxvLl9oYW5kbGVzLmhpZGUoKSl9KSksdGhpcy5fbW91c2VJbml0KCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fbW91c2VEZXN0cm95KCk7dmFyIHQsaT1mdW5jdGlvbih0KXtlKHQpLnJlbW92ZUNsYXNzKCJ1aS1yZXNpemFibGUgdWktcmVzaXphYmxlLWRpc2FibGVkIHVpLXJlc2l6YWJsZS1yZXNpemluZyIpLnJlbW92ZURhdGEoInJlc2l6YWJsZSIpLnJlbW92ZURhdGEoInVpLXJlc2l6YWJsZSIpLnVuYmluZCgiLnJlc2l6YWJsZSIpLmZpbmQoIi51aS1yZXNpemFibGUtaGFuZGxlIikucmVtb3ZlKCl9O3JldHVybiB0aGlzLmVsZW1lbnRJc1dyYXBwZXImJihpKHRoaXMuZWxlbWVudCksdD10aGlzLmVsZW1lbnQsdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHtwb3NpdGlvbjp0LmNzcygicG9zaXRpb24iKSx3aWR0aDp0Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dC5vdXRlckhlaWdodCgpLHRvcDp0LmNzcygidG9wIiksbGVmdDp0LmNzcygibGVmdCIpfSkuaW5zZXJ0QWZ0ZXIodCksdC5yZW1vdmUoKSksdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJyZXNpemUiLHRoaXMub3JpZ2luYWxSZXNpemVTdHlsZSksaSh0aGlzLm9yaWdpbmFsRWxlbWVudCksdGhpc30sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbih0KXt2YXIgaSxzLG49ITE7Zm9yKGkgaW4gdGhpcy5oYW5kbGVzKXtzPWUodGhpcy5oYW5kbGVzW2ldKVswXSwocz09PXQudGFyZ2V0fHxlLmNvbnRhaW5zKHMsdC50YXJnZXQpKSYmKG49ITApfXJldHVybiAhdGhpcy5vcHRpb25zLmRpc2FibGVkJiZufSxfbW91c2VTdGFydDpmdW5jdGlvbih0KXt2YXIgaSxzLG4sYT10aGlzLm9wdGlvbnMsbz10aGlzLmVsZW1lbnQ7cmV0dXJuIHRoaXMucmVzaXppbmc9ITAsdGhpcy5fcmVuZGVyUHJveHkoKSxpPXRoaXMuX251bSh0aGlzLmhlbHBlci5jc3MoImxlZnQiKSkscz10aGlzLl9udW0odGhpcy5oZWxwZXIuY3NzKCJ0b3AiKSksYS5jb250YWlubWVudCYmKGkrPWUoYS5jb250YWlubWVudCkuc2Nyb2xsTGVmdCgpfHwwLHMrPWUoYS5jb250YWlubWVudCkuc2Nyb2xsVG9wKCl8fDApLHRoaXMub2Zmc2V0PXRoaXMuaGVscGVyLm9mZnNldCgpLHRoaXMucG9zaXRpb249e2xlZnQ6aSx0b3A6c30sdGhpcy5zaXplPXRoaXMuX2hlbHBlcj97d2lkdGg6dGhpcy5oZWxwZXIud2lkdGgoKSxoZWlnaHQ6dGhpcy5oZWxwZXIuaGVpZ2h0KCl9Ont3aWR0aDpvLndpZHRoKCksaGVpZ2h0Om8uaGVpZ2h0KCl9LHRoaXMub3JpZ2luYWxTaXplPXRoaXMuX2hlbHBlcj97d2lkdGg6by5vdXRlcldpZHRoKCksaGVpZ2h0Om8ub3V0ZXJIZWlnaHQoKX06e3dpZHRoOm8ud2lkdGgoKSxoZWlnaHQ6by5oZWlnaHQoKX0sdGhpcy5zaXplRGlmZj17d2lkdGg6by5vdXRlcldpZHRoKCktby53aWR0aCgpLGhlaWdodDpvLm91dGVySGVpZ2h0KCktby5oZWlnaHQoKX0sdGhpcy5vcmlnaW5hbFBvc2l0aW9uPXtsZWZ0OmksdG9wOnN9LHRoaXMub3JpZ2luYWxNb3VzZVBvc2l0aW9uPXtsZWZ0OnQucGFnZVgsdG9wOnQucGFnZVl9LHRoaXMuYXNwZWN0UmF0aW89Im51bWJlciI9PXR5cGVvZiBhLmFzcGVjdFJhdGlvP2EuYXNwZWN0UmF0aW86dGhpcy5vcmlnaW5hbFNpemUud2lkdGgvdGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0fHwxLG49ZSgiLnVpLXJlc2l6YWJsZS0iK3RoaXMuYXhpcykuY3NzKCJjdXJzb3IiKSxlKCJib2R5IikuY3NzKCJjdXJzb3IiLCJhdXRvIj09PW4/dGhpcy5heGlzKyItcmVzaXplIjpuKSxvLmFkZENsYXNzKCJ1aS1yZXNpemFibGUtcmVzaXppbmciKSx0aGlzLl9wcm9wYWdhdGUoInN0YXJ0Iix0KSwhMH0sX21vdXNlRHJhZzpmdW5jdGlvbih0KXt2YXIgaSxzLG49dGhpcy5vcmlnaW5hbE1vdXNlUG9zaXRpb24sYT10aGlzLmF4aXMsbz10LnBhZ2VYLW4ubGVmdHx8MCxyPXQucGFnZVktbi50b3B8fDAsaD10aGlzLl9jaGFuZ2VbYV07cmV0dXJuIHRoaXMuX3VwZGF0ZVByZXZQcm9wZXJ0aWVzKCksaD8oaT1oLmFwcGx5KHRoaXMsW3QsbyxyXSksdGhpcy5fdXBkYXRlVmlydHVhbEJvdW5kYXJpZXModC5zaGlmdEtleSksKHRoaXMuX2FzcGVjdFJhdGlvfHx0LnNoaWZ0S2V5KSYmKGk9dGhpcy5fdXBkYXRlUmF0aW8oaSx0KSksaT10aGlzLl9yZXNwZWN0U2l6ZShpLHQpLHRoaXMuX3VwZGF0ZUNhY2hlKGkpLHRoaXMuX3Byb3BhZ2F0ZSgicmVzaXplIix0KSxzPXRoaXMuX2FwcGx5Q2hhbmdlcygpLCF0aGlzLl9oZWxwZXImJnRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMubGVuZ3RoJiZ0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpLGUuaXNFbXB0eU9iamVjdChzKXx8KHRoaXMuX3VwZGF0ZVByZXZQcm9wZXJ0aWVzKCksdGhpcy5fdHJpZ2dlcigicmVzaXplIix0LHRoaXMudWkoKSksdGhpcy5fYXBwbHlDaGFuZ2VzKCkpLCExKTohMX0sX21vdXNlU3RvcDpmdW5jdGlvbih0KXt0aGlzLnJlc2l6aW5nPSExO3ZhciBpLHMsbixhLG8scixoLGw9dGhpcy5vcHRpb25zLHU9dGhpcztyZXR1cm4gdGhpcy5faGVscGVyJiYoaT10aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLHM9aS5sZW5ndGgmJi90ZXh0YXJlYS9pLnRlc3QoaVswXS5ub2RlTmFtZSksbj1zJiZ0aGlzLl9oYXNTY3JvbGwoaVswXSwibGVmdCIpPzA6dS5zaXplRGlmZi5oZWlnaHQsYT1zPzA6dS5zaXplRGlmZi53aWR0aCxvPXt3aWR0aDp1LmhlbHBlci53aWR0aCgpLWEsaGVpZ2h0OnUuaGVscGVyLmhlaWdodCgpLW59LHI9cGFyc2VJbnQodS5lbGVtZW50LmNzcygibGVmdCIpLDEwKSsodS5wb3NpdGlvbi5sZWZ0LXUub3JpZ2luYWxQb3NpdGlvbi5sZWZ0KXx8bnVsbCxoPXBhcnNlSW50KHUuZWxlbWVudC5jc3MoInRvcCIpLDEwKSsodS5wb3NpdGlvbi50b3AtdS5vcmlnaW5hbFBvc2l0aW9uLnRvcCl8fG51bGwsbC5hbmltYXRlfHx0aGlzLmVsZW1lbnQuY3NzKGUuZXh0ZW5kKG8se3RvcDpoLGxlZnQ6cn0pKSx1LmhlbHBlci5oZWlnaHQodS5zaXplLmhlaWdodCksdS5oZWxwZXIud2lkdGgodS5zaXplLndpZHRoKSx0aGlzLl9oZWxwZXImJiFsLmFuaW1hdGUmJnRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCkpLGUoImJvZHkiKS5jc3MoImN1cnNvciIsImF1dG8iKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXJlc2l6YWJsZS1yZXNpemluZyIpLHRoaXMuX3Byb3BhZ2F0ZSgic3RvcCIsdCksdGhpcy5faGVscGVyJiZ0aGlzLmhlbHBlci5yZW1vdmUoKSwhMX0sX3VwZGF0ZVByZXZQcm9wZXJ0aWVzOmZ1bmN0aW9uKCl7dGhpcy5wcmV2UG9zaXRpb249e3RvcDp0aGlzLnBvc2l0aW9uLnRvcCxsZWZ0OnRoaXMucG9zaXRpb24ubGVmdH0sdGhpcy5wcmV2U2l6ZT17d2lkdGg6dGhpcy5zaXplLndpZHRoLGhlaWdodDp0aGlzLnNpemUuaGVpZ2h0fX0sX2FwcGx5Q2hhbmdlczpmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiB0aGlzLnBvc2l0aW9uLnRvcCE9PXRoaXMucHJldlBvc2l0aW9uLnRvcCYmKGUudG9wPXRoaXMucG9zaXRpb24udG9wKyJweCIpLHRoaXMucG9zaXRpb24ubGVmdCE9PXRoaXMucHJldlBvc2l0aW9uLmxlZnQmJihlLmxlZnQ9dGhpcy5wb3NpdGlvbi5sZWZ0KyJweCIpLHRoaXMuc2l6ZS53aWR0aCE9PXRoaXMucHJldlNpemUud2lkdGgmJihlLndpZHRoPXRoaXMuc2l6ZS53aWR0aCsicHgiKSx0aGlzLnNpemUuaGVpZ2h0IT09dGhpcy5wcmV2U2l6ZS5oZWlnaHQmJihlLmhlaWdodD10aGlzLnNpemUuaGVpZ2h0KyJweCIpLHRoaXMuaGVscGVyLmNzcyhlKSxlfSxfdXBkYXRlVmlydHVhbEJvdW5kYXJpZXM6ZnVuY3Rpb24oZSl7dmFyIHQsaSxzLG4sYSxvPXRoaXMub3B0aW9uczthPXttaW5XaWR0aDp0aGlzLl9pc051bWJlcihvLm1pbldpZHRoKT9vLm1pbldpZHRoOjAsbWF4V2lkdGg6dGhpcy5faXNOdW1iZXIoby5tYXhXaWR0aCk/by5tYXhXaWR0aDoxLzAsbWluSGVpZ2h0OnRoaXMuX2lzTnVtYmVyKG8ubWluSGVpZ2h0KT9vLm1pbkhlaWdodDowLG1heEhlaWdodDp0aGlzLl9pc051bWJlcihvLm1heEhlaWdodCk/by5tYXhIZWlnaHQ6MS8wfSwodGhpcy5fYXNwZWN0UmF0aW98fGUpJiYodD1hLm1pbkhlaWdodCp0aGlzLmFzcGVjdFJhdGlvLHM9YS5taW5XaWR0aC90aGlzLmFzcGVjdFJhdGlvLGk9YS5tYXhIZWlnaHQqdGhpcy5hc3BlY3RSYXRpbyxuPWEubWF4V2lkdGgvdGhpcy5hc3BlY3RSYXRpbyx0PmEubWluV2lkdGgmJihhLm1pbldpZHRoPXQpLHM+YS5taW5IZWlnaHQmJihhLm1pbkhlaWdodD1zKSxhLm1heFdpZHRoPmkmJihhLm1heFdpZHRoPWkpLGEubWF4SGVpZ2h0Pm4mJihhLm1heEhlaWdodD1uKSksdGhpcy5fdkJvdW5kYXJpZXM9YX0sX3VwZGF0ZUNhY2hlOmZ1bmN0aW9uKGUpe3RoaXMub2Zmc2V0PXRoaXMuaGVscGVyLm9mZnNldCgpLHRoaXMuX2lzTnVtYmVyKGUubGVmdCkmJih0aGlzLnBvc2l0aW9uLmxlZnQ9ZS5sZWZ0KSx0aGlzLl9pc051bWJlcihlLnRvcCkmJih0aGlzLnBvc2l0aW9uLnRvcD1lLnRvcCksdGhpcy5faXNOdW1iZXIoZS5oZWlnaHQpJiYodGhpcy5zaXplLmhlaWdodD1lLmhlaWdodCksdGhpcy5faXNOdW1iZXIoZS53aWR0aCkmJih0aGlzLnNpemUud2lkdGg9ZS53aWR0aCl9LF91cGRhdGVSYXRpbzpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnBvc2l0aW9uLGk9dGhpcy5zaXplLHM9dGhpcy5heGlzO3JldHVybiB0aGlzLl9pc051bWJlcihlLmhlaWdodCk/ZS53aWR0aD1lLmhlaWdodCp0aGlzLmFzcGVjdFJhdGlvOnRoaXMuX2lzTnVtYmVyKGUud2lkdGgpJiYoZS5oZWlnaHQ9ZS53aWR0aC90aGlzLmFzcGVjdFJhdGlvKSwic3ciPT09cyYmKGUubGVmdD10LmxlZnQrKGkud2lkdGgtZS53aWR0aCksZS50b3A9bnVsbCksIm53Ij09PXMmJihlLnRvcD10LnRvcCsoaS5oZWlnaHQtZS5oZWlnaHQpLGUubGVmdD10LmxlZnQrKGkud2lkdGgtZS53aWR0aCkpLGV9LF9yZXNwZWN0U2l6ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl92Qm91bmRhcmllcyxpPXRoaXMuYXhpcyxzPXRoaXMuX2lzTnVtYmVyKGUud2lkdGgpJiZ0Lm1heFdpZHRoJiZ0Lm1heFdpZHRoPGUud2lkdGgsbj10aGlzLl9pc051bWJlcihlLmhlaWdodCkmJnQubWF4SGVpZ2h0JiZ0Lm1heEhlaWdodDxlLmhlaWdodCxhPXRoaXMuX2lzTnVtYmVyKGUud2lkdGgpJiZ0Lm1pbldpZHRoJiZ0Lm1pbldpZHRoPmUud2lkdGgsbz10aGlzLl9pc051bWJlcihlLmhlaWdodCkmJnQubWluSGVpZ2h0JiZ0Lm1pbkhlaWdodD5lLmhlaWdodCxyPXRoaXMub3JpZ2luYWxQb3NpdGlvbi5sZWZ0K3RoaXMub3JpZ2luYWxTaXplLndpZHRoLGg9dGhpcy5wb3NpdGlvbi50b3ArdGhpcy5zaXplLmhlaWdodCxsPS9zd3xud3x3Ly50ZXN0KGkpLHU9L253fG5lfG4vLnRlc3QoaSk7cmV0dXJuIGEmJihlLndpZHRoPXQubWluV2lkdGgpLG8mJihlLmhlaWdodD10Lm1pbkhlaWdodCkscyYmKGUud2lkdGg9dC5tYXhXaWR0aCksbiYmKGUuaGVpZ2h0PXQubWF4SGVpZ2h0KSxhJiZsJiYoZS5sZWZ0PXItdC5taW5XaWR0aCkscyYmbCYmKGUubGVmdD1yLXQubWF4V2lkdGgpLG8mJnUmJihlLnRvcD1oLXQubWluSGVpZ2h0KSxuJiZ1JiYoZS50b3A9aC10Lm1heEhlaWdodCksZS53aWR0aHx8ZS5oZWlnaHR8fGUubGVmdHx8IWUudG9wP2Uud2lkdGh8fGUuaGVpZ2h0fHxlLnRvcHx8IWUubGVmdHx8KGUubGVmdD1udWxsKTplLnRvcD1udWxsLGV9LF9nZXRQYWRkaW5nUGx1c0JvcmRlckRpbWVuc2lvbnM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsaT1bXSxzPVtlLmNzcygiYm9yZGVyVG9wV2lkdGgiKSxlLmNzcygiYm9yZGVyUmlnaHRXaWR0aCIpLGUuY3NzKCJib3JkZXJCb3R0b21XaWR0aCIpLGUuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKV0sbj1bZS5jc3MoInBhZGRpbmdUb3AiKSxlLmNzcygicGFkZGluZ1JpZ2h0IiksZS5jc3MoInBhZGRpbmdCb3R0b20iKSxlLmNzcygicGFkZGluZ0xlZnQiKV07ND50O3QrKyl7aVt0XT1wYXJzZUludChzW3RdLDEwKXx8MCxpW3RdKz1wYXJzZUludChuW3RdLDEwKXx8MH1yZXR1cm57aGVpZ2h0OmlbMF0raVsyXSx3aWR0aDppWzFdK2lbM119fSxfcHJvcG9ydGlvbmFsbHlSZXNpemU6ZnVuY3Rpb24oKXtpZih0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLmxlbmd0aCl7Zm9yKHZhciBlLHQ9MCxpPXRoaXMuaGVscGVyfHx0aGlzLmVsZW1lbnQ7dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGg+dDt0Kyspe2U9dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50c1t0XSx0aGlzLm91dGVyRGltZW5zaW9uc3x8KHRoaXMub3V0ZXJEaW1lbnNpb25zPXRoaXMuX2dldFBhZGRpbmdQbHVzQm9yZGVyRGltZW5zaW9ucyhlKSksZS5jc3Moe2hlaWdodDppLmhlaWdodCgpLXRoaXMub3V0ZXJEaW1lbnNpb25zLmhlaWdodHx8MCx3aWR0aDppLndpZHRoKCktdGhpcy5vdXRlckRpbWVuc2lvbnMud2lkdGh8fDB9KX19fSxfcmVuZGVyUHJveHk6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQsaT10aGlzLm9wdGlvbnM7dGhpcy5lbGVtZW50T2Zmc2V0PXQub2Zmc2V0KCksdGhpcy5faGVscGVyPyh0aGlzLmhlbHBlcj10aGlzLmhlbHBlcnx8ZSgiPGRpdiBzdHlsZT0nb3ZlcmZsb3c6aGlkZGVuOyc+PC9kaXY+IiksdGhpcy5oZWxwZXIuYWRkQ2xhc3ModGhpcy5faGVscGVyKS5jc3Moe3dpZHRoOnRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCktMSxoZWlnaHQ6dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCktMSxwb3NpdGlvbjoiYWJzb2x1dGUiLGxlZnQ6dGhpcy5lbGVtZW50T2Zmc2V0LmxlZnQrInB4Iix0b3A6dGhpcy5lbGVtZW50T2Zmc2V0LnRvcCsicHgiLHpJbmRleDorK2kuekluZGV4fSksdGhpcy5oZWxwZXIuYXBwZW5kVG8oImJvZHkiKS5kaXNhYmxlU2VsZWN0aW9uKCkpOnRoaXMuaGVscGVyPXRoaXMuZWxlbWVudH0sX2NoYW5nZTp7ZTpmdW5jdGlvbihlLHQpe3JldHVybnt3aWR0aDp0aGlzLm9yaWdpbmFsU2l6ZS53aWR0aCt0fX0sdzpmdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMub3JpZ2luYWxTaXplLHM9dGhpcy5vcmlnaW5hbFBvc2l0aW9uO3JldHVybntsZWZ0OnMubGVmdCt0LHdpZHRoOmkud2lkdGgtdH19LG46ZnVuY3Rpb24oZSx0LGkpe3ZhciBzPXRoaXMub3JpZ2luYWxTaXplLG49dGhpcy5vcmlnaW5hbFBvc2l0aW9uO3JldHVybnt0b3A6bi50b3AraSxoZWlnaHQ6cy5oZWlnaHQtaX19LHM6ZnVuY3Rpb24oZSx0LGkpe3JldHVybntoZWlnaHQ6dGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0K2l9fSxzZTpmdW5jdGlvbih0LGkscyl7cmV0dXJuIGUuZXh0ZW5kKHRoaXMuX2NoYW5nZS5zLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9jaGFuZ2UuZS5hcHBseSh0aGlzLFt0LGksc10pKX0sc3c6ZnVuY3Rpb24odCxpLHMpe3JldHVybiBlLmV4dGVuZCh0aGlzLl9jaGFuZ2Uucy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLncuYXBwbHkodGhpcyxbdCxpLHNdKSl9LG5lOmZ1bmN0aW9uKHQsaSxzKXtyZXR1cm4gZS5leHRlbmQodGhpcy5fY2hhbmdlLm4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2NoYW5nZS5lLmFwcGx5KHRoaXMsW3QsaSxzXSkpfSxudzpmdW5jdGlvbih0LGkscyl7cmV0dXJuIGUuZXh0ZW5kKHRoaXMuX2NoYW5nZS5uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9jaGFuZ2Uudy5hcHBseSh0aGlzLFt0LGksc10pKX19LF9wcm9wYWdhdGU6ZnVuY3Rpb24odCxpKXtlLnVpLnBsdWdpbi5jYWxsKHRoaXMsdCxbaSx0aGlzLnVpKCldKSwicmVzaXplIiE9PXQmJnRoaXMuX3RyaWdnZXIodCxpLHRoaXMudWkoKSl9LHBsdWdpbnM6e30sdWk6ZnVuY3Rpb24oKXtyZXR1cm57b3JpZ2luYWxFbGVtZW50OnRoaXMub3JpZ2luYWxFbGVtZW50LGVsZW1lbnQ6dGhpcy5lbGVtZW50LGhlbHBlcjp0aGlzLmhlbHBlcixwb3NpdGlvbjp0aGlzLnBvc2l0aW9uLHNpemU6dGhpcy5zaXplLG9yaWdpbmFsU2l6ZTp0aGlzLm9yaWdpbmFsU2l6ZSxvcmlnaW5hbFBvc2l0aW9uOnRoaXMub3JpZ2luYWxQb3NpdGlvbn19fSksZS51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCJhbmltYXRlIix7c3RvcDpmdW5jdGlvbih0KXt2YXIgaT1lKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSxzPWkub3B0aW9ucyxuPWkuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMsYT1uLmxlbmd0aCYmL3RleHRhcmVhL2kudGVzdChuWzBdLm5vZGVOYW1lKSxvPWEmJmkuX2hhc1Njcm9sbChuWzBdLCJsZWZ0Iik/MDppLnNpemVEaWZmLmhlaWdodCxyPWE/MDppLnNpemVEaWZmLndpZHRoLGg9e3dpZHRoOmkuc2l6ZS53aWR0aC1yLGhlaWdodDppLnNpemUuaGVpZ2h0LW99LGw9cGFyc2VJbnQoaS5lbGVtZW50LmNzcygibGVmdCIpLDEwKSsoaS5wb3NpdGlvbi5sZWZ0LWkub3JpZ2luYWxQb3NpdGlvbi5sZWZ0KXx8bnVsbCx1PXBhcnNlSW50KGkuZWxlbWVudC5jc3MoInRvcCIpLDEwKSsoaS5wb3NpdGlvbi50b3AtaS5vcmlnaW5hbFBvc2l0aW9uLnRvcCl8fG51bGw7aS5lbGVtZW50LmFuaW1hdGUoZS5leHRlbmQoaCx1JiZsP3t0b3A6dSxsZWZ0Omx9Ont9KSx7ZHVyYXRpb246cy5hbmltYXRlRHVyYXRpb24sZWFzaW5nOnMuYW5pbWF0ZUVhc2luZyxzdGVwOmZ1bmN0aW9uKCl7dmFyIHM9e3dpZHRoOnBhcnNlSW50KGkuZWxlbWVudC5jc3MoIndpZHRoIiksMTApLGhlaWdodDpwYXJzZUludChpLmVsZW1lbnQuY3NzKCJoZWlnaHQiKSwxMCksdG9wOnBhcnNlSW50KGkuZWxlbWVudC5jc3MoInRvcCIpLDEwKSxsZWZ0OnBhcnNlSW50KGkuZWxlbWVudC5jc3MoImxlZnQiKSwxMCl9O24mJm4ubGVuZ3RoJiZlKG5bMF0pLmNzcyh7d2lkdGg6cy53aWR0aCxoZWlnaHQ6cy5oZWlnaHR9KSxpLl91cGRhdGVDYWNoZShzKSxpLl9wcm9wYWdhdGUoInJlc2l6ZSIsdCl9fSl9fSksZS51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCJjb250YWlubWVudCIse3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIHQsaSxzLG4sYSxvLHIsaD1lKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSxsPWgub3B0aW9ucyx1PWguZWxlbWVudCxkPWwuY29udGFpbm1lbnQsYz1kIGluc3RhbmNlb2YgZT9kLmdldCgwKTovcGFyZW50Ly50ZXN0KGQpP3UucGFyZW50KCkuZ2V0KDApOmQ7YyYmKGguY29udGFpbmVyRWxlbWVudD1lKGMpLC9kb2N1bWVudC8udGVzdChkKXx8ZD09PWRvY3VtZW50PyhoLmNvbnRhaW5lck9mZnNldD17bGVmdDowLHRvcDowfSxoLmNvbnRhaW5lclBvc2l0aW9uPXtsZWZ0OjAsdG9wOjB9LGgucGFyZW50RGF0YT17ZWxlbWVudDplKGRvY3VtZW50KSxsZWZ0OjAsdG9wOjAsd2lkdGg6ZShkb2N1bWVudCkud2lkdGgoKSxoZWlnaHQ6ZShkb2N1bWVudCkuaGVpZ2h0KCl8fGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHR9KToodD1lKGMpLGk9W10sZShbIlRvcCIsIlJpZ2h0IiwiTGVmdCIsIkJvdHRvbSJdKS5lYWNoKGZ1bmN0aW9uKGUscyl7aVtlXT1oLl9udW0odC5jc3MoInBhZGRpbmciK3MpKX0pLGguY29udGFpbmVyT2Zmc2V0PXQub2Zmc2V0KCksaC5jb250YWluZXJQb3NpdGlvbj10LnBvc2l0aW9uKCksaC5jb250YWluZXJTaXplPXtoZWlnaHQ6dC5pbm5lckhlaWdodCgpLWlbM10sd2lkdGg6dC5pbm5lcldpZHRoKCktaVsxXX0scz1oLmNvbnRhaW5lck9mZnNldCxuPWguY29udGFpbmVyU2l6ZS5oZWlnaHQsYT1oLmNvbnRhaW5lclNpemUud2lkdGgsbz1oLl9oYXNTY3JvbGwoYywibGVmdCIpP2Muc2Nyb2xsV2lkdGg6YSxyPWguX2hhc1Njcm9sbChjKT9jLnNjcm9sbEhlaWdodDpuLGgucGFyZW50RGF0YT17ZWxlbWVudDpjLGxlZnQ6cy5sZWZ0LHRvcDpzLnRvcCx3aWR0aDpvLGhlaWdodDpyfSkpfSxyZXNpemU6ZnVuY3Rpb24odCl7dmFyIGkscyxuLGEsbz1lKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSxyPW8ub3B0aW9ucyxoPW8uY29udGFpbmVyT2Zmc2V0LGw9by5wb3NpdGlvbix1PW8uX2FzcGVjdFJhdGlvfHx0LnNoaWZ0S2V5LGQ9e3RvcDowLGxlZnQ6MH0sYz1vLmNvbnRhaW5lckVsZW1lbnQscD0hMDtjWzBdIT09ZG9jdW1lbnQmJi9zdGF0aWMvLnRlc3QoYy5jc3MoInBvc2l0aW9uIikpJiYoZD1oKSxsLmxlZnQ8KG8uX2hlbHBlcj9oLmxlZnQ6MCkmJihvLnNpemUud2lkdGg9by5zaXplLndpZHRoKyhvLl9oZWxwZXI/by5wb3NpdGlvbi5sZWZ0LWgubGVmdDpvLnBvc2l0aW9uLmxlZnQtZC5sZWZ0KSx1JiYoby5zaXplLmhlaWdodD1vLnNpemUud2lkdGgvby5hc3BlY3RSYXRpbyxwPSExKSxvLnBvc2l0aW9uLmxlZnQ9ci5oZWxwZXI/aC5sZWZ0OjApLGwudG9wPChvLl9oZWxwZXI/aC50b3A6MCkmJihvLnNpemUuaGVpZ2h0PW8uc2l6ZS5oZWlnaHQrKG8uX2hlbHBlcj9vLnBvc2l0aW9uLnRvcC1oLnRvcDpvLnBvc2l0aW9uLnRvcCksdSYmKG8uc2l6ZS53aWR0aD1vLnNpemUuaGVpZ2h0Km8uYXNwZWN0UmF0aW8scD0hMSksby5wb3NpdGlvbi50b3A9by5faGVscGVyP2gudG9wOjApLG49by5jb250YWluZXJFbGVtZW50LmdldCgwKT09PW8uZWxlbWVudC5wYXJlbnQoKS5nZXQoMCksYT0vcmVsYXRpdmV8YWJzb2x1dGUvLnRlc3Qoby5jb250YWluZXJFbGVtZW50LmNzcygicG9zaXRpb24iKSksbiYmYT8oby5vZmZzZXQubGVmdD1vLnBhcmVudERhdGEubGVmdCtvLnBvc2l0aW9uLmxlZnQsby5vZmZzZXQudG9wPW8ucGFyZW50RGF0YS50b3Arby5wb3NpdGlvbi50b3ApOihvLm9mZnNldC5sZWZ0PW8uZWxlbWVudC5vZmZzZXQoKS5sZWZ0LG8ub2Zmc2V0LnRvcD1vLmVsZW1lbnQub2Zmc2V0KCkudG9wKSxpPU1hdGguYWJzKG8uc2l6ZURpZmYud2lkdGgrKG8uX2hlbHBlcj9vLm9mZnNldC5sZWZ0LWQubGVmdDpvLm9mZnNldC5sZWZ0LWgubGVmdCkpLHM9TWF0aC5hYnMoby5zaXplRGlmZi5oZWlnaHQrKG8uX2hlbHBlcj9vLm9mZnNldC50b3AtZC50b3A6by5vZmZzZXQudG9wLWgudG9wKSksaStvLnNpemUud2lkdGg+PW8ucGFyZW50RGF0YS53aWR0aCYmKG8uc2l6ZS53aWR0aD1vLnBhcmVudERhdGEud2lkdGgtaSx1JiYoby5zaXplLmhlaWdodD1vLnNpemUud2lkdGgvby5hc3BlY3RSYXRpbyxwPSExKSkscytvLnNpemUuaGVpZ2h0Pj1vLnBhcmVudERhdGEuaGVpZ2h0JiYoby5zaXplLmhlaWdodD1vLnBhcmVudERhdGEuaGVpZ2h0LXMsdSYmKG8uc2l6ZS53aWR0aD1vLnNpemUuaGVpZ2h0Km8uYXNwZWN0UmF0aW8scD0hMSkpLHB8fChvLnBvc2l0aW9uLmxlZnQ9by5wcmV2UG9zaXRpb24ubGVmdCxvLnBvc2l0aW9uLnRvcD1vLnByZXZQb3NpdGlvbi50b3Asby5zaXplLndpZHRoPW8ucHJldlNpemUud2lkdGgsby5zaXplLmhlaWdodD1vLnByZXZTaXplLmhlaWdodCl9LHN0b3A6ZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSxpPXQub3B0aW9ucyxzPXQuY29udGFpbmVyT2Zmc2V0LG49dC5jb250YWluZXJQb3NpdGlvbixhPXQuY29udGFpbmVyRWxlbWVudCxvPWUodC5oZWxwZXIpLHI9by5vZmZzZXQoKSxoPW8ub3V0ZXJXaWR0aCgpLXQuc2l6ZURpZmYud2lkdGgsbD1vLm91dGVySGVpZ2h0KCktdC5zaXplRGlmZi5oZWlnaHQ7dC5faGVscGVyJiYhaS5hbmltYXRlJiYvcmVsYXRpdmUvLnRlc3QoYS5jc3MoInBvc2l0aW9uIikpJiZlKHRoaXMpLmNzcyh7bGVmdDpyLmxlZnQtbi5sZWZ0LXMubGVmdCx3aWR0aDpoLGhlaWdodDpsfSksdC5faGVscGVyJiYhaS5hbmltYXRlJiYvc3RhdGljLy50ZXN0KGEuY3NzKCJwb3NpdGlvbiIpKSYmZSh0aGlzKS5jc3Moe2xlZnQ6ci5sZWZ0LW4ubGVmdC1zLmxlZnQsd2lkdGg6aCxoZWlnaHQ6bH0pfX0pLGUudWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiYWxzb1Jlc2l6ZSIse3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksaT10Lm9wdGlvbnMscz1mdW5jdGlvbih0KXtlKHQpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpO3QuZGF0YSgidWktcmVzaXphYmxlLWFsc29yZXNpemUiLHt3aWR0aDpwYXJzZUludCh0LndpZHRoKCksMTApLGhlaWdodDpwYXJzZUludCh0LmhlaWdodCgpLDEwKSxsZWZ0OnBhcnNlSW50KHQuY3NzKCJsZWZ0IiksMTApLHRvcDpwYXJzZUludCh0LmNzcygidG9wIiksMTApfSl9KX07Im9iamVjdCIhPXR5cGVvZiBpLmFsc29SZXNpemV8fGkuYWxzb1Jlc2l6ZS5wYXJlbnROb2RlP3MoaS5hbHNvUmVzaXplKTppLmFsc29SZXNpemUubGVuZ3RoPyhpLmFsc29SZXNpemU9aS5hbHNvUmVzaXplWzBdLHMoaS5hbHNvUmVzaXplKSk6ZS5lYWNoKGkuYWxzb1Jlc2l6ZSxmdW5jdGlvbihlKXtzKGUpfSl9LHJlc2l6ZTpmdW5jdGlvbih0LGkpe3ZhciBzPWUodGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLG49cy5vcHRpb25zLGE9cy5vcmlnaW5hbFNpemUsbz1zLm9yaWdpbmFsUG9zaXRpb24scj17aGVpZ2h0OnMuc2l6ZS5oZWlnaHQtYS5oZWlnaHR8fDAsd2lkdGg6cy5zaXplLndpZHRoLWEud2lkdGh8fDAsdG9wOnMucG9zaXRpb24udG9wLW8udG9wfHwwLGxlZnQ6cy5wb3NpdGlvbi5sZWZ0LW8ubGVmdHx8MH0saD1mdW5jdGlvbih0LHMpe2UodCkuZWFjaChmdW5jdGlvbigpe3ZhciB0PWUodGhpcyksbj1lKHRoaXMpLmRhdGEoInVpLXJlc2l6YWJsZS1hbHNvcmVzaXplIiksYT17fSxvPXMmJnMubGVuZ3RoP3M6dC5wYXJlbnRzKGkub3JpZ2luYWxFbGVtZW50WzBdKS5sZW5ndGg/WyJ3aWR0aCIsImhlaWdodCJdOlsid2lkdGgiLCJoZWlnaHQiLCJ0b3AiLCJsZWZ0Il07ZS5lYWNoKG8sZnVuY3Rpb24oZSx0KXt2YXIgaT0oblt0XXx8MCkrKHJbdF18fDApO2kmJmk+PTAmJihhW3RdPWl8fG51bGwpfSksdC5jc3MoYSl9KX07Im9iamVjdCIhPXR5cGVvZiBuLmFsc29SZXNpemV8fG4uYWxzb1Jlc2l6ZS5ub2RlVHlwZT9oKG4uYWxzb1Jlc2l6ZSk6ZS5lYWNoKG4uYWxzb1Jlc2l6ZSxmdW5jdGlvbihlLHQpe2goZSx0KX0pfSxzdG9wOmZ1bmN0aW9uKCl7ZSh0aGlzKS5yZW1vdmVEYXRhKCJyZXNpemFibGUtYWxzb3Jlc2l6ZSIpfX0pLGUudWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiZ2hvc3QiLHtzdGFydDpmdW5jdGlvbigpe3ZhciB0PWUodGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLGk9dC5vcHRpb25zLHM9dC5zaXplO3QuZ2hvc3Q9dC5vcmlnaW5hbEVsZW1lbnQuY2xvbmUoKSx0Lmdob3N0LmNzcyh7b3BhY2l0eTowLjI1LGRpc3BsYXk6ImJsb2NrIixwb3NpdGlvbjoicmVsYXRpdmUiLGhlaWdodDpzLmhlaWdodCx3aWR0aDpzLndpZHRoLG1hcmdpbjowLGxlZnQ6MCx0b3A6MH0pLmFkZENsYXNzKCJ1aS1yZXNpemFibGUtZ2hvc3QiKS5hZGRDbGFzcygic3RyaW5nIj09dHlwZW9mIGkuZ2hvc3Q/aS5naG9zdDoiIiksdC5naG9zdC5hcHBlbmRUbyh0LmhlbHBlcil9LHJlc2l6ZTpmdW5jdGlvbigpe3ZhciB0PWUodGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpO3QuZ2hvc3QmJnQuZ2hvc3QuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUiLGhlaWdodDp0LnNpemUuaGVpZ2h0LHdpZHRoOnQuc2l6ZS53aWR0aH0pfSxzdG9wOmZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIik7dC5naG9zdCYmdC5oZWxwZXImJnQuaGVscGVyLmdldCgwKS5yZW1vdmVDaGlsZCh0Lmdob3N0LmdldCgwKSl9fSksZS51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCJncmlkIix7cmVzaXplOmZ1bmN0aW9uKCl7dmFyIHQsaT1lKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSxzPWkub3B0aW9ucyxuPWkuc2l6ZSxhPWkub3JpZ2luYWxTaXplLG89aS5vcmlnaW5hbFBvc2l0aW9uLHI9aS5heGlzLGg9Im51bWJlciI9PXR5cGVvZiBzLmdyaWQ/W3MuZ3JpZCxzLmdyaWRdOnMuZ3JpZCxsPWhbMF18fDEsdT1oWzFdfHwxLGQ9TWF0aC5yb3VuZCgobi53aWR0aC1hLndpZHRoKS9sKSpsLGM9TWF0aC5yb3VuZCgobi5oZWlnaHQtYS5oZWlnaHQpL3UpKnUscD1hLndpZHRoK2QsZj1hLmhlaWdodCtjLG09cy5tYXhXaWR0aCYmcD5zLm1heFdpZHRoLGc9cy5tYXhIZWlnaHQmJmY+cy5tYXhIZWlnaHQsdj1zLm1pbldpZHRoJiZzLm1pbldpZHRoPnAseT1zLm1pbkhlaWdodCYmcy5taW5IZWlnaHQ+ZjtzLmdyaWQ9aCx2JiYocCs9bCkseSYmKGYrPXUpLG0mJihwLT1sKSxnJiYoZi09dSksL14oc2V8c3xlKSQvLnRlc3Qocik/KGkuc2l6ZS53aWR0aD1wLGkuc2l6ZS5oZWlnaHQ9Zik6L14obmUpJC8udGVzdChyKT8oaS5zaXplLndpZHRoPXAsaS5zaXplLmhlaWdodD1mLGkucG9zaXRpb24udG9wPW8udG9wLWMpOi9eKHN3KSQvLnRlc3Qocik/KGkuc2l6ZS53aWR0aD1wLGkuc2l6ZS5oZWlnaHQ9ZixpLnBvc2l0aW9uLmxlZnQ9by5sZWZ0LWQpOigoMD49Zi11fHwwPj1wLWwpJiYodD1pLl9nZXRQYWRkaW5nUGx1c0JvcmRlckRpbWVuc2lvbnModGhpcykpLGYtdT4wPyhpLnNpemUuaGVpZ2h0PWYsaS5wb3NpdGlvbi50b3A9by50b3AtYyk6KGY9dS10LmhlaWdodCxpLnNpemUuaGVpZ2h0PWYsaS5wb3NpdGlvbi50b3A9by50b3ArYS5oZWlnaHQtZikscC1sPjA/KGkuc2l6ZS53aWR0aD1wLGkucG9zaXRpb24ubGVmdD1vLmxlZnQtZCk6KHA9dS10LmhlaWdodCxpLnNpemUud2lkdGg9cCxpLnBvc2l0aW9uLmxlZnQ9by5sZWZ0K2Eud2lkdGgtcCkpfX0pLGUudWkucmVzaXphYmxlLGUud2lkZ2V0KCJ1aS5kaWFsb2ciLHt2ZXJzaW9uOiIxLjExLjEiLG9wdGlvbnM6e2FwcGVuZFRvOiJib2R5IixhdXRvT3BlbjohMCxidXR0b25zOltdLGNsb3NlT25Fc2NhcGU6ITAsY2xvc2VUZXh0OiJDbG9zZSIsZGlhbG9nQ2xhc3M6IiIsZHJhZ2dhYmxlOiEwLGhpZGU6bnVsbCxoZWlnaHQ6ImF1dG8iLG1heEhlaWdodDpudWxsLG1heFdpZHRoOm51bGwsbWluSGVpZ2h0OjE1MCxtaW5XaWR0aDoxNTAsbW9kYWw6ITEscG9zaXRpb246e215OiJjZW50ZXIiLGF0OiJjZW50ZXIiLG9mOndpbmRvdyxjb2xsaXNpb246ImZpdCIsdXNpbmc6ZnVuY3Rpb24odCl7dmFyIGk9ZSh0aGlzKS5jc3ModCkub2Zmc2V0KCkudG9wOzA+aSYmZSh0aGlzKS5jc3MoInRvcCIsdC50b3AtaSl9fSxyZXNpemFibGU6ITAsc2hvdzpudWxsLHRpdGxlOm51bGwsd2lkdGg6MzAwLGJlZm9yZUNsb3NlOm51bGwsY2xvc2U6bnVsbCxkcmFnOm51bGwsZHJhZ1N0YXJ0Om51bGwsZHJhZ1N0b3A6bnVsbCxmb2N1czpudWxsLG9wZW46bnVsbCxyZXNpemU6bnVsbCxyZXNpemVTdGFydDpudWxsLHJlc2l6ZVN0b3A6bnVsbH0sc2l6ZVJlbGF0ZWRPcHRpb25zOntidXR0b25zOiEwLGhlaWdodDohMCxtYXhIZWlnaHQ6ITAsbWF4V2lkdGg6ITAsbWluSGVpZ2h0OiEwLG1pbldpZHRoOiEwLHdpZHRoOiEwfSxyZXNpemFibGVSZWxhdGVkT3B0aW9uczp7bWF4SGVpZ2h0OiEwLG1heFdpZHRoOiEwLG1pbkhlaWdodDohMCxtaW5XaWR0aDohMH0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub3JpZ2luYWxDc3M9e2Rpc3BsYXk6dGhpcy5lbGVtZW50WzBdLnN0eWxlLmRpc3BsYXksd2lkdGg6dGhpcy5lbGVtZW50WzBdLnN0eWxlLndpZHRoLG1pbkhlaWdodDp0aGlzLmVsZW1lbnRbMF0uc3R5bGUubWluSGVpZ2h0LG1heEhlaWdodDp0aGlzLmVsZW1lbnRbMF0uc3R5bGUubWF4SGVpZ2h0LGhlaWdodDp0aGlzLmVsZW1lbnRbMF0uc3R5bGUuaGVpZ2h0fSx0aGlzLm9yaWdpbmFsUG9zaXRpb249e3BhcmVudDp0aGlzLmVsZW1lbnQucGFyZW50KCksaW5kZXg6dGhpcy5lbGVtZW50LnBhcmVudCgpLmNoaWxkcmVuKCkuaW5kZXgodGhpcy5lbGVtZW50KX0sdGhpcy5vcmlnaW5hbFRpdGxlPXRoaXMuZWxlbWVudC5hdHRyKCJ0aXRsZSIpLHRoaXMub3B0aW9ucy50aXRsZT10aGlzLm9wdGlvbnMudGl0bGV8fHRoaXMub3JpZ2luYWxUaXRsZSx0aGlzLl9jcmVhdGVXcmFwcGVyKCksdGhpcy5lbGVtZW50LnNob3coKS5yZW1vdmVBdHRyKCJ0aXRsZSIpLmFkZENsYXNzKCJ1aS1kaWFsb2ctY29udGVudCB1aS13aWRnZXQtY29udGVudCIpLmFwcGVuZFRvKHRoaXMudWlEaWFsb2cpLHRoaXMuX2NyZWF0ZVRpdGxlYmFyKCksdGhpcy5fY3JlYXRlQnV0dG9uUGFuZSgpLHRoaXMub3B0aW9ucy5kcmFnZ2FibGUmJmUuZm4uZHJhZ2dhYmxlJiZ0aGlzLl9tYWtlRHJhZ2dhYmxlKCksdGhpcy5vcHRpb25zLnJlc2l6YWJsZSYmZS5mbi5yZXNpemFibGUmJnRoaXMuX21ha2VSZXNpemFibGUoKSx0aGlzLl9pc09wZW49ITEsdGhpcy5fdHJhY2tGb2N1cygpfSxfaW5pdDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5hdXRvT3BlbiYmdGhpcy5vcGVuKCl9LF9hcHBlbmRUbzpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5hcHBlbmRUbztyZXR1cm4gdCYmKHQuanF1ZXJ5fHx0Lm5vZGVUeXBlKT9lKHQpOnRoaXMuZG9jdW1lbnQuZmluZCh0fHwiYm9keSIpLmVxKDApfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5vcmlnaW5hbFBvc2l0aW9uO3RoaXMuX2Rlc3Ryb3lPdmVybGF5KCksdGhpcy5lbGVtZW50LnJlbW92ZVVuaXF1ZUlkKCkucmVtb3ZlQ2xhc3MoInVpLWRpYWxvZy1jb250ZW50IHVpLXdpZGdldC1jb250ZW50IikuY3NzKHRoaXMub3JpZ2luYWxDc3MpLmRldGFjaCgpLHRoaXMudWlEaWFsb2cuc3RvcCghMCwhMCkucmVtb3ZlKCksdGhpcy5vcmlnaW5hbFRpdGxlJiZ0aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiLHRoaXMub3JpZ2luYWxUaXRsZSksZT10LnBhcmVudC5jaGlsZHJlbigpLmVxKHQuaW5kZXgpLGUubGVuZ3RoJiZlWzBdIT09dGhpcy5lbGVtZW50WzBdP2UuYmVmb3JlKHRoaXMuZWxlbWVudCk6dC5wYXJlbnQuYXBwZW5kKHRoaXMuZWxlbWVudCl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVpRGlhbG9nfSxkaXNhYmxlOmUubm9vcCxlbmFibGU6ZS5ub29wLGNsb3NlOmZ1bmN0aW9uKHQpe3ZhciBpLHM9dGhpcztpZih0aGlzLl9pc09wZW4mJnRoaXMuX3RyaWdnZXIoImJlZm9yZUNsb3NlIix0KSE9PSExKXtpZih0aGlzLl9pc09wZW49ITEsdGhpcy5fZm9jdXNlZEVsZW1lbnQ9bnVsbCx0aGlzLl9kZXN0cm95T3ZlcmxheSgpLHRoaXMuX3VudHJhY2tJbnN0YW5jZSgpLCF0aGlzLm9wZW5lci5maWx0ZXIoIjpmb2N1c2FibGUiKS5mb2N1cygpLmxlbmd0aCl7dHJ5e2k9dGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50LGkmJiJib2R5IiE9PWkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmZShpKS5ibHVyKCl9Y2F0Y2gobil7fX10aGlzLl9oaWRlKHRoaXMudWlEaWFsb2csdGhpcy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtzLl90cmlnZ2VyKCJjbG9zZSIsdCl9KX19LGlzT3BlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc09wZW59LG1vdmVUb1RvcDpmdW5jdGlvbigpe3RoaXMuX21vdmVUb1RvcCgpfSxfbW92ZVRvVG9wOmZ1bmN0aW9uKHQsaSl7dmFyIHM9ITEsbj10aGlzLnVpRGlhbG9nLnNpYmxpbmdzKCIudWktZnJvbnQ6dmlzaWJsZSIpLm1hcChmdW5jdGlvbigpe3JldHVybiArZSh0aGlzKS5jc3MoInotaW5kZXgiKX0pLmdldCgpLGE9TWF0aC5tYXguYXBwbHkobnVsbCxuKTtyZXR1cm4gYT49K3RoaXMudWlEaWFsb2cuY3NzKCJ6LWluZGV4IikmJih0aGlzLnVpRGlhbG9nLmNzcygiei1pbmRleCIsYSsxKSxzPSEwKSxzJiYhaSYmdGhpcy5fdHJpZ2dlcigiZm9jdXMiLHQpLHN9LG9wZW46ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9pc09wZW4/KHRoaXMuX21vdmVUb1RvcCgpJiZ0aGlzLl9mb2N1c1RhYmJhYmxlKCksdm9pZCAwKToodGhpcy5faXNPcGVuPSEwLHRoaXMub3BlbmVyPWUodGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50KSx0aGlzLl9zaXplKCksdGhpcy5fcG9zaXRpb24oKSx0aGlzLl9jcmVhdGVPdmVybGF5KCksdGhpcy5fbW92ZVRvVG9wKG51bGwsITApLHRoaXMub3ZlcmxheSYmdGhpcy5vdmVybGF5LmNzcygiei1pbmRleCIsdGhpcy51aURpYWxvZy5jc3MoInotaW5kZXgiKS0xKSx0aGlzLl9zaG93KHRoaXMudWlEaWFsb2csdGhpcy5vcHRpb25zLnNob3csZnVuY3Rpb24oKXt0Ll9mb2N1c1RhYmJhYmxlKCksdC5fdHJpZ2dlcigiZm9jdXMiKX0pLHRoaXMuX21ha2VGb2N1c1RhcmdldCgpLHRoaXMuX3RyaWdnZXIoIm9wZW4iKSx2b2lkIDApfSxfZm9jdXNUYWJiYWJsZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2ZvY3VzZWRFbGVtZW50O2V8fChlPXRoaXMuZWxlbWVudC5maW5kKCJbYXV0b2ZvY3VzXSIpKSxlLmxlbmd0aHx8KGU9dGhpcy5lbGVtZW50LmZpbmQoIjp0YWJiYWJsZSIpKSxlLmxlbmd0aHx8KGU9dGhpcy51aURpYWxvZ0J1dHRvblBhbmUuZmluZCgiOnRhYmJhYmxlIikpLGUubGVuZ3RofHwoZT10aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZS5maWx0ZXIoIjp0YWJiYWJsZSIpKSxlLmxlbmd0aHx8KGU9dGhpcy51aURpYWxvZyksZS5lcSgwKS5mb2N1cygpfSxfa2VlcEZvY3VzOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGkoKXt2YXIgdD10aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQsaT10aGlzLnVpRGlhbG9nWzBdPT09dHx8ZS5jb250YWlucyh0aGlzLnVpRGlhbG9nWzBdLHQpO2l8fHRoaXMuX2ZvY3VzVGFiYmFibGUoKX10LnByZXZlbnREZWZhdWx0KCksaS5jYWxsKHRoaXMpLHRoaXMuX2RlbGF5KGkpfSxfY3JlYXRlV3JhcHBlcjpmdW5jdGlvbigpe3RoaXMudWlEaWFsb2c9ZSgiPGRpdj4iKS5hZGRDbGFzcygidWktZGlhbG9nIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIHVpLWZyb250ICIrdGhpcy5vcHRpb25zLmRpYWxvZ0NsYXNzKS5oaWRlKCkuYXR0cih7dGFiSW5kZXg6LTEscm9sZToiZGlhbG9nIn0pLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLHRoaXMuX29uKHRoaXMudWlEaWFsb2cse2tleWRvd246ZnVuY3Rpb24odCl7aWYodGhpcy5vcHRpb25zLmNsb3NlT25Fc2NhcGUmJiF0LmlzRGVmYXVsdFByZXZlbnRlZCgpJiZ0LmtleUNvZGUmJnQua2V5Q29kZT09PWUudWkua2V5Q29kZS5FU0NBUEUpe3JldHVybiB0LnByZXZlbnREZWZhdWx0KCksdGhpcy5jbG9zZSh0KSx2b2lkIDB9aWYodC5rZXlDb2RlPT09ZS51aS5rZXlDb2RlLlRBQiYmIXQuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBpPXRoaXMudWlEaWFsb2cuZmluZCgiOnRhYmJhYmxlIikscz1pLmZpbHRlcigiOmZpcnN0Iiksbj1pLmZpbHRlcigiOmxhc3QiKTt0LnRhcmdldCE9PW5bMF0mJnQudGFyZ2V0IT09dGhpcy51aURpYWxvZ1swXXx8dC5zaGlmdEtleT90LnRhcmdldCE9PXNbMF0mJnQudGFyZ2V0IT09dGhpcy51aURpYWxvZ1swXXx8IXQuc2hpZnRLZXl8fCh0aGlzLl9kZWxheShmdW5jdGlvbigpe24uZm9jdXMoKX0pLHQucHJldmVudERlZmF1bHQoKSk6KHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7cy5mb2N1cygpfSksdC5wcmV2ZW50RGVmYXVsdCgpKX19LG1vdXNlZG93bjpmdW5jdGlvbihlKXt0aGlzLl9tb3ZlVG9Ub3AoZSkmJnRoaXMuX2ZvY3VzVGFiYmFibGUoKX19KSx0aGlzLmVsZW1lbnQuZmluZCgiW2FyaWEtZGVzY3JpYmVkYnldIikubGVuZ3RofHx0aGlzLnVpRGlhbG9nLmF0dHIoeyJhcmlhLWRlc2NyaWJlZGJ5Ijp0aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hdHRyKCJpZCIpfSl9LF9jcmVhdGVUaXRsZWJhcjpmdW5jdGlvbigpe3ZhciB0O3RoaXMudWlEaWFsb2dUaXRsZWJhcj1lKCI8ZGl2PiIpLmFkZENsYXNzKCJ1aS1kaWFsb2ctdGl0bGViYXIgdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsIHVpLWhlbHBlci1jbGVhcmZpeCIpLnByZXBlbmRUbyh0aGlzLnVpRGlhbG9nKSx0aGlzLl9vbih0aGlzLnVpRGlhbG9nVGl0bGViYXIse21vdXNlZG93bjpmdW5jdGlvbih0KXtlKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlIil8fHRoaXMudWlEaWFsb2cuZm9jdXMoKX19KSx0aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZT1lKCI8YnV0dG9uIHR5cGU9J2J1dHRvbic+PC9idXR0b24+IikuYnV0dG9uKHtsYWJlbDp0aGlzLm9wdGlvbnMuY2xvc2VUZXh0LGljb25zOntwcmltYXJ5OiJ1aS1pY29uLWNsb3NldGhpY2sifSx0ZXh0OiExfSkuYWRkQ2xhc3MoInVpLWRpYWxvZy10aXRsZWJhci1jbG9zZSIpLmFwcGVuZFRvKHRoaXMudWlEaWFsb2dUaXRsZWJhciksdGhpcy5fb24odGhpcy51aURpYWxvZ1RpdGxlYmFyQ2xvc2Use2NsaWNrOmZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSx0aGlzLmNsb3NlKGUpfX0pLHQ9ZSgiPHNwYW4+IikudW5pcXVlSWQoKS5hZGRDbGFzcygidWktZGlhbG9nLXRpdGxlIikucHJlcGVuZFRvKHRoaXMudWlEaWFsb2dUaXRsZWJhciksdGhpcy5fdGl0bGUodCksdGhpcy51aURpYWxvZy5hdHRyKHsiYXJpYS1sYWJlbGxlZGJ5Ijp0LmF0dHIoImlkIil9KX0sX3RpdGxlOmZ1bmN0aW9uKGUpe3RoaXMub3B0aW9ucy50aXRsZXx8ZS5odG1sKCImIzE2MDsiKSxlLnRleHQodGhpcy5vcHRpb25zLnRpdGxlKX0sX2NyZWF0ZUJ1dHRvblBhbmU6ZnVuY3Rpb24oKXt0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZT1lKCI8ZGl2PiIpLmFkZENsYXNzKCJ1aS1kaWFsb2ctYnV0dG9ucGFuZSB1aS13aWRnZXQtY29udGVudCB1aS1oZWxwZXItY2xlYXJmaXgiKSx0aGlzLnVpQnV0dG9uU2V0PWUoIjxkaXY+IikuYWRkQ2xhc3MoInVpLWRpYWxvZy1idXR0b25zZXQiKS5hcHBlbmRUbyh0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZSksdGhpcy5fY3JlYXRlQnV0dG9ucygpfSxfY3JlYXRlQnV0dG9uczpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT10aGlzLm9wdGlvbnMuYnV0dG9ucztyZXR1cm4gdGhpcy51aURpYWxvZ0J1dHRvblBhbmUucmVtb3ZlKCksdGhpcy51aUJ1dHRvblNldC5lbXB0eSgpLGUuaXNFbXB0eU9iamVjdChpKXx8ZS5pc0FycmF5KGkpJiYhaS5sZW5ndGg/KHRoaXMudWlEaWFsb2cucmVtb3ZlQ2xhc3MoInVpLWRpYWxvZy1idXR0b25zIiksdm9pZCAwKTooZS5lYWNoKGksZnVuY3Rpb24oaSxzKXt2YXIgbixhO3M9ZS5pc0Z1bmN0aW9uKHMpP3tjbGljazpzLHRleHQ6aX06cyxzPWUuZXh0ZW5kKHt0eXBlOiJidXR0b24ifSxzKSxuPXMuY2xpY2sscy5jbGljaz1mdW5jdGlvbigpe24uYXBwbHkodC5lbGVtZW50WzBdLGFyZ3VtZW50cyl9LGE9e2ljb25zOnMuaWNvbnMsdGV4dDpzLnNob3dUZXh0fSxkZWxldGUgcy5pY29ucyxkZWxldGUgcy5zaG93VGV4dCxlKCI8YnV0dG9uPjwvYnV0dG9uPiIscykuYnV0dG9uKGEpLmFwcGVuZFRvKHQudWlCdXR0b25TZXQpfSksdGhpcy51aURpYWxvZy5hZGRDbGFzcygidWktZGlhbG9nLWJ1dHRvbnMiKSx0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZS5hcHBlbmRUbyh0aGlzLnVpRGlhbG9nKSx2b2lkIDApfSxfbWFrZURyYWdnYWJsZTpmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7cmV0dXJue3Bvc2l0aW9uOmUucG9zaXRpb24sb2Zmc2V0OmUub2Zmc2V0fX12YXIgaT10aGlzLHM9dGhpcy5vcHRpb25zO3RoaXMudWlEaWFsb2cuZHJhZ2dhYmxlKHtjYW5jZWw6Ii51aS1kaWFsb2ctY29udGVudCwgLnVpLWRpYWxvZy10aXRsZWJhci1jbG9zZSIsaGFuZGxlOiIudWktZGlhbG9nLXRpdGxlYmFyIixjb250YWlubWVudDoiZG9jdW1lbnQiLHN0YXJ0OmZ1bmN0aW9uKHMsbil7ZSh0aGlzKS5hZGRDbGFzcygidWktZGlhbG9nLWRyYWdnaW5nIiksaS5fYmxvY2tGcmFtZXMoKSxpLl90cmlnZ2VyKCJkcmFnU3RhcnQiLHMsdChuKSl9LGRyYWc6ZnVuY3Rpb24oZSxzKXtpLl90cmlnZ2VyKCJkcmFnIixlLHQocykpfSxzdG9wOmZ1bmN0aW9uKG4sYSl7dmFyIG89YS5vZmZzZXQubGVmdC1pLmRvY3VtZW50LnNjcm9sbExlZnQoKSxyPWEub2Zmc2V0LnRvcC1pLmRvY3VtZW50LnNjcm9sbFRvcCgpO3MucG9zaXRpb249e215OiJsZWZ0IHRvcCIsYXQ6ImxlZnQiKyhvPj0wPyIrIjoiIikrbysiIHRvcCIrKHI+PTA/IisiOiIiKStyLG9mOmkud2luZG93fSxlKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1kaWFsb2ctZHJhZ2dpbmciKSxpLl91bmJsb2NrRnJhbWVzKCksaS5fdHJpZ2dlcigiZHJhZ1N0b3AiLG4sdChhKSl9fSl9LF9tYWtlUmVzaXphYmxlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtyZXR1cm57b3JpZ2luYWxQb3NpdGlvbjplLm9yaWdpbmFsUG9zaXRpb24sb3JpZ2luYWxTaXplOmUub3JpZ2luYWxTaXplLHBvc2l0aW9uOmUucG9zaXRpb24sc2l6ZTplLnNpemV9fXZhciBpPXRoaXMscz10aGlzLm9wdGlvbnMsbj1zLnJlc2l6YWJsZSxhPXRoaXMudWlEaWFsb2cuY3NzKCJwb3NpdGlvbiIpLG89InN0cmluZyI9PXR5cGVvZiBuP246Im4sZSxzLHcsc2Usc3csbmUsbnciO3RoaXMudWlEaWFsb2cucmVzaXphYmxlKHtjYW5jZWw6Ii51aS1kaWFsb2ctY29udGVudCIsY29udGFpbm1lbnQ6ImRvY3VtZW50IixhbHNvUmVzaXplOnRoaXMuZWxlbWVudCxtYXhXaWR0aDpzLm1heFdpZHRoLG1heEhlaWdodDpzLm1heEhlaWdodCxtaW5XaWR0aDpzLm1pbldpZHRoLG1pbkhlaWdodDp0aGlzLl9taW5IZWlnaHQoKSxoYW5kbGVzOm8sc3RhcnQ6ZnVuY3Rpb24ocyxuKXtlKHRoaXMpLmFkZENsYXNzKCJ1aS1kaWFsb2ctcmVzaXppbmciKSxpLl9ibG9ja0ZyYW1lcygpLGkuX3RyaWdnZXIoInJlc2l6ZVN0YXJ0IixzLHQobikpfSxyZXNpemU6ZnVuY3Rpb24oZSxzKXtpLl90cmlnZ2VyKCJyZXNpemUiLGUsdChzKSl9LHN0b3A6ZnVuY3Rpb24obixhKXt2YXIgbz1pLnVpRGlhbG9nLm9mZnNldCgpLHI9by5sZWZ0LWkuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpLGg9by50b3AtaS5kb2N1bWVudC5zY3JvbGxUb3AoKTtzLmhlaWdodD1pLnVpRGlhbG9nLmhlaWdodCgpLHMud2lkdGg9aS51aURpYWxvZy53aWR0aCgpLHMucG9zaXRpb249e215OiJsZWZ0IHRvcCIsYXQ6ImxlZnQiKyhyPj0wPyIrIjoiIikrcisiIHRvcCIrKGg+PTA/IisiOiIiKStoLG9mOmkud2luZG93fSxlKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1kaWFsb2ctcmVzaXppbmciKSxpLl91bmJsb2NrRnJhbWVzKCksaS5fdHJpZ2dlcigicmVzaXplU3RvcCIsbix0KGEpKX19KS5jc3MoInBvc2l0aW9uIixhKX0sX3RyYWNrRm9jdXM6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLndpZGdldCgpLHtmb2N1c2luOmZ1bmN0aW9uKHQpe3RoaXMuX21ha2VGb2N1c1RhcmdldCgpLHRoaXMuX2ZvY3VzZWRFbGVtZW50PWUodC50YXJnZXQpfX0pfSxfbWFrZUZvY3VzVGFyZ2V0OmZ1bmN0aW9uKCl7dGhpcy5fdW50cmFja0luc3RhbmNlKCksdGhpcy5fdHJhY2tpbmdJbnN0YW5jZXMoKS51bnNoaWZ0KHRoaXMpfSxfdW50cmFja0luc3RhbmNlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdHJhY2tpbmdJbnN0YW5jZXMoKSxpPWUuaW5BcnJheSh0aGlzLHQpOy0xIT09aSYmdC5zcGxpY2UoaSwxKX0sX3RyYWNraW5nSW5zdGFuY2VzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctaW5zdGFuY2VzIik7cmV0dXJuIGV8fChlPVtdLHRoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLWluc3RhbmNlcyIsZSkpLGV9LF9taW5IZWlnaHQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnM7cmV0dXJuImF1dG8iPT09ZS5oZWlnaHQ/ZS5taW5IZWlnaHQ6TWF0aC5taW4oZS5taW5IZWlnaHQsZS5oZWlnaHQpfSxfcG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnVpRGlhbG9nLmlzKCI6dmlzaWJsZSIpO2V8fHRoaXMudWlEaWFsb2cuc2hvdygpLHRoaXMudWlEaWFsb2cucG9zaXRpb24odGhpcy5vcHRpb25zLnBvc2l0aW9uKSxlfHx0aGlzLnVpRGlhbG9nLmhpZGUoKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcyxzPSExLG49e307ZS5lYWNoKHQsZnVuY3Rpb24oZSx0KXtpLl9zZXRPcHRpb24oZSx0KSxlIGluIGkuc2l6ZVJlbGF0ZWRPcHRpb25zJiYocz0hMCksZSBpbiBpLnJlc2l6YWJsZVJlbGF0ZWRPcHRpb25zJiYobltlXT10KX0pLHMmJih0aGlzLl9zaXplKCksdGhpcy5fcG9zaXRpb24oKSksdGhpcy51aURpYWxvZy5pcygiOmRhdGEodWktcmVzaXphYmxlKSIpJiZ0aGlzLnVpRGlhbG9nLnJlc2l6YWJsZSgib3B0aW9uIixuKX0sX3NldE9wdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBpLHMsbj10aGlzLnVpRGlhbG9nOyJkaWFsb2dDbGFzcyI9PT1lJiZuLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5kaWFsb2dDbGFzcykuYWRkQ2xhc3ModCksImRpc2FibGVkIiE9PWUmJih0aGlzLl9zdXBlcihlLHQpLCJhcHBlbmRUbyI9PT1lJiZ0aGlzLnVpRGlhbG9nLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLCJidXR0b25zIj09PWUmJnRoaXMuX2NyZWF0ZUJ1dHRvbnMoKSwiY2xvc2VUZXh0Ij09PWUmJnRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLmJ1dHRvbih7bGFiZWw6IiIrdH0pLCJkcmFnZ2FibGUiPT09ZSYmKGk9bi5pcygiOmRhdGEodWktZHJhZ2dhYmxlKSIpLGkmJiF0JiZuLmRyYWdnYWJsZSgiZGVzdHJveSIpLCFpJiZ0JiZ0aGlzLl9tYWtlRHJhZ2dhYmxlKCkpLCJwb3NpdGlvbiI9PT1lJiZ0aGlzLl9wb3NpdGlvbigpLCJyZXNpemFibGUiPT09ZSYmKHM9bi5pcygiOmRhdGEodWktcmVzaXphYmxlKSIpLHMmJiF0JiZuLnJlc2l6YWJsZSgiZGVzdHJveSIpLHMmJiJzdHJpbmciPT10eXBlb2YgdCYmbi5yZXNpemFibGUoIm9wdGlvbiIsImhhbmRsZXMiLHQpLHN8fHQ9PT0hMXx8dGhpcy5fbWFrZVJlc2l6YWJsZSgpKSwidGl0bGUiPT09ZSYmdGhpcy5fdGl0bGUodGhpcy51aURpYWxvZ1RpdGxlYmFyLmZpbmQoIi51aS1kaWFsb2ctdGl0bGUiKSkpfSxfc2l6ZTpmdW5jdGlvbigpe3ZhciBlLHQsaSxzPXRoaXMub3B0aW9uczt0aGlzLmVsZW1lbnQuc2hvdygpLmNzcyh7d2lkdGg6ImF1dG8iLG1pbkhlaWdodDowLG1heEhlaWdodDoibm9uZSIsaGVpZ2h0OjB9KSxzLm1pbldpZHRoPnMud2lkdGgmJihzLndpZHRoPXMubWluV2lkdGgpLGU9dGhpcy51aURpYWxvZy5jc3Moe2hlaWdodDoiYXV0byIsd2lkdGg6cy53aWR0aH0pLm91dGVySGVpZ2h0KCksdD1NYXRoLm1heCgwLHMubWluSGVpZ2h0LWUpLGk9Im51bWJlciI9PXR5cGVvZiBzLm1heEhlaWdodD9NYXRoLm1heCgwLHMubWF4SGVpZ2h0LWUpOiJub25lIiwiYXV0byI9PT1zLmhlaWdodD90aGlzLmVsZW1lbnQuY3NzKHttaW5IZWlnaHQ6dCxtYXhIZWlnaHQ6aSxoZWlnaHQ6ImF1dG8ifSk6dGhpcy5lbGVtZW50LmhlaWdodChNYXRoLm1heCgwLHMuaGVpZ2h0LWUpKSx0aGlzLnVpRGlhbG9nLmlzKCI6ZGF0YSh1aS1yZXNpemFibGUpIikmJnRoaXMudWlEaWFsb2cucmVzaXphYmxlKCJvcHRpb24iLCJtaW5IZWlnaHQiLHRoaXMuX21pbkhlaWdodCgpKX0sX2Jsb2NrRnJhbWVzOmZ1bmN0aW9uKCl7dGhpcy5pZnJhbWVCbG9ja3M9dGhpcy5kb2N1bWVudC5maW5kKCJpZnJhbWUiKS5tYXAoZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpO3JldHVybiBlKCI8ZGl2PiIpLmNzcyh7cG9zaXRpb246ImFic29sdXRlIix3aWR0aDp0Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dC5vdXRlckhlaWdodCgpfSkuYXBwZW5kVG8odC5wYXJlbnQoKSkub2Zmc2V0KHQub2Zmc2V0KCkpWzBdfSl9LF91bmJsb2NrRnJhbWVzOmZ1bmN0aW9uKCl7dGhpcy5pZnJhbWVCbG9ja3MmJih0aGlzLmlmcmFtZUJsb2Nrcy5yZW1vdmUoKSxkZWxldGUgdGhpcy5pZnJhbWVCbG9ja3MpfSxfYWxsb3dJbnRlcmFjdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gZSh0LnRhcmdldCkuY2xvc2VzdCgiLnVpLWRpYWxvZyIpLmxlbmd0aD8hMDohIWUodC50YXJnZXQpLmNsb3Nlc3QoIi51aS1kYXRlcGlja2VyIikubGVuZ3RofSxfY3JlYXRlT3ZlcmxheTpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5tb2RhbCl7dmFyIHQ9ITA7dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0PSExfSksdGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiKXx8dGhpcy5fb24odGhpcy5kb2N1bWVudCx7Zm9jdXNpbjpmdW5jdGlvbihlKXt0fHx0aGlzLl9hbGxvd0ludGVyYWN0aW9uKGUpfHwoZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX3RyYWNraW5nSW5zdGFuY2VzKClbMF0uX2ZvY3VzVGFiYmFibGUoKSl9fSksdGhpcy5vdmVybGF5PWUoIjxkaXY+IikuYWRkQ2xhc3MoInVpLXdpZGdldC1vdmVybGF5IHVpLWZyb250IikuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8oKSksdGhpcy5fb24odGhpcy5vdmVybGF5LHttb3VzZWRvd246Il9rZWVwRm9jdXMifSksdGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiLCh0aGlzLmRvY3VtZW50LmRhdGEoInVpLWRpYWxvZy1vdmVybGF5cyIpfHwwKSsxKX19LF9kZXN0cm95T3ZlcmxheTpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5tb2RhbCYmdGhpcy5vdmVybGF5KXt2YXIgZT10aGlzLmRvY3VtZW50LmRhdGEoInVpLWRpYWxvZy1vdmVybGF5cyIpLTE7ZT90aGlzLmRvY3VtZW50LmRhdGEoInVpLWRpYWxvZy1vdmVybGF5cyIsZSk6dGhpcy5kb2N1bWVudC51bmJpbmQoImZvY3VzaW4iKS5yZW1vdmVEYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiKSx0aGlzLm92ZXJsYXkucmVtb3ZlKCksdGhpcy5vdmVybGF5PW51bGx9fX0pLGUud2lkZ2V0KCJ1aS5kcm9wcGFibGUiLHt2ZXJzaW9uOiIxLjExLjEiLHdpZGdldEV2ZW50UHJlZml4OiJkcm9wIixvcHRpb25zOnthY2NlcHQ6IioiLGFjdGl2ZUNsYXNzOiExLGFkZENsYXNzZXM6ITAsZ3JlZWR5OiExLGhvdmVyQ2xhc3M6ITEsc2NvcGU6ImRlZmF1bHQiLHRvbGVyYW5jZToiaW50ZXJzZWN0IixhY3RpdmF0ZTpudWxsLGRlYWN0aXZhdGU6bnVsbCxkcm9wOm51bGwsb3V0Om51bGwsb3ZlcjpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLm9wdGlvbnMscz1pLmFjY2VwdDt0aGlzLmlzb3Zlcj0hMSx0aGlzLmlzb3V0PSEwLHRoaXMuYWNjZXB0PWUuaXNGdW5jdGlvbihzKT9zOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlzKHMpfSx0aGlzLnByb3BvcnRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9YXJndW1lbnRzWzBdLHZvaWQgMCk6dD90OnQ9e3dpZHRoOnRoaXMuZWxlbWVudFswXS5vZmZzZXRXaWR0aCxoZWlnaHQ6dGhpcy5lbGVtZW50WzBdLm9mZnNldEhlaWdodH19LHRoaXMuX2FkZFRvTWFuYWdlcihpLnNjb3BlKSxpLmFkZENsYXNzZXMmJnRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktZHJvcHBhYmxlIil9LF9hZGRUb01hbmFnZXI6ZnVuY3Rpb24odCl7ZS51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0XT1lLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RdfHxbXSxlLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RdLnB1c2godGhpcyl9LF9zcGxpY2U6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7ZS5sZW5ndGg+dDt0Kyspe2VbdF09PT10aGlzJiZlLnNwbGljZSh0LDEpfX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdD1lLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RoaXMub3B0aW9ucy5zY29wZV07dGhpcy5fc3BsaWNlKHQpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktZHJvcHBhYmxlIHVpLWRyb3BwYWJsZS1kaXNhYmxlZCIpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsaSl7aWYoImFjY2VwdCI9PT10KXt0aGlzLmFjY2VwdD1lLmlzRnVuY3Rpb24oaSk/aTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pcyhpKX19ZWxzZXtpZigic2NvcGUiPT09dCl7dmFyIHM9ZS51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0aGlzLm9wdGlvbnMuc2NvcGVdO3RoaXMuX3NwbGljZShzKSx0aGlzLl9hZGRUb01hbmFnZXIoaSl9fXRoaXMuX3N1cGVyKHQsaSl9LF9hY3RpdmF0ZTpmdW5jdGlvbih0KXt2YXIgaT1lLnVpLmRkbWFuYWdlci5jdXJyZW50O3RoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyksaSYmdGhpcy5fdHJpZ2dlcigiYWN0aXZhdGUiLHQsdGhpcy51aShpKSl9LF9kZWFjdGl2YXRlOmZ1bmN0aW9uKHQpe3ZhciBpPWUudWkuZGRtYW5hZ2VyLmN1cnJlbnQ7dGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKSxpJiZ0aGlzLl90cmlnZ2VyKCJkZWFjdGl2YXRlIix0LHRoaXMudWkoaSkpfSxfb3ZlcjpmdW5jdGlvbih0KXt2YXIgaT1lLnVpLmRkbWFuYWdlci5jdXJyZW50O2kmJihpLmN1cnJlbnRJdGVtfHxpLmVsZW1lbnQpWzBdIT09dGhpcy5lbGVtZW50WzBdJiZ0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxpLmN1cnJlbnRJdGVtfHxpLmVsZW1lbnQpJiYodGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyksdGhpcy5fdHJpZ2dlcigib3ZlciIsdCx0aGlzLnVpKGkpKSl9LF9vdXQ6ZnVuY3Rpb24odCl7dmFyIGk9ZS51aS5kZG1hbmFnZXIuY3VycmVudDtpJiYoaS5jdXJyZW50SXRlbXx8aS5lbGVtZW50KVswXSE9PXRoaXMuZWxlbWVudFswXSYmdGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0saS5jdXJyZW50SXRlbXx8aS5lbGVtZW50KSYmKHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MpLHRoaXMuX3RyaWdnZXIoIm91dCIsdCx0aGlzLnVpKGkpKSl9LF9kcm9wOmZ1bmN0aW9uKHQsaSl7dmFyIHM9aXx8ZS51aS5kZG1hbmFnZXIuY3VycmVudCxuPSExO3JldHVybiBzJiYocy5jdXJyZW50SXRlbXx8cy5lbGVtZW50KVswXSE9PXRoaXMuZWxlbWVudFswXT8odGhpcy5lbGVtZW50LmZpbmQoIjpkYXRhKHVpLWRyb3BwYWJsZSkiKS5ub3QoIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmciKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9ZSh0aGlzKS5kcm9wcGFibGUoImluc3RhbmNlIik7cmV0dXJuIGkub3B0aW9ucy5ncmVlZHkmJiFpLm9wdGlvbnMuZGlzYWJsZWQmJmkub3B0aW9ucy5zY29wZT09PXMub3B0aW9ucy5zY29wZSYmaS5hY2NlcHQuY2FsbChpLmVsZW1lbnRbMF0scy5jdXJyZW50SXRlbXx8cy5lbGVtZW50KSYmZS51aS5pbnRlcnNlY3QocyxlLmV4dGVuZChpLHtvZmZzZXQ6aS5lbGVtZW50Lm9mZnNldCgpfSksaS5vcHRpb25zLnRvbGVyYW5jZSx0KT8obj0hMCwhMSk6dm9pZCAwfSksbj8hMTp0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxzLmN1cnJlbnRJdGVtfHxzLmVsZW1lbnQpPyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpLHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MpLHRoaXMuX3RyaWdnZXIoImRyb3AiLHQsdGhpcy51aShzKSksdGhpcy5lbGVtZW50KTohMSk6ITF9LHVpOmZ1bmN0aW9uKGUpe3JldHVybntkcmFnZ2FibGU6ZS5jdXJyZW50SXRlbXx8ZS5lbGVtZW50LGhlbHBlcjplLmhlbHBlcixwb3NpdGlvbjplLnBvc2l0aW9uLG9mZnNldDplLnBvc2l0aW9uQWJzfX19KSxlLnVpLmludGVyc2VjdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LGkpe3JldHVybiBlPj10JiZ0K2k+ZX1yZXR1cm4gZnVuY3Rpb24odCxpLHMsbil7aWYoIWkub2Zmc2V0KXtyZXR1cm4gITF9dmFyIGE9KHQucG9zaXRpb25BYnN8fHQucG9zaXRpb24uYWJzb2x1dGUpLmxlZnQsbz0odC5wb3NpdGlvbkFic3x8dC5wb3NpdGlvbi5hYnNvbHV0ZSkudG9wLHI9YSt0LmhlbHBlclByb3BvcnRpb25zLndpZHRoLGg9byt0LmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxsPWkub2Zmc2V0LmxlZnQsdT1pLm9mZnNldC50b3AsZD1sK2kucHJvcG9ydGlvbnMoKS53aWR0aCxjPXUraS5wcm9wb3J0aW9ucygpLmhlaWdodDtzd2l0Y2gocyl7Y2FzZSJmaXQiOnJldHVybiBhPj1sJiZkPj1yJiZvPj11JiZjPj1oO2Nhc2UiaW50ZXJzZWN0IjpyZXR1cm4gYSt0LmhlbHBlclByb3BvcnRpb25zLndpZHRoLzI+bCYmZD5yLXQuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgvMiYmbyt0LmhlbHBlclByb3BvcnRpb25zLmhlaWdodC8yPnUmJmM+aC10LmhlbHBlclByb3BvcnRpb25zLmhlaWdodC8yO2Nhc2UicG9pbnRlciI6cmV0dXJuIGUobi5wYWdlWSx1LGkucHJvcG9ydGlvbnMoKS5oZWlnaHQpJiZlKG4ucGFnZVgsbCxpLnByb3BvcnRpb25zKCkud2lkdGgpO2Nhc2UidG91Y2giOnJldHVybihvPj11JiZjPj1vfHxoPj11JiZjPj1ofHx1Pm8mJmg+YykmJihhPj1sJiZkPj1hfHxyPj1sJiZkPj1yfHxsPmEmJnI+ZCk7ZGVmYXVsdDpyZXR1cm4gITF9fX0oKSxlLnVpLmRkbWFuYWdlcj17Y3VycmVudDpudWxsLGRyb3BwYWJsZXM6eyJkZWZhdWx0IjpbXX0scHJlcGFyZU9mZnNldHM6ZnVuY3Rpb24odCxpKXt2YXIgcyxuLGE9ZS51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0Lm9wdGlvbnMuc2NvcGVdfHxbXSxvPWk/aS50eXBlOm51bGwscj0odC5jdXJyZW50SXRlbXx8dC5lbGVtZW50KS5maW5kKCI6ZGF0YSh1aS1kcm9wcGFibGUpIikuYWRkQmFjaygpO2U6Zm9yKHM9MDthLmxlbmd0aD5zO3MrKyl7aWYoIShhW3NdLm9wdGlvbnMuZGlzYWJsZWR8fHQmJiFhW3NdLmFjY2VwdC5jYWxsKGFbc10uZWxlbWVudFswXSx0LmN1cnJlbnRJdGVtfHx0LmVsZW1lbnQpKSl7Zm9yKG49MDtyLmxlbmd0aD5uO24rKyl7aWYocltuXT09PWFbc10uZWxlbWVudFswXSl7YVtzXS5wcm9wb3J0aW9ucygpLmhlaWdodD0wO2NvbnRpbnVlIGV9fWFbc10udmlzaWJsZT0ibm9uZSIhPT1hW3NdLmVsZW1lbnQuY3NzKCJkaXNwbGF5IiksYVtzXS52aXNpYmxlJiYoIm1vdXNlZG93biI9PT1vJiZhW3NdLl9hY3RpdmF0ZS5jYWxsKGFbc10saSksYVtzXS5vZmZzZXQ9YVtzXS5lbGVtZW50Lm9mZnNldCgpLGFbc10ucHJvcG9ydGlvbnMoe3dpZHRoOmFbc10uZWxlbWVudFswXS5vZmZzZXRXaWR0aCxoZWlnaHQ6YVtzXS5lbGVtZW50WzBdLm9mZnNldEhlaWdodH0pKX19fSxkcm9wOmZ1bmN0aW9uKHQsaSl7dmFyIHM9ITE7cmV0dXJuIGUuZWFjaCgoZS51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0Lm9wdGlvbnMuc2NvcGVdfHxbXSkuc2xpY2UoKSxmdW5jdGlvbigpe3RoaXMub3B0aW9ucyYmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMudmlzaWJsZSYmZS51aS5pbnRlcnNlY3QodCx0aGlzLHRoaXMub3B0aW9ucy50b2xlcmFuY2UsaSkmJihzPXRoaXMuX2Ryb3AuY2FsbCh0aGlzLGkpfHxzKSwhdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLnZpc2libGUmJnRoaXMuYWNjZXB0LmNhbGwodGhpcy5lbGVtZW50WzBdLHQuY3VycmVudEl0ZW18fHQuZWxlbWVudCkmJih0aGlzLmlzb3V0PSEwLHRoaXMuaXNvdmVyPSExLHRoaXMuX2RlYWN0aXZhdGUuY2FsbCh0aGlzLGkpKSl9KSxzfSxkcmFnU3RhcnQ6ZnVuY3Rpb24odCxpKXt0LmVsZW1lbnQucGFyZW50c1VudGlsKCJib2R5IikuYmluZCgic2Nyb2xsLmRyb3BwYWJsZSIsZnVuY3Rpb24oKXt0Lm9wdGlvbnMucmVmcmVzaFBvc2l0aW9uc3x8ZS51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModCxpKX0pfSxkcmFnOmZ1bmN0aW9uKHQsaSl7dC5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnMmJmUudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHQsaSksZS5lYWNoKGUudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdC5vcHRpb25zLnNjb3BlXXx8W10sZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiYhdGhpcy5ncmVlZHlDaGlsZCYmdGhpcy52aXNpYmxlKXt2YXIgcyxuLGEsbz1lLnVpLmludGVyc2VjdCh0LHRoaXMsdGhpcy5vcHRpb25zLnRvbGVyYW5jZSxpKSxyPSFvJiZ0aGlzLmlzb3Zlcj8iaXNvdXQiOm8mJiF0aGlzLmlzb3Zlcj8iaXNvdmVyIjpudWxsO3ImJih0aGlzLm9wdGlvbnMuZ3JlZWR5JiYobj10aGlzLm9wdGlvbnMuc2NvcGUsYT10aGlzLmVsZW1lbnQucGFyZW50cygiOmRhdGEodWktZHJvcHBhYmxlKSIpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBlKHRoaXMpLmRyb3BwYWJsZSgiaW5zdGFuY2UiKS5vcHRpb25zLnNjb3BlPT09bn0pLGEubGVuZ3RoJiYocz1lKGFbMF0pLmRyb3BwYWJsZSgiaW5zdGFuY2UiKSxzLmdyZWVkeUNoaWxkPSJpc292ZXIiPT09cikpLHMmJiJpc292ZXIiPT09ciYmKHMuaXNvdmVyPSExLHMuaXNvdXQ9ITAscy5fb3V0LmNhbGwocyxpKSksdGhpc1tyXT0hMCx0aGlzWyJpc291dCI9PT1yPyJpc292ZXIiOiJpc291dCJdPSExLHRoaXNbImlzb3ZlciI9PT1yPyJfb3ZlciI6Il9vdXQiXS5jYWxsKHRoaXMsaSkscyYmImlzb3V0Ij09PXImJihzLmlzb3V0PSExLHMuaXNvdmVyPSEwLHMuX292ZXIuY2FsbChzLGkpKSl9fSl9LGRyYWdTdG9wOmZ1bmN0aW9uKHQsaSl7dC5lbGVtZW50LnBhcmVudHNVbnRpbCgiYm9keSIpLnVuYmluZCgic2Nyb2xsLmRyb3BwYWJsZSIpLHQub3B0aW9ucy5yZWZyZXNoUG9zaXRpb25zfHxlLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0LGkpfX0sZS51aS5kcm9wcGFibGU7dmFyIHk9InVpLWVmZmVjdHMtIixiPWU7ZS5lZmZlY3RzPXtlZmZlY3Q6e319LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaShlLHQsaSl7dmFyIHM9ZFt0LnR5cGVdfHx7fTtyZXR1cm4gbnVsbD09ZT9pfHwhdC5kZWY/bnVsbDp0LmRlZjooZT1zLmZsb29yP35+ZTpwYXJzZUZsb2F0KGUpLGlzTmFOKGUpP3QuZGVmOnMubW9kPyhlK3MubW9kKSVzLm1vZDowPmU/MDplPnMubWF4P3MubWF4OmUpfWZ1bmN0aW9uIHMoaSl7dmFyIHM9bCgpLG49cy5fcmdiYT1bXTtyZXR1cm4gaT1pLnRvTG93ZXJDYXNlKCksZihoLGZ1bmN0aW9uKGUsYSl7dmFyIG8scj1hLnJlLmV4ZWMoaSksaD1yJiZhLnBhcnNlKHIpLGw9YS5zcGFjZXx8InJnYmEiO3JldHVybiBoPyhvPXNbbF0oaCksc1t1W2xdLmNhY2hlXT1vW3VbbF0uY2FjaGVdLG49cy5fcmdiYT1vLl9yZ2JhLCExKTp0fSksbi5sZW5ndGg/KCIwLDAsMCwwIj09PW4uam9pbigpJiZlLmV4dGVuZChuLGEudHJhbnNwYXJlbnQpLHMpOmFbaV19ZnVuY3Rpb24gbihlLHQsaSl7cmV0dXJuIGk9KGkrMSklMSwxPjYqaT9lKzYqKHQtZSkqaToxPjIqaT90OjI+MyppP2UrNioodC1lKSooMi8zLWkpOmV9dmFyIGEsbz0iYmFja2dyb3VuZENvbG9yIGJvcmRlckJvdHRvbUNvbG9yIGJvcmRlckxlZnRDb2xvciBib3JkZXJSaWdodENvbG9yIGJvcmRlclRvcENvbG9yIGNvbG9yIGNvbHVtblJ1bGVDb2xvciBvdXRsaW5lQ29sb3IgdGV4dERlY29yYXRpb25Db2xvciB0ZXh0RW1waGFzaXNDb2xvciIscj0vXihbXC0rXSk9XHMqKFxkK1wuP1xkKikvLGg9W3tyZTovcmdiYT9cKFxzKihcZHsxLDN9KVxzKixccyooXGR7MSwzfSlccyosXHMqKFxkezEsM30pXHMqKD86LFxzKihcZD8oPzpcLlxkKyk/KVxzKik/XCkvLHBhcnNlOmZ1bmN0aW9uKGUpe3JldHVybltlWzFdLGVbMl0sZVszXSxlWzRdXX19LHtyZTovcmdiYT9cKFxzKihcZCsoPzpcLlxkKyk/KVwlXHMqLFxzKihcZCsoPzpcLlxkKyk/KVwlXHMqLFxzKihcZCsoPzpcLlxkKyk/KVwlXHMqKD86LFxzKihcZD8oPzpcLlxkKyk/KVxzKik/XCkvLHBhcnNlOmZ1bmN0aW9uKGUpe3JldHVyblsyLjU1KmVbMV0sMi41NSplWzJdLDIuNTUqZVszXSxlWzRdXX19LHtyZTovIyhbYS1mMC05XXsyfSkoW2EtZjAtOV17Mn0pKFthLWYwLTldezJ9KS8scGFyc2U6ZnVuY3Rpb24oZSl7cmV0dXJuW3BhcnNlSW50KGVbMV0sMTYpLHBhcnNlSW50KGVbMl0sMTYpLHBhcnNlSW50KGVbM10sMTYpXX19LHtyZTovIyhbYS1mMC05XSkoW2EtZjAtOV0pKFthLWYwLTldKS8scGFyc2U6ZnVuY3Rpb24oZSl7cmV0dXJuW3BhcnNlSW50KGVbMV0rZVsxXSwxNikscGFyc2VJbnQoZVsyXStlWzJdLDE2KSxwYXJzZUludChlWzNdK2VbM10sMTYpXX19LHtyZTovaHNsYT9cKFxzKihcZCsoPzpcLlxkKyk/KVxzKixccyooXGQrKD86XC5cZCspPylcJVxzKixccyooXGQrKD86XC5cZCspPylcJVxzKig/OixccyooXGQ/KD86XC5cZCspPylccyopP1wpLyxzcGFjZToiaHNsYSIscGFyc2U6ZnVuY3Rpb24oZSl7cmV0dXJuW2VbMV0sZVsyXS8xMDAsZVszXS8xMDAsZVs0XV19fV0sbD1lLkNvbG9yPWZ1bmN0aW9uKHQsaSxzLG4pe3JldHVybiBuZXcgZS5Db2xvci5mbi5wYXJzZSh0LGkscyxuKX0sdT17cmdiYTp7cHJvcHM6e3JlZDp7aWR4OjAsdHlwZToiYnl0ZSJ9LGdyZWVuOntpZHg6MSx0eXBlOiJieXRlIn0sYmx1ZTp7aWR4OjIsdHlwZToiYnl0ZSJ9fX0saHNsYTp7cHJvcHM6e2h1ZTp7aWR4OjAsdHlwZToiZGVncmVlcyJ9LHNhdHVyYXRpb246e2lkeDoxLHR5cGU6InBlcmNlbnQifSxsaWdodG5lc3M6e2lkeDoyLHR5cGU6InBlcmNlbnQifX19fSxkPXsiYnl0ZSI6e2Zsb29yOiEwLG1heDoyNTV9LHBlcmNlbnQ6e21heDoxfSxkZWdyZWVzOnttb2Q6MzYwLGZsb29yOiEwfX0sYz1sLnN1cHBvcnQ9e30scD1lKCI8cD4iKVswXSxmPWUuZWFjaDtwLnN0eWxlLmNzc1RleHQ9ImJhY2tncm91bmQtY29sb3I6cmdiYSgxLDEsMSwuNSkiLGMucmdiYT1wLnN0eWxlLmJhY2tncm91bmRDb2xvci5pbmRleE9mKCJyZ2JhIik+LTEsZih1LGZ1bmN0aW9uKGUsdCl7dC5jYWNoZT0iXyIrZSx0LnByb3BzLmFscGhhPXtpZHg6Myx0eXBlOiJwZXJjZW50IixkZWY6MX19KSxsLmZuPWUuZXh0ZW5kKGwucHJvdG90eXBlLHtwYXJzZTpmdW5jdGlvbihuLG8scixoKXtpZihuPT09dCl7cmV0dXJuIHRoaXMuX3JnYmE9W251bGwsbnVsbCxudWxsLG51bGxdLHRoaXN9KG4uanF1ZXJ5fHxuLm5vZGVUeXBlKSYmKG49ZShuKS5jc3Mobyksbz10KTt2YXIgZD10aGlzLGM9ZS50eXBlKG4pLHA9dGhpcy5fcmdiYT1bXTtyZXR1cm4gbyE9PXQmJihuPVtuLG8scixoXSxjPSJhcnJheSIpLCJzdHJpbmciPT09Yz90aGlzLnBhcnNlKHMobil8fGEuX2RlZmF1bHQpOiJhcnJheSI9PT1jPyhmKHUucmdiYS5wcm9wcyxmdW5jdGlvbihlLHQpe3BbdC5pZHhdPWkoblt0LmlkeF0sdCl9KSx0aGlzKToib2JqZWN0Ij09PWM/KG4gaW5zdGFuY2VvZiBsP2YodSxmdW5jdGlvbihlLHQpe25bdC5jYWNoZV0mJihkW3QuY2FjaGVdPW5bdC5jYWNoZV0uc2xpY2UoKSl9KTpmKHUsZnVuY3Rpb24odCxzKXt2YXIgYT1zLmNhY2hlO2Yocy5wcm9wcyxmdW5jdGlvbihlLHQpe2lmKCFkW2FdJiZzLnRvKXtpZigiYWxwaGEiPT09ZXx8bnVsbD09bltlXSl7cmV0dXJufWRbYV09cy50byhkLl9yZ2JhKX1kW2FdW3QuaWR4XT1pKG5bZV0sdCwhMCl9KSxkW2FdJiYwPmUuaW5BcnJheShudWxsLGRbYV0uc2xpY2UoMCwzKSkmJihkW2FdWzNdPTEscy5mcm9tJiYoZC5fcmdiYT1zLmZyb20oZFthXSkpKX0pLHRoaXMpOnR9LGlzOmZ1bmN0aW9uKGUpe3ZhciBpPWwoZSkscz0hMCxuPXRoaXM7cmV0dXJuIGYodSxmdW5jdGlvbihlLGEpe3ZhciBvLHI9aVthLmNhY2hlXTtyZXR1cm4gciYmKG89blthLmNhY2hlXXx8YS50byYmYS50byhuLl9yZ2JhKXx8W10sZihhLnByb3BzLGZ1bmN0aW9uKGUsaSl7cmV0dXJuIG51bGwhPXJbaS5pZHhdP3M9cltpLmlkeF09PT1vW2kuaWR4XTp0fSkpLHN9KSxzfSxfc3BhY2U6ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PXRoaXM7cmV0dXJuIGYodSxmdW5jdGlvbihpLHMpe3Rbcy5jYWNoZV0mJmUucHVzaChpKX0pLGUucG9wKCl9LHRyYW5zaXRpb246ZnVuY3Rpb24oZSx0KXt2YXIgcz1sKGUpLG49cy5fc3BhY2UoKSxhPXVbbl0sbz0wPT09dGhpcy5hbHBoYSgpP2woInRyYW5zcGFyZW50Iik6dGhpcyxyPW9bYS5jYWNoZV18fGEudG8oby5fcmdiYSksaD1yLnNsaWNlKCk7cmV0dXJuIHM9c1thLmNhY2hlXSxmKGEucHJvcHMsZnVuY3Rpb24oZSxuKXt2YXIgYT1uLmlkeCxvPXJbYV0sbD1zW2FdLHU9ZFtuLnR5cGVdfHx7fTtudWxsIT09bCYmKG51bGw9PT1vP2hbYV09bDoodS5tb2QmJihsLW8+dS5tb2QvMj9vKz11Lm1vZDpvLWw+dS5tb2QvMiYmKG8tPXUubW9kKSksaFthXT1pKChsLW8pKnQrbyxuKSkpfSksdGhpc1tuXShoKX0sYmxlbmQ6ZnVuY3Rpb24odCl7aWYoMT09PXRoaXMuX3JnYmFbM10pe3JldHVybiB0aGlzfXZhciBpPXRoaXMuX3JnYmEuc2xpY2UoKSxzPWkucG9wKCksbj1sKHQpLl9yZ2JhO3JldHVybiBsKGUubWFwKGksZnVuY3Rpb24oZSx0KXtyZXR1cm4oMS1zKSpuW3RdK3MqZX0pKX0sdG9SZ2JhU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIHQ9InJnYmEoIixpPWUubWFwKHRoaXMuX3JnYmEsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09ZT90PjI/MTowOmV9KTtyZXR1cm4gMT09PWlbM10mJihpLnBvcCgpLHQ9InJnYigiKSx0K2kuam9pbigpKyIpIn0sdG9Ic2xhU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIHQ9ImhzbGEoIixpPWUubWFwKHRoaXMuaHNsYSgpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PWUmJihlPXQ+Mj8xOjApLHQmJjM+dCYmKGU9TWF0aC5yb3VuZCgxMDAqZSkrIiUiKSxlfSk7cmV0dXJuIDE9PT1pWzNdJiYoaS5wb3AoKSx0PSJoc2woIiksdCtpLmpvaW4oKSsiKSJ9LHRvSGV4U3RyaW5nOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuX3JnYmEuc2xpY2UoKSxzPWkucG9wKCk7cmV0dXJuIHQmJmkucHVzaCh+figyNTUqcykpLCIjIitlLm1hcChpLGZ1bmN0aW9uKGUpe3JldHVybiBlPShlfHwwKS50b1N0cmluZygxNiksMT09PWUubGVuZ3RoPyIwIitlOmV9KS5qb2luKCIiKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuX3JnYmFbM10/InRyYW5zcGFyZW50Ijp0aGlzLnRvUmdiYVN0cmluZygpfX0pLGwuZm4ucGFyc2UucHJvdG90eXBlPWwuZm4sdS5oc2xhLnRvPWZ1bmN0aW9uKGUpe2lmKG51bGw9PWVbMF18fG51bGw9PWVbMV18fG51bGw9PWVbMl0pe3JldHVybltudWxsLG51bGwsbnVsbCxlWzNdXX12YXIgdCxpLHM9ZVswXS8yNTUsbj1lWzFdLzI1NSxhPWVbMl0vMjU1LG89ZVszXSxyPU1hdGgubWF4KHMsbixhKSxoPU1hdGgubWluKHMsbixhKSxsPXItaCx1PXIraCxkPTAuNSp1O3JldHVybiB0PWg9PT1yPzA6cz09PXI/NjAqKG4tYSkvbCszNjA6bj09PXI/NjAqKGEtcykvbCsxMjA6NjAqKHMtbikvbCsyNDAsaT0wPT09bD8wOjAuNT49ZD9sL3U6bC8oMi11KSxbTWF0aC5yb3VuZCh0KSUzNjAsaSxkLG51bGw9PW8/MTpvXX0sdS5oc2xhLmZyb209ZnVuY3Rpb24oZSl7aWYobnVsbD09ZVswXXx8bnVsbD09ZVsxXXx8bnVsbD09ZVsyXSl7cmV0dXJuW251bGwsbnVsbCxudWxsLGVbM11dfXZhciB0PWVbMF0vMzYwLGk9ZVsxXSxzPWVbMl0sYT1lWzNdLG89MC41Pj1zP3MqKDEraSk6cytpLXMqaSxyPTIqcy1vO3JldHVybltNYXRoLnJvdW5kKDI1NSpuKHIsbyx0KzEvMykpLE1hdGgucm91bmQoMjU1Km4ocixvLHQpKSxNYXRoLnJvdW5kKDI1NSpuKHIsbyx0LTEvMykpLGFdfSxmKHUsZnVuY3Rpb24ocyxuKXt2YXIgYT1uLnByb3BzLG89bi5jYWNoZSxoPW4udG8sdT1uLmZyb207bC5mbltzXT1mdW5jdGlvbihzKXtpZihoJiYhdGhpc1tvXSYmKHRoaXNbb109aCh0aGlzLl9yZ2JhKSkscz09PXQpe3JldHVybiB0aGlzW29dLnNsaWNlKCl9dmFyIG4scj1lLnR5cGUocyksZD0iYXJyYXkiPT09cnx8Im9iamVjdCI9PT1yP3M6YXJndW1lbnRzLGM9dGhpc1tvXS5zbGljZSgpO3JldHVybiBmKGEsZnVuY3Rpb24oZSx0KXt2YXIgcz1kWyJvYmplY3QiPT09cj9lOnQuaWR4XTtudWxsPT1zJiYocz1jW3QuaWR4XSksY1t0LmlkeF09aShzLHQpfSksdT8obj1sKHUoYykpLG5bb109YyxuKTpsKGMpfSxmKGEsZnVuY3Rpb24odCxpKXtsLmZuW3RdfHwobC5mblt0XT1mdW5jdGlvbihuKXt2YXIgYSxvPWUudHlwZShuKSxoPSJhbHBoYSI9PT10P3RoaXMuX2hzbGE/ImhzbGEiOiJyZ2JhIjpzLGw9dGhpc1toXSgpLHU9bFtpLmlkeF07cmV0dXJuInVuZGVmaW5lZCI9PT1vP3U6KCJmdW5jdGlvbiI9PT1vJiYobj1uLmNhbGwodGhpcyx1KSxvPWUudHlwZShuKSksbnVsbD09biYmaS5lbXB0eT90aGlzOigic3RyaW5nIj09PW8mJihhPXIuZXhlYyhuKSxhJiYobj11K3BhcnNlRmxvYXQoYVsyXSkqKCIrIj09PWFbMV0/MTotMSkpKSxsW2kuaWR4XT1uLHRoaXNbaF0obCkpKX0pfSl9KSxsLmhvb2s9ZnVuY3Rpb24odCl7dmFyIGk9dC5zcGxpdCgiICIpO2YoaSxmdW5jdGlvbih0LGkpe2UuY3NzSG9va3NbaV09e3NldDpmdW5jdGlvbih0LG4pe3ZhciBhLG8scj0iIjtpZigidHJhbnNwYXJlbnQiIT09biYmKCJzdHJpbmciIT09ZS50eXBlKG4pfHwoYT1zKG4pKSkpe2lmKG49bChhfHxuKSwhYy5yZ2JhJiYxIT09bi5fcmdiYVszXSl7Zm9yKG89ImJhY2tncm91bmRDb2xvciI9PT1pP3QucGFyZW50Tm9kZTp0OygiIj09PXJ8fCJ0cmFuc3BhcmVudCI9PT1yKSYmbyYmby5zdHlsZTspe3RyeXtyPWUuY3NzKG8sImJhY2tncm91bmRDb2xvciIpLG89by5wYXJlbnROb2RlfWNhdGNoKGgpe319bj1uLmJsZW5kKHImJiJ0cmFuc3BhcmVudCIhPT1yP3I6Il9kZWZhdWx0Iil9bj1uLnRvUmdiYVN0cmluZygpfXRyeXt0LnN0eWxlW2ldPW59Y2F0Y2goaCl7fX19LGUuZnguc3RlcFtpXT1mdW5jdGlvbih0KXt0LmNvbG9ySW5pdHx8KHQuc3RhcnQ9bCh0LmVsZW0saSksdC5lbmQ9bCh0LmVuZCksdC5jb2xvckluaXQ9ITApLGUuY3NzSG9va3NbaV0uc2V0KHQuZWxlbSx0LnN0YXJ0LnRyYW5zaXRpb24odC5lbmQsdC5wb3MpKX19KX0sbC5ob29rKG8pLGUuY3NzSG9va3MuYm9yZGVyQ29sb3I9e2V4cGFuZDpmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZihbIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLGZ1bmN0aW9uKGkscyl7dFsiYm9yZGVyIitzKyJDb2xvciJdPWV9KSx0fX0sYT1lLkNvbG9yLm5hbWVzPXthcXVhOiIjMDBmZmZmIixibGFjazoiIzAwMDAwMCIsYmx1ZToiIzAwMDBmZiIsZnVjaHNpYToiI2ZmMDBmZiIsZ3JheToiIzgwODA4MCIsZ3JlZW46IiMwMDgwMDAiLGxpbWU6IiMwMGZmMDAiLG1hcm9vbjoiIzgwMDAwMCIsbmF2eToiIzAwMDA4MCIsb2xpdmU6IiM4MDgwMDAiLHB1cnBsZToiIzgwMDA4MCIscmVkOiIjZmYwMDAwIixzaWx2ZXI6IiNjMGMwYzAiLHRlYWw6IiMwMDgwODAiLHdoaXRlOiIjZmZmZmZmIix5ZWxsb3c6IiNmZmZmMDAiLHRyYW5zcGFyZW50OltudWxsLG51bGwsbnVsbCwwXSxfZGVmYXVsdDoiI2ZmZmZmZiJ9fShiKSxmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGkscyxuPXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldz90Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0LG51bGwpOnQuY3VycmVudFN0eWxlLGE9e307aWYobiYmbi5sZW5ndGgmJm5bMF0mJm5bblswXV0pe2ZvcihzPW4ubGVuZ3RoO3MtLTspe2k9bltzXSwic3RyaW5nIj09dHlwZW9mIG5baV0mJihhW2UuY2FtZWxDYXNlKGkpXT1uW2ldKX19ZWxzZXtmb3IoaSBpbiBuKXsic3RyaW5nIj09dHlwZW9mIG5baV0mJihhW2ldPW5baV0pfX1yZXR1cm4gYX1mdW5jdGlvbiBpKHQsaSl7dmFyIHMsYSxvPXt9O2ZvcihzIGluIGkpe2E9aVtzXSx0W3NdIT09YSYmKG5bc118fChlLmZ4LnN0ZXBbc118fCFpc05hTihwYXJzZUZsb2F0KGEpKSkmJihvW3NdPWEpKX1yZXR1cm4gb312YXIgcz1bImFkZCIsInJlbW92ZSIsInRvZ2dsZSJdLG49e2JvcmRlcjoxLGJvcmRlckJvdHRvbToxLGJvcmRlckNvbG9yOjEsYm9yZGVyTGVmdDoxLGJvcmRlclJpZ2h0OjEsYm9yZGVyVG9wOjEsYm9yZGVyV2lkdGg6MSxtYXJnaW46MSxwYWRkaW5nOjF9O2UuZWFjaChbImJvcmRlckxlZnRTdHlsZSIsImJvcmRlclJpZ2h0U3R5bGUiLCJib3JkZXJCb3R0b21TdHlsZSIsImJvcmRlclRvcFN0eWxlIl0sZnVuY3Rpb24odCxpKXtlLmZ4LnN0ZXBbaV09ZnVuY3Rpb24oZSl7KCJub25lIiE9PWUuZW5kJiYhZS5zZXRBdHRyfHwxPT09ZS5wb3MmJiFlLnNldEF0dHIpJiYoYi5zdHlsZShlLmVsZW0saSxlLmVuZCksZS5zZXRBdHRyPSEwKX19KSxlLmZuLmFkZEJhY2t8fChlLmZuLmFkZEJhY2s9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfSksZS5lZmZlY3RzLmFuaW1hdGVDbGFzcz1mdW5jdGlvbihuLGEsbyxyKXt2YXIgaD1lLnNwZWVkKGEsbyxyKTtyZXR1cm4gdGhpcy5xdWV1ZShmdW5jdGlvbigpe3ZhciBhLG89ZSh0aGlzKSxyPW8uYXR0cigiY2xhc3MiKXx8IiIsbD1oLmNoaWxkcmVuP28uZmluZCgiKiIpLmFkZEJhY2soKTpvO2w9bC5tYXAoZnVuY3Rpb24oKXt2YXIgaT1lKHRoaXMpO3JldHVybntlbDppLHN0YXJ0OnQodGhpcyl9fSksYT1mdW5jdGlvbigpe2UuZWFjaChzLGZ1bmN0aW9uKGUsdCl7blt0XSYmb1t0KyJDbGFzcyJdKG5bdF0pfSl9LGEoKSxsPWwubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kPXQodGhpcy5lbFswXSksdGhpcy5kaWZmPWkodGhpcy5zdGFydCx0aGlzLmVuZCksdGhpc30pLG8uYXR0cigiY2xhc3MiLHIpLGw9bC5tYXAoZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9ZS5EZWZlcnJlZCgpLHM9ZS5leHRlbmQoe30saCx7cXVldWU6ITEsY29tcGxldGU6ZnVuY3Rpb24oKXtpLnJlc29sdmUodCl9fSk7cmV0dXJuIHRoaXMuZWwuYW5pbWF0ZSh0aGlzLmRpZmYscyksaS5wcm9taXNlKCl9KSxlLndoZW4uYXBwbHkoZSxsLmdldCgpKS5kb25lKGZ1bmN0aW9uKCl7YSgpLGUuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsO2UuZWFjaCh0aGlzLmRpZmYsZnVuY3Rpb24oZSl7dC5jc3MoZSwiIil9KX0pLGguY29tcGxldGUuY2FsbChvWzBdKX0pfSl9LGUuZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oaSxzLG4sYSl7cmV0dXJuIHM/ZS5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKHRoaXMse2FkZDppfSxzLG4sYSk6dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fShlLmZuLmFkZENsYXNzKSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oaSxzLG4sYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MT9lLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7cmVtb3ZlOml9LHMsbixhKTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KGUuZm4ucmVtb3ZlQ2xhc3MpLHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpLHMsbixhLG8pe3JldHVybiJib29sZWFuIj09dHlwZW9mIHN8fHZvaWQgMD09PXM/bj9lLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyxzP3thZGQ6aX06e3JlbW92ZTppfSxuLGEsbyk6dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6ZS5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKHRoaXMse3RvZ2dsZTppfSxzLG4sYSl9fShlLmZuLnRvZ2dsZUNsYXNzKSxzd2l0Y2hDbGFzczpmdW5jdGlvbih0LGkscyxuLGEpe3JldHVybiBlLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7YWRkOmkscmVtb3ZlOnR9LHMsbixhKX19KX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxpLHMsbil7cmV0dXJuIGUuaXNQbGFpbk9iamVjdCh0KSYmKGk9dCx0PXQuZWZmZWN0KSx0PXtlZmZlY3Q6dH0sbnVsbD09aSYmKGk9e30pLGUuaXNGdW5jdGlvbihpKSYmKG49aSxzPW51bGwsaT17fSksKCJudW1iZXIiPT10eXBlb2YgaXx8ZS5meC5zcGVlZHNbaV0pJiYobj1zLHM9aSxpPXt9KSxlLmlzRnVuY3Rpb24ocykmJihuPXMscz1udWxsKSxpJiZlLmV4dGVuZCh0LGkpLHM9c3x8aS5kdXJhdGlvbix0LmR1cmF0aW9uPWUuZngub2ZmPzA6Im51bWJlciI9PXR5cGVvZiBzP3M6cyBpbiBlLmZ4LnNwZWVkcz9lLmZ4LnNwZWVkc1tzXTplLmZ4LnNwZWVkcy5fZGVmYXVsdCx0LmNvbXBsZXRlPW58fGkuY29tcGxldGUsdH1mdW5jdGlvbiBpKHQpe3JldHVybiAhdHx8Im51bWJlciI9PXR5cGVvZiB0fHxlLmZ4LnNwZWVkc1t0XT8hMDoic3RyaW5nIiE9dHlwZW9mIHR8fGUuZWZmZWN0cy5lZmZlY3RbdF0/ZS5pc0Z1bmN0aW9uKHQpPyEwOiJvYmplY3QiIT10eXBlb2YgdHx8dC5lZmZlY3Q/ITE6ITA6ITB9ZS5leHRlbmQoZS5lZmZlY3RzLHt2ZXJzaW9uOiIxLjExLjEiLHNhdmU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9MDt0Lmxlbmd0aD5pO2krKyl7bnVsbCE9PXRbaV0mJmUuZGF0YSh5K3RbaV0sZVswXS5zdHlsZVt0W2ldXSl9fSxyZXN0b3JlOmZ1bmN0aW9uKGUsdCl7dmFyIGkscztmb3Iocz0wO3QubGVuZ3RoPnM7cysrKXtudWxsIT09dFtzXSYmKGk9ZS5kYXRhKHkrdFtzXSksdm9pZCAwPT09aSYmKGk9IiIpLGUuY3NzKHRbc10saSkpfX0sc2V0TW9kZTpmdW5jdGlvbihlLHQpe3JldHVybiJ0b2dnbGUiPT09dCYmKHQ9ZS5pcygiOmhpZGRlbiIpPyJzaG93IjoiaGlkZSIpLHR9LGdldEJhc2VsaW5lOmZ1bmN0aW9uKGUsdCl7dmFyIGkscztzd2l0Y2goZVswXSl7Y2FzZSJ0b3AiOmk9MDticmVhaztjYXNlIm1pZGRsZSI6aT0wLjU7YnJlYWs7Y2FzZSJib3R0b20iOmk9MTticmVhaztkZWZhdWx0Omk9ZVswXS90LmhlaWdodH1zd2l0Y2goZVsxXSl7Y2FzZSJsZWZ0IjpzPTA7YnJlYWs7Y2FzZSJjZW50ZXIiOnM9MC41O2JyZWFrO2Nhc2UicmlnaHQiOnM9MTticmVhaztkZWZhdWx0OnM9ZVsxXS90LndpZHRofXJldHVybnt4OnMseTppfX0sY3JlYXRlV3JhcHBlcjpmdW5jdGlvbih0KXtpZih0LnBhcmVudCgpLmlzKCIudWktZWZmZWN0cy13cmFwcGVyIikpe3JldHVybiB0LnBhcmVudCgpfXZhciBpPXt3aWR0aDp0Lm91dGVyV2lkdGgoITApLGhlaWdodDp0Lm91dGVySGVpZ2h0KCEwKSwiZmxvYXQiOnQuY3NzKCJmbG9hdCIpfSxzPWUoIjxkaXY+PC9kaXY+IikuYWRkQ2xhc3MoInVpLWVmZmVjdHMtd3JhcHBlciIpLmNzcyh7Zm9udFNpemU6IjEwMCUiLGJhY2tncm91bmQ6InRyYW5zcGFyZW50Iixib3JkZXI6Im5vbmUiLG1hcmdpbjowLHBhZGRpbmc6MH0pLG49e3dpZHRoOnQud2lkdGgoKSxoZWlnaHQ6dC5oZWlnaHQoKX0sYT1kb2N1bWVudC5hY3RpdmVFbGVtZW50O3RyeXthLmlkfWNhdGNoKG8pe2E9ZG9jdW1lbnQuYm9keX1yZXR1cm4gdC53cmFwKHMpLCh0WzBdPT09YXx8ZS5jb250YWlucyh0WzBdLGEpKSYmZShhKS5mb2N1cygpLHM9dC5wYXJlbnQoKSwic3RhdGljIj09PXQuY3NzKCJwb3NpdGlvbiIpPyhzLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIn0pLHQuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUifSkpOihlLmV4dGVuZChpLHtwb3NpdGlvbjp0LmNzcygicG9zaXRpb24iKSx6SW5kZXg6dC5jc3MoInotaW5kZXgiKX0pLGUuZWFjaChbInRvcCIsImxlZnQiLCJib3R0b20iLCJyaWdodCJdLGZ1bmN0aW9uKGUscyl7aVtzXT10LmNzcyhzKSxpc05hTihwYXJzZUludChpW3NdLDEwKSkmJihpW3NdPSJhdXRvIil9KSx0LmNzcyh7cG9zaXRpb246InJlbGF0aXZlIix0b3A6MCxsZWZ0OjAscmlnaHQ6ImF1dG8iLGJvdHRvbToiYXV0byJ9KSksdC5jc3Mobikscy5jc3MoaSkuc2hvdygpfSxyZW1vdmVXcmFwcGVyOmZ1bmN0aW9uKHQpe3ZhciBpPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7cmV0dXJuIHQucGFyZW50KCkuaXMoIi51aS1lZmZlY3RzLXdyYXBwZXIiKSYmKHQucGFyZW50KCkucmVwbGFjZVdpdGgodCksKHRbMF09PT1pfHxlLmNvbnRhaW5zKHRbMF0saSkpJiZlKGkpLmZvY3VzKCkpLHR9LHNldFRyYW5zaXRpb246ZnVuY3Rpb24odCxpLHMsbil7cmV0dXJuIG49bnx8e30sZS5lYWNoKGksZnVuY3Rpb24oZSxpKXt2YXIgYT10LmNzc1VuaXQoaSk7YVswXT4wJiYobltpXT1hWzBdKnMrYVsxXSl9KSxufX0pLGUuZm4uZXh0ZW5kKHtlZmZlY3Q6ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKHQpe2Z1bmN0aW9uIGkoKXtlLmlzRnVuY3Rpb24oYSkmJmEuY2FsbChuWzBdKSxlLmlzRnVuY3Rpb24odCkmJnQoKX12YXIgbj1lKHRoaXMpLGE9cy5jb21wbGV0ZSxyPXMubW9kZTsobi5pcygiOmhpZGRlbiIpPyJoaWRlIj09PXI6InNob3ciPT09cik/KG5bcl0oKSxpKCkpOm8uY2FsbChuWzBdLHMsaSl9dmFyIHM9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyksbj1zLm1vZGUsYT1zLnF1ZXVlLG89ZS5lZmZlY3RzLmVmZmVjdFtzLmVmZmVjdF07cmV0dXJuIGUuZngub2ZmfHwhbz9uP3RoaXNbbl0ocy5kdXJhdGlvbixzLmNvbXBsZXRlKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtzLmNvbXBsZXRlJiZzLmNvbXBsZXRlLmNhbGwodGhpcyl9KTphPT09ITE/dGhpcy5lYWNoKGkpOnRoaXMucXVldWUoYXx8ImZ4IixpKX0sc2hvdzpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYoaShzKSl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBuPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBuLm1vZGU9InNob3ciLHRoaXMuZWZmZWN0LmNhbGwodGhpcyxuKX19KGUuZm4uc2hvdyksaGlkZTpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYoaShzKSl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBuPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBuLm1vZGU9ImhpZGUiLHRoaXMuZWZmZWN0LmNhbGwodGhpcyxuKX19KGUuZm4uaGlkZSksdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihzKXtpZihpKHMpfHwiYm9vbGVhbiI9PXR5cGVvZiBzKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIG49dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG4ubW9kZT0idG9nZ2xlIix0aGlzLmVmZmVjdC5jYWxsKHRoaXMsbil9fShlLmZuLnRvZ2dsZSksY3NzVW5pdDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmNzcyh0KSxzPVtdO3JldHVybiBlLmVhY2goWyJlbSIsInB4IiwiJSIsInB0Il0sZnVuY3Rpb24oZSx0KXtpLmluZGV4T2YodCk+MCYmKHM9W3BhcnNlRmxvYXQoaSksdF0pfSksc319KX0oKSxmdW5jdGlvbigpe3ZhciB0PXt9O2UuZWFjaChbIlF1YWQiLCJDdWJpYyIsIlF1YXJ0IiwiUXVpbnQiLCJFeHBvIl0sZnVuY3Rpb24oZSxpKXt0W2ldPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdyh0LGUrMil9fSksZS5leHRlbmQodCx7U2luZTpmdW5jdGlvbihlKXtyZXR1cm4gMS1NYXRoLmNvcyhlKk1hdGguUEkvMil9LENpcmM6ZnVuY3Rpb24oZSl7cmV0dXJuIDEtTWF0aC5zcXJ0KDEtZSplKX0sRWxhc3RpYzpmdW5jdGlvbihlKXtyZXR1cm4gMD09PWV8fDE9PT1lP2U6LU1hdGgucG93KDIsOCooZS0xKSkqTWF0aC5zaW4oKDgwKihlLTEpLTcuNSkqTWF0aC5QSS8xNSl9LEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIGUqZSooMyplLTIpfSxCb3VuY2U6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LGk9NDsoKHQ9TWF0aC5wb3coMiwtLWkpKS0xKS8xMT5lOyl7fXJldHVybiAxL01hdGgucG93KDQsMy1pKS03LjU2MjUqTWF0aC5wb3coKDMqdC0yKS8yMi1lLDIpfX0pLGUuZWFjaCh0LGZ1bmN0aW9uKHQsaSl7ZS5lYXNpbmdbImVhc2VJbiIrdF09aSxlLmVhc2luZ1siZWFzZU91dCIrdF09ZnVuY3Rpb24oZSl7cmV0dXJuIDEtaSgxLWUpfSxlLmVhc2luZ1siZWFzZUluT3V0Iit0XT1mdW5jdGlvbihlKXtyZXR1cm4gMC41PmU/aSgyKmUpLzI6MS1pKC0yKmUrMikvMn19KX0oKSxlLmVmZmVjdHMsZS5lZmZlY3RzLmVmZmVjdC5ibGluZD1mdW5jdGlvbih0LGkpe3ZhciBzLG4sYSxvPWUodGhpcykscj0vdXB8ZG93bnx2ZXJ0aWNhbC8saD0vdXB8bGVmdHx2ZXJ0aWNhbHxob3Jpem9udGFsLyxsPVsicG9zaXRpb24iLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJoZWlnaHQiLCJ3aWR0aCJdLHU9ZS5lZmZlY3RzLnNldE1vZGUobyx0Lm1vZGV8fCJoaWRlIiksZD10LmRpcmVjdGlvbnx8InVwIixjPXIudGVzdChkKSxwPWM/ImhlaWdodCI6IndpZHRoIixmPWM/InRvcCI6ImxlZnQiLG09aC50ZXN0KGQpLGc9e30sdj0ic2hvdyI9PT11O28ucGFyZW50KCkuaXMoIi51aS1lZmZlY3RzLXdyYXBwZXIiKT9lLmVmZmVjdHMuc2F2ZShvLnBhcmVudCgpLGwpOmUuZWZmZWN0cy5zYXZlKG8sbCksby5zaG93KCkscz1lLmVmZmVjdHMuY3JlYXRlV3JhcHBlcihvKS5jc3Moe292ZXJmbG93OiJoaWRkZW4ifSksbj1zW3BdKCksYT1wYXJzZUZsb2F0KHMuY3NzKGYpKXx8MCxnW3BdPXY/bjowLG18fChvLmNzcyhjPyJib3R0b20iOiJyaWdodCIsMCkuY3NzKGM/InRvcCI6ImxlZnQiLCJhdXRvIikuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUifSksZ1tmXT12P2E6bithKSx2JiYocy5jc3MocCwwKSxtfHxzLmNzcyhmLGErbikpLHMuYW5pbWF0ZShnLHtkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxxdWV1ZTohMSxjb21wbGV0ZTpmdW5jdGlvbigpeyJoaWRlIj09PXUmJm8uaGlkZSgpLGUuZWZmZWN0cy5yZXN0b3JlKG8sbCksZS5lZmZlY3RzLnJlbW92ZVdyYXBwZXIobyksaSgpfX0pfSxlLmVmZmVjdHMuZWZmZWN0LmJvdW5jZT1mdW5jdGlvbih0LGkpe3ZhciBzLG4sYSxvPWUodGhpcykscj1bInBvc2l0aW9uIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0IiwiaGVpZ2h0Iiwid2lkdGgiXSxoPWUuZWZmZWN0cy5zZXRNb2RlKG8sdC5tb2RlfHwiZWZmZWN0IiksbD0iaGlkZSI9PT1oLHU9InNob3ciPT09aCxkPXQuZGlyZWN0aW9ufHwidXAiLGM9dC5kaXN0YW5jZSxwPXQudGltZXN8fDUsZj0yKnArKHV8fGw/MTowKSxtPXQuZHVyYXRpb24vZixnPXQuZWFzaW5nLHY9InVwIj09PWR8fCJkb3duIj09PWQ/InRvcCI6ImxlZnQiLHk9InVwIj09PWR8fCJsZWZ0Ij09PWQsYj1vLnF1ZXVlKCksXz1iLmxlbmd0aDtmb3IoKHV8fGwpJiZyLnB1c2goIm9wYWNpdHkiKSxlLmVmZmVjdHMuc2F2ZShvLHIpLG8uc2hvdygpLGUuZWZmZWN0cy5jcmVhdGVXcmFwcGVyKG8pLGN8fChjPW9bInRvcCI9PT12PyJvdXRlckhlaWdodCI6Im91dGVyV2lkdGgiXSgpLzMpLHUmJihhPXtvcGFjaXR5OjF9LGFbdl09MCxvLmNzcygib3BhY2l0eSIsMCkuY3NzKHYseT8yKi1jOjIqYykuYW5pbWF0ZShhLG0sZykpLGwmJihjLz1NYXRoLnBvdygyLHAtMSkpLGE9e30sYVt2XT0wLHM9MDtwPnM7cysrKXtuPXt9LG5bdl09KHk/Ii09IjoiKz0iKStjLG8uYW5pbWF0ZShuLG0sZykuYW5pbWF0ZShhLG0sZyksYz1sPzIqYzpjLzJ9bCYmKG49e29wYWNpdHk6MH0sblt2XT0oeT8iLT0iOiIrPSIpK2Msby5hbmltYXRlKG4sbSxnKSksby5xdWV1ZShmdW5jdGlvbigpe2wmJm8uaGlkZSgpLGUuZWZmZWN0cy5yZXN0b3JlKG8sciksZS5lZmZlY3RzLnJlbW92ZVdyYXBwZXIobyksaSgpfSksXz4xJiZiLnNwbGljZS5hcHBseShiLFsxLDBdLmNvbmNhdChiLnNwbGljZShfLGYrMSkpKSxvLmRlcXVldWUoKX0sZS5lZmZlY3RzLmVmZmVjdC5jbGlwPWZ1bmN0aW9uKHQsaSl7dmFyIHMsbixhLG89ZSh0aGlzKSxyPVsicG9zaXRpb24iLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJoZWlnaHQiLCJ3aWR0aCJdLGg9ZS5lZmZlY3RzLnNldE1vZGUobyx0Lm1vZGV8fCJoaWRlIiksbD0ic2hvdyI9PT1oLHU9dC5kaXJlY3Rpb258fCJ2ZXJ0aWNhbCIsZD0idmVydGljYWwiPT09dSxjPWQ/ImhlaWdodCI6IndpZHRoIixwPWQ/InRvcCI6ImxlZnQiLGY9e307ZS5lZmZlY3RzLnNhdmUobyxyKSxvLnNob3coKSxzPWUuZWZmZWN0cy5jcmVhdGVXcmFwcGVyKG8pLmNzcyh7b3ZlcmZsb3c6ImhpZGRlbiJ9KSxuPSJJTUciPT09b1swXS50YWdOYW1lP3M6byxhPW5bY10oKSxsJiYobi5jc3MoYywwKSxuLmNzcyhwLGEvMikpLGZbY109bD9hOjAsZltwXT1sPzA6YS8yLG4uYW5pbWF0ZShmLHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTpmdW5jdGlvbigpe2x8fG8uaGlkZSgpLGUuZWZmZWN0cy5yZXN0b3JlKG8sciksZS5lZmZlY3RzLnJlbW92ZVdyYXBwZXIobyksaSgpfX0pfSxlLmVmZmVjdHMuZWZmZWN0LmRyb3A9ZnVuY3Rpb24odCxpKXt2YXIgcyxuPWUodGhpcyksYT1bInBvc2l0aW9uIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0Iiwib3BhY2l0eSIsImhlaWdodCIsIndpZHRoIl0sbz1lLmVmZmVjdHMuc2V0TW9kZShuLHQubW9kZXx8ImhpZGUiKSxyPSJzaG93Ij09PW8saD10LmRpcmVjdGlvbnx8ImxlZnQiLGw9InVwIj09PWh8fCJkb3duIj09PWg/InRvcCI6ImxlZnQiLHU9InVwIj09PWh8fCJsZWZ0Ij09PWg/InBvcyI6Im5lZyIsZD17b3BhY2l0eTpyPzE6MH07ZS5lZmZlY3RzLnNhdmUobixhKSxuLnNob3coKSxlLmVmZmVjdHMuY3JlYXRlV3JhcHBlcihuKSxzPXQuZGlzdGFuY2V8fG5bInRvcCI9PT1sPyJvdXRlckhlaWdodCI6Im91dGVyV2lkdGgiXSghMCkvMixyJiZuLmNzcygib3BhY2l0eSIsMCkuY3NzKGwsInBvcyI9PT11Py1zOnMpLGRbbF09KHI/InBvcyI9PT11PyIrPSI6Ii09IjoicG9zIj09PXU/Ii09IjoiKz0iKStzLG4uYW5pbWF0ZShkLHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTpmdW5jdGlvbigpeyJoaWRlIj09PW8mJm4uaGlkZSgpLGUuZWZmZWN0cy5yZXN0b3JlKG4sYSksZS5lZmZlY3RzLnJlbW92ZVdyYXBwZXIobiksaSgpfX0pfSxlLmVmZmVjdHMuZWZmZWN0LmV4cGxvZGU9ZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBzKCl7Yi5wdXNoKHRoaXMpLGIubGVuZ3RoPT09ZCpjJiZuKCl9ZnVuY3Rpb24gbigpe3AuY3NzKHt2aXNpYmlsaXR5OiJ2aXNpYmxlIn0pLGUoYikucmVtb3ZlKCksbXx8cC5oaWRlKCksaSgpfXZhciBhLG8scixoLGwsdSxkPXQucGllY2VzP01hdGgucm91bmQoTWF0aC5zcXJ0KHQucGllY2VzKSk6MyxjPWQscD1lKHRoaXMpLGY9ZS5lZmZlY3RzLnNldE1vZGUocCx0Lm1vZGV8fCJoaWRlIiksbT0ic2hvdyI9PT1mLGc9cC5zaG93KCkuY3NzKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIikub2Zmc2V0KCksdj1NYXRoLmNlaWwocC5vdXRlcldpZHRoKCkvYykseT1NYXRoLmNlaWwocC5vdXRlckhlaWdodCgpL2QpLGI9W107Zm9yKGE9MDtkPmE7YSsrKXtmb3IoaD1nLnRvcCthKnksdT1hLShkLTEpLzIsbz0wO2M+bztvKyspe3I9Zy5sZWZ0K28qdixsPW8tKGMtMSkvMixwLmNsb25lKCkuYXBwZW5kVG8oImJvZHkiKS53cmFwKCI8ZGl2PjwvZGl2PiIpLmNzcyh7cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJ2aXNpYmxlIixsZWZ0Oi1vKnYsdG9wOi1hKnl9KS5wYXJlbnQoKS5hZGRDbGFzcygidWktZWZmZWN0cy1leHBsb2RlIikuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLG92ZXJmbG93OiJoaWRkZW4iLHdpZHRoOnYsaGVpZ2h0OnksbGVmdDpyKyhtP2wqdjowKSx0b3A6aCsobT91Knk6MCksb3BhY2l0eTptPzA6MX0pLmFuaW1hdGUoe2xlZnQ6cisobT8wOmwqdiksdG9wOmgrKG0/MDp1KnkpLG9wYWNpdHk6bT8xOjB9LHQuZHVyYXRpb258fDUwMCx0LmVhc2luZyxzKX19fSxlLmVmZmVjdHMuZWZmZWN0LmZhZGU9ZnVuY3Rpb24odCxpKXt2YXIgcz1lKHRoaXMpLG49ZS5lZmZlY3RzLnNldE1vZGUocyx0Lm1vZGV8fCJ0b2dnbGUiKTtzLmFuaW1hdGUoe29wYWNpdHk6bn0se3F1ZXVlOiExLGR1cmF0aW9uOnQuZHVyYXRpb24sZWFzaW5nOnQuZWFzaW5nLGNvbXBsZXRlOml9KX0sZS5lZmZlY3RzLmVmZmVjdC5mb2xkPWZ1bmN0aW9uKHQsaSl7dmFyIHMsbixhPWUodGhpcyksbz1bInBvc2l0aW9uIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0IiwiaGVpZ2h0Iiwid2lkdGgiXSxyPWUuZWZmZWN0cy5zZXRNb2RlKGEsdC5tb2RlfHwiaGlkZSIpLGg9InNob3ciPT09cixsPSJoaWRlIj09PXIsdT10LnNpemV8fDE1LGQ9LyhbMC05XSspJS8uZXhlYyh1KSxjPSEhdC5ob3JpekZpcnN0LHA9aCE9PWMsZj1wP1sid2lkdGgiLCJoZWlnaHQiXTpbImhlaWdodCIsIndpZHRoIl0sbT10LmR1cmF0aW9uLzIsZz17fSx2PXt9O2UuZWZmZWN0cy5zYXZlKGEsbyksYS5zaG93KCkscz1lLmVmZmVjdHMuY3JlYXRlV3JhcHBlcihhKS5jc3Moe292ZXJmbG93OiJoaWRkZW4ifSksbj1wP1tzLndpZHRoKCkscy5oZWlnaHQoKV06W3MuaGVpZ2h0KCkscy53aWR0aCgpXSxkJiYodT1wYXJzZUludChkWzFdLDEwKS8xMDAqbltsPzA6MV0pLGgmJnMuY3NzKGM/e2hlaWdodDowLHdpZHRoOnV9OntoZWlnaHQ6dSx3aWR0aDowfSksZ1tmWzBdXT1oP25bMF06dSx2W2ZbMV1dPWg/blsxXTowLHMuYW5pbWF0ZShnLG0sdC5lYXNpbmcpLmFuaW1hdGUodixtLHQuZWFzaW5nLGZ1bmN0aW9uKCl7bCYmYS5oaWRlKCksZS5lZmZlY3RzLnJlc3RvcmUoYSxvKSxlLmVmZmVjdHMucmVtb3ZlV3JhcHBlcihhKSxpKCl9KX0sZS5lZmZlY3RzLmVmZmVjdC5oaWdobGlnaHQ9ZnVuY3Rpb24odCxpKXt2YXIgcz1lKHRoaXMpLG49WyJiYWNrZ3JvdW5kSW1hZ2UiLCJiYWNrZ3JvdW5kQ29sb3IiLCJvcGFjaXR5Il0sYT1lLmVmZmVjdHMuc2V0TW9kZShzLHQubW9kZXx8InNob3ciKSxvPXtiYWNrZ3JvdW5kQ29sb3I6cy5jc3MoImJhY2tncm91bmRDb2xvciIpfTsiaGlkZSI9PT1hJiYoby5vcGFjaXR5PTApLGUuZWZmZWN0cy5zYXZlKHMsbikscy5zaG93KCkuY3NzKHtiYWNrZ3JvdW5kSW1hZ2U6Im5vbmUiLGJhY2tncm91bmRDb2xvcjp0LmNvbG9yfHwiI2ZmZmY5OSJ9KS5hbmltYXRlKG8se3F1ZXVlOiExLGR1cmF0aW9uOnQuZHVyYXRpb24sZWFzaW5nOnQuZWFzaW5nLGNvbXBsZXRlOmZ1bmN0aW9uKCl7ImhpZGUiPT09YSYmcy5oaWRlKCksZS5lZmZlY3RzLnJlc3RvcmUocyxuKSxpKCl9fSl9LGUuZWZmZWN0cy5lZmZlY3Quc2l6ZT1mdW5jdGlvbih0LGkpe3ZhciBzLG4sYSxvPWUodGhpcykscj1bInBvc2l0aW9uIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0Iiwid2lkdGgiLCJoZWlnaHQiLCJvdmVyZmxvdyIsIm9wYWNpdHkiXSxoPVsicG9zaXRpb24iLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJvdmVyZmxvdyIsIm9wYWNpdHkiXSxsPVsid2lkdGgiLCJoZWlnaHQiLCJvdmVyZmxvdyJdLHU9WyJmb250U2l6ZSJdLGQ9WyJib3JkZXJUb3BXaWR0aCIsImJvcmRlckJvdHRvbVdpZHRoIiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iXSxjPVsiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyUmlnaHRXaWR0aCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0Il0scD1lLmVmZmVjdHMuc2V0TW9kZShvLHQubW9kZXx8ImVmZmVjdCIpLGY9dC5yZXN0b3JlfHwiZWZmZWN0IiE9PXAsbT10LnNjYWxlfHwiYm90aCIsZz10Lm9yaWdpbnx8WyJtaWRkbGUiLCJjZW50ZXIiXSx2PW8uY3NzKCJwb3NpdGlvbiIpLHk9Zj9yOmgsYj17aGVpZ2h0OjAsd2lkdGg6MCxvdXRlckhlaWdodDowLG91dGVyV2lkdGg6MH07InNob3ciPT09cCYmby5zaG93KCkscz17aGVpZ2h0Om8uaGVpZ2h0KCksd2lkdGg6by53aWR0aCgpLG91dGVySGVpZ2h0Om8ub3V0ZXJIZWlnaHQoKSxvdXRlcldpZHRoOm8ub3V0ZXJXaWR0aCgpfSwidG9nZ2xlIj09PXQubW9kZSYmInNob3ciPT09cD8oby5mcm9tPXQudG98fGIsby50bz10LmZyb218fHMpOihvLmZyb209dC5mcm9tfHwoInNob3ciPT09cD9iOnMpLG8udG89dC50b3x8KCJoaWRlIj09PXA/YjpzKSksYT17ZnJvbTp7eTpvLmZyb20uaGVpZ2h0L3MuaGVpZ2h0LHg6by5mcm9tLndpZHRoL3Mud2lkdGh9LHRvOnt5Om8udG8uaGVpZ2h0L3MuaGVpZ2h0LHg6by50by53aWR0aC9zLndpZHRofX0sKCJib3giPT09bXx8ImJvdGgiPT09bSkmJihhLmZyb20ueSE9PWEudG8ueSYmKHk9eS5jb25jYXQoZCksby5mcm9tPWUuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKG8sZCxhLmZyb20ueSxvLmZyb20pLG8udG89ZS5lZmZlY3RzLnNldFRyYW5zaXRpb24obyxkLGEudG8ueSxvLnRvKSksYS5mcm9tLnghPT1hLnRvLngmJih5PXkuY29uY2F0KGMpLG8uZnJvbT1lLmVmZmVjdHMuc2V0VHJhbnNpdGlvbihvLGMsYS5mcm9tLngsby5mcm9tKSxvLnRvPWUuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKG8sYyxhLnRvLngsby50bykpKSwoImNvbnRlbnQiPT09bXx8ImJvdGgiPT09bSkmJmEuZnJvbS55IT09YS50by55JiYoeT15LmNvbmNhdCh1KS5jb25jYXQobCksby5mcm9tPWUuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKG8sdSxhLmZyb20ueSxvLmZyb20pLG8udG89ZS5lZmZlY3RzLnNldFRyYW5zaXRpb24obyx1LGEudG8ueSxvLnRvKSksZS5lZmZlY3RzLnNhdmUobyx5KSxvLnNob3coKSxlLmVmZmVjdHMuY3JlYXRlV3JhcHBlcihvKSxvLmNzcygib3ZlcmZsb3ciLCJoaWRkZW4iKS5jc3Moby5mcm9tKSxnJiYobj1lLmVmZmVjdHMuZ2V0QmFzZWxpbmUoZyxzKSxvLmZyb20udG9wPShzLm91dGVySGVpZ2h0LW8ub3V0ZXJIZWlnaHQoKSkqbi55LG8uZnJvbS5sZWZ0PShzLm91dGVyV2lkdGgtby5vdXRlcldpZHRoKCkpKm4ueCxvLnRvLnRvcD0ocy5vdXRlckhlaWdodC1vLnRvLm91dGVySGVpZ2h0KSpuLnksby50by5sZWZ0PShzLm91dGVyV2lkdGgtby50by5vdXRlcldpZHRoKSpuLngpLG8uY3NzKG8uZnJvbSksKCJjb250ZW50Ij09PW18fCJib3RoIj09PW0pJiYoZD1kLmNvbmNhdChbIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSJdKS5jb25jYXQodSksYz1jLmNvbmNhdChbIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCJdKSxsPXIuY29uY2F0KGQpLmNvbmNhdChjKSxvLmZpbmQoIipbd2lkdGhdIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPWUodGhpcykscz17aGVpZ2h0OmkuaGVpZ2h0KCksd2lkdGg6aS53aWR0aCgpLG91dGVySGVpZ2h0Omkub3V0ZXJIZWlnaHQoKSxvdXRlcldpZHRoOmkub3V0ZXJXaWR0aCgpfTtmJiZlLmVmZmVjdHMuc2F2ZShpLGwpLGkuZnJvbT17aGVpZ2h0OnMuaGVpZ2h0KmEuZnJvbS55LHdpZHRoOnMud2lkdGgqYS5mcm9tLngsb3V0ZXJIZWlnaHQ6cy5vdXRlckhlaWdodCphLmZyb20ueSxvdXRlcldpZHRoOnMub3V0ZXJXaWR0aCphLmZyb20ueH0saS50bz17aGVpZ2h0OnMuaGVpZ2h0KmEudG8ueSx3aWR0aDpzLndpZHRoKmEudG8ueCxvdXRlckhlaWdodDpzLmhlaWdodCphLnRvLnksb3V0ZXJXaWR0aDpzLndpZHRoKmEudG8ueH0sYS5mcm9tLnkhPT1hLnRvLnkmJihpLmZyb209ZS5lZmZlY3RzLnNldFRyYW5zaXRpb24oaSxkLGEuZnJvbS55LGkuZnJvbSksaS50bz1lLmVmZmVjdHMuc2V0VHJhbnNpdGlvbihpLGQsYS50by55LGkudG8pKSxhLmZyb20ueCE9PWEudG8ueCYmKGkuZnJvbT1lLmVmZmVjdHMuc2V0VHJhbnNpdGlvbihpLGMsYS5mcm9tLngsaS5mcm9tKSxpLnRvPWUuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksYyxhLnRvLngsaS50bykpLGkuY3NzKGkuZnJvbSksaS5hbmltYXRlKGkudG8sdC5kdXJhdGlvbix0LmVhc2luZyxmdW5jdGlvbigpe2YmJmUuZWZmZWN0cy5yZXN0b3JlKGksbCl9KX0pKSxvLmFuaW1hdGUoby50byx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6ZnVuY3Rpb24oKXswPT09by50by5vcGFjaXR5JiZvLmNzcygib3BhY2l0eSIsby5mcm9tLm9wYWNpdHkpLCJoaWRlIj09PXAmJm8uaGlkZSgpLGUuZWZmZWN0cy5yZXN0b3JlKG8seSksZnx8KCJzdGF0aWMiPT09dj9vLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIix0b3A6by50by50b3AsbGVmdDpvLnRvLmxlZnR9KTplLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oZSx0KXtvLmNzcyh0LGZ1bmN0aW9uKHQsaSl7dmFyIHM9cGFyc2VJbnQoaSwxMCksbj1lP28udG8ubGVmdDpvLnRvLnRvcDtyZXR1cm4iYXV0byI9PT1pP24rInB4IjpzK24rInB4In0pfSkpLGUuZWZmZWN0cy5yZW1vdmVXcmFwcGVyKG8pLGkoKX19KX0sZS5lZmZlY3RzLmVmZmVjdC5zY2FsZT1mdW5jdGlvbih0LGkpe3ZhciBzPWUodGhpcyksbj1lLmV4dGVuZCghMCx7fSx0KSxhPWUuZWZmZWN0cy5zZXRNb2RlKHMsdC5tb2RlfHwiZWZmZWN0Iiksbz1wYXJzZUludCh0LnBlcmNlbnQsMTApfHwoMD09PXBhcnNlSW50KHQucGVyY2VudCwxMCk/MDoiaGlkZSI9PT1hPzA6MTAwKSxyPXQuZGlyZWN0aW9ufHwiYm90aCIsaD10Lm9yaWdpbixsPXtoZWlnaHQ6cy5oZWlnaHQoKSx3aWR0aDpzLndpZHRoKCksb3V0ZXJIZWlnaHQ6cy5vdXRlckhlaWdodCgpLG91dGVyV2lkdGg6cy5vdXRlcldpZHRoKCl9LHU9e3k6Imhvcml6b250YWwiIT09cj9vLzEwMDoxLHg6InZlcnRpY2FsIiE9PXI/by8xMDA6MX07bi5lZmZlY3Q9InNpemUiLG4ucXVldWU9ITEsbi5jb21wbGV0ZT1pLCJlZmZlY3QiIT09YSYmKG4ub3JpZ2luPWh8fFsibWlkZGxlIiwiY2VudGVyIl0sbi5yZXN0b3JlPSEwKSxuLmZyb209dC5mcm9tfHwoInNob3ciPT09YT97aGVpZ2h0OjAsd2lkdGg6MCxvdXRlckhlaWdodDowLG91dGVyV2lkdGg6MH06bCksbi50bz17aGVpZ2h0OmwuaGVpZ2h0KnUueSx3aWR0aDpsLndpZHRoKnUueCxvdXRlckhlaWdodDpsLm91dGVySGVpZ2h0KnUueSxvdXRlcldpZHRoOmwub3V0ZXJXaWR0aCp1Lnh9LG4uZmFkZSYmKCJzaG93Ij09PWEmJihuLmZyb20ub3BhY2l0eT0wLG4udG8ub3BhY2l0eT0xKSwiaGlkZSI9PT1hJiYobi5mcm9tLm9wYWNpdHk9MSxuLnRvLm9wYWNpdHk9MCkpLHMuZWZmZWN0KG4pfSxlLmVmZmVjdHMuZWZmZWN0LnB1ZmY9ZnVuY3Rpb24odCxpKXt2YXIgcz1lKHRoaXMpLG49ZS5lZmZlY3RzLnNldE1vZGUocyx0Lm1vZGV8fCJoaWRlIiksYT0iaGlkZSI9PT1uLG89cGFyc2VJbnQodC5wZXJjZW50LDEwKXx8MTUwLHI9by8xMDAsaD17aGVpZ2h0OnMuaGVpZ2h0KCksd2lkdGg6cy53aWR0aCgpLG91dGVySGVpZ2h0OnMub3V0ZXJIZWlnaHQoKSxvdXRlcldpZHRoOnMub3V0ZXJXaWR0aCgpfTtlLmV4dGVuZCh0LHtlZmZlY3Q6InNjYWxlIixxdWV1ZTohMSxmYWRlOiEwLG1vZGU6bixjb21wbGV0ZTppLHBlcmNlbnQ6YT9vOjEwMCxmcm9tOmE/aDp7aGVpZ2h0OmguaGVpZ2h0KnIsd2lkdGg6aC53aWR0aCpyLG91dGVySGVpZ2h0Omgub3V0ZXJIZWlnaHQqcixvdXRlcldpZHRoOmgub3V0ZXJXaWR0aCpyfX0pLHMuZWZmZWN0KHQpfSxlLmVmZmVjdHMuZWZmZWN0LnB1bHNhdGU9ZnVuY3Rpb24odCxpKXt2YXIgcyxuPWUodGhpcyksYT1lLmVmZmVjdHMuc2V0TW9kZShuLHQubW9kZXx8InNob3ciKSxvPSJzaG93Ij09PWEscj0iaGlkZSI9PT1hLGg9b3x8ImhpZGUiPT09YSxsPTIqKHQudGltZXN8fDUpKyhoPzE6MCksdT10LmR1cmF0aW9uL2wsZD0wLGM9bi5xdWV1ZSgpLHA9Yy5sZW5ndGg7Zm9yKChvfHwhbi5pcygiOnZpc2libGUiKSkmJihuLmNzcygib3BhY2l0eSIsMCkuc2hvdygpLGQ9MSkscz0xO2w+cztzKyspe24uYW5pbWF0ZSh7b3BhY2l0eTpkfSx1LHQuZWFzaW5nKSxkPTEtZH1uLmFuaW1hdGUoe29wYWNpdHk6ZH0sdSx0LmVhc2luZyksbi5xdWV1ZShmdW5jdGlvbigpe3ImJm4uaGlkZSgpLGkoKX0pLHA+MSYmYy5zcGxpY2UuYXBwbHkoYyxbMSwwXS5jb25jYXQoYy5zcGxpY2UocCxsKzEpKSksbi5kZXF1ZXVlKCl9LGUuZWZmZWN0cy5lZmZlY3Quc2hha2U9ZnVuY3Rpb24odCxpKXt2YXIgcyxuPWUodGhpcyksYT1bInBvc2l0aW9uIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0IiwiaGVpZ2h0Iiwid2lkdGgiXSxvPWUuZWZmZWN0cy5zZXRNb2RlKG4sdC5tb2RlfHwiZWZmZWN0Iikscj10LmRpcmVjdGlvbnx8ImxlZnQiLGg9dC5kaXN0YW5jZXx8MjAsbD10LnRpbWVzfHwzLHU9MipsKzEsZD1NYXRoLnJvdW5kKHQuZHVyYXRpb24vdSksYz0idXAiPT09cnx8ImRvd24iPT09cj8idG9wIjoibGVmdCIscD0idXAiPT09cnx8ImxlZnQiPT09cixmPXt9LG09e30sZz17fSx2PW4ucXVldWUoKSx5PXYubGVuZ3RoO2ZvcihlLmVmZmVjdHMuc2F2ZShuLGEpLG4uc2hvdygpLGUuZWZmZWN0cy5jcmVhdGVXcmFwcGVyKG4pLGZbY109KHA/Ii09IjoiKz0iKStoLG1bY109KHA/Iis9IjoiLT0iKSsyKmgsZ1tjXT0ocD8iLT0iOiIrPSIpKzIqaCxuLmFuaW1hdGUoZixkLHQuZWFzaW5nKSxzPTE7bD5zO3MrKyl7bi5hbmltYXRlKG0sZCx0LmVhc2luZykuYW5pbWF0ZShnLGQsdC5lYXNpbmcpfW4uYW5pbWF0ZShtLGQsdC5lYXNpbmcpLmFuaW1hdGUoZixkLzIsdC5lYXNpbmcpLnF1ZXVlKGZ1bmN0aW9uKCl7ImhpZGUiPT09byYmbi5oaWRlKCksZS5lZmZlY3RzLnJlc3RvcmUobixhKSxlLmVmZmVjdHMucmVtb3ZlV3JhcHBlcihuKSxpKCl9KSx5PjEmJnYuc3BsaWNlLmFwcGx5KHYsWzEsMF0uY29uY2F0KHYuc3BsaWNlKHksdSsxKSkpLG4uZGVxdWV1ZSgpfSxlLmVmZmVjdHMuZWZmZWN0LnNsaWRlPWZ1bmN0aW9uKHQsaSl7dmFyIHMsbj1lKHRoaXMpLGE9WyJwb3NpdGlvbiIsInRvcCIsImJvdHRvbSIsImxlZnQiLCJyaWdodCIsIndpZHRoIiwiaGVpZ2h0Il0sbz1lLmVmZmVjdHMuc2V0TW9kZShuLHQubW9kZXx8InNob3ciKSxyPSJzaG93Ij09PW8saD10LmRpcmVjdGlvbnx8ImxlZnQiLGw9InVwIj09PWh8fCJkb3duIj09PWg/InRvcCI6ImxlZnQiLHU9InVwIj09PWh8fCJsZWZ0Ij09PWgsZD17fTtlLmVmZmVjdHMuc2F2ZShuLGEpLG4uc2hvdygpLHM9dC5kaXN0YW5jZXx8blsidG9wIj09PWw/Im91dGVySGVpZ2h0Ijoib3V0ZXJXaWR0aCJdKCEwKSxlLmVmZmVjdHMuY3JlYXRlV3JhcHBlcihuKS5jc3Moe292ZXJmbG93OiJoaWRkZW4ifSksciYmbi5jc3MobCx1P2lzTmFOKHMpPyItIitzOi1zOnMpLGRbbF09KHI/dT8iKz0iOiItPSI6dT8iLT0iOiIrPSIpK3Msbi5hbmltYXRlKGQse3F1ZXVlOiExLGR1cmF0aW9uOnQuZHVyYXRpb24sZWFzaW5nOnQuZWFzaW5nLGNvbXBsZXRlOmZ1bmN0aW9uKCl7ImhpZGUiPT09byYmbi5oaWRlKCksZS5lZmZlY3RzLnJlc3RvcmUobixhKSxlLmVmZmVjdHMucmVtb3ZlV3JhcHBlcihuKSxpKCl9fSl9LGUuZWZmZWN0cy5lZmZlY3QudHJhbnNmZXI9ZnVuY3Rpb24odCxpKXt2YXIgcz1lKHRoaXMpLG49ZSh0LnRvKSxhPSJmaXhlZCI9PT1uLmNzcygicG9zaXRpb24iKSxvPWUoImJvZHkiKSxyPWE/by5zY3JvbGxUb3AoKTowLGg9YT9vLnNjcm9sbExlZnQoKTowLGw9bi5vZmZzZXQoKSx1PXt0b3A6bC50b3AtcixsZWZ0OmwubGVmdC1oLGhlaWdodDpuLmlubmVySGVpZ2h0KCksd2lkdGg6bi5pbm5lcldpZHRoKCl9LGQ9cy5vZmZzZXQoKSxjPWUoIjxkaXYgY2xhc3M9J3VpLWVmZmVjdHMtdHJhbnNmZXInPjwvZGl2PiIpLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpLmFkZENsYXNzKHQuY2xhc3NOYW1lKS5jc3Moe3RvcDpkLnRvcC1yLGxlZnQ6ZC5sZWZ0LWgsaGVpZ2h0OnMuaW5uZXJIZWlnaHQoKSx3aWR0aDpzLmlubmVyV2lkdGgoKSxwb3NpdGlvbjphPyJmaXhlZCI6ImFic29sdXRlIn0pLmFuaW1hdGUodSx0LmR1cmF0aW9uLHQuZWFzaW5nLGZ1bmN0aW9uKCl7Yy5yZW1vdmUoKSxpKCl9KX0sZS53aWRnZXQoInVpLnByb2dyZXNzYmFyIix7dmVyc2lvbjoiMS4xMS4xIixvcHRpb25zOnttYXg6MTAwLHZhbHVlOjAsY2hhbmdlOm51bGwsY29tcGxldGU6bnVsbH0sbWluOjAsX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub2xkVmFsdWU9dGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX2NvbnN0cmFpbmVkVmFsdWUoKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXByb2dyZXNzYmFyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIikuYXR0cih7cm9sZToicHJvZ3Jlc3NiYXIiLCJhcmlhLXZhbHVlbWluIjp0aGlzLm1pbn0pLHRoaXMudmFsdWVEaXY9ZSgiPGRpdiBjbGFzcz0ndWktcHJvZ3Jlc3NiYXItdmFsdWUgdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItbGVmdCc+PC9kaXY+IikuYXBwZW5kVG8odGhpcy5lbGVtZW50KSx0aGlzLl9yZWZyZXNoVmFsdWUoKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXByb2dyZXNzYmFyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIikucmVtb3ZlQXR0cigicm9sZSIpLnJlbW92ZUF0dHIoImFyaWEtdmFsdWVtaW4iKS5yZW1vdmVBdHRyKCJhcmlhLXZhbHVlbWF4IikucmVtb3ZlQXR0cigiYXJpYS12YWx1ZW5vdyIpLHRoaXMudmFsdWVEaXYucmVtb3ZlKCl9LHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lP3RoaXMub3B0aW9ucy52YWx1ZToodGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX2NvbnN0cmFpbmVkVmFsdWUoZSksdGhpcy5fcmVmcmVzaFZhbHVlKCksdm9pZCAwKX0sX2NvbnN0cmFpbmVkVmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXRoaXMub3B0aW9ucy52YWx1ZSksdGhpcy5pbmRldGVybWluYXRlPWU9PT0hMSwibnVtYmVyIiE9dHlwZW9mIGUmJihlPTApLHRoaXMuaW5kZXRlcm1pbmF0ZT8hMTpNYXRoLm1pbih0aGlzLm9wdGlvbnMubWF4LE1hdGgubWF4KHRoaXMubWluLGUpKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS52YWx1ZTtkZWxldGUgZS52YWx1ZSx0aGlzLl9zdXBlcihlKSx0aGlzLm9wdGlvbnMudmFsdWU9dGhpcy5fY29uc3RyYWluZWRWYWx1ZSh0KSx0aGlzLl9yZWZyZXNoVmFsdWUoKX0sX3NldE9wdGlvbjpmdW5jdGlvbihlLHQpeyJtYXgiPT09ZSYmKHQ9TWF0aC5tYXgodGhpcy5taW4sdCkpLCJkaXNhYmxlZCI9PT1lJiZ0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIiwhIXQpLmF0dHIoImFyaWEtZGlzYWJsZWQiLHQpLHRoaXMuX3N1cGVyKGUsdCl9LF9wZXJjZW50YWdlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kZXRlcm1pbmF0ZT8xMDA6MTAwKih0aGlzLm9wdGlvbnMudmFsdWUtdGhpcy5taW4pLyh0aGlzLm9wdGlvbnMubWF4LXRoaXMubWluKX0sX3JlZnJlc2hWYWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy52YWx1ZSxpPXRoaXMuX3BlcmNlbnRhZ2UoKTt0aGlzLnZhbHVlRGl2LnRvZ2dsZSh0aGlzLmluZGV0ZXJtaW5hdGV8fHQ+dGhpcy5taW4pLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItcmlnaHQiLHQ9PT10aGlzLm9wdGlvbnMubWF4KS53aWR0aChpLnRvRml4ZWQoMCkrIiUiKSx0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLXByb2dyZXNzYmFyLWluZGV0ZXJtaW5hdGUiLHRoaXMuaW5kZXRlcm1pbmF0ZSksdGhpcy5pbmRldGVybWluYXRlPyh0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigiYXJpYS12YWx1ZW5vdyIpLHRoaXMub3ZlcmxheURpdnx8KHRoaXMub3ZlcmxheURpdj1lKCI8ZGl2IGNsYXNzPSd1aS1wcm9ncmVzc2Jhci1vdmVybGF5Jz48L2Rpdj4iKS5hcHBlbmRUbyh0aGlzLnZhbHVlRGl2KSkpOih0aGlzLmVsZW1lbnQuYXR0cih7ImFyaWEtdmFsdWVtYXgiOnRoaXMub3B0aW9ucy5tYXgsImFyaWEtdmFsdWVub3ciOnR9KSx0aGlzLm92ZXJsYXlEaXYmJih0aGlzLm92ZXJsYXlEaXYucmVtb3ZlKCksdGhpcy5vdmVybGF5RGl2PW51bGwpKSx0aGlzLm9sZFZhbHVlIT09dCYmKHRoaXMub2xkVmFsdWU9dCx0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiKSksdD09PXRoaXMub3B0aW9ucy5tYXgmJnRoaXMuX3RyaWdnZXIoImNvbXBsZXRlIil9fSksZS53aWRnZXQoInVpLnNlbGVjdGFibGUiLGUudWkubW91c2Use3ZlcnNpb246IjEuMTEuMSIsb3B0aW9uczp7YXBwZW5kVG86ImJvZHkiLGF1dG9SZWZyZXNoOiEwLGRpc3RhbmNlOjAsZmlsdGVyOiIqIix0b2xlcmFuY2U6InRvdWNoIixzZWxlY3RlZDpudWxsLHNlbGVjdGluZzpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsLHVuc2VsZWN0ZWQ6bnVsbCx1bnNlbGVjdGluZzpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzO3RoaXMuZWxlbWVudC5hZGRDbGFzcygidWktc2VsZWN0YWJsZSIpLHRoaXMuZHJhZ2dlZD0hMSx0aGlzLnJlZnJlc2g9ZnVuY3Rpb24oKXt0PWUoaS5vcHRpb25zLmZpbHRlcixpLmVsZW1lbnRbMF0pLHQuYWRkQ2xhc3MoInVpLXNlbGVjdGVlIiksdC5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKSxpPXQub2Zmc2V0KCk7ZS5kYXRhKHRoaXMsInNlbGVjdGFibGUtaXRlbSIse2VsZW1lbnQ6dGhpcywkZWxlbWVudDp0LGxlZnQ6aS5sZWZ0LHRvcDppLnRvcCxyaWdodDppLmxlZnQrdC5vdXRlcldpZHRoKCksYm90dG9tOmkudG9wK3Qub3V0ZXJIZWlnaHQoKSxzdGFydHNlbGVjdGVkOiExLHNlbGVjdGVkOnQuaGFzQ2xhc3MoInVpLXNlbGVjdGVkIiksc2VsZWN0aW5nOnQuaGFzQ2xhc3MoInVpLXNlbGVjdGluZyIpLHVuc2VsZWN0aW5nOnQuaGFzQ2xhc3MoInVpLXVuc2VsZWN0aW5nIil9KX0pfSx0aGlzLnJlZnJlc2goKSx0aGlzLnNlbGVjdGVlcz10LmFkZENsYXNzKCJ1aS1zZWxlY3RlZSIpLHRoaXMuX21vdXNlSW5pdCgpLHRoaXMuaGVscGVyPWUoIjxkaXYgY2xhc3M9J3VpLXNlbGVjdGFibGUtaGVscGVyJz48L2Rpdj4iKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVlcy5yZW1vdmVDbGFzcygidWktc2VsZWN0ZWUiKS5yZW1vdmVEYXRhKCJzZWxlY3RhYmxlLWl0ZW0iKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdGFibGUgdWktc2VsZWN0YWJsZS1kaXNhYmxlZCIpLHRoaXMuX21vdXNlRGVzdHJveSgpfSxfbW91c2VTdGFydDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLHM9dGhpcy5vcHRpb25zO3RoaXMub3Bvcz1bdC5wYWdlWCx0LnBhZ2VZXSx0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fCh0aGlzLnNlbGVjdGVlcz1lKHMuZmlsdGVyLHRoaXMuZWxlbWVudFswXSksdGhpcy5fdHJpZ2dlcigic3RhcnQiLHQpLGUocy5hcHBlbmRUbykuYXBwZW5kKHRoaXMuaGVscGVyKSx0aGlzLmhlbHBlci5jc3Moe2xlZnQ6dC5wYWdlWCx0b3A6dC5wYWdlWSx3aWR0aDowLGhlaWdodDowfSkscy5hdXRvUmVmcmVzaCYmdGhpcy5yZWZyZXNoKCksdGhpcy5zZWxlY3RlZXMuZmlsdGVyKCIudWktc2VsZWN0ZWQiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHM9ZS5kYXRhKHRoaXMsInNlbGVjdGFibGUtaXRlbSIpO3Muc3RhcnRzZWxlY3RlZD0hMCx0Lm1ldGFLZXl8fHQuY3RybEtleXx8KHMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdGVkIikscy5zZWxlY3RlZD0hMSxzLiRlbGVtZW50LmFkZENsYXNzKCJ1aS11bnNlbGVjdGluZyIpLHMudW5zZWxlY3Rpbmc9ITAsaS5fdHJpZ2dlcigidW5zZWxlY3RpbmciLHQse3Vuc2VsZWN0aW5nOnMuZWxlbWVudH0pKX0pLGUodC50YXJnZXQpLnBhcmVudHMoKS5hZGRCYWNrKCkuZWFjaChmdW5jdGlvbigpe3ZhciBzLG49ZS5kYXRhKHRoaXMsInNlbGVjdGFibGUtaXRlbSIpO3JldHVybiBuPyhzPSF0Lm1ldGFLZXkmJiF0LmN0cmxLZXl8fCFuLiRlbGVtZW50Lmhhc0NsYXNzKCJ1aS1zZWxlY3RlZCIpLG4uJGVsZW1lbnQucmVtb3ZlQ2xhc3Mocz8idWktdW5zZWxlY3RpbmciOiJ1aS1zZWxlY3RlZCIpLmFkZENsYXNzKHM/InVpLXNlbGVjdGluZyI6InVpLXVuc2VsZWN0aW5nIiksbi51bnNlbGVjdGluZz0hcyxuLnNlbGVjdGluZz1zLG4uc2VsZWN0ZWQ9cyxzP2kuX3RyaWdnZXIoInNlbGVjdGluZyIsdCx7c2VsZWN0aW5nOm4uZWxlbWVudH0pOmkuX3RyaWdnZXIoInVuc2VsZWN0aW5nIix0LHt1bnNlbGVjdGluZzpuLmVsZW1lbnR9KSwhMSk6dm9pZCAwfSkpfSxfbW91c2VEcmFnOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZHJhZ2dlZD0hMCwhdGhpcy5vcHRpb25zLmRpc2FibGVkKXt2YXIgaSxzPXRoaXMsbj10aGlzLm9wdGlvbnMsYT10aGlzLm9wb3NbMF0sbz10aGlzLm9wb3NbMV0scj10LnBhZ2VYLGg9dC5wYWdlWTtyZXR1cm4gYT5yJiYoaT1yLHI9YSxhPWkpLG8+aCYmKGk9aCxoPW8sbz1pKSx0aGlzLmhlbHBlci5jc3Moe2xlZnQ6YSx0b3A6byx3aWR0aDpyLWEsaGVpZ2h0Omgtb30pLHRoaXMuc2VsZWN0ZWVzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1lLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIiksbD0hMTtpJiZpLmVsZW1lbnQhPT1zLmVsZW1lbnRbMF0mJigidG91Y2giPT09bi50b2xlcmFuY2U/bD0hKGkubGVmdD5yfHxhPmkucmlnaHR8fGkudG9wPmh8fG8+aS5ib3R0b20pOiJmaXQiPT09bi50b2xlcmFuY2UmJihsPWkubGVmdD5hJiZyPmkucmlnaHQmJmkudG9wPm8mJmg+aS5ib3R0b20pLGw/KGkuc2VsZWN0ZWQmJihpLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zZWxlY3RlZCIpLGkuc2VsZWN0ZWQ9ITEpLGkudW5zZWxlY3RpbmcmJihpLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS11bnNlbGVjdGluZyIpLGkudW5zZWxlY3Rpbmc9ITEpLGkuc2VsZWN0aW5nfHwoaS4kZWxlbWVudC5hZGRDbGFzcygidWktc2VsZWN0aW5nIiksaS5zZWxlY3Rpbmc9ITAscy5fdHJpZ2dlcigic2VsZWN0aW5nIix0LHtzZWxlY3Rpbmc6aS5lbGVtZW50fSkpKTooaS5zZWxlY3RpbmcmJigodC5tZXRhS2V5fHx0LmN0cmxLZXkpJiZpLnN0YXJ0c2VsZWN0ZWQ/KGkuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdGluZyIpLGkuc2VsZWN0aW5nPSExLGkuJGVsZW1lbnQuYWRkQ2xhc3MoInVpLXNlbGVjdGVkIiksaS5zZWxlY3RlZD0hMCk6KGkuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdGluZyIpLGkuc2VsZWN0aW5nPSExLGkuc3RhcnRzZWxlY3RlZCYmKGkuJGVsZW1lbnQuYWRkQ2xhc3MoInVpLXVuc2VsZWN0aW5nIiksaS51bnNlbGVjdGluZz0hMCkscy5fdHJpZ2dlcigidW5zZWxlY3RpbmciLHQse3Vuc2VsZWN0aW5nOmkuZWxlbWVudH0pKSksaS5zZWxlY3RlZCYmKHQubWV0YUtleXx8dC5jdHJsS2V5fHxpLnN0YXJ0c2VsZWN0ZWR8fChpLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zZWxlY3RlZCIpLGkuc2VsZWN0ZWQ9ITEsaS4kZWxlbWVudC5hZGRDbGFzcygidWktdW5zZWxlY3RpbmciKSxpLnVuc2VsZWN0aW5nPSEwLHMuX3RyaWdnZXIoInVuc2VsZWN0aW5nIix0LHt1bnNlbGVjdGluZzppLmVsZW1lbnR9KSkpKSl9KSwhMX19LF9tb3VzZVN0b3A6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcztyZXR1cm4gdGhpcy5kcmFnZ2VkPSExLGUoIi51aS11bnNlbGVjdGluZyIsdGhpcy5lbGVtZW50WzBdKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHM9ZS5kYXRhKHRoaXMsInNlbGVjdGFibGUtaXRlbSIpO3MuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXVuc2VsZWN0aW5nIikscy51bnNlbGVjdGluZz0hMSxzLnN0YXJ0c2VsZWN0ZWQ9ITEsaS5fdHJpZ2dlcigidW5zZWxlY3RlZCIsdCx7dW5zZWxlY3RlZDpzLmVsZW1lbnR9KX0pLGUoIi51aS1zZWxlY3RpbmciLHRoaXMuZWxlbWVudFswXSkuZWFjaChmdW5jdGlvbigpe3ZhciBzPWUuZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKTtzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zZWxlY3RpbmciKS5hZGRDbGFzcygidWktc2VsZWN0ZWQiKSxzLnNlbGVjdGluZz0hMSxzLnNlbGVjdGVkPSEwLHMuc3RhcnRzZWxlY3RlZD0hMCxpLl90cmlnZ2VyKCJzZWxlY3RlZCIsdCx7c2VsZWN0ZWQ6cy5lbGVtZW50fSl9KSx0aGlzLl90cmlnZ2VyKCJzdG9wIix0KSx0aGlzLmhlbHBlci5yZW1vdmUoKSwhMX19KSxlLndpZGdldCgidWkuc2VsZWN0bWVudSIse3ZlcnNpb246IjEuMTEuMSIsZGVmYXVsdEVsZW1lbnQ6IjxzZWxlY3Q+IixvcHRpb25zOnthcHBlbmRUbzpudWxsLGRpc2FibGVkOm51bGwsaWNvbnM6e2J1dHRvbjoidWktaWNvbi10cmlhbmdsZS0xLXMifSxwb3NpdGlvbjp7bXk6ImxlZnQgdG9wIixhdDoibGVmdCBib3R0b20iLGNvbGxpc2lvbjoibm9uZSJ9LHdpZHRoOm51bGwsY2hhbmdlOm51bGwsY2xvc2U6bnVsbCxmb2N1czpudWxsLG9wZW46bnVsbCxzZWxlY3Q6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWxlbWVudC51bmlxdWVJZCgpLmF0dHIoImlkIik7dGhpcy5pZHM9e2VsZW1lbnQ6ZSxidXR0b246ZSsiLWJ1dHRvbiIsbWVudTplKyItbWVudSJ9LHRoaXMuX2RyYXdCdXR0b24oKSx0aGlzLl9kcmF3TWVudSgpLHRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5kaXNhYmxlKCl9LF9kcmF3QnV0dG9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpPXRoaXMuZWxlbWVudC5hdHRyKCJ0YWJpbmRleCIpO3RoaXMubGFiZWw9ZSgibGFiZWxbZm9yPSciK3RoaXMuaWRzLmVsZW1lbnQrIiddIikuYXR0cigiZm9yIix0aGlzLmlkcy5idXR0b24pLHRoaXMuX29uKHRoaXMubGFiZWwse2NsaWNrOmZ1bmN0aW9uKGUpe3RoaXMuYnV0dG9uLmZvY3VzKCksZS5wcmV2ZW50RGVmYXVsdCgpfX0pLHRoaXMuZWxlbWVudC5oaWRlKCksdGhpcy5idXR0b249ZSgiPHNwYW4+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS1idXR0b24gdWktd2lkZ2V0IHVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLWFsbCIsdGFiaW5kZXg6aXx8dGhpcy5vcHRpb25zLmRpc2FibGVkPy0xOjAsaWQ6dGhpcy5pZHMuYnV0dG9uLHJvbGU6ImNvbWJvYm94IiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIiwiYXJpYS1hdXRvY29tcGxldGUiOiJsaXN0IiwiYXJpYS1vd25zIjp0aGlzLmlkcy5tZW51LCJhcmlhLWhhc3BvcHVwIjoidHJ1ZSJ9KS5pbnNlcnRBZnRlcih0aGlzLmVsZW1lbnQpLGUoIjxzcGFuPiIseyJjbGFzcyI6InVpLWljb24gIit0aGlzLm9wdGlvbnMuaWNvbnMuYnV0dG9ufSkucHJlcGVuZFRvKHRoaXMuYnV0dG9uKSx0aGlzLmJ1dHRvblRleHQ9ZSgiPHNwYW4+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS10ZXh0In0pLmFwcGVuZFRvKHRoaXMuYnV0dG9uKSx0aGlzLl9zZXRUZXh0KHRoaXMuYnV0dG9uVGV4dCx0aGlzLmVsZW1lbnQuZmluZCgib3B0aW9uOnNlbGVjdGVkIikudGV4dCgpKSx0aGlzLl9yZXNpemVCdXR0b24oKSx0aGlzLl9vbih0aGlzLmJ1dHRvbix0aGlzLl9idXR0b25FdmVudHMpLHRoaXMuYnV0dG9uLm9uZSgiZm9jdXNpbiIsZnVuY3Rpb24oKXt0Lm1lbnVJdGVtc3x8dC5fcmVmcmVzaE1lbnUoKX0pLHRoaXMuX2hvdmVyYWJsZSh0aGlzLmJ1dHRvbiksdGhpcy5fZm9jdXNhYmxlKHRoaXMuYnV0dG9uKX0sX2RyYXdNZW51OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLm1lbnU9ZSgiPHVsPiIseyJhcmlhLWhpZGRlbiI6InRydWUiLCJhcmlhLWxhYmVsbGVkYnkiOnRoaXMuaWRzLmJ1dHRvbixpZDp0aGlzLmlkcy5tZW51fSksdGhpcy5tZW51V3JhcD1lKCI8ZGl2PiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUtbWVudSB1aS1mcm9udCJ9KS5hcHBlbmQodGhpcy5tZW51KS5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKSx0aGlzLm1lbnVJbnN0YW5jZT10aGlzLm1lbnUubWVudSh7cm9sZToibGlzdGJveCIsc2VsZWN0OmZ1bmN0aW9uKGUsaSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHQuX3NlbGVjdChpLml0ZW0uZGF0YSgidWktc2VsZWN0bWVudS1pdGVtIiksZSl9LGZvY3VzOmZ1bmN0aW9uKGUsaSl7dmFyIHM9aS5pdGVtLmRhdGEoInVpLXNlbGVjdG1lbnUtaXRlbSIpO251bGwhPXQuZm9jdXNJbmRleCYmcy5pbmRleCE9PXQuZm9jdXNJbmRleCYmKHQuX3RyaWdnZXIoImZvY3VzIixlLHtpdGVtOnN9KSx0LmlzT3Blbnx8dC5fc2VsZWN0KHMsZSkpLHQuZm9jdXNJbmRleD1zLmluZGV4LHQuYnV0dG9uLmF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIsdC5tZW51SXRlbXMuZXEocy5pbmRleCkuYXR0cigiaWQiKSl9fSkubWVudSgiaW5zdGFuY2UiKSx0aGlzLm1lbnUuYWRkQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iKS5yZW1vdmVDbGFzcygidWktY29ybmVyLWFsbCIpLHRoaXMubWVudUluc3RhbmNlLl9vZmYodGhpcy5tZW51LCJtb3VzZWxlYXZlIiksdGhpcy5tZW51SW5zdGFuY2UuX2Nsb3NlT25Eb2N1bWVudENsaWNrPWZ1bmN0aW9uKCl7cmV0dXJuICExfSx0aGlzLm1lbnVJbnN0YW5jZS5faXNEaXZpZGVyPWZ1bmN0aW9uKCl7cmV0dXJuICExfX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3JlZnJlc2hNZW51KCksdGhpcy5fc2V0VGV4dCh0aGlzLmJ1dHRvblRleHQsdGhpcy5fZ2V0U2VsZWN0ZWRJdGVtKCkudGV4dCgpKSx0aGlzLm9wdGlvbnMud2lkdGh8fHRoaXMuX3Jlc2l6ZUJ1dHRvbigpfSxfcmVmcmVzaE1lbnU6ZnVuY3Rpb24oKXt0aGlzLm1lbnUuZW1wdHkoKTt2YXIgZSx0PXRoaXMuZWxlbWVudC5maW5kKCJvcHRpb24iKTt0Lmxlbmd0aCYmKHRoaXMuX3BhcnNlT3B0aW9ucyh0KSx0aGlzLl9yZW5kZXJNZW51KHRoaXMubWVudSx0aGlzLml0ZW1zKSx0aGlzLm1lbnVJbnN0YW5jZS5yZWZyZXNoKCksdGhpcy5tZW51SXRlbXM9dGhpcy5tZW51LmZpbmQoImxpIikubm90KCIudWktc2VsZWN0bWVudS1vcHRncm91cCIpLGU9dGhpcy5fZ2V0U2VsZWN0ZWRJdGVtKCksdGhpcy5tZW51SW5zdGFuY2UuZm9jdXMobnVsbCxlKSx0aGlzLl9zZXRBcmlhKGUuZGF0YSgidWktc2VsZWN0bWVudS1pdGVtIikpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIpKSl9LG9wZW46ZnVuY3Rpb24oZSl7dGhpcy5vcHRpb25zLmRpc2FibGVkfHwodGhpcy5tZW51SXRlbXM/KHRoaXMubWVudS5maW5kKCIudWktc3RhdGUtZm9jdXMiKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKSx0aGlzLm1lbnVJbnN0YW5jZS5mb2N1cyhudWxsLHRoaXMuX2dldFNlbGVjdGVkSXRlbSgpKSk6dGhpcy5fcmVmcmVzaE1lbnUoKSx0aGlzLmlzT3Blbj0hMCx0aGlzLl90b2dnbGVBdHRyKCksdGhpcy5fcmVzaXplTWVudSgpLHRoaXMuX3Bvc2l0aW9uKCksdGhpcy5fb24odGhpcy5kb2N1bWVudCx0aGlzLl9kb2N1bWVudENsaWNrKSx0aGlzLl90cmlnZ2VyKCJvcGVuIixlKSl9LF9wb3NpdGlvbjpmdW5jdGlvbigpe3RoaXMubWVudVdyYXAucG9zaXRpb24oZS5leHRlbmQoe29mOnRoaXMuYnV0dG9ufSx0aGlzLm9wdGlvbnMucG9zaXRpb24pKX0sY2xvc2U6ZnVuY3Rpb24oZSl7dGhpcy5pc09wZW4mJih0aGlzLmlzT3Blbj0hMSx0aGlzLl90b2dnbGVBdHRyKCksdGhpcy5fb2ZmKHRoaXMuZG9jdW1lbnQpLHRoaXMuX3RyaWdnZXIoImNsb3NlIixlKSl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1dHRvbn0sbWVudVdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1lbnV9LF9yZW5kZXJNZW51OmZ1bmN0aW9uKHQsaSl7dmFyIHM9dGhpcyxuPSIiO2UuZWFjaChpLGZ1bmN0aW9uKGksYSl7YS5vcHRncm91cCE9PW4mJihlKCI8bGk+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS1vcHRncm91cCB1aS1tZW51LWRpdmlkZXIiKyhhLmVsZW1lbnQucGFyZW50KCJvcHRncm91cCIpLnByb3AoImRpc2FibGVkIik/IiB1aS1zdGF0ZS1kaXNhYmxlZCI6IiIpLHRleHQ6YS5vcHRncm91cH0pLmFwcGVuZFRvKHQpLG49YS5vcHRncm91cCkscy5fcmVuZGVySXRlbURhdGEodCxhKX0pfSxfcmVuZGVySXRlbURhdGE6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcmVuZGVySXRlbShlLHQpLmRhdGEoInVpLXNlbGVjdG1lbnUtaXRlbSIsdCl9LF9yZW5kZXJJdGVtOmZ1bmN0aW9uKHQsaSl7dmFyIHM9ZSgiPGxpPiIpO3JldHVybiBpLmRpc2FibGVkJiZzLmFkZENsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLHRoaXMuX3NldFRleHQocyxpLmxhYmVsKSxzLmFwcGVuZFRvKHQpfSxfc2V0VGV4dDpmdW5jdGlvbihlLHQpe3Q/ZS50ZXh0KHQpOmUuaHRtbCgiJiMxNjA7Iil9LF9tb3ZlOmZ1bmN0aW9uKGUsdCl7dmFyIGkscyxuPSIudWktbWVudS1pdGVtIjt0aGlzLmlzT3Blbj9pPXRoaXMubWVudUl0ZW1zLmVxKHRoaXMuZm9jdXNJbmRleCk6KGk9dGhpcy5tZW51SXRlbXMuZXEodGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpLG4rPSI6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCkiKSxzPSJmaXJzdCI9PT1lfHwibGFzdCI9PT1lP2lbImZpcnN0Ij09PWU/InByZXZBbGwiOiJuZXh0QWxsIl0obikuZXEoLTEpOmlbZSsiQWxsIl0obikuZXEoMCkscy5sZW5ndGgmJnRoaXMubWVudUluc3RhbmNlLmZvY3VzKHQscyl9LF9nZXRTZWxlY3RlZEl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51SXRlbXMuZXEodGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpfSxfdG9nZ2xlOmZ1bmN0aW9uKGUpe3RoaXNbdGhpcy5pc09wZW4/ImNsb3NlIjoib3BlbiJdKGUpfSxfZG9jdW1lbnRDbGljazp7bW91c2Vkb3duOmZ1bmN0aW9uKHQpe3RoaXMuaXNPcGVuJiYoZSh0LnRhcmdldCkuY2xvc2VzdCgiLnVpLXNlbGVjdG1lbnUtbWVudSwgIyIrdGhpcy5pZHMuYnV0dG9uKS5sZW5ndGh8fHRoaXMuY2xvc2UodCkpfX0sX2J1dHRvbkV2ZW50czp7bW91c2Vkb3duOmZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKX0sY2xpY2s6Il90b2dnbGUiLGtleWRvd246ZnVuY3Rpb24odCl7dmFyIGk9ITA7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSBlLnVpLmtleUNvZGUuVEFCOmNhc2UgZS51aS5rZXlDb2RlLkVTQ0FQRTp0aGlzLmNsb3NlKHQpLGk9ITE7YnJlYWs7Y2FzZSBlLnVpLmtleUNvZGUuRU5URVI6dGhpcy5pc09wZW4mJnRoaXMuX3NlbGVjdEZvY3VzZWRJdGVtKHQpO2JyZWFrO2Nhc2UgZS51aS5rZXlDb2RlLlVQOnQuYWx0S2V5P3RoaXMuX3RvZ2dsZSh0KTp0aGlzLl9tb3ZlKCJwcmV2Iix0KTticmVhaztjYXNlIGUudWkua2V5Q29kZS5ET1dOOnQuYWx0S2V5P3RoaXMuX3RvZ2dsZSh0KTp0aGlzLl9tb3ZlKCJuZXh0Iix0KTticmVhaztjYXNlIGUudWkua2V5Q29kZS5TUEFDRTp0aGlzLmlzT3Blbj90aGlzLl9zZWxlY3RGb2N1c2VkSXRlbSh0KTp0aGlzLl90b2dnbGUodCk7YnJlYWs7Y2FzZSBlLnVpLmtleUNvZGUuTEVGVDp0aGlzLl9tb3ZlKCJwcmV2Iix0KTticmVhaztjYXNlIGUudWkua2V5Q29kZS5SSUdIVDp0aGlzLl9tb3ZlKCJuZXh0Iix0KTticmVhaztjYXNlIGUudWkua2V5Q29kZS5IT01FOmNhc2UgZS51aS5rZXlDb2RlLlBBR0VfVVA6dGhpcy5fbW92ZSgiZmlyc3QiLHQpO2JyZWFrO2Nhc2UgZS51aS5rZXlDb2RlLkVORDpjYXNlIGUudWkua2V5Q29kZS5QQUdFX0RPV046dGhpcy5fbW92ZSgibGFzdCIsdCk7YnJlYWs7ZGVmYXVsdDp0aGlzLm1lbnUudHJpZ2dlcih0KSxpPSExfWkmJnQucHJldmVudERlZmF1bHQoKX19LF9zZWxlY3RGb2N1c2VkSXRlbTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm1lbnVJdGVtcy5lcSh0aGlzLmZvY3VzSW5kZXgpO3QuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIil8fHRoaXMuX3NlbGVjdCh0LmRhdGEoInVpLXNlbGVjdG1lbnUtaXRlbSIpLGUpfSxfc2VsZWN0OmZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXg7dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXg9ZS5pbmRleCx0aGlzLl9zZXRUZXh0KHRoaXMuYnV0dG9uVGV4dCxlLmxhYmVsKSx0aGlzLl9zZXRBcmlhKGUpLHRoaXMuX3RyaWdnZXIoInNlbGVjdCIsdCx7aXRlbTplfSksZS5pbmRleCE9PWkmJnRoaXMuX3RyaWdnZXIoImNoYW5nZSIsdCx7aXRlbTplfSksdGhpcy5jbG9zZSh0KX0sX3NldEFyaWE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5tZW51SXRlbXMuZXEoZS5pbmRleCkuYXR0cigiaWQiKTt0aGlzLmJ1dHRvbi5hdHRyKHsiYXJpYS1sYWJlbGxlZGJ5Ijp0LCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiOnR9KSx0aGlzLm1lbnUuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50Iix0KX0sX3NldE9wdGlvbjpmdW5jdGlvbihlLHQpeyJpY29ucyI9PT1lJiZ0aGlzLmJ1dHRvbi5maW5kKCJzcGFuLnVpLWljb24iKS5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuaWNvbnMuYnV0dG9uKS5hZGRDbGFzcyh0LmJ1dHRvbiksdGhpcy5fc3VwZXIoZSx0KSwiYXBwZW5kVG8iPT09ZSYmdGhpcy5tZW51V3JhcC5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKSwiZGlzYWJsZWQiPT09ZSYmKHRoaXMubWVudUluc3RhbmNlLm9wdGlvbigiZGlzYWJsZWQiLHQpLHRoaXMuYnV0dG9uLnRvZ2dsZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIsdCkuYXR0cigiYXJpYS1kaXNhYmxlZCIsdCksdGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIix0KSx0Pyh0aGlzLmJ1dHRvbi5hdHRyKCJ0YWJpbmRleCIsLTEpLHRoaXMuY2xvc2UoKSk6dGhpcy5idXR0b24uYXR0cigidGFiaW5kZXgiLDApKSwid2lkdGgiPT09ZSYmdGhpcy5fcmVzaXplQnV0dG9uKCl9LF9hcHBlbmRUbzpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5hcHBlbmRUbztyZXR1cm4gdCYmKHQ9dC5qcXVlcnl8fHQubm9kZVR5cGU/ZSh0KTp0aGlzLmRvY3VtZW50LmZpbmQodCkuZXEoMCkpLHQmJnRbMF18fCh0PXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktZnJvbnQiKSksdC5sZW5ndGh8fCh0PXRoaXMuZG9jdW1lbnRbMF0uYm9keSksdH0sX3RvZ2dsZUF0dHI6ZnVuY3Rpb24oKXt0aGlzLmJ1dHRvbi50b2dnbGVDbGFzcygidWktY29ybmVyLXRvcCIsdGhpcy5pc09wZW4pLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIiwhdGhpcy5pc09wZW4pLmF0dHIoImFyaWEtZXhwYW5kZWQiLHRoaXMuaXNPcGVuKSx0aGlzLm1lbnVXcmFwLnRvZ2dsZUNsYXNzKCJ1aS1zZWxlY3RtZW51LW9wZW4iLHRoaXMuaXNPcGVuKSx0aGlzLm1lbnUuYXR0cigiYXJpYS1oaWRkZW4iLCF0aGlzLmlzT3Blbil9LF9yZXNpemVCdXR0b246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnMud2lkdGg7ZXx8KGU9dGhpcy5lbGVtZW50LnNob3coKS5vdXRlcldpZHRoKCksdGhpcy5lbGVtZW50LmhpZGUoKSksdGhpcy5idXR0b24ub3V0ZXJXaWR0aChlKX0sX3Jlc2l6ZU1lbnU6ZnVuY3Rpb24oKXt0aGlzLm1lbnUub3V0ZXJXaWR0aChNYXRoLm1heCh0aGlzLmJ1dHRvbi5vdXRlcldpZHRoKCksdGhpcy5tZW51LndpZHRoKCIiKS5vdXRlcldpZHRoKCkrMSkpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3JldHVybntkaXNhYmxlZDp0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiKX19LF9wYXJzZU9wdGlvbnM6ZnVuY3Rpb24odCl7dmFyIGk9W107dC5lYWNoKGZ1bmN0aW9uKHQscyl7dmFyIG49ZShzKSxhPW4ucGFyZW50KCJvcHRncm91cCIpO2kucHVzaCh7ZWxlbWVudDpuLGluZGV4OnQsdmFsdWU6bi5hdHRyKCJ2YWx1ZSIpLGxhYmVsOm4udGV4dCgpLG9wdGdyb3VwOmEuYXR0cigibGFiZWwiKXx8IiIsZGlzYWJsZWQ6YS5wcm9wKCJkaXNhYmxlZCIpfHxuLnByb3AoImRpc2FibGVkIil9KX0pLHRoaXMuaXRlbXM9aX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm1lbnVXcmFwLnJlbW92ZSgpLHRoaXMuYnV0dG9uLnJlbW92ZSgpLHRoaXMuZWxlbWVudC5zaG93KCksdGhpcy5lbGVtZW50LnJlbW92ZVVuaXF1ZUlkKCksdGhpcy5sYWJlbC5hdHRyKCJmb3IiLHRoaXMuaWRzLmVsZW1lbnQpfX0pLGUud2lkZ2V0KCJ1aS5zbGlkZXIiLGUudWkubW91c2Use3ZlcnNpb246IjEuMTEuMSIsd2lkZ2V0RXZlbnRQcmVmaXg6InNsaWRlIixvcHRpb25zOnthbmltYXRlOiExLGRpc3RhbmNlOjAsbWF4OjEwMCxtaW46MCxvcmllbnRhdGlvbjoiaG9yaXpvbnRhbCIscmFuZ2U6ITEsc3RlcDoxLHZhbHVlOjAsdmFsdWVzOm51bGwsY2hhbmdlOm51bGwsc2xpZGU6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbH0sbnVtUGFnZXM6NSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fa2V5U2xpZGluZz0hMSx0aGlzLl9tb3VzZVNsaWRpbmc9ITEsdGhpcy5fYW5pbWF0ZU9mZj0hMCx0aGlzLl9oYW5kbGVJbmRleD1udWxsLHRoaXMuX2RldGVjdE9yaWVudGF0aW9uKCksdGhpcy5fbW91c2VJbml0KCksdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1zbGlkZXIgdWktc2xpZGVyLSIrdGhpcy5vcmllbnRhdGlvbisiIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIiksdGhpcy5fcmVmcmVzaCgpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHRoaXMub3B0aW9ucy5kaXNhYmxlZCksdGhpcy5fYW5pbWF0ZU9mZj0hMX0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9jcmVhdGVSYW5nZSgpLHRoaXMuX2NyZWF0ZUhhbmRsZXMoKSx0aGlzLl9zZXR1cEV2ZW50cygpLHRoaXMuX3JlZnJlc2hWYWx1ZSgpfSxfY3JlYXRlSGFuZGxlczpmdW5jdGlvbigpe3ZhciB0LGkscz10aGlzLm9wdGlvbnMsbj10aGlzLmVsZW1lbnQuZmluZCgiLnVpLXNsaWRlci1oYW5kbGUiKS5hZGRDbGFzcygidWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItYWxsIiksYT0iPHNwYW4gY2xhc3M9J3VpLXNsaWRlci1oYW5kbGUgdWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItYWxsJyB0YWJpbmRleD0nMCc+PC9zcGFuPiIsbz1bXTtmb3IoaT1zLnZhbHVlcyYmcy52YWx1ZXMubGVuZ3RofHwxLG4ubGVuZ3RoPmkmJihuLnNsaWNlKGkpLnJlbW92ZSgpLG49bi5zbGljZSgwLGkpKSx0PW4ubGVuZ3RoO2k+dDt0Kyspe28ucHVzaChhKX10aGlzLmhhbmRsZXM9bi5hZGQoZShvLmpvaW4oIiIpKS5hcHBlbmRUbyh0aGlzLmVsZW1lbnQpKSx0aGlzLmhhbmRsZT10aGlzLmhhbmRsZXMuZXEoMCksdGhpcy5oYW5kbGVzLmVhY2goZnVuY3Rpb24odCl7ZSh0aGlzKS5kYXRhKCJ1aS1zbGlkZXItaGFuZGxlLWluZGV4Iix0KX0pfSxfY3JlYXRlUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMsaT0iIjt0LnJhbmdlPyh0LnJhbmdlPT09ITAmJih0LnZhbHVlcz90LnZhbHVlcy5sZW5ndGgmJjIhPT10LnZhbHVlcy5sZW5ndGg/dC52YWx1ZXM9W3QudmFsdWVzWzBdLHQudmFsdWVzWzBdXTplLmlzQXJyYXkodC52YWx1ZXMpJiYodC52YWx1ZXM9dC52YWx1ZXMuc2xpY2UoMCkpOnQudmFsdWVzPVt0aGlzLl92YWx1ZU1pbigpLHRoaXMuX3ZhbHVlTWluKCldKSx0aGlzLnJhbmdlJiZ0aGlzLnJhbmdlLmxlbmd0aD90aGlzLnJhbmdlLnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXItcmFuZ2UtbWluIHVpLXNsaWRlci1yYW5nZS1tYXgiKS5jc3Moe2xlZnQ6IiIsYm90dG9tOiIifSk6KHRoaXMucmFuZ2U9ZSgiPGRpdj48L2Rpdj4iKS5hcHBlbmRUbyh0aGlzLmVsZW1lbnQpLGk9InVpLXNsaWRlci1yYW5nZSB1aS13aWRnZXQtaGVhZGVyIHVpLWNvcm5lci1hbGwiKSx0aGlzLnJhbmdlLmFkZENsYXNzKGkrKCJtaW4iPT09dC5yYW5nZXx8Im1heCI9PT10LnJhbmdlPyIgdWktc2xpZGVyLXJhbmdlLSIrdC5yYW5nZToiIikpKToodGhpcy5yYW5nZSYmdGhpcy5yYW5nZS5yZW1vdmUoKSx0aGlzLnJhbmdlPW51bGwpfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9vZmYodGhpcy5oYW5kbGVzKSx0aGlzLl9vbih0aGlzLmhhbmRsZXMsdGhpcy5faGFuZGxlRXZlbnRzKSx0aGlzLl9ob3ZlcmFibGUodGhpcy5oYW5kbGVzKSx0aGlzLl9mb2N1c2FibGUodGhpcy5oYW5kbGVzKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXMucmVtb3ZlKCksdGhpcy5yYW5nZSYmdGhpcy5yYW5nZS5yZW1vdmUoKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXNsaWRlciB1aS1zbGlkZXItaG9yaXpvbnRhbCB1aS1zbGlkZXItdmVydGljYWwgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwiKSx0aGlzLl9tb3VzZURlc3Ryb3koKX0sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbih0KXt2YXIgaSxzLG4sYSxvLHIsaCxsLHU9dGhpcyxkPXRoaXMub3B0aW9ucztyZXR1cm4gZC5kaXNhYmxlZD8hMToodGhpcy5lbGVtZW50U2l6ZT17d2lkdGg6dGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCl9LHRoaXMuZWxlbWVudE9mZnNldD10aGlzLmVsZW1lbnQub2Zmc2V0KCksaT17eDp0LnBhZ2VYLHk6dC5wYWdlWX0scz10aGlzLl9ub3JtVmFsdWVGcm9tTW91c2UoaSksbj10aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCkrMSx0aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbih0KXt2YXIgaT1NYXRoLmFicyhzLXUudmFsdWVzKHQpKTsobj5pfHxuPT09aSYmKHQ9PT11Ll9sYXN0Q2hhbmdlZFZhbHVlfHx1LnZhbHVlcyh0KT09PWQubWluKSkmJihuPWksYT1lKHRoaXMpLG89dCl9KSxyPXRoaXMuX3N0YXJ0KHQsbykscj09PSExPyExOih0aGlzLl9tb3VzZVNsaWRpbmc9ITAsdGhpcy5faGFuZGxlSW5kZXg9byxhLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKS5mb2N1cygpLGg9YS5vZmZzZXQoKSxsPSFlKHQudGFyZ2V0KS5wYXJlbnRzKCkuYWRkQmFjaygpLmlzKCIudWktc2xpZGVyLWhhbmRsZSIpLHRoaXMuX2NsaWNrT2Zmc2V0PWw/e2xlZnQ6MCx0b3A6MH06e2xlZnQ6dC5wYWdlWC1oLmxlZnQtYS53aWR0aCgpLzIsdG9wOnQucGFnZVktaC50b3AtYS5oZWlnaHQoKS8yLShwYXJzZUludChhLmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApLShwYXJzZUludChhLmNzcygiYm9yZGVyQm90dG9tV2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChhLmNzcygibWFyZ2luVG9wIiksMTApfHwwKX0sdGhpcy5oYW5kbGVzLmhhc0NsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfHx0aGlzLl9zbGlkZSh0LG8scyksdGhpcy5fYW5pbWF0ZU9mZj0hMCwhMCkpfSxfbW91c2VTdGFydDpmdW5jdGlvbigpe3JldHVybiAhMH0sX21vdXNlRHJhZzpmdW5jdGlvbihlKXt2YXIgdD17eDplLnBhZ2VYLHk6ZS5wYWdlWX0saT10aGlzLl9ub3JtVmFsdWVGcm9tTW91c2UodCk7cmV0dXJuIHRoaXMuX3NsaWRlKGUsdGhpcy5faGFuZGxlSW5kZXgsaSksITF9LF9tb3VzZVN0b3A6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaGFuZGxlcy5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIiksdGhpcy5fbW91c2VTbGlkaW5nPSExLHRoaXMuX3N0b3AoZSx0aGlzLl9oYW5kbGVJbmRleCksdGhpcy5fY2hhbmdlKGUsdGhpcy5faGFuZGxlSW5kZXgpLHRoaXMuX2hhbmRsZUluZGV4PW51bGwsdGhpcy5fY2xpY2tPZmZzZXQ9bnVsbCx0aGlzLl9hbmltYXRlT2ZmPSExLCExfSxfZGV0ZWN0T3JpZW50YXRpb246ZnVuY3Rpb24oKXt0aGlzLm9yaWVudGF0aW9uPSJ2ZXJ0aWNhbCI9PT10aGlzLm9wdGlvbnMub3JpZW50YXRpb24/InZlcnRpY2FsIjoiaG9yaXpvbnRhbCJ9LF9ub3JtVmFsdWVGcm9tTW91c2U6ZnVuY3Rpb24oZSl7dmFyIHQsaSxzLG4sYTtyZXR1cm4iaG9yaXpvbnRhbCI9PT10aGlzLm9yaWVudGF0aW9uPyh0PXRoaXMuZWxlbWVudFNpemUud2lkdGgsaT1lLngtdGhpcy5lbGVtZW50T2Zmc2V0LmxlZnQtKHRoaXMuX2NsaWNrT2Zmc2V0P3RoaXMuX2NsaWNrT2Zmc2V0LmxlZnQ6MCkpOih0PXRoaXMuZWxlbWVudFNpemUuaGVpZ2h0LGk9ZS55LXRoaXMuZWxlbWVudE9mZnNldC50b3AtKHRoaXMuX2NsaWNrT2Zmc2V0P3RoaXMuX2NsaWNrT2Zmc2V0LnRvcDowKSkscz1pL3Qscz4xJiYocz0xKSwwPnMmJihzPTApLCJ2ZXJ0aWNhbCI9PT10aGlzLm9yaWVudGF0aW9uJiYocz0xLXMpLG49dGhpcy5fdmFsdWVNYXgoKS10aGlzLl92YWx1ZU1pbigpLGE9dGhpcy5fdmFsdWVNaW4oKStzKm4sdGhpcy5fdHJpbUFsaWduVmFsdWUoYSl9LF9zdGFydDpmdW5jdGlvbihlLHQpe3ZhciBpPXtoYW5kbGU6dGhpcy5oYW5kbGVzW3RdLHZhbHVlOnRoaXMudmFsdWUoKX07cmV0dXJuIHRoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoJiYoaS52YWx1ZT10aGlzLnZhbHVlcyh0KSxpLnZhbHVlcz10aGlzLnZhbHVlcygpKSx0aGlzLl90cmlnZ2VyKCJzdGFydCIsZSxpKX0sX3NsaWRlOmZ1bmN0aW9uKGUsdCxpKXt2YXIgcyxuLGE7dGhpcy5vcHRpb25zLnZhbHVlcyYmdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGg/KHM9dGhpcy52YWx1ZXModD8wOjEpLDI9PT10aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCYmdGhpcy5vcHRpb25zLnJhbmdlPT09ITAmJigwPT09dCYmaT5zfHwxPT09dCYmcz5pKSYmKGk9cyksaSE9PXRoaXMudmFsdWVzKHQpJiYobj10aGlzLnZhbHVlcygpLG5bdF09aSxhPXRoaXMuX3RyaWdnZXIoInNsaWRlIixlLHtoYW5kbGU6dGhpcy5oYW5kbGVzW3RdLHZhbHVlOmksdmFsdWVzOm59KSxzPXRoaXMudmFsdWVzKHQ/MDoxKSxhIT09ITEmJnRoaXMudmFsdWVzKHQsaSkpKTppIT09dGhpcy52YWx1ZSgpJiYoYT10aGlzLl90cmlnZ2VyKCJzbGlkZSIsZSx7aGFuZGxlOnRoaXMuaGFuZGxlc1t0XSx2YWx1ZTppfSksYSE9PSExJiZ0aGlzLnZhbHVlKGkpKX0sX3N0b3A6ZnVuY3Rpb24oZSx0KXt2YXIgaT17aGFuZGxlOnRoaXMuaGFuZGxlc1t0XSx2YWx1ZTp0aGlzLnZhbHVlKCl9O3RoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoJiYoaS52YWx1ZT10aGlzLnZhbHVlcyh0KSxpLnZhbHVlcz10aGlzLnZhbHVlcygpKSx0aGlzLl90cmlnZ2VyKCJzdG9wIixlLGkpfSxfY2hhbmdlOmZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMuX2tleVNsaWRpbmcmJiF0aGlzLl9tb3VzZVNsaWRpbmcpe3ZhciBpPXtoYW5kbGU6dGhpcy5oYW5kbGVzW3RdLHZhbHVlOnRoaXMudmFsdWUoKX07dGhpcy5vcHRpb25zLnZhbHVlcyYmdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgmJihpLnZhbHVlPXRoaXMudmFsdWVzKHQpLGkudmFsdWVzPXRoaXMudmFsdWVzKCkpLHRoaXMuX2xhc3RDaGFuZ2VkVmFsdWU9dCx0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLGUsaSl9fSx2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX3RyaW1BbGlnblZhbHVlKGUpLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHRoaXMuX2NoYW5nZShudWxsLDApLHZvaWQgMCk6dGhpcy5fdmFsdWUoKX0sdmFsdWVzOmZ1bmN0aW9uKHQsaSl7dmFyIHMsbixhO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7cmV0dXJuIHRoaXMub3B0aW9ucy52YWx1ZXNbdF09dGhpcy5fdHJpbUFsaWduVmFsdWUoaSksdGhpcy5fcmVmcmVzaFZhbHVlKCksdGhpcy5fY2hhbmdlKG51bGwsdCksdm9pZCAwfWlmKCFhcmd1bWVudHMubGVuZ3RoKXtyZXR1cm4gdGhpcy5fdmFsdWVzKCl9aWYoIWUuaXNBcnJheShhcmd1bWVudHNbMF0pKXtyZXR1cm4gdGhpcy5vcHRpb25zLnZhbHVlcyYmdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGg/dGhpcy5fdmFsdWVzKHQpOnRoaXMudmFsdWUoKX1mb3Iocz10aGlzLm9wdGlvbnMudmFsdWVzLG49YXJndW1lbnRzWzBdLGE9MDtzLmxlbmd0aD5hO2ErPTEpe3NbYV09dGhpcy5fdHJpbUFsaWduVmFsdWUoblthXSksdGhpcy5fY2hhbmdlKG51bGwsYSl9dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxpKXt2YXIgcyxuPTA7c3dpdGNoKCJyYW5nZSI9PT10JiZ0aGlzLm9wdGlvbnMucmFuZ2U9PT0hMCYmKCJtaW4iPT09aT8odGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX3ZhbHVlcygwKSx0aGlzLm9wdGlvbnMudmFsdWVzPW51bGwpOiJtYXgiPT09aSYmKHRoaXMub3B0aW9ucy52YWx1ZT10aGlzLl92YWx1ZXModGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgtMSksdGhpcy5vcHRpb25zLnZhbHVlcz1udWxsKSksZS5pc0FycmF5KHRoaXMub3B0aW9ucy52YWx1ZXMpJiYobj10aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCksImRpc2FibGVkIj09PXQmJnRoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiLCEhaSksdGhpcy5fc3VwZXIodCxpKSx0KXtjYXNlIm9yaWVudGF0aW9uIjp0aGlzLl9kZXRlY3RPcmllbnRhdGlvbigpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktc2xpZGVyLWhvcml6b250YWwgdWktc2xpZGVyLXZlcnRpY2FsIikuYWRkQ2xhc3MoInVpLXNsaWRlci0iK3RoaXMub3JpZW50YXRpb24pLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHRoaXMuaGFuZGxlcy5jc3MoImhvcml6b250YWwiPT09aT8iYm90dG9tIjoibGVmdCIsIiIpO2JyZWFrO2Nhc2UidmFsdWUiOnRoaXMuX2FuaW1hdGVPZmY9ITAsdGhpcy5fcmVmcmVzaFZhbHVlKCksdGhpcy5fY2hhbmdlKG51bGwsMCksdGhpcy5fYW5pbWF0ZU9mZj0hMTticmVhaztjYXNlInZhbHVlcyI6Zm9yKHRoaXMuX2FuaW1hdGVPZmY9ITAsdGhpcy5fcmVmcmVzaFZhbHVlKCkscz0wO24+cztzKz0xKXt0aGlzLl9jaGFuZ2UobnVsbCxzKX10aGlzLl9hbmltYXRlT2ZmPSExO2JyZWFrO2Nhc2UibWluIjpjYXNlIm1heCI6dGhpcy5fYW5pbWF0ZU9mZj0hMCx0aGlzLl9yZWZyZXNoVmFsdWUoKSx0aGlzLl9hbmltYXRlT2ZmPSExO2JyZWFrO2Nhc2UicmFuZ2UiOnRoaXMuX2FuaW1hdGVPZmY9ITAsdGhpcy5fcmVmcmVzaCgpLHRoaXMuX2FuaW1hdGVPZmY9ITF9fSxfdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnMudmFsdWU7cmV0dXJuIGU9dGhpcy5fdHJpbUFsaWduVmFsdWUoZSl9LF92YWx1ZXM6ZnVuY3Rpb24oZSl7dmFyIHQsaSxzO2lmKGFyZ3VtZW50cy5sZW5ndGgpe3JldHVybiB0PXRoaXMub3B0aW9ucy52YWx1ZXNbZV0sdD10aGlzLl90cmltQWxpZ25WYWx1ZSh0KX1pZih0aGlzLm9wdGlvbnMudmFsdWVzJiZ0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCl7Zm9yKGk9dGhpcy5vcHRpb25zLnZhbHVlcy5zbGljZSgpLHM9MDtpLmxlbmd0aD5zO3MrPTEpe2lbc109dGhpcy5fdHJpbUFsaWduVmFsdWUoaVtzXSl9cmV0dXJuIGl9cmV0dXJuW119LF90cmltQWxpZ25WYWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLl92YWx1ZU1pbigpPj1lKXtyZXR1cm4gdGhpcy5fdmFsdWVNaW4oKX1pZihlPj10aGlzLl92YWx1ZU1heCgpKXtyZXR1cm4gdGhpcy5fdmFsdWVNYXgoKX12YXIgdD10aGlzLm9wdGlvbnMuc3RlcD4wP3RoaXMub3B0aW9ucy5zdGVwOjEsaT0oZS10aGlzLl92YWx1ZU1pbigpKSV0LHM9ZS1pO3JldHVybiAyKk1hdGguYWJzKGkpPj10JiYocys9aT4wP3Q6LXQpLHBhcnNlRmxvYXQocy50b0ZpeGVkKDUpKX0sX3ZhbHVlTWluOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5taW59LF92YWx1ZU1heDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMubWF4fSxfcmVmcmVzaFZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsaSxzLG4sYSxvPXRoaXMub3B0aW9ucy5yYW5nZSxyPXRoaXMub3B0aW9ucyxoPXRoaXMsbD10aGlzLl9hbmltYXRlT2ZmPyExOnIuYW5pbWF0ZSx1PXt9O3RoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoP3RoaXMuaGFuZGxlcy5lYWNoKGZ1bmN0aW9uKHMpe2k9MTAwKigoaC52YWx1ZXMocyktaC5fdmFsdWVNaW4oKSkvKGguX3ZhbHVlTWF4KCktaC5fdmFsdWVNaW4oKSkpLHVbImhvcml6b250YWwiPT09aC5vcmllbnRhdGlvbj8ibGVmdCI6ImJvdHRvbSJdPWkrIiUiLGUodGhpcykuc3RvcCgxLDEpW2w/ImFuaW1hdGUiOiJjc3MiXSh1LHIuYW5pbWF0ZSksaC5vcHRpb25zLnJhbmdlPT09ITAmJigiaG9yaXpvbnRhbCI9PT1oLm9yaWVudGF0aW9uPygwPT09cyYmaC5yYW5nZS5zdG9wKDEsMSlbbD8iYW5pbWF0ZSI6ImNzcyJdKHtsZWZ0OmkrIiUifSxyLmFuaW1hdGUpLDE9PT1zJiZoLnJhbmdlW2w/ImFuaW1hdGUiOiJjc3MiXSh7d2lkdGg6aS10KyIlIn0se3F1ZXVlOiExLGR1cmF0aW9uOnIuYW5pbWF0ZX0pKTooMD09PXMmJmgucmFuZ2Uuc3RvcCgxLDEpW2w/ImFuaW1hdGUiOiJjc3MiXSh7Ym90dG9tOmkrIiUifSxyLmFuaW1hdGUpLDE9PT1zJiZoLnJhbmdlW2w/ImFuaW1hdGUiOiJjc3MiXSh7aGVpZ2h0OmktdCsiJSJ9LHtxdWV1ZTohMSxkdXJhdGlvbjpyLmFuaW1hdGV9KSkpLHQ9aX0pOihzPXRoaXMudmFsdWUoKSxuPXRoaXMuX3ZhbHVlTWluKCksYT10aGlzLl92YWx1ZU1heCgpLGk9YSE9PW4/MTAwKigocy1uKS8oYS1uKSk6MCx1WyJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24/ImxlZnQiOiJib3R0b20iXT1pKyIlIix0aGlzLmhhbmRsZS5zdG9wKDEsMSlbbD8iYW5pbWF0ZSI6ImNzcyJdKHUsci5hbmltYXRlKSwibWluIj09PW8mJiJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24mJnRoaXMucmFuZ2Uuc3RvcCgxLDEpW2w/ImFuaW1hdGUiOiJjc3MiXSh7d2lkdGg6aSsiJSJ9LHIuYW5pbWF0ZSksIm1heCI9PT1vJiYiaG9yaXpvbnRhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlW2w/ImFuaW1hdGUiOiJjc3MiXSh7d2lkdGg6MTAwLWkrIiUifSx7cXVldWU6ITEsZHVyYXRpb246ci5hbmltYXRlfSksIm1pbiI9PT1vJiYidmVydGljYWwiPT09dGhpcy5vcmllbnRhdGlvbiYmdGhpcy5yYW5nZS5zdG9wKDEsMSlbbD8iYW5pbWF0ZSI6ImNzcyJdKHtoZWlnaHQ6aSsiJSJ9LHIuYW5pbWF0ZSksIm1heCI9PT1vJiYidmVydGljYWwiPT09dGhpcy5vcmllbnRhdGlvbiYmdGhpcy5yYW5nZVtsPyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDoxMDAtaSsiJSJ9LHtxdWV1ZTohMSxkdXJhdGlvbjpyLmFuaW1hdGV9KSl9LF9oYW5kbGVFdmVudHM6e2tleWRvd246ZnVuY3Rpb24odCl7dmFyIGkscyxuLGEsbz1lKHQudGFyZ2V0KS5kYXRhKCJ1aS1zbGlkZXItaGFuZGxlLWluZGV4Iik7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSBlLnVpLmtleUNvZGUuSE9NRTpjYXNlIGUudWkua2V5Q29kZS5FTkQ6Y2FzZSBlLnVpLmtleUNvZGUuUEFHRV9VUDpjYXNlIGUudWkua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBlLnVpLmtleUNvZGUuVVA6Y2FzZSBlLnVpLmtleUNvZGUuUklHSFQ6Y2FzZSBlLnVpLmtleUNvZGUuRE9XTjpjYXNlIGUudWkua2V5Q29kZS5MRUZUOmlmKHQucHJldmVudERlZmF1bHQoKSwhdGhpcy5fa2V5U2xpZGluZyYmKHRoaXMuX2tleVNsaWRpbmc9ITAsZSh0LnRhcmdldCkuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLGk9dGhpcy5fc3RhcnQodCxvKSxpPT09ITEpKXtyZXR1cm59fXN3aXRjaChhPXRoaXMub3B0aW9ucy5zdGVwLHM9bj10aGlzLm9wdGlvbnMudmFsdWVzJiZ0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aD90aGlzLnZhbHVlcyhvKTp0aGlzLnZhbHVlKCksdC5rZXlDb2RlKXtjYXNlIGUudWkua2V5Q29kZS5IT01FOm49dGhpcy5fdmFsdWVNaW4oKTticmVhaztjYXNlIGUudWkua2V5Q29kZS5FTkQ6bj10aGlzLl92YWx1ZU1heCgpO2JyZWFrO2Nhc2UgZS51aS5rZXlDb2RlLlBBR0VfVVA6bj10aGlzLl90cmltQWxpZ25WYWx1ZShzKyh0aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCkpL3RoaXMubnVtUGFnZXMpO2JyZWFrO2Nhc2UgZS51aS5rZXlDb2RlLlBBR0VfRE9XTjpuPXRoaXMuX3RyaW1BbGlnblZhbHVlKHMtKHRoaXMuX3ZhbHVlTWF4KCktdGhpcy5fdmFsdWVNaW4oKSkvdGhpcy5udW1QYWdlcyk7YnJlYWs7Y2FzZSBlLnVpLmtleUNvZGUuVVA6Y2FzZSBlLnVpLmtleUNvZGUuUklHSFQ6aWYocz09PXRoaXMuX3ZhbHVlTWF4KCkpe3JldHVybn1uPXRoaXMuX3RyaW1BbGlnblZhbHVlKHMrYSk7YnJlYWs7Y2FzZSBlLnVpLmtleUNvZGUuRE9XTjpjYXNlIGUudWkua2V5Q29kZS5MRUZUOmlmKHM9PT10aGlzLl92YWx1ZU1pbigpKXtyZXR1cm59bj10aGlzLl90cmltQWxpZ25WYWx1ZShzLWEpfXRoaXMuX3NsaWRlKHQsbyxuKX0sa2V5dXA6ZnVuY3Rpb24odCl7dmFyIGk9ZSh0LnRhcmdldCkuZGF0YSgidWktc2xpZGVyLWhhbmRsZS1pbmRleCIpO3RoaXMuX2tleVNsaWRpbmcmJih0aGlzLl9rZXlTbGlkaW5nPSExLHRoaXMuX3N0b3AodCxpKSx0aGlzLl9jaGFuZ2UodCxpKSxlKHQudGFyZ2V0KS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIikpfX19KSxlLndpZGdldCgidWkuc29ydGFibGUiLGUudWkubW91c2Use3ZlcnNpb246IjEuMTEuMSIsd2lkZ2V0RXZlbnRQcmVmaXg6InNvcnQiLHJlYWR5OiExLG9wdGlvbnM6e2FwcGVuZFRvOiJwYXJlbnQiLGF4aXM6ITEsY29ubmVjdFdpdGg6ITEsY29udGFpbm1lbnQ6ITEsY3Vyc29yOiJhdXRvIixjdXJzb3JBdDohMSxkcm9wT25FbXB0eTohMCxmb3JjZVBsYWNlaG9sZGVyU2l6ZTohMSxmb3JjZUhlbHBlclNpemU6ITEsZ3JpZDohMSxoYW5kbGU6ITEsaGVscGVyOiJvcmlnaW5hbCIsaXRlbXM6Ij4gKiIsb3BhY2l0eTohMSxwbGFjZWhvbGRlcjohMSxyZXZlcnQ6ITEsc2Nyb2xsOiEwLHNjcm9sbFNlbnNpdGl2aXR5OjIwLHNjcm9sbFNwZWVkOjIwLHNjb3BlOiJkZWZhdWx0Iix0b2xlcmFuY2U6ImludGVyc2VjdCIsekluZGV4OjEwMDAsYWN0aXZhdGU6bnVsbCxiZWZvcmVTdG9wOm51bGwsY2hhbmdlOm51bGwsZGVhY3RpdmF0ZTpudWxsLG91dDpudWxsLG92ZXI6bnVsbCxyZWNlaXZlOm51bGwscmVtb3ZlOm51bGwsc29ydDpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsLHVwZGF0ZTpudWxsfSxfaXNPdmVyQXhpczpmdW5jdGlvbihlLHQsaSl7cmV0dXJuIGU+PXQmJnQraT5lfSxfaXNGbG9hdGluZzpmdW5jdGlvbihlKXtyZXR1cm4vbGVmdHxyaWdodC8udGVzdChlLmNzcygiZmxvYXQiKSl8fC9pbmxpbmV8dGFibGUtY2VsbC8udGVzdChlLmNzcygiZGlzcGxheSIpKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9uczt0aGlzLmNvbnRhaW5lckNhY2hlPXt9LHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktc29ydGFibGUiKSx0aGlzLnJlZnJlc2goKSx0aGlzLmZsb2F0aW5nPXRoaXMuaXRlbXMubGVuZ3RoPyJ4Ij09PWUuYXhpc3x8dGhpcy5faXNGbG9hdGluZyh0aGlzLml0ZW1zWzBdLml0ZW0pOiExLHRoaXMub2Zmc2V0PXRoaXMuZWxlbWVudC5vZmZzZXQoKSx0aGlzLl9tb3VzZUluaXQoKSx0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKSx0aGlzLnJlYWR5PSEwfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGUsdCl7dGhpcy5fc3VwZXIoZSx0KSwiaGFuZGxlIj09PWUmJnRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpfSxfc2V0SGFuZGxlQ2xhc3NOYW1lOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmZpbmQoIi51aS1zb3J0YWJsZS1oYW5kbGUiKS5yZW1vdmVDbGFzcygidWktc29ydGFibGUtaGFuZGxlIiksZS5lYWNoKHRoaXMuaXRlbXMsZnVuY3Rpb24oKXsodGhpcy5pbnN0YW5jZS5vcHRpb25zLmhhbmRsZT90aGlzLml0ZW0uZmluZCh0aGlzLmluc3RhbmNlLm9wdGlvbnMuaGFuZGxlKTp0aGlzLml0ZW0pLmFkZENsYXNzKCJ1aS1zb3J0YWJsZS1oYW5kbGUiKX0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktc29ydGFibGUgdWktc29ydGFibGUtZGlzYWJsZWQiKS5maW5kKCIudWktc29ydGFibGUtaGFuZGxlIikucmVtb3ZlQ2xhc3MoInVpLXNvcnRhYmxlLWhhbmRsZSIpLHRoaXMuX21vdXNlRGVzdHJveSgpO2Zvcih2YXIgZT10aGlzLml0ZW1zLmxlbmd0aC0xO2U+PTA7ZS0tKXt0aGlzLml0ZW1zW2VdLml0ZW0ucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUrIi1pdGVtIil9cmV0dXJuIHRoaXN9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24odCxpKXt2YXIgcz1udWxsLG49ITEsYT10aGlzO3JldHVybiB0aGlzLnJldmVydGluZz8hMTp0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fCJzdGF0aWMiPT09dGhpcy5vcHRpb25zLnR5cGU/ITE6KHRoaXMuX3JlZnJlc2hJdGVtcyh0KSxlKHQudGFyZ2V0KS5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe3JldHVybiBlLmRhdGEodGhpcyxhLndpZGdldE5hbWUrIi1pdGVtIik9PT1hPyhzPWUodGhpcyksITEpOnZvaWQgMH0pLGUuZGF0YSh0LnRhcmdldCxhLndpZGdldE5hbWUrIi1pdGVtIik9PT1hJiYocz1lKHQudGFyZ2V0KSkscz8hdGhpcy5vcHRpb25zLmhhbmRsZXx8aXx8KGUodGhpcy5vcHRpb25zLmhhbmRsZSxzKS5maW5kKCIqIikuYWRkQmFjaygpLmVhY2goZnVuY3Rpb24oKXt0aGlzPT09dC50YXJnZXQmJihuPSEwKX0pLG4pPyh0aGlzLmN1cnJlbnRJdGVtPXMsdGhpcy5fcmVtb3ZlQ3VycmVudHNGcm9tSXRlbXMoKSwhMCk6ITE6ITEpfSxfbW91c2VTdGFydDpmdW5jdGlvbih0LGkscyl7dmFyIG4sYSxvPXRoaXMub3B0aW9ucztpZih0aGlzLmN1cnJlbnRDb250YWluZXI9dGhpcyx0aGlzLnJlZnJlc2hQb3NpdGlvbnMoKSx0aGlzLmhlbHBlcj10aGlzLl9jcmVhdGVIZWxwZXIodCksdGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpLHRoaXMuX2NhY2hlTWFyZ2lucygpLHRoaXMuc2Nyb2xsUGFyZW50PXRoaXMuaGVscGVyLnNjcm9sbFBhcmVudCgpLHRoaXMub2Zmc2V0PXRoaXMuY3VycmVudEl0ZW0ub2Zmc2V0KCksdGhpcy5vZmZzZXQ9e3RvcDp0aGlzLm9mZnNldC50b3AtdGhpcy5tYXJnaW5zLnRvcCxsZWZ0OnRoaXMub2Zmc2V0LmxlZnQtdGhpcy5tYXJnaW5zLmxlZnR9LGUuZXh0ZW5kKHRoaXMub2Zmc2V0LHtjbGljazp7bGVmdDp0LnBhZ2VYLXRoaXMub2Zmc2V0LmxlZnQsdG9wOnQucGFnZVktdGhpcy5vZmZzZXQudG9wfSxwYXJlbnQ6dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkscmVsYXRpdmU6dGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKX0pLHRoaXMuaGVscGVyLmNzcygicG9zaXRpb24iLCJhYnNvbHV0ZSIpLHRoaXMuY3NzUG9zaXRpb249dGhpcy5oZWxwZXIuY3NzKCJwb3NpdGlvbiIpLHRoaXMub3JpZ2luYWxQb3NpdGlvbj10aGlzLl9nZW5lcmF0ZVBvc2l0aW9uKHQpLHRoaXMub3JpZ2luYWxQYWdlWD10LnBhZ2VYLHRoaXMub3JpZ2luYWxQYWdlWT10LnBhZ2VZLG8uY3Vyc29yQXQmJnRoaXMuX2FkanVzdE9mZnNldEZyb21IZWxwZXIoby5jdXJzb3JBdCksdGhpcy5kb21Qb3NpdGlvbj17cHJldjp0aGlzLmN1cnJlbnRJdGVtLnByZXYoKVswXSxwYXJlbnQ6dGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKVswXX0sdGhpcy5oZWxwZXJbMF0hPT10aGlzLmN1cnJlbnRJdGVtWzBdJiZ0aGlzLmN1cnJlbnRJdGVtLmhpZGUoKSx0aGlzLl9jcmVhdGVQbGFjZWhvbGRlcigpLG8uY29udGFpbm1lbnQmJnRoaXMuX3NldENvbnRhaW5tZW50KCksby5jdXJzb3ImJiJhdXRvIiE9PW8uY3Vyc29yJiYoYT10aGlzLmRvY3VtZW50LmZpbmQoImJvZHkiKSx0aGlzLnN0b3JlZEN1cnNvcj1hLmNzcygiY3Vyc29yIiksYS5jc3MoImN1cnNvciIsby5jdXJzb3IpLHRoaXMuc3RvcmVkU3R5bGVzaGVldD1lKCI8c3R5bGU+KnsgY3Vyc29yOiAiK28uY3Vyc29yKyIgIWltcG9ydGFudDsgfTwvc3R5bGU+IikuYXBwZW5kVG8oYSkpLG8ub3BhY2l0eSYmKHRoaXMuaGVscGVyLmNzcygib3BhY2l0eSIpJiYodGhpcy5fc3RvcmVkT3BhY2l0eT10aGlzLmhlbHBlci5jc3MoIm9wYWNpdHkiKSksdGhpcy5oZWxwZXIuY3NzKCJvcGFjaXR5IixvLm9wYWNpdHkpKSxvLnpJbmRleCYmKHRoaXMuaGVscGVyLmNzcygiekluZGV4IikmJih0aGlzLl9zdG9yZWRaSW5kZXg9dGhpcy5oZWxwZXIuY3NzKCJ6SW5kZXgiKSksdGhpcy5oZWxwZXIuY3NzKCJ6SW5kZXgiLG8uekluZGV4KSksdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT1kb2N1bWVudCYmIkhUTUwiIT09dGhpcy5zY3JvbGxQYXJlbnRbMF0udGFnTmFtZSYmKHRoaXMub3ZlcmZsb3dPZmZzZXQ9dGhpcy5zY3JvbGxQYXJlbnQub2Zmc2V0KCkpLHRoaXMuX3RyaWdnZXIoInN0YXJ0Iix0LHRoaXMuX3VpSGFzaCgpKSx0aGlzLl9wcmVzZXJ2ZUhlbHBlclByb3BvcnRpb25zfHx0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCksIXMpe2ZvcihuPXRoaXMuY29udGFpbmVycy5sZW5ndGgtMTtuPj0wO24tLSl7dGhpcy5jb250YWluZXJzW25dLl90cmlnZ2VyKCJhY3RpdmF0ZSIsdCx0aGlzLl91aUhhc2godGhpcykpfX1yZXR1cm4gZS51aS5kZG1hbmFnZXImJihlLnVpLmRkbWFuYWdlci5jdXJyZW50PXRoaXMpLGUudWkuZGRtYW5hZ2VyJiYhby5kcm9wQmVoYXZpb3VyJiZlLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLHQpLHRoaXMuZHJhZ2dpbmc9ITAsdGhpcy5oZWxwZXIuYWRkQ2xhc3MoInVpLXNvcnRhYmxlLWhlbHBlciIpLHRoaXMuX21vdXNlRHJhZyh0KSwhMH0sX21vdXNlRHJhZzpmdW5jdGlvbih0KXt2YXIgaSxzLG4sYSxvPXRoaXMub3B0aW9ucyxyPSExO2Zvcih0aGlzLnBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24odCksdGhpcy5wb3NpdGlvbkFicz10aGlzLl9jb252ZXJ0UG9zaXRpb25UbygiYWJzb2x1dGUiKSx0aGlzLmxhc3RQb3NpdGlvbkFic3x8KHRoaXMubGFzdFBvc2l0aW9uQWJzPXRoaXMucG9zaXRpb25BYnMpLHRoaXMub3B0aW9ucy5zY3JvbGwmJih0aGlzLnNjcm9sbFBhcmVudFswXSE9PWRvY3VtZW50JiYiSFRNTCIhPT10aGlzLnNjcm9sbFBhcmVudFswXS50YWdOYW1lPyh0aGlzLm92ZXJmbG93T2Zmc2V0LnRvcCt0aGlzLnNjcm9sbFBhcmVudFswXS5vZmZzZXRIZWlnaHQtdC5wYWdlWTxvLnNjcm9sbFNlbnNpdGl2aXR5P3RoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1yPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcCtvLnNjcm9sbFNwZWVkOnQucGFnZVktdGhpcy5vdmVyZmxvd09mZnNldC50b3A8by5zY3JvbGxTZW5zaXRpdml0eSYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1yPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcC1vLnNjcm9sbFNwZWVkKSx0aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQrdGhpcy5zY3JvbGxQYXJlbnRbMF0ub2Zmc2V0V2lkdGgtdC5wYWdlWDxvLnNjcm9sbFNlbnNpdGl2aXR5P3RoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9cj10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0K28uc2Nyb2xsU3BlZWQ6dC5wYWdlWC10aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQ8by5zY3JvbGxTZW5zaXRpdml0eSYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9cj10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0LW8uc2Nyb2xsU3BlZWQpKToodC5wYWdlWS1lKGRvY3VtZW50KS5zY3JvbGxUb3AoKTxvLnNjcm9sbFNlbnNpdGl2aXR5P3I9ZShkb2N1bWVudCkuc2Nyb2xsVG9wKGUoZG9jdW1lbnQpLnNjcm9sbFRvcCgpLW8uc2Nyb2xsU3BlZWQpOmUod2luZG93KS5oZWlnaHQoKS0odC5wYWdlWS1lKGRvY3VtZW50KS5zY3JvbGxUb3AoKSk8by5zY3JvbGxTZW5zaXRpdml0eSYmKHI9ZShkb2N1bWVudCkuc2Nyb2xsVG9wKGUoZG9jdW1lbnQpLnNjcm9sbFRvcCgpK28uc2Nyb2xsU3BlZWQpKSx0LnBhZ2VYLWUoZG9jdW1lbnQpLnNjcm9sbExlZnQoKTxvLnNjcm9sbFNlbnNpdGl2aXR5P3I9ZShkb2N1bWVudCkuc2Nyb2xsTGVmdChlKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCktby5zY3JvbGxTcGVlZCk6ZSh3aW5kb3cpLndpZHRoKCktKHQucGFnZVgtZShkb2N1bWVudCkuc2Nyb2xsTGVmdCgpKTxvLnNjcm9sbFNlbnNpdGl2aXR5JiYocj1lKGRvY3VtZW50KS5zY3JvbGxMZWZ0KGUoZG9jdW1lbnQpLnNjcm9sbExlZnQoKStvLnNjcm9sbFNwZWVkKSkpLHIhPT0hMSYmZS51aS5kZG1hbmFnZXImJiFvLmRyb3BCZWhhdmlvdXImJmUudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHRoaXMsdCkpLHRoaXMucG9zaXRpb25BYnM9dGhpcy5fY29udmVydFBvc2l0aW9uVG8oImFic29sdXRlIiksdGhpcy5vcHRpb25zLmF4aXMmJiJ5Ij09PXRoaXMub3B0aW9ucy5heGlzfHwodGhpcy5oZWxwZXJbMF0uc3R5bGUubGVmdD10aGlzLnBvc2l0aW9uLmxlZnQrInB4IiksdGhpcy5vcHRpb25zLmF4aXMmJiJ4Ij09PXRoaXMub3B0aW9ucy5heGlzfHwodGhpcy5oZWxwZXJbMF0uc3R5bGUudG9wPXRoaXMucG9zaXRpb24udG9wKyJweCIpLGk9dGhpcy5pdGVtcy5sZW5ndGgtMTtpPj0wO2ktLSl7aWYocz10aGlzLml0ZW1zW2ldLG49cy5pdGVtWzBdLGE9dGhpcy5faW50ZXJzZWN0c1dpdGhQb2ludGVyKHMpLGEmJnMuaW5zdGFuY2U9PT10aGlzLmN1cnJlbnRDb250YWluZXImJm4hPT10aGlzLmN1cnJlbnRJdGVtWzBdJiZ0aGlzLnBsYWNlaG9sZGVyWzE9PT1hPyJuZXh0IjoicHJldiJdKClbMF0hPT1uJiYhZS5jb250YWlucyh0aGlzLnBsYWNlaG9sZGVyWzBdLG4pJiYoInNlbWktZHluYW1pYyI9PT10aGlzLm9wdGlvbnMudHlwZT8hZS5jb250YWlucyh0aGlzLmVsZW1lbnRbMF0sbik6ITApKXtpZih0aGlzLmRpcmVjdGlvbj0xPT09YT8iZG93biI6InVwIiwicG9pbnRlciIhPT10aGlzLm9wdGlvbnMudG9sZXJhbmNlJiYhdGhpcy5faW50ZXJzZWN0c1dpdGhTaWRlcyhzKSl7YnJlYWt9dGhpcy5fcmVhcnJhbmdlKHQscyksdGhpcy5fdHJpZ2dlcigiY2hhbmdlIix0LHRoaXMuX3VpSGFzaCgpKTticmVha319cmV0dXJuIHRoaXMuX2NvbnRhY3RDb250YWluZXJzKHQpLGUudWkuZGRtYW5hZ2VyJiZlLnVpLmRkbWFuYWdlci5kcmFnKHRoaXMsdCksdGhpcy5fdHJpZ2dlcigic29ydCIsdCx0aGlzLl91aUhhc2goKSksdGhpcy5sYXN0UG9zaXRpb25BYnM9dGhpcy5wb3NpdGlvbkFicywhMX0sX21vdXNlU3RvcDpmdW5jdGlvbih0LGkpe2lmKHQpe2lmKGUudWkuZGRtYW5hZ2VyJiYhdGhpcy5vcHRpb25zLmRyb3BCZWhhdmlvdXImJmUudWkuZGRtYW5hZ2VyLmRyb3AodGhpcyx0KSx0aGlzLm9wdGlvbnMucmV2ZXJ0KXt2YXIgcz10aGlzLG49dGhpcy5wbGFjZWhvbGRlci5vZmZzZXQoKSxhPXRoaXMub3B0aW9ucy5heGlzLG89e307YSYmIngiIT09YXx8KG8ubGVmdD1uLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQtdGhpcy5tYXJnaW5zLmxlZnQrKHRoaXMub2Zmc2V0UGFyZW50WzBdPT09ZG9jdW1lbnQuYm9keT8wOnRoaXMub2Zmc2V0UGFyZW50WzBdLnNjcm9sbExlZnQpKSxhJiYieSIhPT1hfHwoby50b3A9bi50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcC10aGlzLm1hcmdpbnMudG9wKyh0aGlzLm9mZnNldFBhcmVudFswXT09PWRvY3VtZW50LmJvZHk/MDp0aGlzLm9mZnNldFBhcmVudFswXS5zY3JvbGxUb3ApKSx0aGlzLnJldmVydGluZz0hMCxlKHRoaXMuaGVscGVyKS5hbmltYXRlKG8scGFyc2VJbnQodGhpcy5vcHRpb25zLnJldmVydCwxMCl8fDUwMCxmdW5jdGlvbigpe3MuX2NsZWFyKHQpfSl9ZWxzZXt0aGlzLl9jbGVhcih0LGkpfXJldHVybiAhMX19LGNhbmNlbDpmdW5jdGlvbigpe2lmKHRoaXMuZHJhZ2dpbmcpe3RoaXMuX21vdXNlVXAoe3RhcmdldDpudWxsfSksIm9yaWdpbmFsIj09PXRoaXMub3B0aW9ucy5oZWxwZXI/dGhpcy5jdXJyZW50SXRlbS5jc3ModGhpcy5fc3RvcmVkQ1NTKS5yZW1vdmVDbGFzcygidWktc29ydGFibGUtaGVscGVyIik6dGhpcy5jdXJyZW50SXRlbS5zaG93KCk7Zm9yKHZhciB0PXRoaXMuY29udGFpbmVycy5sZW5ndGgtMTt0Pj0wO3QtLSl7dGhpcy5jb250YWluZXJzW3RdLl90cmlnZ2VyKCJkZWFjdGl2YXRlIixudWxsLHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jb250YWluZXJzW3RdLmNvbnRhaW5lckNhY2hlLm92ZXImJih0aGlzLmNvbnRhaW5lcnNbdF0uX3RyaWdnZXIoIm91dCIsbnVsbCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1t0XS5jb250YWluZXJDYWNoZS5vdmVyPTApfX1yZXR1cm4gdGhpcy5wbGFjZWhvbGRlciYmKHRoaXMucGxhY2Vob2xkZXJbMF0ucGFyZW50Tm9kZSYmdGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pLCJvcmlnaW5hbCIhPT10aGlzLm9wdGlvbnMuaGVscGVyJiZ0aGlzLmhlbHBlciYmdGhpcy5oZWxwZXJbMF0ucGFyZW50Tm9kZSYmdGhpcy5oZWxwZXIucmVtb3ZlKCksZS5leHRlbmQodGhpcyx7aGVscGVyOm51bGwsZHJhZ2dpbmc6ITEscmV2ZXJ0aW5nOiExLF9ub0ZpbmFsU29ydDpudWxsfSksdGhpcy5kb21Qb3NpdGlvbi5wcmV2P2UodGhpcy5kb21Qb3NpdGlvbi5wcmV2KS5hZnRlcih0aGlzLmN1cnJlbnRJdGVtKTplKHRoaXMuZG9tUG9zaXRpb24ucGFyZW50KS5wcmVwZW5kKHRoaXMuY3VycmVudEl0ZW0pKSx0aGlzfSxzZXJpYWxpemU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fZ2V0SXRlbXNBc2pRdWVyeSh0JiZ0LmNvbm5lY3RlZCkscz1bXTtyZXR1cm4gdD10fHx7fSxlKGkpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT0oZSh0Lml0ZW18fHRoaXMpLmF0dHIodC5hdHRyaWJ1dGV8fCJpZCIpfHwiIikubWF0Y2godC5leHByZXNzaW9ufHwvKC4rKVtcLT1fXSguKykvKTtpJiZzLnB1c2goKHQua2V5fHxpWzFdKyJbXSIpKyI9IisodC5rZXkmJnQuZXhwcmVzc2lvbj9pWzFdOmlbMl0pKX0pLCFzLmxlbmd0aCYmdC5rZXkmJnMucHVzaCh0LmtleSsiPSIpLHMuam9pbigiJiIpfSx0b0FycmF5OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuX2dldEl0ZW1zQXNqUXVlcnkodCYmdC5jb25uZWN0ZWQpLHM9W107cmV0dXJuIHQ9dHx8e30saS5lYWNoKGZ1bmN0aW9uKCl7cy5wdXNoKGUodC5pdGVtfHx0aGlzKS5hdHRyKHQuYXR0cmlidXRlfHwiaWQiKXx8IiIpfSksc30sX2ludGVyc2VjdHNXaXRoOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucG9zaXRpb25BYnMubGVmdCxpPXQrdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCxzPXRoaXMucG9zaXRpb25BYnMudG9wLG49cyt0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxhPWUubGVmdCxvPWErZS53aWR0aCxyPWUudG9wLGg9citlLmhlaWdodCxsPXRoaXMub2Zmc2V0LmNsaWNrLnRvcCx1PXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQsZD0ieCI9PT10aGlzLm9wdGlvbnMuYXhpc3x8cytsPnImJmg+cytsLGM9InkiPT09dGhpcy5vcHRpb25zLmF4aXN8fHQrdT5hJiZvPnQrdSxwPWQmJmM7cmV0dXJuInBvaW50ZXIiPT09dGhpcy5vcHRpb25zLnRvbGVyYW5jZXx8dGhpcy5vcHRpb25zLmZvcmNlUG9pbnRlckZvckNvbnRhaW5lcnN8fCJwb2ludGVyIiE9PXRoaXMub3B0aW9ucy50b2xlcmFuY2UmJnRoaXMuaGVscGVyUHJvcG9ydGlvbnNbdGhpcy5mbG9hdGluZz8id2lkdGgiOiJoZWlnaHQiXT5lW3RoaXMuZmxvYXRpbmc/IndpZHRoIjoiaGVpZ2h0Il0/cDp0K3RoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgvMj5hJiZvPmktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC8yJiZzK3RoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzI+ciYmaD5uLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzJ9LF9pbnRlcnNlY3RzV2l0aFBvaW50ZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9IngiPT09dGhpcy5vcHRpb25zLmF4aXN8fHRoaXMuX2lzT3ZlckF4aXModGhpcy5wb3NpdGlvbkFicy50b3ArdGhpcy5vZmZzZXQuY2xpY2sudG9wLGUudG9wLGUuaGVpZ2h0KSxpPSJ5Ij09PXRoaXMub3B0aW9ucy5heGlzfHx0aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMubGVmdCt0aGlzLm9mZnNldC5jbGljay5sZWZ0LGUubGVmdCxlLndpZHRoKSxzPXQmJmksbj10aGlzLl9nZXREcmFnVmVydGljYWxEaXJlY3Rpb24oKSxhPXRoaXMuX2dldERyYWdIb3Jpem9udGFsRGlyZWN0aW9uKCk7cmV0dXJuIHM/dGhpcy5mbG9hdGluZz9hJiYicmlnaHQiPT09YXx8ImRvd24iPT09bj8yOjE6biYmKCJkb3duIj09PW4/MjoxKTohMX0sX2ludGVyc2VjdHNXaXRoU2lkZXM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLnRvcCt0aGlzLm9mZnNldC5jbGljay50b3AsZS50b3ArZS5oZWlnaHQvMixlLmhlaWdodCksaT10aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMubGVmdCt0aGlzLm9mZnNldC5jbGljay5sZWZ0LGUubGVmdCtlLndpZHRoLzIsZS53aWR0aCkscz10aGlzLl9nZXREcmFnVmVydGljYWxEaXJlY3Rpb24oKSxuPXRoaXMuX2dldERyYWdIb3Jpem9udGFsRGlyZWN0aW9uKCk7cmV0dXJuIHRoaXMuZmxvYXRpbmcmJm4/InJpZ2h0Ij09PW4mJml8fCJsZWZ0Ij09PW4mJiFpOnMmJigiZG93biI9PT1zJiZ0fHwidXAiPT09cyYmIXQpfSxfZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wb3NpdGlvbkFicy50b3AtdGhpcy5sYXN0UG9zaXRpb25BYnMudG9wO3JldHVybiAwIT09ZSYmKGU+MD8iZG93biI6InVwIil9LF9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMucG9zaXRpb25BYnMubGVmdC10aGlzLmxhc3RQb3NpdGlvbkFicy5sZWZ0O3JldHVybiAwIT09ZSYmKGU+MD8icmlnaHQiOiJsZWZ0Iil9LHJlZnJlc2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3JlZnJlc2hJdGVtcyhlKSx0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKSx0aGlzLnJlZnJlc2hQb3NpdGlvbnMoKSx0aGlzfSxfY29ubmVjdFdpdGg6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnM7cmV0dXJuIGUuY29ubmVjdFdpdGguY29uc3RydWN0b3I9PT1TdHJpbmc/W2UuY29ubmVjdFdpdGhdOmUuY29ubmVjdFdpdGh9LF9nZXRJdGVtc0FzalF1ZXJ5OmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGkoKXtyLnB1c2godGhpcyl9dmFyIHMsbixhLG8scj1bXSxoPVtdLGw9dGhpcy5fY29ubmVjdFdpdGgoKTtpZihsJiZ0KXtmb3Iocz1sLmxlbmd0aC0xO3M+PTA7cy0tKXtmb3IoYT1lKGxbc10pLG49YS5sZW5ndGgtMTtuPj0wO24tLSl7bz1lLmRhdGEoYVtuXSx0aGlzLndpZGdldEZ1bGxOYW1lKSxvJiZvIT09dGhpcyYmIW8ub3B0aW9ucy5kaXNhYmxlZCYmaC5wdXNoKFtlLmlzRnVuY3Rpb24oby5vcHRpb25zLml0ZW1zKT9vLm9wdGlvbnMuaXRlbXMuY2FsbChvLmVsZW1lbnQpOmUoby5vcHRpb25zLml0ZW1zLG8uZWxlbWVudCkubm90KCIudWktc29ydGFibGUtaGVscGVyIikubm90KCIudWktc29ydGFibGUtcGxhY2Vob2xkZXIiKSxvXSl9fX1mb3IoaC5wdXNoKFtlLmlzRnVuY3Rpb24odGhpcy5vcHRpb25zLml0ZW1zKT90aGlzLm9wdGlvbnMuaXRlbXMuY2FsbCh0aGlzLmVsZW1lbnQsbnVsbCx7b3B0aW9uczp0aGlzLm9wdGlvbnMsaXRlbTp0aGlzLmN1cnJlbnRJdGVtfSk6ZSh0aGlzLm9wdGlvbnMuaXRlbXMsdGhpcy5lbGVtZW50KS5ub3QoIi51aS1zb3J0YWJsZS1oZWxwZXIiKS5ub3QoIi51aS1zb3J0YWJsZS1wbGFjZWhvbGRlciIpLHRoaXNdKSxzPWgubGVuZ3RoLTE7cz49MDtzLS0pe2hbc11bMF0uZWFjaChpKX1yZXR1cm4gZShyKX0sX3JlbW92ZUN1cnJlbnRzRnJvbUl0ZW1zOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jdXJyZW50SXRlbS5maW5kKCI6ZGF0YSgiK3RoaXMud2lkZ2V0TmFtZSsiLWl0ZW0pIik7dGhpcy5pdGVtcz1lLmdyZXAodGhpcy5pdGVtcyxmdW5jdGlvbihlKXtmb3IodmFyIGk9MDt0Lmxlbmd0aD5pO2krKyl7aWYodFtpXT09PWUuaXRlbVswXSl7cmV0dXJuICExfX1yZXR1cm4gITB9KX0sX3JlZnJlc2hJdGVtczpmdW5jdGlvbih0KXt0aGlzLml0ZW1zPVtdLHRoaXMuY29udGFpbmVycz1bdGhpc107dmFyIGkscyxuLGEsbyxyLGgsbCx1PXRoaXMuaXRlbXMsZD1bW2UuaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMuaXRlbXMpP3RoaXMub3B0aW9ucy5pdGVtcy5jYWxsKHRoaXMuZWxlbWVudFswXSx0LHtpdGVtOnRoaXMuY3VycmVudEl0ZW19KTplKHRoaXMub3B0aW9ucy5pdGVtcyx0aGlzLmVsZW1lbnQpLHRoaXNdXSxjPXRoaXMuX2Nvbm5lY3RXaXRoKCk7aWYoYyYmdGhpcy5yZWFkeSl7Zm9yKGk9Yy5sZW5ndGgtMTtpPj0wO2ktLSl7Zm9yKG49ZShjW2ldKSxzPW4ubGVuZ3RoLTE7cz49MDtzLS0pe2E9ZS5kYXRhKG5bc10sdGhpcy53aWRnZXRGdWxsTmFtZSksYSYmYSE9PXRoaXMmJiFhLm9wdGlvbnMuZGlzYWJsZWQmJihkLnB1c2goW2UuaXNGdW5jdGlvbihhLm9wdGlvbnMuaXRlbXMpP2Eub3B0aW9ucy5pdGVtcy5jYWxsKGEuZWxlbWVudFswXSx0LHtpdGVtOnRoaXMuY3VycmVudEl0ZW19KTplKGEub3B0aW9ucy5pdGVtcyxhLmVsZW1lbnQpLGFdKSx0aGlzLmNvbnRhaW5lcnMucHVzaChhKSl9fX1mb3IoaT1kLmxlbmd0aC0xO2k+PTA7aS0tKXtmb3Iobz1kW2ldWzFdLHI9ZFtpXVswXSxzPTAsbD1yLmxlbmd0aDtsPnM7cysrKXtoPWUocltzXSksaC5kYXRhKHRoaXMud2lkZ2V0TmFtZSsiLWl0ZW0iLG8pLHUucHVzaCh7aXRlbTpoLGluc3RhbmNlOm8sd2lkdGg6MCxoZWlnaHQ6MCxsZWZ0OjAsdG9wOjB9KX19fSxyZWZyZXNoUG9zaXRpb25zOmZ1bmN0aW9uKHQpe3RoaXMub2Zmc2V0UGFyZW50JiZ0aGlzLmhlbHBlciYmKHRoaXMub2Zmc2V0LnBhcmVudD10aGlzLl9nZXRQYXJlbnRPZmZzZXQoKSk7dmFyIGkscyxuLGE7Zm9yKGk9dGhpcy5pdGVtcy5sZW5ndGgtMTtpPj0wO2ktLSl7cz10aGlzLml0ZW1zW2ldLHMuaW5zdGFuY2UhPT10aGlzLmN1cnJlbnRDb250YWluZXImJnRoaXMuY3VycmVudENvbnRhaW5lciYmcy5pdGVtWzBdIT09dGhpcy5jdXJyZW50SXRlbVswXXx8KG49dGhpcy5vcHRpb25zLnRvbGVyYW5jZUVsZW1lbnQ/ZSh0aGlzLm9wdGlvbnMudG9sZXJhbmNlRWxlbWVudCxzLml0ZW0pOnMuaXRlbSx0fHwocy53aWR0aD1uLm91dGVyV2lkdGgoKSxzLmhlaWdodD1uLm91dGVySGVpZ2h0KCkpLGE9bi5vZmZzZXQoKSxzLmxlZnQ9YS5sZWZ0LHMudG9wPWEudG9wKX1pZih0aGlzLm9wdGlvbnMuY3VzdG9tJiZ0aGlzLm9wdGlvbnMuY3VzdG9tLnJlZnJlc2hDb250YWluZXJzKXt0aGlzLm9wdGlvbnMuY3VzdG9tLnJlZnJlc2hDb250YWluZXJzLmNhbGwodGhpcyl9ZWxzZXtmb3IoaT10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7aT49MDtpLS0pe2E9dGhpcy5jb250YWluZXJzW2ldLmVsZW1lbnQub2Zmc2V0KCksdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLmxlZnQ9YS5sZWZ0LHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS50b3A9YS50b3AsdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLndpZHRoPXRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50Lm91dGVyV2lkdGgoKSx0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUuaGVpZ2h0PXRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50Lm91dGVySGVpZ2h0KCl9fXJldHVybiB0aGlzfSxfY3JlYXRlUGxhY2Vob2xkZXI6ZnVuY3Rpb24odCl7dD10fHx0aGlzO3ZhciBpLHM9dC5vcHRpb25zO3MucGxhY2Vob2xkZXImJnMucGxhY2Vob2xkZXIuY29uc3RydWN0b3IhPT1TdHJpbmd8fChpPXMucGxhY2Vob2xkZXIscy5wbGFjZWhvbGRlcj17ZWxlbWVudDpmdW5jdGlvbigpe3ZhciBzPXQuY3VycmVudEl0ZW1bMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxuPWUoIjwiK3MrIj4iLHQuZG9jdW1lbnRbMF0pLmFkZENsYXNzKGl8fHQuY3VycmVudEl0ZW1bMF0uY2xhc3NOYW1lKyIgdWktc29ydGFibGUtcGxhY2Vob2xkZXIiKS5yZW1vdmVDbGFzcygidWktc29ydGFibGUtaGVscGVyIik7cmV0dXJuInRyIj09PXM/dC5jdXJyZW50SXRlbS5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKXtlKCI8dGQ+JiMxNjA7PC90ZD4iLHQuZG9jdW1lbnRbMF0pLmF0dHIoImNvbHNwYW4iLGUodGhpcykuYXR0cigiY29sc3BhbiIpfHwxKS5hcHBlbmRUbyhuKX0pOiJpbWciPT09cyYmbi5hdHRyKCJzcmMiLHQuY3VycmVudEl0ZW0uYXR0cigic3JjIikpLGl8fG4uY3NzKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIiksbn0sdXBkYXRlOmZ1bmN0aW9uKGUsbil7KCFpfHxzLmZvcmNlUGxhY2Vob2xkZXJTaXplKSYmKG4uaGVpZ2h0KCl8fG4uaGVpZ2h0KHQuY3VycmVudEl0ZW0uaW5uZXJIZWlnaHQoKS1wYXJzZUludCh0LmN1cnJlbnRJdGVtLmNzcygicGFkZGluZ1RvcCIpfHwwLDEwKS1wYXJzZUludCh0LmN1cnJlbnRJdGVtLmNzcygicGFkZGluZ0JvdHRvbSIpfHwwLDEwKSksbi53aWR0aCgpfHxuLndpZHRoKHQuY3VycmVudEl0ZW0uaW5uZXJXaWR0aCgpLXBhcnNlSW50KHQuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nTGVmdCIpfHwwLDEwKS1wYXJzZUludCh0LmN1cnJlbnRJdGVtLmNzcygicGFkZGluZ1JpZ2h0Iil8fDAsMTApKSl9fSksdC5wbGFjZWhvbGRlcj1lKHMucGxhY2Vob2xkZXIuZWxlbWVudC5jYWxsKHQuZWxlbWVudCx0LmN1cnJlbnRJdGVtKSksdC5jdXJyZW50SXRlbS5hZnRlcih0LnBsYWNlaG9sZGVyKSxzLnBsYWNlaG9sZGVyLnVwZGF0ZSh0LHQucGxhY2Vob2xkZXIpfSxfY29udGFjdENvbnRhaW5lcnM6ZnVuY3Rpb24odCl7dmFyIGkscyxuLGEsbyxyLGgsbCx1LGQsYz1udWxsLHA9bnVsbDtmb3IoaT10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7aT49MDtpLS0pe2lmKCFlLmNvbnRhaW5zKHRoaXMuY3VycmVudEl0ZW1bMF0sdGhpcy5jb250YWluZXJzW2ldLmVsZW1lbnRbMF0pKXtpZih0aGlzLl9pbnRlcnNlY3RzV2l0aCh0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUpKXtpZihjJiZlLmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50WzBdLGMuZWxlbWVudFswXSkpe2NvbnRpbnVlfWM9dGhpcy5jb250YWluZXJzW2ldLHA9aX1lbHNle3RoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyJiYodGhpcy5jb250YWluZXJzW2ldLl90cmlnZ2VyKCJvdXQiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3Zlcj0wKX19fWlmKGMpe2lmKDE9PT10aGlzLmNvbnRhaW5lcnMubGVuZ3RoKXt0aGlzLmNvbnRhaW5lcnNbcF0uY29udGFpbmVyQ2FjaGUub3Zlcnx8KHRoaXMuY29udGFpbmVyc1twXS5fdHJpZ2dlcigib3ZlciIsdCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1twXS5jb250YWluZXJDYWNoZS5vdmVyPTEpfWVsc2V7Zm9yKG49MTAwMDAsYT1udWxsLHU9Yy5mbG9hdGluZ3x8dGhpcy5faXNGbG9hdGluZyh0aGlzLmN1cnJlbnRJdGVtKSxvPXU/ImxlZnQiOiJ0b3AiLHI9dT8id2lkdGgiOiJoZWlnaHQiLGQ9dT8iY2xpZW50WCI6ImNsaWVudFkiLHM9dGhpcy5pdGVtcy5sZW5ndGgtMTtzPj0wO3MtLSl7ZS5jb250YWlucyh0aGlzLmNvbnRhaW5lcnNbcF0uZWxlbWVudFswXSx0aGlzLml0ZW1zW3NdLml0ZW1bMF0pJiZ0aGlzLml0ZW1zW3NdLml0ZW1bMF0hPT10aGlzLmN1cnJlbnRJdGVtWzBdJiYoaD10aGlzLml0ZW1zW3NdLml0ZW0ub2Zmc2V0KClbb10sbD0hMSx0W2RdLWg+dGhpcy5pdGVtc1tzXVtyXS8yJiYobD0hMCksbj5NYXRoLmFicyh0W2RdLWgpJiYobj1NYXRoLmFicyh0W2RdLWgpLGE9dGhpcy5pdGVtc1tzXSx0aGlzLmRpcmVjdGlvbj1sPyJ1cCI6ImRvd24iKSl9aWYoIWEmJiF0aGlzLm9wdGlvbnMuZHJvcE9uRW1wdHkpe3JldHVybn1pZih0aGlzLmN1cnJlbnRDb250YWluZXI9PT10aGlzLmNvbnRhaW5lcnNbcF0pe3JldHVybn1hP3RoaXMuX3JlYXJyYW5nZSh0LGEsbnVsbCwhMCk6dGhpcy5fcmVhcnJhbmdlKHQsbnVsbCx0aGlzLmNvbnRhaW5lcnNbcF0uZWxlbWVudCwhMCksdGhpcy5fdHJpZ2dlcigiY2hhbmdlIix0LHRoaXMuX3VpSGFzaCgpKSx0aGlzLmNvbnRhaW5lcnNbcF0uX3RyaWdnZXIoImNoYW5nZSIsdCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY3VycmVudENvbnRhaW5lcj10aGlzLmNvbnRhaW5lcnNbcF0sdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyLnVwZGF0ZSh0aGlzLmN1cnJlbnRDb250YWluZXIsdGhpcy5wbGFjZWhvbGRlciksdGhpcy5jb250YWluZXJzW3BdLl90cmlnZ2VyKCJvdmVyIix0LHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jb250YWluZXJzW3BdLmNvbnRhaW5lckNhY2hlLm92ZXI9MX19fSxfY3JlYXRlSGVscGVyOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9ucyxzPWUuaXNGdW5jdGlvbihpLmhlbHBlcik/ZShpLmhlbHBlci5hcHBseSh0aGlzLmVsZW1lbnRbMF0sW3QsdGhpcy5jdXJyZW50SXRlbV0pKToiY2xvbmUiPT09aS5oZWxwZXI/dGhpcy5jdXJyZW50SXRlbS5jbG9uZSgpOnRoaXMuY3VycmVudEl0ZW07cmV0dXJuIHMucGFyZW50cygiYm9keSIpLmxlbmd0aHx8ZSgicGFyZW50IiE9PWkuYXBwZW5kVG8/aS5hcHBlbmRUbzp0aGlzLmN1cnJlbnRJdGVtWzBdLnBhcmVudE5vZGUpWzBdLmFwcGVuZENoaWxkKHNbMF0pLHNbMF09PT10aGlzLmN1cnJlbnRJdGVtWzBdJiYodGhpcy5fc3RvcmVkQ1NTPXt3aWR0aDp0aGlzLmN1cnJlbnRJdGVtWzBdLnN0eWxlLndpZHRoLGhlaWdodDp0aGlzLmN1cnJlbnRJdGVtWzBdLnN0eWxlLmhlaWdodCxwb3NpdGlvbjp0aGlzLmN1cnJlbnRJdGVtLmNzcygicG9zaXRpb24iKSx0b3A6dGhpcy5jdXJyZW50SXRlbS5jc3MoInRvcCIpLGxlZnQ6dGhpcy5jdXJyZW50SXRlbS5jc3MoImxlZnQiKX0pLCghc1swXS5zdHlsZS53aWR0aHx8aS5mb3JjZUhlbHBlclNpemUpJiZzLndpZHRoKHRoaXMuY3VycmVudEl0ZW0ud2lkdGgoKSksKCFzWzBdLnN0eWxlLmhlaWdodHx8aS5mb3JjZUhlbHBlclNpemUpJiZzLmhlaWdodCh0aGlzLmN1cnJlbnRJdGVtLmhlaWdodCgpKSxzfSxfYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcjpmdW5jdGlvbih0KXsic3RyaW5nIj09dHlwZW9mIHQmJih0PXQuc3BsaXQoIiAiKSksZS5pc0FycmF5KHQpJiYodD17bGVmdDordFswXSx0b3A6K3RbMV18fDB9KSwibGVmdCIgaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ9dC5sZWZ0K3RoaXMubWFyZ2lucy5sZWZ0KSwicmlnaHQiIGluIHQmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdC5yaWdodCt0aGlzLm1hcmdpbnMubGVmdCksInRvcCIgaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLnRvcD10LnRvcCt0aGlzLm1hcmdpbnMudG9wKSwiYm90dG9tIiBpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2sudG9wPXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXQuYm90dG9tK3RoaXMubWFyZ2lucy50b3ApfSxfZ2V0UGFyZW50T2Zmc2V0OmZ1bmN0aW9uKCl7dGhpcy5vZmZzZXRQYXJlbnQ9dGhpcy5oZWxwZXIub2Zmc2V0UGFyZW50KCk7dmFyIHQ9dGhpcy5vZmZzZXRQYXJlbnQub2Zmc2V0KCk7cmV0dXJuImFic29sdXRlIj09PXRoaXMuY3NzUG9zaXRpb24mJnRoaXMuc2Nyb2xsUGFyZW50WzBdIT09ZG9jdW1lbnQmJmUuY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sdGhpcy5vZmZzZXRQYXJlbnRbMF0pJiYodC5sZWZ0Kz10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCksdC50b3ArPXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpKSwodGhpcy5vZmZzZXRQYXJlbnRbMF09PT1kb2N1bWVudC5ib2R5fHx0aGlzLm9mZnNldFBhcmVudFswXS50YWdOYW1lJiYiaHRtbCI9PT10aGlzLm9mZnNldFBhcmVudFswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJmUudWkuaWUpJiYodD17dG9wOjAsbGVmdDowfSkse3RvcDp0LnRvcCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJUb3BXaWR0aCIpLDEwKXx8MCksbGVmdDp0LmxlZnQrKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKX19LF9nZXRSZWxhdGl2ZU9mZnNldDpmdW5jdGlvbigpe2lmKCJyZWxhdGl2ZSI9PT10aGlzLmNzc1Bvc2l0aW9uKXt2YXIgZT10aGlzLmN1cnJlbnRJdGVtLnBvc2l0aW9uKCk7cmV0dXJue3RvcDplLnRvcC0ocGFyc2VJbnQodGhpcy5oZWxwZXIuY3NzKCJ0b3AiKSwxMCl8fDApK3RoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpLGxlZnQ6ZS5sZWZ0LShwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoImxlZnQiKSwxMCl8fDApK3RoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKX19cmV0dXJue3RvcDowLGxlZnQ6MH19LF9jYWNoZU1hcmdpbnM6ZnVuY3Rpb24oKXt0aGlzLm1hcmdpbnM9e2xlZnQ6cGFyc2VJbnQodGhpcy5jdXJyZW50SXRlbS5jc3MoIm1hcmdpbkxlZnQiKSwxMCl8fDAsdG9wOnBhcnNlSW50KHRoaXMuY3VycmVudEl0ZW0uY3NzKCJtYXJnaW5Ub3AiKSwxMCl8fDB9fSxfY2FjaGVIZWxwZXJQcm9wb3J0aW9uczpmdW5jdGlvbigpe3RoaXMuaGVscGVyUHJvcG9ydGlvbnM9e3dpZHRoOnRoaXMuaGVscGVyLm91dGVyV2lkdGgoKSxoZWlnaHQ6dGhpcy5oZWxwZXIub3V0ZXJIZWlnaHQoKX19LF9zZXRDb250YWlubWVudDpmdW5jdGlvbigpe3ZhciB0LGkscyxuPXRoaXMub3B0aW9uczsicGFyZW50Ij09PW4uY29udGFpbm1lbnQmJihuLmNvbnRhaW5tZW50PXRoaXMuaGVscGVyWzBdLnBhcmVudE5vZGUpLCgiZG9jdW1lbnQiPT09bi5jb250YWlubWVudHx8IndpbmRvdyI9PT1uLmNvbnRhaW5tZW50KSYmKHRoaXMuY29udGFpbm1lbnQ9WzAtdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdC10aGlzLm9mZnNldC5wYXJlbnQubGVmdCwwLXRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcC10aGlzLm9mZnNldC5wYXJlbnQudG9wLGUoImRvY3VtZW50Ij09PW4uY29udGFpbm1lbnQ/ZG9jdW1lbnQ6d2luZG93KS53aWR0aCgpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdGhpcy5tYXJnaW5zLmxlZnQsKGUoImRvY3VtZW50Ij09PW4uY29udGFpbm1lbnQ/ZG9jdW1lbnQ6d2luZG93KS5oZWlnaHQoKXx8ZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdGhpcy5tYXJnaW5zLnRvcF0pLC9eKGRvY3VtZW50fHdpbmRvd3xwYXJlbnQpJC8udGVzdChuLmNvbnRhaW5tZW50KXx8KHQ9ZShuLmNvbnRhaW5tZW50KVswXSxpPWUobi5jb250YWlubWVudCkub2Zmc2V0KCkscz0iaGlkZGVuIiE9PWUodCkuY3NzKCJvdmVyZmxvdyIpLHRoaXMuY29udGFpbm1lbnQ9W2kubGVmdCsocGFyc2VJbnQoZSh0KS5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCkrKHBhcnNlSW50KGUodCkuY3NzKCJwYWRkaW5nTGVmdCIpLDEwKXx8MCktdGhpcy5tYXJnaW5zLmxlZnQsaS50b3ArKHBhcnNlSW50KGUodCkuY3NzKCJib3JkZXJUb3BXaWR0aCIpLDEwKXx8MCkrKHBhcnNlSW50KGUodCkuY3NzKCJwYWRkaW5nVG9wIiksMTApfHwwKS10aGlzLm1hcmdpbnMudG9wLGkubGVmdCsocz9NYXRoLm1heCh0LnNjcm9sbFdpZHRoLHQub2Zmc2V0V2lkdGgpOnQub2Zmc2V0V2lkdGgpLShwYXJzZUludChlKHQpLmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQoZSh0KS5jc3MoInBhZGRpbmdSaWdodCIpLDEwKXx8MCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdCxpLnRvcCsocz9NYXRoLm1heCh0LnNjcm9sbEhlaWdodCx0Lm9mZnNldEhlaWdodCk6dC5vZmZzZXRIZWlnaHQpLShwYXJzZUludChlKHQpLmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApLShwYXJzZUludChlKHQpLmNzcygicGFkZGluZ0JvdHRvbSIpLDEwKXx8MCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdGhpcy5tYXJnaW5zLnRvcF0pfSxfY29udmVydFBvc2l0aW9uVG86ZnVuY3Rpb24odCxpKXtpfHwoaT10aGlzLnBvc2l0aW9uKTt2YXIgcz0iYWJzb2x1dGUiPT09dD8xOi0xLG49ImFic29sdXRlIiE9PXRoaXMuY3NzUG9zaXRpb258fHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09ZG9jdW1lbnQmJmUuY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sdGhpcy5vZmZzZXRQYXJlbnRbMF0pP3RoaXMuc2Nyb2xsUGFyZW50OnRoaXMub2Zmc2V0UGFyZW50LGE9LyhodG1sfGJvZHkpL2kudGVzdChuWzBdLnRhZ05hbWUpO3JldHVybnt0b3A6aS50b3ArdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wKnMrdGhpcy5vZmZzZXQucGFyZW50LnRvcCpzLSgiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCk6YT8wOm4uc2Nyb2xsVG9wKCkpKnMsbGVmdDppLmxlZnQrdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCpzK3RoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KnMtKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCk6YT8wOm4uc2Nyb2xsTGVmdCgpKSpzfX0sX2dlbmVyYXRlUG9zaXRpb246ZnVuY3Rpb24odCl7dmFyIGkscyxuPXRoaXMub3B0aW9ucyxhPXQucGFnZVgsbz10LnBhZ2VZLHI9ImFic29sdXRlIiE9PXRoaXMuY3NzUG9zaXRpb258fHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09ZG9jdW1lbnQmJmUuY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sdGhpcy5vZmZzZXRQYXJlbnRbMF0pP3RoaXMuc2Nyb2xsUGFyZW50OnRoaXMub2Zmc2V0UGFyZW50LGg9LyhodG1sfGJvZHkpL2kudGVzdChyWzBdLnRhZ05hbWUpO3JldHVybiJyZWxhdGl2ZSIhPT10aGlzLmNzc1Bvc2l0aW9ufHx0aGlzLnNjcm9sbFBhcmVudFswXSE9PWRvY3VtZW50JiZ0aGlzLnNjcm9sbFBhcmVudFswXSE9PXRoaXMub2Zmc2V0UGFyZW50WzBdfHwodGhpcy5vZmZzZXQucmVsYXRpdmU9dGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKSksdGhpcy5vcmlnaW5hbFBvc2l0aW9uJiYodGhpcy5jb250YWlubWVudCYmKHQucGFnZVgtdGhpcy5vZmZzZXQuY2xpY2subGVmdDx0aGlzLmNvbnRhaW5tZW50WzBdJiYoYT10aGlzLmNvbnRhaW5tZW50WzBdK3RoaXMub2Zmc2V0LmNsaWNrLmxlZnQpLHQucGFnZVktdGhpcy5vZmZzZXQuY2xpY2sudG9wPHRoaXMuY29udGFpbm1lbnRbMV0mJihvPXRoaXMuY29udGFpbm1lbnRbMV0rdGhpcy5vZmZzZXQuY2xpY2sudG9wKSx0LnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+dGhpcy5jb250YWlubWVudFsyXSYmKGE9dGhpcy5jb250YWlubWVudFsyXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSx0LnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcD50aGlzLmNvbnRhaW5tZW50WzNdJiYobz10aGlzLmNvbnRhaW5tZW50WzNdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCkpLG4uZ3JpZCYmKGk9dGhpcy5vcmlnaW5hbFBhZ2VZK01hdGgucm91bmQoKG8tdGhpcy5vcmlnaW5hbFBhZ2VZKS9uLmdyaWRbMV0pKm4uZ3JpZFsxXSxvPXRoaXMuY29udGFpbm1lbnQ/aS10aGlzLm9mZnNldC5jbGljay50b3A+PXRoaXMuY29udGFpbm1lbnRbMV0mJmktdGhpcy5vZmZzZXQuY2xpY2sudG9wPD10aGlzLmNvbnRhaW5tZW50WzNdP2k6aS10aGlzLm9mZnNldC5jbGljay50b3A+PXRoaXMuY29udGFpbm1lbnRbMV0/aS1uLmdyaWRbMV06aStuLmdyaWRbMV06aSxzPXRoaXMub3JpZ2luYWxQYWdlWCtNYXRoLnJvdW5kKChhLXRoaXMub3JpZ2luYWxQYWdlWCkvbi5ncmlkWzBdKSpuLmdyaWRbMF0sYT10aGlzLmNvbnRhaW5tZW50P3MtdGhpcy5vZmZzZXQuY2xpY2subGVmdD49dGhpcy5jb250YWlubWVudFswXSYmcy10aGlzLm9mZnNldC5jbGljay5sZWZ0PD10aGlzLmNvbnRhaW5tZW50WzJdP3M6cy10aGlzLm9mZnNldC5jbGljay5sZWZ0Pj10aGlzLmNvbnRhaW5tZW50WzBdP3Mtbi5ncmlkWzBdOnMrbi5ncmlkWzBdOnMpKSx7dG9wOm8tdGhpcy5vZmZzZXQuY2xpY2sudG9wLXRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcC10aGlzLm9mZnNldC5wYXJlbnQudG9wKygiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCk6aD8wOnIuc2Nyb2xsVG9wKCkpLGxlZnQ6YS10aGlzLm9mZnNldC5jbGljay5sZWZ0LXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQrKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCk6aD8wOnIuc2Nyb2xsTGVmdCgpKX19LF9yZWFycmFuZ2U6ZnVuY3Rpb24oZSx0LGkscyl7aT9pWzBdLmFwcGVuZENoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pOnQuaXRlbVswXS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLnBsYWNlaG9sZGVyWzBdLCJkb3duIj09PXRoaXMuZGlyZWN0aW9uP3QuaXRlbVswXTp0Lml0ZW1bMF0ubmV4dFNpYmxpbmcpLHRoaXMuY291bnRlcj10aGlzLmNvdW50ZXI/Kyt0aGlzLmNvdW50ZXI6MTt2YXIgbj10aGlzLmNvdW50ZXI7dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtuPT09dGhpcy5jb3VudGVyJiZ0aGlzLnJlZnJlc2hQb3NpdGlvbnMoIXMpfSl9LF9jbGVhcjpmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoZSx0LGkpe3JldHVybiBmdW5jdGlvbihzKXtpLl90cmlnZ2VyKGUscyx0Ll91aUhhc2godCkpfX10aGlzLnJldmVydGluZz0hMTt2YXIgcyxuPVtdO2lmKCF0aGlzLl9ub0ZpbmFsU29ydCYmdGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKS5sZW5ndGgmJnRoaXMucGxhY2Vob2xkZXIuYmVmb3JlKHRoaXMuY3VycmVudEl0ZW0pLHRoaXMuX25vRmluYWxTb3J0PW51bGwsdGhpcy5oZWxwZXJbMF09PT10aGlzLmN1cnJlbnRJdGVtWzBdKXtmb3IocyBpbiB0aGlzLl9zdG9yZWRDU1MpeygiYXV0byI9PT10aGlzLl9zdG9yZWRDU1Nbc118fCJzdGF0aWMiPT09dGhpcy5fc3RvcmVkQ1NTW3NdKSYmKHRoaXMuX3N0b3JlZENTU1tzXT0iIil9dGhpcy5jdXJyZW50SXRlbS5jc3ModGhpcy5fc3RvcmVkQ1NTKS5yZW1vdmVDbGFzcygidWktc29ydGFibGUtaGVscGVyIil9ZWxzZXt0aGlzLmN1cnJlbnRJdGVtLnNob3coKX1mb3IodGhpcy5mcm9tT3V0c2lkZSYmIXQmJm4ucHVzaChmdW5jdGlvbihlKXt0aGlzLl90cmlnZ2VyKCJyZWNlaXZlIixlLHRoaXMuX3VpSGFzaCh0aGlzLmZyb21PdXRzaWRlKSl9KSwhdGhpcy5mcm9tT3V0c2lkZSYmdGhpcy5kb21Qb3NpdGlvbi5wcmV2PT09dGhpcy5jdXJyZW50SXRlbS5wcmV2KCkubm90KCIudWktc29ydGFibGUtaGVscGVyIilbMF0mJnRoaXMuZG9tUG9zaXRpb24ucGFyZW50PT09dGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKVswXXx8dHx8bi5wdXNoKGZ1bmN0aW9uKGUpe3RoaXMuX3RyaWdnZXIoInVwZGF0ZSIsZSx0aGlzLl91aUhhc2goKSl9KSx0aGlzIT09dGhpcy5jdXJyZW50Q29udGFpbmVyJiYodHx8KG4ucHVzaChmdW5jdGlvbihlKXt0aGlzLl90cmlnZ2VyKCJyZW1vdmUiLGUsdGhpcy5fdWlIYXNoKCkpfSksbi5wdXNoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtlLl90cmlnZ2VyKCJyZWNlaXZlIix0LHRoaXMuX3VpSGFzaCh0aGlzKSl9fS5jYWxsKHRoaXMsdGhpcy5jdXJyZW50Q29udGFpbmVyKSksbi5wdXNoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtlLl90cmlnZ2VyKCJ1cGRhdGUiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKX19LmNhbGwodGhpcyx0aGlzLmN1cnJlbnRDb250YWluZXIpKSkpLHM9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xO3M+PTA7cy0tKXt0fHxuLnB1c2goaSgiZGVhY3RpdmF0ZSIsdGhpcyx0aGlzLmNvbnRhaW5lcnNbc10pKSx0aGlzLmNvbnRhaW5lcnNbc10uY29udGFpbmVyQ2FjaGUub3ZlciYmKG4ucHVzaChpKCJvdXQiLHRoaXMsdGhpcy5jb250YWluZXJzW3NdKSksdGhpcy5jb250YWluZXJzW3NdLmNvbnRhaW5lckNhY2hlLm92ZXI9MCl9aWYodGhpcy5zdG9yZWRDdXJzb3ImJih0aGlzLmRvY3VtZW50LmZpbmQoImJvZHkiKS5jc3MoImN1cnNvciIsdGhpcy5zdG9yZWRDdXJzb3IpLHRoaXMuc3RvcmVkU3R5bGVzaGVldC5yZW1vdmUoKSksdGhpcy5fc3RvcmVkT3BhY2l0eSYmdGhpcy5oZWxwZXIuY3NzKCJvcGFjaXR5Iix0aGlzLl9zdG9yZWRPcGFjaXR5KSx0aGlzLl9zdG9yZWRaSW5kZXgmJnRoaXMuaGVscGVyLmNzcygiekluZGV4IiwiYXV0byI9PT10aGlzLl9zdG9yZWRaSW5kZXg/IiI6dGhpcy5fc3RvcmVkWkluZGV4KSx0aGlzLmRyYWdnaW5nPSExLHRoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbCl7aWYoIXQpe2Zvcih0aGlzLl90cmlnZ2VyKCJiZWZvcmVTdG9wIixlLHRoaXMuX3VpSGFzaCgpKSxzPTA7bi5sZW5ndGg+cztzKyspe25bc10uY2FsbCh0aGlzLGUpfXRoaXMuX3RyaWdnZXIoInN0b3AiLGUsdGhpcy5fdWlIYXNoKCkpfXJldHVybiB0aGlzLmZyb21PdXRzaWRlPSExLCExfWlmKHR8fHRoaXMuX3RyaWdnZXIoImJlZm9yZVN0b3AiLGUsdGhpcy5fdWlIYXNoKCkpLHRoaXMucGxhY2Vob2xkZXJbMF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnBsYWNlaG9sZGVyWzBdKSx0aGlzLmhlbHBlclswXSE9PXRoaXMuY3VycmVudEl0ZW1bMF0mJnRoaXMuaGVscGVyLnJlbW92ZSgpLHRoaXMuaGVscGVyPW51bGwsIXQpe2ZvcihzPTA7bi5sZW5ndGg+cztzKyspe25bc10uY2FsbCh0aGlzLGUpfXRoaXMuX3RyaWdnZXIoInN0b3AiLGUsdGhpcy5fdWlIYXNoKCkpfXJldHVybiB0aGlzLmZyb21PdXRzaWRlPSExLCEwfSxfdHJpZ2dlcjpmdW5jdGlvbigpe2UuV2lkZ2V0LnByb3RvdHlwZS5fdHJpZ2dlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk9PT0hMSYmdGhpcy5jYW5jZWwoKX0sX3VpSGFzaDpmdW5jdGlvbih0KXt2YXIgaT10fHx0aGlzO3JldHVybntoZWxwZXI6aS5oZWxwZXIscGxhY2Vob2xkZXI6aS5wbGFjZWhvbGRlcnx8ZShbXSkscG9zaXRpb246aS5wb3NpdGlvbixvcmlnaW5hbFBvc2l0aW9uOmkub3JpZ2luYWxQb3NpdGlvbixvZmZzZXQ6aS5wb3NpdGlvbkFicyxpdGVtOmkuY3VycmVudEl0ZW0sc2VuZGVyOnQ/dC5lbGVtZW50Om51bGx9fX0pLGUud2lkZ2V0KCJ1aS5zcGlubmVyIix7dmVyc2lvbjoiMS4xMS4xIixkZWZhdWx0RWxlbWVudDoiPGlucHV0PiIsd2lkZ2V0RXZlbnRQcmVmaXg6InNwaW4iLG9wdGlvbnM6e2N1bHR1cmU6bnVsbCxpY29uczp7ZG93bjoidWktaWNvbi10cmlhbmdsZS0xLXMiLHVwOiJ1aS1pY29uLXRyaWFuZ2xlLTEtbiJ9LGluY3JlbWVudGFsOiEwLG1heDpudWxsLG1pbjpudWxsLG51bWJlckZvcm1hdDpudWxsLHBhZ2U6MTAsc3RlcDoxLGNoYW5nZTpudWxsLHNwaW46bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3NldE9wdGlvbigibWF4Iix0aGlzLm9wdGlvbnMubWF4KSx0aGlzLl9zZXRPcHRpb24oIm1pbiIsdGhpcy5vcHRpb25zLm1pbiksdGhpcy5fc2V0T3B0aW9uKCJzdGVwIix0aGlzLm9wdGlvbnMuc3RlcCksIiIhPT10aGlzLnZhbHVlKCkmJnRoaXMuX3ZhbHVlKHRoaXMuZWxlbWVudC52YWwoKSwhMCksdGhpcy5fZHJhdygpLHRoaXMuX29uKHRoaXMuX2V2ZW50cyksdGhpcy5fcmVmcmVzaCgpLHRoaXMuX29uKHRoaXMud2luZG93LHtiZWZvcmV1bmxvYWQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigiYXV0b2NvbXBsZXRlIil9fSl9LF9nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIHQ9e30saT10aGlzLmVsZW1lbnQ7cmV0dXJuIGUuZWFjaChbIm1pbiIsIm1heCIsInN0ZXAiXSxmdW5jdGlvbihlLHMpe3ZhciBuPWkuYXR0cihzKTt2b2lkIDAhPT1uJiZuLmxlbmd0aCYmKHRbc109bil9KSx0fSxfZXZlbnRzOntrZXlkb3duOmZ1bmN0aW9uKGUpe3RoaXMuX3N0YXJ0KGUpJiZ0aGlzLl9rZXlkb3duKGUpJiZlLnByZXZlbnREZWZhdWx0KCl9LGtleXVwOiJfc3RvcCIsZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnByZXZpb3VzPXRoaXMuZWxlbWVudC52YWwoKX0sYmx1cjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jYW5jZWxCbHVyPyhkZWxldGUgdGhpcy5jYW5jZWxCbHVyLHZvaWQgMCk6KHRoaXMuX3N0b3AoKSx0aGlzLl9yZWZyZXNoKCksdGhpcy5wcmV2aW91cyE9PXRoaXMuZWxlbWVudC52YWwoKSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIixlKSx2b2lkIDApfSxtb3VzZXdoZWVsOmZ1bmN0aW9uKGUsdCl7aWYodCl7aWYoIXRoaXMuc3Bpbm5pbmcmJiF0aGlzLl9zdGFydChlKSl7cmV0dXJuICExfXRoaXMuX3NwaW4oKHQ+MD8xOi0xKSp0aGlzLm9wdGlvbnMuc3RlcCxlKSxjbGVhclRpbWVvdXQodGhpcy5tb3VzZXdoZWVsVGltZXIpLHRoaXMubW91c2V3aGVlbFRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5zcGlubmluZyYmdGhpcy5fc3RvcChlKX0sMTAwKSxlLnByZXZlbnREZWZhdWx0KCl9fSwibW91c2Vkb3duIC51aS1zcGlubmVyLWJ1dHRvbiI6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gaSgpe3ZhciBlPXRoaXMuZWxlbWVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudDtlfHwodGhpcy5lbGVtZW50LmZvY3VzKCksdGhpcy5wcmV2aW91cz1zLHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5wcmV2aW91cz1zfSkpfXZhciBzO3M9dGhpcy5lbGVtZW50WzBdPT09dGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50P3RoaXMucHJldmlvdXM6dGhpcy5lbGVtZW50LnZhbCgpLHQucHJldmVudERlZmF1bHQoKSxpLmNhbGwodGhpcyksdGhpcy5jYW5jZWxCbHVyPSEwLHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuY2FuY2VsQmx1cixpLmNhbGwodGhpcyl9KSx0aGlzLl9zdGFydCh0KSE9PSExJiZ0aGlzLl9yZXBlYXQobnVsbCxlKHQuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoInVpLXNwaW5uZXItdXAiKT8xOi0xLHQpfSwibW91c2V1cCAudWktc3Bpbm5lci1idXR0b24iOiJfc3RvcCIsIm1vdXNlZW50ZXIgLnVpLXNwaW5uZXItYnV0dG9uIjpmdW5jdGlvbih0KXtyZXR1cm4gZSh0LmN1cnJlbnRUYXJnZXQpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKT90aGlzLl9zdGFydCh0KT09PSExPyExOih0aGlzLl9yZXBlYXQobnVsbCxlKHQuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoInVpLXNwaW5uZXItdXAiKT8xOi0xLHQpLHZvaWQgMCk6dm9pZCAwfSwibW91c2VsZWF2ZSAudWktc3Bpbm5lci1idXR0b24iOiJfc3RvcCJ9LF9kcmF3OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy51aVNwaW5uZXI9dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1zcGlubmVyLWlucHV0IikuYXR0cigiYXV0b2NvbXBsZXRlIiwib2ZmIikud3JhcCh0aGlzLl91aVNwaW5uZXJIdG1sKCkpLnBhcmVudCgpLmFwcGVuZCh0aGlzLl9idXR0b25IdG1sKCkpO3RoaXMuZWxlbWVudC5hdHRyKCJyb2xlIiwic3BpbmJ1dHRvbiIpLHRoaXMuYnV0dG9ucz1lLmZpbmQoIi51aS1zcGlubmVyLWJ1dHRvbiIpLmF0dHIoInRhYkluZGV4IiwtMSkuYnV0dG9uKCkucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci1hbGwiKSx0aGlzLmJ1dHRvbnMuaGVpZ2h0KCk+TWF0aC5jZWlsKDAuNSplLmhlaWdodCgpKSYmZS5oZWlnaHQoKT4wJiZlLmhlaWdodChlLmhlaWdodCgpKSx0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuZGlzYWJsZSgpfSxfa2V5ZG93bjpmdW5jdGlvbih0KXt2YXIgaT10aGlzLm9wdGlvbnMscz1lLnVpLmtleUNvZGU7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSBzLlVQOnJldHVybiB0aGlzLl9yZXBlYXQobnVsbCwxLHQpLCEwO2Nhc2Ugcy5ET1dOOnJldHVybiB0aGlzLl9yZXBlYXQobnVsbCwtMSx0KSwhMDtjYXNlIHMuUEFHRV9VUDpyZXR1cm4gdGhpcy5fcmVwZWF0KG51bGwsaS5wYWdlLHQpLCEwO2Nhc2Ugcy5QQUdFX0RPV046cmV0dXJuIHRoaXMuX3JlcGVhdChudWxsLC1pLnBhZ2UsdCksITB9cmV0dXJuICExfSxfdWlTcGlubmVySHRtbDpmdW5jdGlvbigpe3JldHVybiI8c3BhbiBjbGFzcz0ndWktc3Bpbm5lciB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCc+PC9zcGFuPiJ9LF9idXR0b25IdG1sOmZ1bmN0aW9uKCl7cmV0dXJuIjxhIGNsYXNzPSd1aS1zcGlubmVyLWJ1dHRvbiB1aS1zcGlubmVyLXVwIHVpLWNvcm5lci10cic+PHNwYW4gY2xhc3M9J3VpLWljb24gIit0aGlzLm9wdGlvbnMuaWNvbnMudXArIic+JiM5NjUwOzwvc3Bhbj48L2E+PGEgY2xhc3M9J3VpLXNwaW5uZXItYnV0dG9uIHVpLXNwaW5uZXItZG93biB1aS1jb3JuZXItYnInPjxzcGFuIGNsYXNzPSd1aS1pY29uICIrdGhpcy5vcHRpb25zLmljb25zLmRvd24rIic+JiM5NjYwOzwvc3Bhbj48L2E+In0sX3N0YXJ0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNwaW5uaW5nfHx0aGlzLl90cmlnZ2VyKCJzdGFydCIsZSkhPT0hMT8odGhpcy5jb3VudGVyfHwodGhpcy5jb3VudGVyPTEpLHRoaXMuc3Bpbm5pbmc9ITAsITApOiExfSxfcmVwZWF0OmZ1bmN0aW9uKGUsdCxpKXtlPWV8fDUwMCxjbGVhclRpbWVvdXQodGhpcy50aW1lciksdGhpcy50aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX3JlcGVhdCg0MCx0LGkpfSxlKSx0aGlzLl9zcGluKHQqdGhpcy5vcHRpb25zLnN0ZXAsaSl9LF9zcGluOmZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy52YWx1ZSgpfHwwO3RoaXMuY291bnRlcnx8KHRoaXMuY291bnRlcj0xKSxpPXRoaXMuX2FkanVzdFZhbHVlKGkrZSp0aGlzLl9pbmNyZW1lbnQodGhpcy5jb3VudGVyKSksdGhpcy5zcGlubmluZyYmdGhpcy5fdHJpZ2dlcigic3BpbiIsdCx7dmFsdWU6aX0pPT09ITF8fCh0aGlzLl92YWx1ZShpKSx0aGlzLmNvdW50ZXIrKyl9LF9pbmNyZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zLmluY3JlbWVudGFsO3JldHVybiBpP2UuaXNGdW5jdGlvbihpKT9pKHQpOk1hdGguZmxvb3IodCp0KnQvNTAwMDAtdCp0LzUwMCsxNyp0LzIwMCsxKToxfSxfcHJlY2lzaW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fcHJlY2lzaW9uT2YodGhpcy5vcHRpb25zLnN0ZXApO3JldHVybiBudWxsIT09dGhpcy5vcHRpb25zLm1pbiYmKGU9TWF0aC5tYXgoZSx0aGlzLl9wcmVjaXNpb25PZih0aGlzLm9wdGlvbnMubWluKSkpLGV9LF9wcmVjaXNpb25PZjpmdW5jdGlvbihlKXt2YXIgdD0iIitlLGk9dC5pbmRleE9mKCIuIik7cmV0dXJuIC0xPT09aT8wOnQubGVuZ3RoLWktMX0sX2FkanVzdFZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LGkscz10aGlzLm9wdGlvbnM7cmV0dXJuIHQ9bnVsbCE9PXMubWluP3MubWluOjAsaT1lLXQsaT1NYXRoLnJvdW5kKGkvcy5zdGVwKSpzLnN0ZXAsZT10K2ksZT1wYXJzZUZsb2F0KGUudG9GaXhlZCh0aGlzLl9wcmVjaXNpb24oKSkpLG51bGwhPT1zLm1heCYmZT5zLm1heD9zLm1heDpudWxsIT09cy5taW4mJnMubWluPmU/cy5taW46ZX0sX3N0b3A6ZnVuY3Rpb24oZSl7dGhpcy5zcGlubmluZyYmKGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKSxjbGVhclRpbWVvdXQodGhpcy5tb3VzZXdoZWVsVGltZXIpLHRoaXMuY291bnRlcj0wLHRoaXMuc3Bpbm5pbmc9ITEsdGhpcy5fdHJpZ2dlcigic3RvcCIsZSkpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGUsdCl7aWYoImN1bHR1cmUiPT09ZXx8Im51bWJlckZvcm1hdCI9PT1lKXt2YXIgaT10aGlzLl9wYXJzZSh0aGlzLmVsZW1lbnQudmFsKCkpO3JldHVybiB0aGlzLm9wdGlvbnNbZV09dCx0aGlzLmVsZW1lbnQudmFsKHRoaXMuX2Zvcm1hdChpKSksdm9pZCAwfSgibWF4Ij09PWV8fCJtaW4iPT09ZXx8InN0ZXAiPT09ZSkmJiJzdHJpbmciPT10eXBlb2YgdCYmKHQ9dGhpcy5fcGFyc2UodCkpLCJpY29ucyI9PT1lJiYodGhpcy5idXR0b25zLmZpcnN0KCkuZmluZCgiLnVpLWljb24iKS5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuaWNvbnMudXApLmFkZENsYXNzKHQudXApLHRoaXMuYnV0dG9ucy5sYXN0KCkuZmluZCgiLnVpLWljb24iKS5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuaWNvbnMuZG93bikuYWRkQ2xhc3ModC5kb3duKSksdGhpcy5fc3VwZXIoZSx0KSwiZGlzYWJsZWQiPT09ZSYmKHRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIiwhIXQpLHRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsISF0KSx0aGlzLmJ1dHRvbnMuYnV0dG9uKHQ/ImRpc2FibGUiOiJlbmFibGUiKSl9LF9zZXRPcHRpb25zOmgoZnVuY3Rpb24oZSl7dGhpcy5fc3VwZXIoZSl9KSxfcGFyc2U6ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiYiIiE9PWUmJihlPXdpbmRvdy5HbG9iYWxpemUmJnRoaXMub3B0aW9ucy5udW1iZXJGb3JtYXQ/R2xvYmFsaXplLnBhcnNlRmxvYXQoZSwxMCx0aGlzLm9wdGlvbnMuY3VsdHVyZSk6K2UpLCIiPT09ZXx8aXNOYU4oZSk/bnVsbDplfSxfZm9ybWF0OmZ1bmN0aW9uKGUpe3JldHVybiIiPT09ZT8iIjp3aW5kb3cuR2xvYmFsaXplJiZ0aGlzLm9wdGlvbnMubnVtYmVyRm9ybWF0P0dsb2JhbGl6ZS5mb3JtYXQoZSx0aGlzLm9wdGlvbnMubnVtYmVyRm9ybWF0LHRoaXMub3B0aW9ucy5jdWx0dXJlKTplfSxfcmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKHsiYXJpYS12YWx1ZW1pbiI6dGhpcy5vcHRpb25zLm1pbiwiYXJpYS12YWx1ZW1heCI6dGhpcy5vcHRpb25zLm1heCwiYXJpYS12YWx1ZW5vdyI6dGhpcy5fcGFyc2UodGhpcy5lbGVtZW50LnZhbCgpKX0pfSxpc1ZhbGlkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy52YWx1ZSgpO3JldHVybiBudWxsPT09ZT8hMTplPT09dGhpcy5fYWRqdXN0VmFsdWUoZSl9LF92YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpOyIiIT09ZSYmKGk9dGhpcy5fcGFyc2UoZSksbnVsbCE9PWkmJih0fHwoaT10aGlzLl9hZGp1c3RWYWx1ZShpKSksZT10aGlzLl9mb3JtYXQoaSkpKSx0aGlzLmVsZW1lbnQudmFsKGUpLHRoaXMuX3JlZnJlc2goKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXNwaW5uZXItaW5wdXQiKS5wcm9wKCJkaXNhYmxlZCIsITEpLnJlbW92ZUF0dHIoImF1dG9jb21wbGV0ZSIpLnJlbW92ZUF0dHIoInJvbGUiKS5yZW1vdmVBdHRyKCJhcmlhLXZhbHVlbWluIikucmVtb3ZlQXR0cigiYXJpYS12YWx1ZW1heCIpLnJlbW92ZUF0dHIoImFyaWEtdmFsdWVub3ciKSx0aGlzLnVpU3Bpbm5lci5yZXBsYWNlV2l0aCh0aGlzLmVsZW1lbnQpfSxzdGVwVXA6aChmdW5jdGlvbihlKXt0aGlzLl9zdGVwVXAoZSl9KSxfc3RlcFVwOmZ1bmN0aW9uKGUpe3RoaXMuX3N0YXJ0KCkmJih0aGlzLl9zcGluKChlfHwxKSp0aGlzLm9wdGlvbnMuc3RlcCksdGhpcy5fc3RvcCgpKX0sc3RlcERvd246aChmdW5jdGlvbihlKXt0aGlzLl9zdGVwRG93bihlKX0pLF9zdGVwRG93bjpmdW5jdGlvbihlKXt0aGlzLl9zdGFydCgpJiYodGhpcy5fc3BpbigoZXx8MSkqLXRoaXMub3B0aW9ucy5zdGVwKSx0aGlzLl9zdG9wKCkpfSxwYWdlVXA6aChmdW5jdGlvbihlKXt0aGlzLl9zdGVwVXAoKGV8fDEpKnRoaXMub3B0aW9ucy5wYWdlKX0pLHBhZ2VEb3duOmgoZnVuY3Rpb24oZSl7dGhpcy5fc3RlcERvd24oKGV8fDEpKnRoaXMub3B0aW9ucy5wYWdlKX0pLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhoKHRoaXMuX3ZhbHVlKS5jYWxsKHRoaXMsZSksdm9pZCAwKTp0aGlzLl9wYXJzZSh0aGlzLmVsZW1lbnQudmFsKCkpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aVNwaW5uZXJ9fSksZS53aWRnZXQoInVpLnRhYnMiLHt2ZXJzaW9uOiIxLjExLjEiLGRlbGF5OjMwMCxvcHRpb25zOnthY3RpdmU6bnVsbCxjb2xsYXBzaWJsZTohMSxldmVudDoiY2xpY2siLGhlaWdodFN0eWxlOiJjb250ZW50IixoaWRlOm51bGwsc2hvdzpudWxsLGFjdGl2YXRlOm51bGwsYmVmb3JlQWN0aXZhdGU6bnVsbCxiZWZvcmVMb2FkOm51bGwsbG9hZDpudWxsfSxfaXNMb2NhbDpmdW5jdGlvbigpe3ZhciBlPS8jLiokLztyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGksczt0PXQuY2xvbmVOb2RlKCExKSxpPXQuaHJlZi5yZXBsYWNlKGUsIiIpLHM9bG9jYXRpb24uaHJlZi5yZXBsYWNlKGUsIiIpO3RyeXtpPWRlY29kZVVSSUNvbXBvbmVudChpKX1jYXRjaChuKXt9dHJ5e3M9ZGVjb2RlVVJJQ29tcG9uZW50KHMpfWNhdGNoKG4pe31yZXR1cm4gdC5oYXNoLmxlbmd0aD4xJiZpPT09c319KCksX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT10aGlzLm9wdGlvbnM7dGhpcy5ydW5uaW5nPSExLHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktdGFicyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCIpLnRvZ2dsZUNsYXNzKCJ1aS10YWJzLWNvbGxhcHNpYmxlIixpLmNvbGxhcHNpYmxlKSx0aGlzLl9wcm9jZXNzVGFicygpLGkuYWN0aXZlPXRoaXMuX2luaXRpYWxBY3RpdmUoKSxlLmlzQXJyYXkoaS5kaXNhYmxlZCkmJihpLmRpc2FibGVkPWUudW5pcXVlKGkuZGlzYWJsZWQuY29uY2F0KGUubWFwKHRoaXMudGFicy5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLGZ1bmN0aW9uKGUpe3JldHVybiB0LnRhYnMuaW5kZXgoZSl9KSkpLnNvcnQoKSksdGhpcy5hY3RpdmU9dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoP3RoaXMuX2ZpbmRBY3RpdmUoaS5hY3RpdmUpOmUoKSx0aGlzLl9yZWZyZXNoKCksdGhpcy5hY3RpdmUubGVuZ3RoJiZ0aGlzLmxvYWQoaS5hY3RpdmUpfSxfaW5pdGlhbEFjdGl2ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5hY3RpdmUsaT10aGlzLm9wdGlvbnMuY29sbGFwc2libGUscz1sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKTtyZXR1cm4gbnVsbD09PXQmJihzJiZ0aGlzLnRhYnMuZWFjaChmdW5jdGlvbihpLG4pe3JldHVybiBlKG4pLmF0dHIoImFyaWEtY29udHJvbHMiKT09PXM/KHQ9aSwhMSk6dm9pZCAwfSksbnVsbD09PXQmJih0PXRoaXMudGFicy5pbmRleCh0aGlzLnRhYnMuZmlsdGVyKCIudWktdGFicy1hY3RpdmUiKSkpLChudWxsPT09dHx8LTE9PT10KSYmKHQ9dGhpcy50YWJzLmxlbmd0aD8wOiExKSksdCE9PSExJiYodD10aGlzLnRhYnMuaW5kZXgodGhpcy50YWJzLmVxKHQpKSwtMT09PXQmJih0PWk/ITE6MCkpLCFpJiZ0PT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGgmJih0PTApLHR9LF9nZXRDcmVhdGVFdmVudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm57dGFiOnRoaXMuYWN0aXZlLHBhbmVsOnRoaXMuYWN0aXZlLmxlbmd0aD90aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSk6ZSgpfX0sX3RhYktleWRvd246ZnVuY3Rpb24odCl7dmFyIGk9ZSh0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQpLmNsb3Nlc3QoImxpIikscz10aGlzLnRhYnMuaW5kZXgoaSksbj0hMDtpZighdGhpcy5faGFuZGxlUGFnZU5hdih0KSl7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSBlLnVpLmtleUNvZGUuUklHSFQ6Y2FzZSBlLnVpLmtleUNvZGUuRE9XTjpzKys7YnJlYWs7Y2FzZSBlLnVpLmtleUNvZGUuVVA6Y2FzZSBlLnVpLmtleUNvZGUuTEVGVDpuPSExLHMtLTticmVhaztjYXNlIGUudWkua2V5Q29kZS5FTkQ6cz10aGlzLmFuY2hvcnMubGVuZ3RoLTE7YnJlYWs7Y2FzZSBlLnVpLmtleUNvZGUuSE9NRTpzPTA7YnJlYWs7Y2FzZSBlLnVpLmtleUNvZGUuU1BBQ0U6cmV0dXJuIHQucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx0aGlzLl9hY3RpdmF0ZShzKSx2b2lkIDA7Y2FzZSBlLnVpLmtleUNvZGUuRU5URVI6cmV0dXJuIHQucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx0aGlzLl9hY3RpdmF0ZShzPT09dGhpcy5vcHRpb25zLmFjdGl2ZT8hMTpzKSx2b2lkIDA7ZGVmYXVsdDpyZXR1cm59dC5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLHM9dGhpcy5fZm9jdXNOZXh0VGFiKHMsbiksdC5jdHJsS2V5fHwoaS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwiZmFsc2UiKSx0aGlzLnRhYnMuZXEocykuYXR0cigiYXJpYS1zZWxlY3RlZCIsInRydWUiKSx0aGlzLmFjdGl2YXRpbmc9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLm9wdGlvbigiYWN0aXZlIixzKX0sdGhpcy5kZWxheSkpfX0sX3BhbmVsS2V5ZG93bjpmdW5jdGlvbih0KXt0aGlzLl9oYW5kbGVQYWdlTmF2KHQpfHx0LmN0cmxLZXkmJnQua2V5Q29kZT09PWUudWkua2V5Q29kZS5VUCYmKHQucHJldmVudERlZmF1bHQoKSx0aGlzLmFjdGl2ZS5mb2N1cygpKX0sX2hhbmRsZVBhZ2VOYXY6ZnVuY3Rpb24odCl7cmV0dXJuIHQuYWx0S2V5JiZ0LmtleUNvZGU9PT1lLnVpLmtleUNvZGUuUEFHRV9VUD8odGhpcy5fYWN0aXZhdGUodGhpcy5fZm9jdXNOZXh0VGFiKHRoaXMub3B0aW9ucy5hY3RpdmUtMSwhMSkpLCEwKTp0LmFsdEtleSYmdC5rZXlDb2RlPT09ZS51aS5rZXlDb2RlLlBBR0VfRE9XTj8odGhpcy5fYWN0aXZhdGUodGhpcy5fZm9jdXNOZXh0VGFiKHRoaXMub3B0aW9ucy5hY3RpdmUrMSwhMCkpLCEwKTp2b2lkIDB9LF9maW5kTmV4dFRhYjpmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIHMoKXtyZXR1cm4gdD5uJiYodD0wKSwwPnQmJih0PW4pLHR9Zm9yKHZhciBuPXRoaXMudGFicy5sZW5ndGgtMTstMSE9PWUuaW5BcnJheShzKCksdGhpcy5vcHRpb25zLmRpc2FibGVkKTspe3Q9aT90KzE6dC0xfXJldHVybiB0fSxfZm9jdXNOZXh0VGFiOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9dGhpcy5fZmluZE5leHRUYWIoZSx0KSx0aGlzLnRhYnMuZXEoZSkuZm9jdXMoKSxlfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGUsdCl7cmV0dXJuImFjdGl2ZSI9PT1lPyh0aGlzLl9hY3RpdmF0ZSh0KSx2b2lkIDApOiJkaXNhYmxlZCI9PT1lPyh0aGlzLl9zZXR1cERpc2FibGVkKHQpLHZvaWQgMCk6KHRoaXMuX3N1cGVyKGUsdCksImNvbGxhcHNpYmxlIj09PWUmJih0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLXRhYnMtY29sbGFwc2libGUiLHQpLHR8fHRoaXMub3B0aW9ucy5hY3RpdmUhPT0hMXx8dGhpcy5fYWN0aXZhdGUoMCkpLCJldmVudCI9PT1lJiZ0aGlzLl9zZXR1cEV2ZW50cyh0KSwiaGVpZ2h0U3R5bGUiPT09ZSYmdGhpcy5fc2V0dXBIZWlnaHRTdHlsZSh0KSx2b2lkIDApfSxfc2FuaXRpemVTZWxlY3RvcjpmdW5jdGlvbihlKXtyZXR1cm4gZT9lLnJlcGxhY2UoL1shIiQlJicoKSorLC5cLzo7PD0+P0BcW1xdXF5ge3x9fl0vZywiXFwkJiIpOiIifSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLGk9dGhpcy50YWJsaXN0LmNoaWxkcmVuKCI6aGFzKGFbaHJlZl0pIik7dC5kaXNhYmxlZD1lLm1hcChpLmZpbHRlcigiLnVpLXN0YXRlLWRpc2FibGVkIiksZnVuY3Rpb24oZSl7cmV0dXJuIGkuaW5kZXgoZSl9KSx0aGlzLl9wcm9jZXNzVGFicygpLHQuYWN0aXZlIT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGg/dGhpcy5hY3RpdmUubGVuZ3RoJiYhZS5jb250YWlucyh0aGlzLnRhYmxpc3RbMF0sdGhpcy5hY3RpdmVbMF0pP3RoaXMudGFicy5sZW5ndGg9PT10LmRpc2FibGVkLmxlbmd0aD8odC5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9ZSgpKTp0aGlzLl9hY3RpdmF0ZSh0aGlzLl9maW5kTmV4dFRhYihNYXRoLm1heCgwLHQuYWN0aXZlLTEpLCExKSk6dC5hY3RpdmU9dGhpcy50YWJzLmluZGV4KHRoaXMuYWN0aXZlKToodC5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9ZSgpKSx0aGlzLl9yZWZyZXNoKCl9LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fc2V0dXBEaXNhYmxlZCh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpLHRoaXMuX3NldHVwRXZlbnRzKHRoaXMub3B0aW9ucy5ldmVudCksdGhpcy5fc2V0dXBIZWlnaHRTdHlsZSh0aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUpLHRoaXMudGFicy5ub3QodGhpcy5hY3RpdmUpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLHRhYkluZGV4Oi0xfSksdGhpcy5wYW5lbHMubm90KHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKSkuaGlkZSgpLmF0dHIoeyJhcmlhLWhpZGRlbiI6InRydWUifSksdGhpcy5hY3RpdmUubGVuZ3RoPyh0aGlzLmFjdGl2ZS5hZGRDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIikuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJ0cnVlIiwiYXJpYS1leHBhbmRlZCI6InRydWUiLHRhYkluZGV4OjB9KSx0aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSkuc2hvdygpLmF0dHIoeyJhcmlhLWhpZGRlbiI6ImZhbHNlIn0pKTp0aGlzLnRhYnMuZXEoMCkuYXR0cigidGFiSW5kZXgiLDApfSxfcHJvY2Vzc1RhYnM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMudGFibGlzdD10aGlzLl9nZXRMaXN0KCkuYWRkQ2xhc3MoInVpLXRhYnMtbmF2IHVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsIikuYXR0cigicm9sZSIsInRhYmxpc3QiKS5kZWxlZ2F0ZSgiPiBsaSIsIm1vdXNlZG93biIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbih0KXtlKHRoaXMpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdC5wcmV2ZW50RGVmYXVsdCgpfSkuZGVsZWdhdGUoIi51aS10YWJzLWFuY2hvciIsImZvY3VzIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7ZSh0aGlzKS5jbG9zZXN0KCJsaSIpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5ibHVyKCl9KSx0aGlzLnRhYnM9dGhpcy50YWJsaXN0LmZpbmQoIj4gbGk6aGFzKGFbaHJlZl0pIikuYWRkQ2xhc3MoInVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLXRvcCIpLmF0dHIoe3JvbGU6InRhYiIsdGFiSW5kZXg6LTF9KSx0aGlzLmFuY2hvcnM9dGhpcy50YWJzLm1hcChmdW5jdGlvbigpe3JldHVybiBlKCJhIix0aGlzKVswXX0pLmFkZENsYXNzKCJ1aS10YWJzLWFuY2hvciIpLmF0dHIoe3JvbGU6InByZXNlbnRhdGlvbiIsdGFiSW5kZXg6LTF9KSx0aGlzLnBhbmVscz1lKCksdGhpcy5hbmNob3JzLmVhY2goZnVuY3Rpb24oaSxzKXt2YXIgbixhLG8scj1lKHMpLnVuaXF1ZUlkKCkuYXR0cigiaWQiKSxoPWUocykuY2xvc2VzdCgibGkiKSxsPWguYXR0cigiYXJpYS1jb250cm9scyIpO3QuX2lzTG9jYWwocyk/KG49cy5oYXNoLG89bi5zdWJzdHJpbmcoMSksYT10LmVsZW1lbnQuZmluZCh0Ll9zYW5pdGl6ZVNlbGVjdG9yKG4pKSk6KG89aC5hdHRyKCJhcmlhLWNvbnRyb2xzIil8fGUoe30pLnVuaXF1ZUlkKClbMF0uaWQsbj0iIyIrbyxhPXQuZWxlbWVudC5maW5kKG4pLGEubGVuZ3RofHwoYT10Ll9jcmVhdGVQYW5lbChvKSxhLmluc2VydEFmdGVyKHQucGFuZWxzW2ktMV18fHQudGFibGlzdCkpLGEuYXR0cigiYXJpYS1saXZlIiwicG9saXRlIikpLGEubGVuZ3RoJiYodC5wYW5lbHM9dC5wYW5lbHMuYWRkKGEpKSxsJiZoLmRhdGEoInVpLXRhYnMtYXJpYS1jb250cm9scyIsbCksaC5hdHRyKHsiYXJpYS1jb250cm9scyI6bywiYXJpYS1sYWJlbGxlZGJ5IjpyfSksYS5hdHRyKCJhcmlhLWxhYmVsbGVkYnkiLHIpfSksdGhpcy5wYW5lbHMuYWRkQ2xhc3MoInVpLXRhYnMtcGFuZWwgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWJvdHRvbSIpLmF0dHIoInJvbGUiLCJ0YWJwYW5lbCIpfSxfZ2V0TGlzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRhYmxpc3R8fHRoaXMuZWxlbWVudC5maW5kKCJvbCx1bCIpLmVxKDApfSxfY3JlYXRlUGFuZWw6ZnVuY3Rpb24odCl7cmV0dXJuIGUoIjxkaXY+IikuYXR0cigiaWQiLHQpLmFkZENsYXNzKCJ1aS10YWJzLXBhbmVsIHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20iKS5kYXRhKCJ1aS10YWJzLWRlc3Ryb3kiLCEwKX0sX3NldHVwRGlzYWJsZWQ6ZnVuY3Rpb24odCl7ZS5pc0FycmF5KHQpJiYodC5sZW5ndGg/dC5sZW5ndGg9PT10aGlzLmFuY2hvcnMubGVuZ3RoJiYodD0hMCk6dD0hMSk7Zm9yKHZhciBpLHM9MDtpPXRoaXMudGFic1tzXTtzKyspe3Q9PT0hMHx8LTEhPT1lLmluQXJyYXkocyx0KT9lKGkpLmFkZENsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIik6ZShpKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIil9dGhpcy5vcHRpb25zLmRpc2FibGVkPXR9LF9zZXR1cEV2ZW50czpmdW5jdGlvbih0KXt2YXIgaT17fTt0JiZlLmVhY2godC5zcGxpdCgiICIpLGZ1bmN0aW9uKGUsdCl7aVt0XT0iX2V2ZW50SGFuZGxlciJ9KSx0aGlzLl9vZmYodGhpcy5hbmNob3JzLmFkZCh0aGlzLnRhYnMpLmFkZCh0aGlzLnBhbmVscykpLHRoaXMuX29uKCEwLHRoaXMuYW5jaG9ycyx7Y2xpY2s6ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpfX0pLHRoaXMuX29uKHRoaXMuYW5jaG9ycyxpKSx0aGlzLl9vbih0aGlzLnRhYnMse2tleWRvd246Il90YWJLZXlkb3duIn0pLHRoaXMuX29uKHRoaXMucGFuZWxzLHtrZXlkb3duOiJfcGFuZWxLZXlkb3duIn0pLHRoaXMuX2ZvY3VzYWJsZSh0aGlzLnRhYnMpLHRoaXMuX2hvdmVyYWJsZSh0aGlzLnRhYnMpfSxfc2V0dXBIZWlnaHRTdHlsZTpmdW5jdGlvbih0KXt2YXIgaSxzPXRoaXMuZWxlbWVudC5wYXJlbnQoKTsiZmlsbCI9PT10PyhpPXMuaGVpZ2h0KCksaS09dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCktdGhpcy5lbGVtZW50LmhlaWdodCgpLHRoaXMuZWxlbWVudC5zaWJsaW5ncygiOnZpc2libGUiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKSxzPXQuY3NzKCJwb3NpdGlvbiIpOyJhYnNvbHV0ZSIhPT1zJiYiZml4ZWQiIT09cyYmKGktPXQub3V0ZXJIZWlnaHQoITApKX0pLHRoaXMuZWxlbWVudC5jaGlsZHJlbigpLm5vdCh0aGlzLnBhbmVscykuZWFjaChmdW5jdGlvbigpe2ktPWUodGhpcykub3V0ZXJIZWlnaHQoITApfSksdGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpe2UodGhpcykuaGVpZ2h0KE1hdGgubWF4KDAsaS1lKHRoaXMpLmlubmVySGVpZ2h0KCkrZSh0aGlzKS5oZWlnaHQoKSkpfSkuY3NzKCJvdmVyZmxvdyIsImF1dG8iKSk6ImF1dG8iPT09dCYmKGk9MCx0aGlzLnBhbmVscy5lYWNoKGZ1bmN0aW9uKCl7aT1NYXRoLm1heChpLGUodGhpcykuaGVpZ2h0KCIiKS5oZWlnaHQoKSl9KS5oZWlnaHQoaSkpfSxfZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9ucyxzPXRoaXMuYWN0aXZlLG49ZSh0LmN1cnJlbnRUYXJnZXQpLGE9bi5jbG9zZXN0KCJsaSIpLG89YVswXT09PXNbMF0scj1vJiZpLmNvbGxhcHNpYmxlLGg9cj9lKCk6dGhpcy5fZ2V0UGFuZWxGb3JUYWIoYSksbD1zLmxlbmd0aD90aGlzLl9nZXRQYW5lbEZvclRhYihzKTplKCksdT17b2xkVGFiOnMsb2xkUGFuZWw6bCxuZXdUYWI6cj9lKCk6YSxuZXdQYW5lbDpofTt0LnByZXZlbnREZWZhdWx0KCksYS5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKXx8YS5oYXNDbGFzcygidWktdGFicy1sb2FkaW5nIil8fHRoaXMucnVubmluZ3x8byYmIWkuY29sbGFwc2libGV8fHRoaXMuX3RyaWdnZXIoImJlZm9yZUFjdGl2YXRlIix0LHUpPT09ITF8fChpLmFjdGl2ZT1yPyExOnRoaXMudGFicy5pbmRleChhKSx0aGlzLmFjdGl2ZT1vP2UoKTphLHRoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpLGwubGVuZ3RofHxoLmxlbmd0aHx8ZS5lcnJvcigialF1ZXJ5IFVJIFRhYnM6IE1pc21hdGNoaW5nIGZyYWdtZW50IGlkZW50aWZpZXIuIiksaC5sZW5ndGgmJnRoaXMubG9hZCh0aGlzLnRhYnMuaW5kZXgoYSksdCksdGhpcy5fdG9nZ2xlKHQsdSkpfSxfdG9nZ2xlOmZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gcygpe2EucnVubmluZz0hMSxhLl90cmlnZ2VyKCJhY3RpdmF0ZSIsdCxpKX1mdW5jdGlvbiBuKCl7aS5uZXdUYWIuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIiksby5sZW5ndGgmJmEub3B0aW9ucy5zaG93P2EuX3Nob3cobyxhLm9wdGlvbnMuc2hvdyxzKTooby5zaG93KCkscygpKX12YXIgYT10aGlzLG89aS5uZXdQYW5lbCxyPWkub2xkUGFuZWw7dGhpcy5ydW5uaW5nPSEwLHIubGVuZ3RoJiZ0aGlzLm9wdGlvbnMuaGlkZT90aGlzLl9oaWRlKHIsdGhpcy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtpLm9sZFRhYi5jbG9zZXN0KCJsaSIpLnJlbW92ZUNsYXNzKCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmUiKSxuKCl9KTooaS5vbGRUYWIuY2xvc2VzdCgibGkiKS5yZW1vdmVDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIiksci5oaWRlKCksbigpKSxyLmF0dHIoImFyaWEtaGlkZGVuIiwidHJ1ZSIpLGkub2xkVGFiLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UifSksby5sZW5ndGgmJnIubGVuZ3RoP2kub2xkVGFiLmF0dHIoInRhYkluZGV4IiwtMSk6by5sZW5ndGgmJnRoaXMudGFicy5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMD09PWUodGhpcykuYXR0cigidGFiSW5kZXgiKX0pLmF0dHIoInRhYkluZGV4IiwtMSksby5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIiksaS5uZXdUYWIuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJ0cnVlIiwiYXJpYS1leHBhbmRlZCI6InRydWUiLHRhYkluZGV4OjB9KX0sX2FjdGl2YXRlOmZ1bmN0aW9uKHQpe3ZhciBpLHM9dGhpcy5fZmluZEFjdGl2ZSh0KTtzWzBdIT09dGhpcy5hY3RpdmVbMF0mJihzLmxlbmd0aHx8KHM9dGhpcy5hY3RpdmUpLGk9cy5maW5kKCIudWktdGFicy1hbmNob3IiKVswXSx0aGlzLl9ldmVudEhhbmRsZXIoe3RhcmdldDppLGN1cnJlbnRUYXJnZXQ6aSxwcmV2ZW50RGVmYXVsdDplLm5vb3B9KSl9LF9maW5kQWN0aXZlOmZ1bmN0aW9uKHQpe3JldHVybiB0PT09ITE/ZSgpOnRoaXMudGFicy5lcSh0KX0sX2dldEluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmKGU9dGhpcy5hbmNob3JzLmluZGV4KHRoaXMuYW5jaG9ycy5maWx0ZXIoIltocmVmJD0nIitlKyInXSIpKSksZX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnhociYmdGhpcy54aHIuYWJvcnQoKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXRhYnMgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwgdWktdGFicy1jb2xsYXBzaWJsZSIpLHRoaXMudGFibGlzdC5yZW1vdmVDbGFzcygidWktdGFicy1uYXYgdWktaGVscGVyLXJlc2V0IHVpLWhlbHBlci1jbGVhcmZpeCB1aS13aWRnZXQtaGVhZGVyIHVpLWNvcm5lci1hbGwiKS5yZW1vdmVBdHRyKCJyb2xlIiksdGhpcy5hbmNob3JzLnJlbW92ZUNsYXNzKCJ1aS10YWJzLWFuY2hvciIpLnJlbW92ZUF0dHIoInJvbGUiKS5yZW1vdmVBdHRyKCJ0YWJJbmRleCIpLnJlbW92ZVVuaXF1ZUlkKCksdGhpcy50YWJsaXN0LnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKSx0aGlzLnRhYnMuYWRkKHRoaXMucGFuZWxzKS5lYWNoKGZ1bmN0aW9uKCl7ZS5kYXRhKHRoaXMsInVpLXRhYnMtZGVzdHJveSIpP2UodGhpcykucmVtb3ZlKCk6ZSh0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZGVmYXVsdCB1aS1zdGF0ZS1hY3RpdmUgdWktc3RhdGUtZGlzYWJsZWQgdWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIHVpLXdpZGdldC1jb250ZW50IHVpLXRhYnMtYWN0aXZlIHVpLXRhYnMtcGFuZWwiKS5yZW1vdmVBdHRyKCJ0YWJJbmRleCIpLnJlbW92ZUF0dHIoImFyaWEtbGl2ZSIpLnJlbW92ZUF0dHIoImFyaWEtYnVzeSIpLnJlbW92ZUF0dHIoImFyaWEtc2VsZWN0ZWQiKS5yZW1vdmVBdHRyKCJhcmlhLWxhYmVsbGVkYnkiKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtZXhwYW5kZWQiKS5yZW1vdmVBdHRyKCJyb2xlIil9KSx0aGlzLnRhYnMuZWFjaChmdW5jdGlvbigpe3ZhciB0PWUodGhpcyksaT10LmRhdGEoInVpLXRhYnMtYXJpYS1jb250cm9scyIpO2k/dC5hdHRyKCJhcmlhLWNvbnRyb2xzIixpKS5yZW1vdmVEYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiKTp0LnJlbW92ZUF0dHIoImFyaWEtY29udHJvbHMiKX0pLHRoaXMucGFuZWxzLnNob3coKSwiY29udGVudCIhPT10aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUmJnRoaXMucGFuZWxzLmNzcygiaGVpZ2h0IiwiIil9LGVuYWJsZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLm9wdGlvbnMuZGlzYWJsZWQ7aSE9PSExJiYodm9pZCAwPT09dD9pPSExOih0PXRoaXMuX2dldEluZGV4KHQpLGk9ZS5pc0FycmF5KGkpP2UubWFwKGksZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT10P2U6bnVsbH0pOmUubWFwKHRoaXMudGFicyxmdW5jdGlvbihlLGkpe3JldHVybiBpIT09dD9pOm51bGx9KSksdGhpcy5fc2V0dXBEaXNhYmxlZChpKSl9LGRpc2FibGU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zLmRpc2FibGVkO2lmKGkhPT0hMCl7aWYodm9pZCAwPT09dCl7aT0hMH1lbHNle2lmKHQ9dGhpcy5fZ2V0SW5kZXgodCksLTEhPT1lLmluQXJyYXkodCxpKSl7cmV0dXJufWk9ZS5pc0FycmF5KGkpP2UubWVyZ2UoW3RdLGkpLnNvcnQoKTpbdF19dGhpcy5fc2V0dXBEaXNhYmxlZChpKX19LGxvYWQ6ZnVuY3Rpb24odCxpKXt0PXRoaXMuX2dldEluZGV4KHQpO3ZhciBzPXRoaXMsbj10aGlzLnRhYnMuZXEodCksYT1uLmZpbmQoIi51aS10YWJzLWFuY2hvciIpLG89dGhpcy5fZ2V0UGFuZWxGb3JUYWIobikscj17dGFiOm4scGFuZWw6b307dGhpcy5faXNMb2NhbChhWzBdKXx8KHRoaXMueGhyPWUuYWpheCh0aGlzLl9hamF4U2V0dGluZ3MoYSxpLHIpKSx0aGlzLnhociYmImNhbmNlbGVkIiE9PXRoaXMueGhyLnN0YXR1c1RleHQmJihuLmFkZENsYXNzKCJ1aS10YWJzLWxvYWRpbmciKSxvLmF0dHIoImFyaWEtYnVzeSIsInRydWUiKSx0aGlzLnhoci5zdWNjZXNzKGZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtvLmh0bWwoZSkscy5fdHJpZ2dlcigibG9hZCIsaSxyKX0sMSl9KS5jb21wbGV0ZShmdW5jdGlvbihlLHQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXsiYWJvcnQiPT09dCYmcy5wYW5lbHMuc3RvcCghMSwhMCksbi5yZW1vdmVDbGFzcygidWktdGFicy1sb2FkaW5nIiksby5yZW1vdmVBdHRyKCJhcmlhLWJ1c3kiKSxlPT09cy54aHImJmRlbGV0ZSBzLnhocn0sMSl9KSkpfSxfYWpheFNldHRpbmdzOmZ1bmN0aW9uKHQsaSxzKXt2YXIgbj10aGlzO3JldHVybnt1cmw6dC5hdHRyKCJocmVmIiksYmVmb3JlU2VuZDpmdW5jdGlvbih0LGEpe3JldHVybiBuLl90cmlnZ2VyKCJiZWZvcmVMb2FkIixpLGUuZXh0ZW5kKHtqcVhIUjp0LGFqYXhTZXR0aW5nczphfSxzKSl9fX0sX2dldFBhbmVsRm9yVGFiOmZ1bmN0aW9uKHQpe3ZhciBpPWUodCkuYXR0cigiYXJpYS1jb250cm9scyIpO3JldHVybiB0aGlzLmVsZW1lbnQuZmluZCh0aGlzLl9zYW5pdGl6ZVNlbGVjdG9yKCIjIitpKSl9fSksZS53aWRnZXQoInVpLnRvb2x0aXAiLHt2ZXJzaW9uOiIxLjExLjEiLG9wdGlvbnM6e2NvbnRlbnQ6ZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLmF0dHIoInRpdGxlIil8fCIiO3JldHVybiBlKCI8YT4iKS50ZXh0KHQpLmh0bWwoKX0saGlkZTohMCxpdGVtczoiW3RpdGxlXTpub3QoW2Rpc2FibGVkXSkiLHBvc2l0aW9uOntteToibGVmdCB0b3ArMTUiLGF0OiJsZWZ0IGJvdHRvbSIsY29sbGlzaW9uOiJmbGlwZml0IGZsaXAifSxzaG93OiEwLHRvb2x0aXBDbGFzczpudWxsLHRyYWNrOiExLGNsb3NlOm51bGwsb3BlbjpudWxsfSxfYWRkRGVzY3JpYmVkQnk6ZnVuY3Rpb24odCxpKXt2YXIgcz0odC5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5Iil8fCIiKS5zcGxpdCgvXHMrLyk7cy5wdXNoKGkpLHQuZGF0YSgidWktdG9vbHRpcC1pZCIsaSkuYXR0cigiYXJpYS1kZXNjcmliZWRieSIsZS50cmltKHMuam9pbigiICIpKSl9LF9yZW1vdmVEZXNjcmliZWRCeTpmdW5jdGlvbih0KXt2YXIgaT10LmRhdGEoInVpLXRvb2x0aXAtaWQiKSxzPSh0LmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiKXx8IiIpLnNwbGl0KC9ccysvKSxuPWUuaW5BcnJheShpLHMpOy0xIT09biYmcy5zcGxpY2UobiwxKSx0LnJlbW92ZURhdGEoInVpLXRvb2x0aXAtaWQiKSxzPWUudHJpbShzLmpvaW4oIiAiKSkscz90LmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiLHMpOnQucmVtb3ZlQXR0cigiYXJpYS1kZXNjcmliZWRieSIpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fb24oe21vdXNlb3Zlcjoib3BlbiIsZm9jdXNpbjoib3BlbiJ9KSx0aGlzLnRvb2x0aXBzPXt9LHRoaXMucGFyZW50cz17fSx0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuX2Rpc2FibGUoKSx0aGlzLmxpdmVSZWdpb249ZSgiPGRpdj4iKS5hdHRyKHtyb2xlOiJsb2ciLCJhcmlhLWxpdmUiOiJhc3NlcnRpdmUiLCJhcmlhLXJlbGV2YW50IjoiYWRkaXRpb25zIn0pLmFkZENsYXNzKCJ1aS1oZWxwZXItaGlkZGVuLWFjY2Vzc2libGUiKS5hcHBlbmRUbyh0aGlzLmRvY3VtZW50WzBdLmJvZHkpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsaSl7dmFyIHM9dGhpcztyZXR1cm4iZGlzYWJsZWQiPT09dD8odGhpc1tpPyJfZGlzYWJsZSI6Il9lbmFibGUiXSgpLHRoaXMub3B0aW9uc1t0XT1pLHZvaWQgMCk6KHRoaXMuX3N1cGVyKHQsaSksImNvbnRlbnQiPT09dCYmZS5lYWNoKHRoaXMudG9vbHRpcHMsZnVuY3Rpb24oZSx0KXtzLl91cGRhdGVDb250ZW50KHQpfSksdm9pZCAwKX0sX2Rpc2FibGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2UuZWFjaCh0aGlzLnRvb2x0aXBzLGZ1bmN0aW9uKGkscyl7dmFyIG49ZS5FdmVudCgiYmx1ciIpO24udGFyZ2V0PW4uY3VycmVudFRhcmdldD1zWzBdLHQuY2xvc2UobiwhMCl9KSx0aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmFkZEJhY2soKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKTt0LmlzKCJbdGl0bGVdIikmJnQuZGF0YSgidWktdG9vbHRpcC10aXRsZSIsdC5hdHRyKCJ0aXRsZSIpKS5yZW1vdmVBdHRyKCJ0aXRsZSIpfSl9LF9lbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmFkZEJhY2soKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKTt0LmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSYmdC5hdHRyKCJ0aXRsZSIsdC5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIikpfSl9LG9wZW46ZnVuY3Rpb24odCl7dmFyIGk9dGhpcyxzPWUodD90LnRhcmdldDp0aGlzLmVsZW1lbnQpLmNsb3Nlc3QodGhpcy5vcHRpb25zLml0ZW1zKTtzLmxlbmd0aCYmIXMuZGF0YSgidWktdG9vbHRpcC1pZCIpJiYocy5hdHRyKCJ0aXRsZSIpJiZzLmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiLHMuYXR0cigidGl0bGUiKSkscy5kYXRhKCJ1aS10b29sdGlwLW9wZW4iLCEwKSx0JiYibW91c2VvdmVyIj09PXQudHlwZSYmcy5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe3ZhciB0LHM9ZSh0aGlzKTtzLmRhdGEoInVpLXRvb2x0aXAtb3BlbiIpJiYodD1lLkV2ZW50KCJibHVyIiksdC50YXJnZXQ9dC5jdXJyZW50VGFyZ2V0PXRoaXMsaS5jbG9zZSh0LCEwKSkscy5hdHRyKCJ0aXRsZSIpJiYocy51bmlxdWVJZCgpLGkucGFyZW50c1t0aGlzLmlkXT17ZWxlbWVudDp0aGlzLHRpdGxlOnMuYXR0cigidGl0bGUiKX0scy5hdHRyKCJ0aXRsZSIsIiIpKX0pLHRoaXMuX3VwZGF0ZUNvbnRlbnQocyx0KSl9LF91cGRhdGVDb250ZW50OmZ1bmN0aW9uKGUsdCl7dmFyIGkscz10aGlzLm9wdGlvbnMuY29udGVudCxuPXRoaXMsYT10P3QudHlwZTpudWxsO3JldHVybiJzdHJpbmciPT10eXBlb2Ygcz90aGlzLl9vcGVuKHQsZSxzKTooaT1zLmNhbGwoZVswXSxmdW5jdGlvbihpKXtlLmRhdGEoInVpLXRvb2x0aXAtb3BlbiIpJiZuLl9kZWxheShmdW5jdGlvbigpe3QmJih0LnR5cGU9YSksdGhpcy5fb3Blbih0LGUsaSl9KX0pLGkmJnRoaXMuX29wZW4odCxlLGkpLHZvaWQgMCl9LF9vcGVuOmZ1bmN0aW9uKHQsaSxzKXtmdW5jdGlvbiBuKGUpe2wub2Y9ZSxhLmlzKCI6aGlkZGVuIil8fGEucG9zaXRpb24obCl9dmFyIGEsbyxyLGgsbD1lLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMucG9zaXRpb24pO2lmKHMpe2lmKGE9dGhpcy5fZmluZChpKSxhLmxlbmd0aCl7cmV0dXJuIGEuZmluZCgiLnVpLXRvb2x0aXAtY29udGVudCIpLmh0bWwocyksdm9pZCAwfWkuaXMoIlt0aXRsZV0iKSYmKHQmJiJtb3VzZW92ZXIiPT09dC50eXBlP2kuYXR0cigidGl0bGUiLCIiKTppLnJlbW92ZUF0dHIoInRpdGxlIikpLGE9dGhpcy5fdG9vbHRpcChpKSx0aGlzLl9hZGREZXNjcmliZWRCeShpLGEuYXR0cigiaWQiKSksYS5maW5kKCIudWktdG9vbHRpcC1jb250ZW50IikuaHRtbChzKSx0aGlzLmxpdmVSZWdpb24uY2hpbGRyZW4oKS5oaWRlKCkscy5jbG9uZT8oaD1zLmNsb25lKCksaC5yZW1vdmVBdHRyKCJpZCIpLmZpbmQoIltpZF0iKS5yZW1vdmVBdHRyKCJpZCIpKTpoPXMsZSgiPGRpdj4iKS5odG1sKGgpLmFwcGVuZFRvKHRoaXMubGl2ZVJlZ2lvbiksdGhpcy5vcHRpb25zLnRyYWNrJiZ0JiYvXm1vdXNlLy50ZXN0KHQudHlwZSk/KHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse21vdXNlbW92ZTpufSksbih0KSk6YS5wb3NpdGlvbihlLmV4dGVuZCh7b2Y6aX0sdGhpcy5vcHRpb25zLnBvc2l0aW9uKSksdGhpcy5oaWRpbmc9ITEsdGhpcy5jbG9zaW5nPSExLGEuaGlkZSgpLHRoaXMuX3Nob3coYSx0aGlzLm9wdGlvbnMuc2hvdyksdGhpcy5vcHRpb25zLnNob3cmJnRoaXMub3B0aW9ucy5zaG93LmRlbGF5JiYocj10aGlzLmRlbGF5ZWRTaG93PXNldEludGVydmFsKGZ1bmN0aW9uKCl7YS5pcygiOnZpc2libGUiKSYmKG4obC5vZiksY2xlYXJJbnRlcnZhbChyKSl9LGUuZnguaW50ZXJ2YWwpKSx0aGlzLl90cmlnZ2VyKCJvcGVuIix0LHt0b29sdGlwOmF9KSxvPXtrZXl1cDpmdW5jdGlvbih0KXtpZih0LmtleUNvZGU9PT1lLnVpLmtleUNvZGUuRVNDQVBFKXt2YXIgcz1lLkV2ZW50KHQpO3MuY3VycmVudFRhcmdldD1pWzBdLHRoaXMuY2xvc2UocywhMCl9fX0saVswXSE9PXRoaXMuZWxlbWVudFswXSYmKG8ucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlVG9vbHRpcChhKX0pLHQmJiJtb3VzZW92ZXIiIT09dC50eXBlfHwoby5tb3VzZWxlYXZlPSJjbG9zZSIpLHQmJiJmb2N1c2luIiE9PXQudHlwZXx8KG8uZm9jdXNvdXQ9ImNsb3NlIiksdGhpcy5fb24oITAsaSxvKX19LGNsb3NlOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMscz1lKHQ/dC5jdXJyZW50VGFyZ2V0OnRoaXMuZWxlbWVudCksbj10aGlzLl9maW5kKHMpO3RoaXMuY2xvc2luZ3x8KGNsZWFySW50ZXJ2YWwodGhpcy5kZWxheWVkU2hvdykscy5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIikmJiFzLmF0dHIoInRpdGxlIikmJnMuYXR0cigidGl0bGUiLHMuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpKSx0aGlzLl9yZW1vdmVEZXNjcmliZWRCeShzKSx0aGlzLmhpZGluZz0hMCxuLnN0b3AoITApLHRoaXMuX2hpZGUobix0aGlzLm9wdGlvbnMuaGlkZSxmdW5jdGlvbigpe2kuX3JlbW92ZVRvb2x0aXAoZSh0aGlzKSksdGhpcy5oaWRpbmc9ITEsdGhpcy5jbG9zaW5nPSExfSkscy5yZW1vdmVEYXRhKCJ1aS10b29sdGlwLW9wZW4iKSx0aGlzLl9vZmYocywibW91c2VsZWF2ZSBmb2N1c291dCBrZXl1cCIpLHNbMF0hPT10aGlzLmVsZW1lbnRbMF0mJnRoaXMuX29mZihzLCJyZW1vdmUiKSx0aGlzLl9vZmYodGhpcy5kb2N1bWVudCwibW91c2Vtb3ZlIiksdCYmIm1vdXNlbGVhdmUiPT09dC50eXBlJiZlLmVhY2godGhpcy5wYXJlbnRzLGZ1bmN0aW9uKHQscyl7ZShzLmVsZW1lbnQpLmF0dHIoInRpdGxlIixzLnRpdGxlKSxkZWxldGUgaS5wYXJlbnRzW3RdfSksdGhpcy5jbG9zaW5nPSEwLHRoaXMuX3RyaWdnZXIoImNsb3NlIix0LHt0b29sdGlwOm59KSx0aGlzLmhpZGluZ3x8KHRoaXMuY2xvc2luZz0hMSkpfSxfdG9vbHRpcDpmdW5jdGlvbih0KXt2YXIgaT1lKCI8ZGl2PiIpLmF0dHIoInJvbGUiLCJ0b29sdGlwIikuYWRkQ2xhc3MoInVpLXRvb2x0aXAgdWktd2lkZ2V0IHVpLWNvcm5lci1hbGwgdWktd2lkZ2V0LWNvbnRlbnQgIisodGhpcy5vcHRpb25zLnRvb2x0aXBDbGFzc3x8IiIpKSxzPWkudW5pcXVlSWQoKS5hdHRyKCJpZCIpO3JldHVybiBlKCI8ZGl2PiIpLmFkZENsYXNzKCJ1aS10b29sdGlwLWNvbnRlbnQiKS5hcHBlbmRUbyhpKSxpLmFwcGVuZFRvKHRoaXMuZG9jdW1lbnRbMF0uYm9keSksdGhpcy50b29sdGlwc1tzXT10LGl9LF9maW5kOmZ1bmN0aW9uKHQpe3ZhciBpPXQuZGF0YSgidWktdG9vbHRpcC1pZCIpO3JldHVybiBpP2UoIiMiK2kpOmUoKX0sX3JlbW92ZVRvb2x0aXA6ZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKSxkZWxldGUgdGhpcy50b29sdGlwc1tlLmF0dHIoImlkIildfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7ZS5lYWNoKHRoaXMudG9vbHRpcHMsZnVuY3Rpb24oaSxzKXt2YXIgbj1lLkV2ZW50KCJibHVyIik7bi50YXJnZXQ9bi5jdXJyZW50VGFyZ2V0PXNbMF0sdC5jbG9zZShuLCEwKSxlKCIjIitpKS5yZW1vdmUoKSxzLmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSYmKHMuYXR0cigidGl0bGUiKXx8cy5hdHRyKCJ0aXRsZSIscy5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIikpLHMucmVtb3ZlRGF0YSgidWktdG9vbHRpcC10aXRsZSIpKX0pLHRoaXMubGl2ZVJlZ2lvbi5yZW1vdmUoKX19KX0pO3ZhciBDT05URVhUUEFUSD1DT05URVhUUEFUSHx8IiI7dmFyIGFDaXR5PXsxMToi5YyX5LqsIiwxMjoi5aSp5rSlIiwxMzoi5rKz5YyXIiwxNDoi5bGx6KW/IiwxNToi5YaF6JKZ5Y+kIiwyMToi6L695a6BIiwyMjoi5ZCJ5p6XIiwyMzoi6buR6b6Z5rGfIiwzMToi5LiK5rW3IiwzMjoi5rGf6IuPIiwzMzoi5rWZ5rGfIiwzNDoi5a6J5b69IiwzNToi56aP5bu6IiwzNjoi5rGf6KW/IiwzNzoi5bGx5LicIiw0MToi5rKz5Y2XIiw0Mjoi5rmW5YyXIiw0Mzoi5rmW5Y2XIiw0NDoi5bm/5LicIiw0NToi5bm/6KW/Iiw0Njoi5rW35Y2XIiw1MDoi6YeN5bqGIiw1MToi5Zub5bedIiw1Mjoi6LS15beeIiw1Mzoi5LqR5Y2XIiw1NDoi6KW/6JePIiw2MToi6ZmV6KW/Iiw2Mjoi55SY6IKDIiw2Mzoi6Z2S5rW3Iiw2NDoi5a6B5aSPIiw2NToi5paw55aGIiw3MToi5Y+w5rm+Iiw4MToi6aaZ5rivIiw4Mjoi5r6z6ZeoIiw5MToi5Zu95aSWIn07ZnVuY3Rpb24gY2hlY2tJZENhcmQoc0lkKXt2YXIgaVN1bT0wO3ZhciBpbmZvPSIiO2lmKCEvXlxkezE3fShcZHx4KSQvaS50ZXN0KHNJZCkpe3JldHVybiBmYWxzZX1zSWQ9c0lkLnJlcGxhY2UoL3gkL2ksImEiKTtpZihhQ2l0eVtwYXJzZUludChzSWQuc3Vic3RyKDAsMikpXT09bnVsbCl7cmV0dXJuIGZhbHNlfXNCaXJ0aGRheT1zSWQuc3Vic3RyKDYsNCkrIi0iK051bWJlcihzSWQuc3Vic3RyKDEwLDIpKSsiLSIrTnVtYmVyKHNJZC5zdWJzdHIoMTIsMikpO3ZhciBkPW5ldyBEYXRlKHNCaXJ0aGRheS5yZXBsYWNlKC8tL2csIi8iKSk7aWYoc0JpcnRoZGF5IT0oZC5nZXRGdWxsWWVhcigpKyItIisoZC5nZXRNb250aCgpKzEpKyItIitkLmdldERhdGUoKSkpe3JldHVybiBmYWxzZX1mb3IodmFyIGk9MTc7aT49MDtpLS0pe2lTdW0rPShNYXRoLnBvdygyLGkpJTExKSpwYXJzZUludChzSWQuY2hhckF0KDE3LWkpLDExKX1pZihpU3VtJTExIT0xKXtyZXR1cm4gZmFsc2V9cmV0dXJuIHRydWV9ZnVuY3Rpb24gZm9ybWF0U2VyaWFsaXplQXJyYXkocGFyYW0pe3ZhciBqc29uPXt9O2Zvcih2YXIgb2JqIGluIHBhcmFtKXtqc29uW3BhcmFtW29ial0ubmFtZV09cGFyYW1bb2JqXS52YWx1ZX1yZXR1cm4ganNvbn1mdW5jdGlvbiBjaGVja1Bob25lKHN0cil7dmFyIHJlPS9eMVxkezEwfSQvO2lmKCFyZS50ZXN0KHN0cikmJnN0ci5sZW5ndGghPTExKXtyZXR1cm4gZmFsc2V9cmV0dXJuIHRydWV9ZnVuY3Rpb24gY2hlY2tNYWlsKG1haWwpe3ZhciBmaWx0ZXI9L14oW2EtekEtWjAtOV9cLlwtXSkrXEAoKFthLXpBLVowLTlcLV0pK1wuKSsoW2EtekEtWjAtOV17Miw0fSkrJC87aWYoZmlsdGVyLnRlc3QobWFpbCkpe2lmKG1haWwubGVuZ3RoPjQpe3ZhciBzdHI9bWFpbC5zdWJzdHJpbmcoMCw0KTtpZihzdHI9PSJ3d3cuIil7cmV0dXJuIGZhbHNlfX1yZXR1cm4gdHJ1ZX1lbHNle3JldHVybiBmYWxzZX19ZnVuY3Rpb24gY2hlY2tNb2JpbGUobW9iaWxlKXt2YXIgZmlsdGVyPS9eXHMqXCs/XHMqKFwoXHMqXGQrXHMqXCl8XGQrKShccyotP1xzKihcKFxzKlxkK1xzKlwpfFxzKlxkK1xzKikpKlxzKiQvO2lmKGZpbHRlci50ZXN0KG1vYmlsZSkpe3JldHVybiB0cnVlfWVsc2V7cmV0dXJuIGZhbHNlfX1mdW5jdGlvbiBjaGVja1lNKHllYXJNb250aCl7dmFyIGZpbHRlcj0vXlxkezR9KCgwXGQpfCgxWzAtMl0pfChbMC05XSkpJC87aWYoZmlsdGVyLnRlc3QoeWVhck1vbnRoKSl7cmV0dXJuIHRydWV9ZWxzZXtyZXR1cm4gZmFsc2V9fWZ1bmN0aW9uIGNoZWNrRmxhc2goKXt2YXIgbz1zd2ZvYmplY3QuZ2V0Rmxhc2hQbGF5ZXJWZXJzaW9uKCk7dmFyIGg9KG8ubWFqb3I+PTkpO2lmKCFoKXtyZXR1cm4gZmFsc2V9cmV0dXJuIHRydWV9ZnVuY3Rpb24gQ2hhck1vZGUoaU4pe2lmKGlOPj00OCYmaU48PTU3KXtyZXR1cm4gMX1pZihpTj49NjUmJmlOPD05MCl7cmV0dXJuIDJ9aWYoaU4+PTk3JiZpTjw9MTIyKXtyZXR1cm4gNH1lbHNle3JldHVybiA4fX1mdW5jdGlvbiBmdWxsQ2hhcjJoYWxmQ2hhcihzdHIpe3ZhciByZXN1bHQ9IiI7Zm9yKHZhciBpPTA7aTxzdHIubGVuZ3RoO2krKyl7Y29kZT1zdHIuY2hhckNvZGVBdChpKTtpZihjb2RlPj02NTI4MSYmY29kZTw9NjUzNzMpe3Jlc3VsdCs9U3RyaW5nLmZyb21DaGFyQ29kZShzdHIuY2hhckNvZGVBdChpKS02NTI0OCl9ZWxzZXtpZihjb2RlPT0xMjI4OCl7cmVzdWx0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKHN0ci5jaGFyQ29kZUF0KGkpLTEyMjg4KzMyKX1lbHNle3Jlc3VsdCs9c3RyLmNoYXJBdChpKX19fXJldHVybiByZXN1bHR9ZnVuY3Rpb24gYml0VG90YWwobnVtKXttb2Rlcz0wO2ZvcihpPTA7aTw0O2krKyl7aWYobnVtJjEpe21vZGVzKyt9bnVtPj4+PTF9cmV0dXJuIG1vZGVzfWZ1bmN0aW9uIGNoZWNrU3Ryb25nKHNQVyl7aWYoc1BXLmxlbmd0aDw2KXtyZXR1cm4gMH1Nb2Rlcz0wO2ZvcihpPTA7aTxzUFcubGVuZ3RoO2krKyl7TW9kZXN8PUNoYXJNb2RlKHNQVy5jaGFyQ29kZUF0KGkpKX1yZXR1cm4gYml0VG90YWwoTW9kZXMpfURhdGUucHJvdG90eXBlLkZvcm1hdD1mdW5jdGlvbihmbXQpe3ZhciBvPXsiTSsiOnRoaXMuZ2V0TW9udGgoKSsxLCJkKyI6dGhpcy5nZXREYXRlKCksImgrIjp0aGlzLmdldEhvdXJzKCksIm0rIjp0aGlzLmdldE1pbnV0ZXMoKSwicysiOnRoaXMuZ2V0U2Vjb25kcygpLCJxKyI6TWF0aC5mbG9vcigodGhpcy5nZXRNb250aCgpKzMpLzMpLFM6dGhpcy5nZXRNaWxsaXNlY29uZHMoKX07aWYoLyh5KykvLnRlc3QoZm10KSl7Zm10PWZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwodGhpcy5nZXRGdWxsWWVhcigpKyIiKS5zdWJzdHIoNC1SZWdFeHAuJDEubGVuZ3RoKSl9Zm9yKHZhciBrIGluIG8pe2lmKG5ldyBSZWdFeHAoIigiK2srIikiKS50ZXN0KGZtdCkpe2ZtdD1mbXQucmVwbGFjZShSZWdFeHAuJDEsKFJlZ0V4cC4kMS5sZW5ndGg9PTEpPyhvW2tdKTooKCIwMCIrb1trXSkuc3Vic3RyKCgiIitvW2tdKS5sZW5ndGgpKSl9fXJldHVybiBmbXR9O2Z1bmN0aW9uIG9ubHlMZXR0ZXIoY2gpe3ZhciBmaWx0ZXI9L15bQS1aYS16MC05XSskLztyZXR1cm4gZmlsdGVyLnRlc3QoY2gpfWZ1bmN0aW9uIG9ubHlMZXR0ZXIoY2gpe3ZhciBmaWx0ZXI9L15bQS1aYS16XSskLztyZXR1cm4gZmlsdGVyLnRlc3QoY2gpfWZ1bmN0aW9uIGNoZWNrQ2hpbmVzZUNoYXJhY3RlcnMoY2hhcmFjdGVyKXt2YXIgZmlsdGVyPS9eW1x1NGUwMC1cdTlmYTVdKyQvO3JldHVybiBmaWx0ZXIudGVzdChjaGFyYWN0ZXIpfWZ1bmN0aW9uIGNyZWF0ZVBhZ2luYXRpb24ocm93Q291bnQscGFnZUluZGV4LHBhZ2VDb3VudCl7JCgiLnBhZ2luYXRpb24iKS5wYWdlTWFyaygicmVsb2FkIix7Y3VycmVudDpwYWdlSW5kZXgsdG90YWw6cGFnZUNvdW50LG9uQ2xpY2tlZDpmdW5jdGlvbihuLHgpe319KX1mdW5jdGlvbiBjaGVja1RpbWUodGltZSl7dmFyIGZpbHRlcj0vXihbMC0xXT9bMC05XXwyWzAtM10pOihbMC01XVswLTldKTooWzAtNV1bMC05XSkkLztyZXR1cm4gZmlsdGVyLnRlc3QodGltZSl9ZnVuY3Rpb24gY2hlY2tOdW1iZXIodGltZSl7dmFyIGZpbHRlcj0vXlswLTldKyQvO3JldHVybiBmaWx0ZXIudGVzdCh0aW1lKX1mdW5jdGlvbiByZW1vdmVTY3JpcHQoc3RyKXt2YXIgc3RhcnQ9c3RyLmluZGV4T2YoIjxzY3JpcHQ+Iik7dmFyIGVuZD1zdHIuaW5kZXhPZigiPFwvc2NyaXB0PiIpO3ZhciB0bXA7aWYoc3RyLmxlbmd0aD4wJiZzdGFydCE9LTEmJmVuZCE9LTEpe3RtcD1zdHIuc3Vic3RyaW5nKHN0YXJ0LGVuZCs5KTtzdHI9c3RyLnJlcGxhY2UodG1wLCIiKTtzdHI9cmVtb3ZlU2NyaXB0KHN0cil9cmV0dXJuIHN0cn12YXIgZ009Z018fHtkZWJ1Zzp0cnVlLGxvZzpmdW5jdGlvbigpe2dNLmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUubG9nJiZ3aW5kb3cuY29uc29sZS5sb2coYXJndW1lbnRzWzBdKX0saW1hZ2VFcnJvcjpmdW5jdGlvbih0YXJnZXQsdHlwZSxzaXplKXt2YXIgJG9iaj0kKHRhcmdldCk7aWYoJG9iai5kYXRhKCJlcnJvckltZyIpIT1udWxsKXtyZXR1cm59JG9iai5kYXRhKCJlcnJvckltZyIsIlhYWFgiKTtnTS5sb2codHlwZSk7aWYodHlwZT09InJlc19kb2MiKXskb2JqLmF0dHIoInNyYyIsQ09OVEVYVFBBVEgrIi9pbWFnZXMvdXBsb2FkaW5nLXdvcmQucG5nIil9ZWxzZXtpZih0eXBlPT0icmVzX3ZpZGVvIil7JG9iai5hdHRyKCJzcmMiLENPTlRFWFRQQVRIKyIvaW1hZ2VzL3VwbG9hZGluZy12aWRlby5wbmciKX1lbHNle2lmKHR5cGU9PSJoZWFkIil7aWYoc2l6ZT09IjMwIil7JG9iai5hdHRyKCJzcmMiLENPTlRFWFRQQVRIKyIvaW1hZ2VzL2F2YXRhci9kZWZhdWx0LzMwLnBuZyIpfWVsc2V7aWYoc2l6ZT09IjkwIil7JG9iai5hdHRyKCJzcmMiLENPTlRFWFRQQVRIKyIvaW1hZ2VzL2F2YXRhci9kZWZhdWx0LzkwLnBuZyIpfWVsc2V7JG9iai5hdHRyKCJzcmMiLENPTlRFWFRQQVRIKyIvaW1hZ2VzL2F2YXRhci9kZWZhdWx0LzYwLnBuZyIpfX19ZWxzZXskb2JqLmF0dHIoInNyYyIsQ09OVEVYVFBBVEgrIi9pbWFnZXMvdXBsb2FkaW5nLnBuZyIpfX19fSxnZXRSSUQ6ZnVuY3Rpb24oKXt2YXIgYXJnPWFyZ3VtZW50c1swXXx8IiI7dmFyIGxlbmd0aD0wO3doaWxlKGxlbmd0aD09MCl7dmFyIF9pZD1NYXRoLnJhbmRvbSgpO19pZD0oX2lkKyIiKS5zdWJzdHJpbmcoMiwxMCk7aWYoJCgiIyIrYXJnK19pZCkubGVuZ3RoPT0wKXtyZXR1cm4gYXJnK19pZH19fSxiZWdpbkFqYXg6ZnVuY3Rpb24oKXtnTS5sb2coImJlZ2luQWpheCIpfSxlbmRBamF4OmZ1bmN0aW9uKCl7Z00ubG9nKCJlbmRBamF4Iil9LGFqYXg6ZnVuY3Rpb24ocGFyYW1zKXtnTS5iZWdpbkFqYXgoKTskLmFqYXgoe3VybDpwYXJhbXMudXJsLGRhdGE6cGFyYW1zLmRhdGF8fHt9LHR5cGU6cGFyYW1zLnR5cGV8fCJwb3N0IixkYXRhVHlwZTpwYXJhbXMuZGF0YVR5cGV8fCJqc29uIixiZWZvcmVTZW5kOmZ1bmN0aW9uKCl7cGFyYW1zLmJlZm9yZVNlbmQmJnBhcmFtcy5iZWZvcmVTZW5kKCl9LGNvbXBsZXRlOmZ1bmN0aW9uKCl7Z00uZW5kQWpheCgpfSxzdWNjZXNzOmZ1bmN0aW9uKEpzb25EYXRhKXtwYXJhbXMuc3VjY2VzcyYmcGFyYW1zLnN1Y2Nlc3MoSnNvbkRhdGEpfSxlcnJvcjpmdW5jdGlvbigpe3BhcmFtcy5lcnJvciYmcGFyYW1zLmVycm9yKCk7Z00ubmV0RXJyb3J9fSl9LG5ldEVycm9yOmZ1bmN0aW9uKCl7Z00ubG9nKE1zZy5nZXQoIm5ldC5lcnJvciIpKX0sZG93bkxvYWROb2RlczpmdW5jdGlvbihub2RlSWQsY291cnNlT3BlbklkKXtpZihjb3Vyc2VPcGVuSWQhPW51bGwmJmNvdXJzZU9wZW5JZCE9MCl7d2luZG93Lm9wZW4oQ09OVEVYVFBBVEgrIi9kb3dubG9hZC9ub2Rlcy8iK2NvdXJzZU9wZW5JZCsiLyIrbm9kZUlkKyIubW9vYyIpfWVsc2V7d2luZG93Lm9wZW4oQ09OVEVYVFBBVEgrIi9kb3dubG9hZC9ub2Rlcy8iK25vZGVJZCsiLm1vb2MiKX19LHZpZXdOb2RlczpmdW5jdGlvbihub2RlSWQsbm9kZU5hbWUpe2dNLmFqYXgoe3VybDpDT05URVhUUEFUSCsiL3ZpZXcvbm9kZXMvIitub2RlSWQrIi5tb29jIix0eXBlOiJnZXQiLGRhdGFUeXBlOiJodG1sIixzdWNjZXNzOmZ1bmN0aW9uKHhodG1sKXt2YXIgJGlkPWdNLmdldFJJRCgpO3ZhciAkZGl2PSQoJzxkaXYgaWQ9IicrJGlkKyciPjwvZGl2PicpOyRkaXYuY3NzKHt3aWR0aDoiODAwcHgiLGhlaWdodDoiNDUwcHgiLHBvc2l0aW9uOiJyZWxhdGl2ZSJ9KTskKCIjZGlhbG9nX2hvbWUiKS5hcHBlbmQoJGRpdik7JGRpdi5odG1sKHhodG1sKTt2YXIgdHQ9JC5kaWFsb2coe3RpdGxlOnR5cGVvZihub2RlTmFtZSk9PSJ1bmRlZmluZWQiP01zZy5nZXQoInByZXZpZXciKTpNc2cuZ2V0KCJwcmV2aWV3IikrIiA6ICIrbm9kZU5hbWUsd2lkdGg6ODAwLGhlaWdodDo0NTAsY2FuY2VsVmFsdWU6TXNnLmdldCgiY2xvc2UiKSxsb2NrOnRydWUsY29udGVudDokZGl2WzBdLGNhbmNlbDpmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXskKCIjIiskaWQpLnJlbW92ZSgpfSw1MDApfSxvazpmYWxzZX0pfX0pfSxkb3duTG9hZEF0dHI6ZnVuY3Rpb24obm9kZUlkKXt3aW5kb3cub3BlbihDT05URVhUUEFUSCsiL2Rvd25sb2FkL2F0dHIvIitub2RlSWQrIi5tb29jIil9LHZpZXdJbk9mZmljZUhkOmZ1bmN0aW9uKG9wZW5JZCxub2RlSWQpe3dpbmRvdy5vcGVuKENPTlRFWFRQQVRIKyIvZXhhbVJldmlldy8iK29wZW5JZCsiL3ZpZXdJbk9mZmljZUhkLyIrbm9kZUlkKyIubW9vYyIpfSx2aWV3SW5PZmZpY2VSbzpmdW5jdGlvbihvcGVuSWQsbm9kZUlkKXt3aW5kb3cub3BlbihDT05URVhUUEFUSCsiL2V4YW1SZXZpZXcvIitvcGVuSWQrIi92aWV3SW5PZmZpY2VSby8iK25vZGVJZCsiLm1vb2MiKX0sdmlld0F0dHI6ZnVuY3Rpb24obm9kZUlkKXtnTS5hamF4KHt1cmw6Q09OVEVYVFBBVEgrIi92aWV3L2F0dHIvIitub2RlSWQrIi5tb29jIix0eXBlOiJnZXQiLGRhdGFUeXBlOiJodG1sIixzdWNjZXNzOmZ1bmN0aW9uKHhodG1sKXt2YXIgJGlkPWdNLmdldFJJRCgpO3ZhciAkZGl2PSQoJzxkaXYgaWQ9IicrJGlkKyciPjwvZGl2PicpOyRkaXYuY3NzKHt3aWR0aDoiODAwcHgiLGhlaWdodDoiNDUwcHgiLHBvc2l0aW9uOiJyZWxhdGl2ZSJ9KTskKCIjZGlhbG9nX2hvbWUiKS5hcHBlbmQoJGRpdik7JGRpdi5odG1sKHhodG1sKTt2YXIgdHQ9JC5kaWFsb2coe3RpdGxlOk1zZy5nZXQoInByZXZpZXciKSx3aWR0aDo4MDAsaGVpZ2h0OjQ1MCxjYW5jZWxWYWx1ZTpNc2cuZ2V0KCJjbG9zZSIpLGxvY2s6dHJ1ZSxjb250ZW50OiRkaXZbMF0sY2FuY2VsOmZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpeyQoIiMiKyRpZCkucmVtb3ZlKCl9LDUwMCl9LG9rOmZhbHNlfSl9fSl9LGpzRW50ZXI6ZnVuY3Rpb24oc3RyKXt2YXIgcz1zdHIudG9Mb3dlckNhc2UoKTtpZihzLmluZGV4T2YoIjx0YWJsZSAiKT49MCl7cmV0dXJuIHN0cn1yZXR1cm4gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cCgiXG4iLCJnIiksIjxicj4iKX0sbm9EYXRhOmZ1bmN0aW9uKG5vRGF0YVN0cil7bm9EYXRhU3RyPW5vRGF0YVN0cnx8TXNnLmdldCgiZm9ydW0ubm8ucmVjb3JkIik7dmFyIF9odG1sPVtdO19odG1sLnB1c2goJzxkaXYgY2xhc3M9InZpZXctZW1wdHkiPicpO19odG1sLnB1c2goJzxkaXYgY2xhc3M9InZpZXctc2hvdyI+Jyk7X2h0bWwucHVzaCgnPGkgY2xhc3M9Imljb24tZS1wb2ludCI+PC9pPicpO19odG1sLnB1c2goIjwvZGl2PiIpO19odG1sLnB1c2goJzxkaXYgY2xhc3M9InZpZXctaW50cm8iPicpO19odG1sLnB1c2gobm9EYXRhU3RyKTtfaHRtbC5wdXNoKCI8L2Rpdj4iKTtfaHRtbC5wdXNoKCI8L2Rpdj4iKTtyZXR1cm4gX2h0bWwuam9pbigiIil9LGdldFF1aXpUZW1wbGF0ZTpmdW5jdGlvbih0ZW1wbGF0ZU5hbWUpe3JldHVybiB0ZW1wbGF0ZU5hbWV9LGdldFVwbG9hZElkOmZ1bmN0aW9uKGlubmVySWQpe2lubmVySWQ9aW5uZXJJZHx8IiI7dmFyIHVwbG9hZElkPSIiO2lmKGlubmVySWQuaW5kZXhPZigiLSIpPT0tMSl7dXBsb2FkSWQ9aW5uZXJJZH1lbHNle3VwbG9hZElkPWlubmVySWQuc3Vic3RyaW5nKGlubmVySWQuaW5kZXhPZigiLSIpKzEsaW5uZXJJZC5sZW5ndGgpfXJldHVybiJwcm8tIit1cGxvYWRJZH0scmVwb3J0VHlwZTpmdW5jdGlvbih0KXt2YXIgcD17IjEwIjoi5bm/5ZGKIiwiMjAiOiLmoIfpopjlhZoiLCIzMCI6IuS4jeiJr+iogOiuuiIsIjQwIjoi5qy66K+I5L+h5oGvIn07aWYodHlwZW9mIHBbU3RyaW5nKHQpXT09InVuZGVmaW5lZCIpe3JldHVybiBwWyIzMCJdfXJldHVybiBwW1N0cmluZyh0KV19LHNob3dFbGVtZW50OmZ1bmN0aW9uKGUpe2lmKCQoZSkubGVuZ3RoPjApeyQoZSkuZXEoMClbMF0uc2Nyb2xsSW50b1ZpZXcodHJ1ZSl9fSxleHBvcnRGb3J1bTpmdW5jdGlvbihhY3Rpb25Vcmwsb3B0aW9uKXtvcHRpb249b3B0aW9ufHx7fTt2YXIgZm9ybT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJmb3JtIik7Zm9ybS5hY3Rpb249YWN0aW9uVXJsO2Zvcm0ubWV0aG9kPSJwb3N0Ijtmb3IodmFyIGkgaW4gb3B0aW9uKXt2YXIgaW5wdXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtpbnB1dC5uYW1lPWk7aW5wdXQudmFsdWU9b3B0aW9uW2ldO2Zvcm0uYXBwZW5kQ2hpbGQoaW5wdXQpfWRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7Zm9ybS5zdWJtaXQoKX0sZ2V0U3RyaW5nOmZ1bmN0aW9uKG9iail7dmFyIHN0cj0iIjtpZih0eXBlb2Ygb2JqIT0idW5kZWZpbmVkIiYmb2JqIT1udWxsKXtzdHIrPW9ian1yZXR1cm4gc3RyfX07dmFyIEVuY29kZVV0aWw9RW5jb2RlVXRpbHx8e2FzY2lpOmZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKC9bXlx1MDAwMC1cdTAwRkZdL2csZnVuY3Rpb24oJDApe3JldHVybiBlc2NhcGUoJDApLnJlcGxhY2UoLygldSkoXHd7NH0pL2dpLCImI3gkMjsiKX0pfSx1bmljb2RlOmZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKC9bXlx1MDAwMC1cdTAwRkZdL2csZnVuY3Rpb24oJDApe3JldHVybiBlc2NhcGUoJDApLnJlcGxhY2UoLygldSkoXHd7NH0pL2dpLCJcXHUkMiIpfSl9LHJlY29udmVydDpmdW5jdGlvbihzdHIpe3N0cj1zdHIucmVwbGFjZSgvKFxcdVx3ezR9KS9naSxmdW5jdGlvbigkMCl7cmV0dXJuKFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoKGVzY2FwZSgkMCkucmVwbGFjZSgvKCU1Q3UpKFx3ezR9KS9nLCIkMiIpKSwxNikpKX0pO3N0cj1zdHIucmVwbGFjZSgvKCYjeCkoXHd7NH0pOy9naSxmdW5jdGlvbigkMCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoZXNjYXBlKCQwKS5yZXBsYWNlKC8oJTI2JTIzeCkoXHd7NH0pKCUzQikvZywiJDIiKSwxNikpfSk7cmV0dXJuIHN0cn19O3ZhciBFbmNvZGVOdW1iZXI9RW5jb2RlTnVtYmVyfHx7emhfaGFuc192YWx1ZTpbIlx1OTZGNiIsIlx1NEUwMCIsIlx1NEU4QyIsIlx1NEUwOSIsIlx1NTZEQiIsIlx1NEU5NCIsIlx1NTE2RCIsIlx1NEUwMyIsIlx1NTE2QiIsIlx1NEU1RCJdLHpoX2hhbnRfdmFsdWU6WyJcdTMwMDciLCJcdTU4RjkiLCJcdThEMzAiLCJcdTUzQzEiLCJcdTgwODYiLCJcdTRGMEQiLCJcdTk2NDYiLCJcdTY3RDIiLCJcdTYzNEMiLCJcdTczOTYiXSx6aF9oYW5zX3VuaXQ6WyJcdTUzNDEiLCJcdTc2N0UiLCJcdTUzNDMiLCJcdTRFMDciLCJcdTRFQkYiXSx6aF9oYW50X3VuaXQ6WyJcdTYyRkUiLCJcdTRGNzAiLCJcdTRFREYiLCJcdTRFMDciLCJcdTRFQkYiXSxmb3JtYXROdW06ZnVuY3Rpb24obnVtLHpoX2hhbnMpe3ZhciBfaD16aF9oYW5zfHwiemhfaGFucyI7dmFyIF92YWx1ZT1FbmNvZGVOdW1iZXJbX2grIl92YWx1ZSJdO3ZhciBfYz1wYXJzZUludChudW18fDApO3ZhciBfY3M9X2MudG9TdHJpbmcoKTt2YXIgX2NhPVtdO3ZhciBfcjtpZihfYz4wKXtmb3IodmFyIGk9MDtpPF9jcy5sZW5ndGg7aSsrKXt2YXIgX249cGFyc2VJbnQoX2NzLnN1YnN0cmluZyhfY3MubGVuZ3RoLWktMSxfY3MubGVuZ3RoLWkpKTtfY2EucHVzaCh7emhfdmFsdWU6X3ZhbHVlW19uXSx6aF91bml0OkVuY29kZU51bWJlci5mb3JtYXRVbml0KGksX2gpLHpoX2xldmVsOml9KX1fcj1FbmNvZGVOdW1iZXIuT2JqVG9aaChfY2EsX2NzLmxlbmd0aCxfaCl9ZWxzZXtfcj1fdmFsdWVbX2NdfXJldHVybiBfcn0sZm9ybWF0VW5pdDpmdW5jdGlvbihpLHpoX2hhbnMpe3ZhciBfaD16aF9oYW5zfHwiemhfaGFucyI7dmFyIF91bml0PUVuY29kZU51bWJlcltfaCsiX3VuaXQiXTt2YXIgX3U9IiI7dmFyIF91ZT0iIjtpZigoaSU4KT4wKXtfdT1fdW5pdFsoaS0xKSU0XTtpZigoaSU4KT40KXtfdWUrPV91bml0WzNdfX1lbHNle2lmKChpJTgpPT0wJiZpIT0wKXtfdT1fdW5pdFs0XX19aWYoTWF0aC5jZWlsKGkvOCk+MSl7Zm9yKHZhciBfaT0wO19pPE1hdGguY2VpbChpLzgpLTE7X2krKyl7X3VlKz1fdW5pdFs0XX19cmV0dXJue2Zyb250Ol91LFN1ZmZpeDpfdWV9fSxPYmpUb1poOmZ1bmN0aW9uKF9jYSxsZW5ndGgsemhfaGFucyl7dmFyIF9oPXpoX2hhbnN8fCJ6aF9oYW5zIjt2YXIgX3VuaXQ9RW5jb2RlTnVtYmVyW19oKyJfdW5pdCJdO3ZhciBfdmFsdWU9RW5jb2RlTnVtYmVyW19oKyJfdmFsdWUiXTt2YXIgX3JiPSIiO3ZhciBfbD1wYXJzZUludChsZW5ndGgpO3ZhciBfZD1NYXRoLmNlaWwoX2wvOCk7Zm9yKHZhciBpPV9kO2k+MDtpLS0pe3ZhciBfYmxhbms9ZmFsc2U7dmFyIF9zdWZmaXg9IiI7Zm9yKHZhciBqPTA7ajw4O2orKyl7dmFyIF9uPWkqOC1qLTE7aWYoX248PWxlbmd0aCl7Zm9yKHZhciBfaWo9MDtfaWo8X2NhLmxlbmd0aDtfaWorKyl7aWYoX2NhW19pal0mJl9jYVtfaWpdLnpoX2xldmVsPT1fbil7dmFyIF90aGlzPV9jYVtfaWpdO2lmKF90aGlzLnpoX3ZhbHVlIT1fdmFsdWVbMF0pe2lmKF9ibGFuaz09dHJ1ZSl7X3JiKz1fdmFsdWVbMF07X2JsYW5rPWZhbHNlfV9yYis9X3RoaXMuemhfdmFsdWUrX3RoaXMuemhfdW5pdC5mcm9udDtfc3VmZml4PV90aGlzLnpoX3VuaXQuU3VmZml4fWVsc2V7aWYoX3RoaXMuemhfdW5pdC5TdWZmaXg9PV91bml0WzBdKXtfcmIrPV91bml0WzBdfWVsc2V7X2JsYW5rPXRydWV9fX19fX1fcmIrPV9zdWZmaXh9aWYoX3JiLmluZGV4T2YoX3ZhbHVlWzFdK191bml0WzBdKT09MCl7X3JiPV9yYi5zdWJzdHJpbmcoMSxfcmIubGVuZ3RoKX1yZXR1cm4gX3JifX07dmFyIGZpbHRlclJ1bGVzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdHJhbnNQKG5vZGUpe25vZGUudGFnTmFtZT0icCI7Y2xlYXJFeGNsdWRlKG5vZGUpfWZ1bmN0aW9uIGNsZWFyRXhjbHVkZShub2RlLGF0dHJzKXthdHRycz1hdHRyc3x8e307aWYoYXR0cnMmJm5vZGUuYXR0cnMpe3ZhciB0bXBBdHRycz17fSx0bXBWYWw7Zm9yKHZhciBhIGluIGF0dHJzKXt0bXBWYWw9bm9kZS5nZXRBdHRyKGEpO2lmKGE9PSJzdHlsZSImJmFyclV0aWwuaXNBcnJheShhdHRyc1thXSkpe3ZhciB0bXBDc3NTdHlsZT1bXTskLmVhY2goYXR0cnNbYV0sZnVuY3Rpb24odil7dmFyIHRtcDtpZih0bXA9bm9kZS5nZXRTdHlsZSh2KSl7dG1wQ3NzU3R5bGUucHVzaCh2KyI6Iit0bXApfX0pO3RtcFZhbD10bXBDc3NTdHlsZS5qb2luKCI7Iil9aWYodG1wVmFsKXt0bXBBdHRyc1thXT10bXBWYWx9fW5vZGUuYXR0cnM9dG1wQXR0cnN9fWZ1bmN0aW9uIHRyYW5zU3Bhbihub2RlKXtub2RlLnRhZ05hbWU9InNwYW4iO2lmKHR5cGVvZiBub2RlLmF0dHJzIT0idW5kZWZpbmVkIiYmdHlwZW9mIG5vZGUuYXR0cnNbImNsYXNzIl0hPSJ1bmRlZmluZWQiJiZub2RlLmF0dHJzWyJjbGFzcyJdLmluZGV4T2YoIm1hdGhxdWlsbCIpPi0xKXtyZXR1cm59Y2xlYXJFeGNsdWRlKG5vZGUpfWZ1bmN0aW9uIGNsZWFyQWxsKG5vZGUpe2NsZWFyRXhjbHVkZShub2RlKX1mdW5jdGlvbiBmaWxlckEobm9kZSl7aWYodHlwZW9mIG5vZGUuYXR0cnMhPSJ1bmRlZmluZWQiJiZ0eXBlb2Ygbm9kZS5hdHRyc1siaHJlZiJdIT0idW5kZWZpbmVkIil7Y2xlYXJFeGNsdWRlKG5vZGUse2hyZWY6MSx0YXJnZXQ6MX0pO25vZGUuYXR0cnNbInRhcmdldCJdPSJfYmxhbmsifWVsc2V7bm9kZS50YWdOYW1lPSJzcGFuIjtjbGVhckV4Y2x1ZGUobm9kZSl9fXZhciBydWxlPXsiLSI6InNjcmlwdCBzdHlsZSBvYmplY3QgaWZyYW1lIGVtYmVkIGlucHV0IHNlbGVjdCIsaW1nOnskOntzcmM6MX19LGRpdjp7YnI6MSxCUjoxLCIkIjp7fX0sYTpmaWxlckEsY2FwdGlvbjp0cmFuc1AsaDE6dHJhbnNQLGgyOnRyYW5zUCxoMzp0cmFuc1AsaDQ6dHJhbnNQLGg1OnRyYW5zUCxoNjp0cmFuc1Asc3Bhbjp0cmFuc1NwYW4sIiQiOmNsZWFyQWxsfTtyZXR1cm4gcnVsZX0oKTtmdW5jdGlvbiBpbml0VW1FZGl0KGlkLHcsaCl7aWYoJCgiIyIraWQpPT1udWxsfHwkKCIjIitpZCkubGVuZ3RoPT0wfHwkKCIjIitpZCkuaGFzQ2xhc3MoImVkdWktYm9keS1jb250YWluZXIiKSl7cmV0dXJufXc9d3x8NTQwO2g9aHx8MTgwO3ZhciBfZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOyQoX2RpdikuYXR0cigiaWQiLGdNLmdldFJJRCgpKTskKF9kaXYpLmNzcyh7d2lkdGg6ImF1dG8ifSk7dmFyICRjbGFzcz0kKCIjIitpZCkuYXR0cigiY2xhc3MiKS5zcGxpdCgiICIpO3ZhciB2YWxpZGF0ZUNsYXNzPVtdO3ZhciBjc3NDbGFzcz1bXTt2YXIgY3VzdG9tVGFyZ2V0PSQoIiMiK2lkKS5hdHRyKCJjb3VzdG9tX3RhcmdldCIpO2Zvcih2YXIgaT0wO2k8JGNsYXNzLmxlbmd0aDtpKyspe2lmKCRjbGFzc1tpXS5pbmRleE9mKCJ2YWxpZGF0ZSIpPi0xKXt2YWxpZGF0ZUNsYXNzLnB1c2goJGNsYXNzW2ldKX1lbHNle2Nzc0NsYXNzLnB1c2goJGNsYXNzW2ldKX19JChfZGl2KS5hdHRyKCJjbGFzcyIsY3NzQ2xhc3Muam9pbigiICIpKTt2YXIgc2NyaXB0O3ZhciBfc2NyaXB0PVtdO19zY3JpcHQucHVzaCgiPHNjciIpO19zY3JpcHQucHVzaCgnaXB0IHR5cGU9ICJ0ZXh0L3BsYWluIiBzdHlsZT0id2lkdGg6JytwYXJzZUludCh3KSsicHg7aGVpZ2h0OiIrcGFyc2VJbnQoaCkrJ3B4Ij4nKTtfc2NyaXB0LnB1c2goJCgiIyIraWQpLnZhbCgpfHwkKCIjIitpZCkuaHRtbCgpKTtfc2NyaXB0LnB1c2goIjwvc2NyIik7X3NjcmlwdC5wdXNoKCJpcHQ+Iik7c2NyaXB0PSQoX3NjcmlwdC5qb2luKCIiKSk7JCgiIyIraWQpLnJlcGxhY2VXaXRoKCQoX2RpdikpOyQoX2RpdikuaHRtbChzY3JpcHQpO3NjcmlwdC5hdHRyKCJpZCIsaWQpO1VNLmNsZWFyQ2FjaGUoaWQpO3ZhciBlZGl0PVVNLmdldEVkaXRvcihpZCx7YXV0b0hlaWdodEVuYWJsZWQ6dHJ1ZSxmaWx0ZXJSdWxlczpmaWx0ZXJSdWxlcyxyZXRhaW5Pbmx5TGFiZWxQYXN0ZWQ6dHJ1ZX0pOyQoIiMiK2lkKS5hZGRDbGFzcyh2YWxpZGF0ZUNsYXNzLmpvaW4oIiAiKSk7JCgiIyIraWQpLmF0dHIoImNvdXN0b21fdGFyZ2V0IixjdXN0b21UYXJnZXQpO3JldHVybiBlZGl0fWZ1bmN0aW9uIGluaXRVbUVkaXRRdWl6KGlkLHcsaCl7aWYoJCgiIyIraWQpPT1udWxsfHwkKCIjIitpZCkubGVuZ3RoPT0wfHwkKCIjIitpZCkuaGFzQ2xhc3MoImVkdWktYm9keS1jb250YWluZXIiKSl7cmV0dXJufXc9d3x8NTQwO2g9aHx8MTgwO3ZhciBfZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOyQoX2RpdikuYXR0cigiaWQiLGdNLmdldFJJRCgpKTskKF9kaXYpLmNzcyh7d2lkdGg6ImF1dG8ifSk7dmFyICRjbGFzcz0kKCIjIitpZCkuYXR0cigiY2xhc3MiKS5zcGxpdCgiICIpO3ZhciB2YWxpZGF0ZUNsYXNzPVtdO3ZhciBjc3NDbGFzcz1bXTt2YXIgY3VzdG9tVGFyZ2V0PSQoIiMiK2lkKS5hdHRyKCJjb3VzdG9tX3RhcmdldCIpO2Zvcih2YXIgaT0wO2k8JGNsYXNzLmxlbmd0aDtpKyspe2lmKCRjbGFzc1tpXS5pbmRleE9mKCJ2YWxpZGF0ZSIpPi0xKXt2YWxpZGF0ZUNsYXNzLnB1c2goJGNsYXNzW2ldKX1lbHNle2Nzc0NsYXNzLnB1c2goJGNsYXNzW2ldKX19JChfZGl2KS5hdHRyKCJjbGFzcyIsY3NzQ2xhc3Muam9pbigiICIpKTt2YXIgc2NyaXB0O3ZhciBfc2NyaXB0PVtdO19zY3JpcHQucHVzaCgiPHNjciIpO19zY3JpcHQucHVzaCgnaXB0IHR5cGU9ICJ0ZXh0L3BsYWluIiBzdHlsZT0id2lkdGg6JytwYXJzZUludCh3KSsicHg7aGVpZ2h0OiIrcGFyc2VJbnQoaCkrJ3B4Ij4nKTtfc2NyaXB0LnB1c2goJCgiIyIraWQpLmh0bWwoKXx8JCgiIyIraWQpLnZhbCgpKTtfc2NyaXB0LnB1c2goIjwvc2NyIik7X3NjcmlwdC5wdXNoKCJpcHQ+Iik7c2NyaXB0PSQoX3NjcmlwdC5qb2luKCIiKSk7JCgiIyIraWQpLnJlcGxhY2VXaXRoKCQoX2RpdikpOyQoX2RpdikuaHRtbChzY3JpcHQpO3NjcmlwdC5hdHRyKCJpZCIsaWQpO1VNLmNsZWFyQ2FjaGUoaWQpO3ZhciBlZGl0PVVNLmdldEVkaXRvcihpZCx7YXV0b0hlaWdodEVuYWJsZWQ6dHJ1ZSx0b29sYmFyOlsidW5kbyByZWRvIHwgYm9sZCBpdGFsaWMgdW5kZXJsaW5lIHN0cmlrZXRocm91Z2ggfCBzdXBlcnNjcmlwdCBzdWJzY3JpcHQgfCBmb3JlY29sb3IgYmFja2NvbG9yIHwgcmVtb3ZlZm9ybWF0IGNsZWFyZG9jICB8IGxpbmsgdW5saW5rIGZvbnRzaXplIGltYWdlIGZvcm11bGEiXSxhdXRvZmxvYXQ6dHJ1ZSxmaWx0ZXJSdWxlczpmaWx0ZXJSdWxlcyxyZXRhaW5Pbmx5TGFiZWxQYXN0ZWQ6dHJ1ZX0pOyQoIiMiK2lkKS5hZGRDbGFzcyh2YWxpZGF0ZUNsYXNzLmpvaW4oIiAiKSk7JCgiIyIraWQpLmF0dHIoImNvdXN0b21fdGFyZ2V0IixjdXN0b21UYXJnZXQpO3JldHVybiBlZGl0fWZ1bmN0aW9uIGNoZWNrMzAwMCgpe3ZhciAkdGFyZ2V0PWFyZ3VtZW50c1swXTtnTS5sb2coJHRhcmdldC50ZXh0KCkpO2dNLmxvZygkdGFyZ2V0Lmh0bWwoKSk7aWYoJC50cmltKCR0YXJnZXQudGV4dCgpKS5sZW5ndGg9PTAmJiR0YXJnZXQuaHRtbCgpLmluZGV4T2YoIm1hdGhxdWlsbC1lbWJlZGRlZC1sYXRleCIpPDApe3JldHVybiI8aSBjbGFzcz0naWNvbi1tYXJrIGVycm9yLW1hcmsnPjwvaT4iK01zZy5nZXQoInBvc3Qubm8uZW1wdHkiKX1pZigkdGFyZ2V0LnRleHQoKS5sZW5ndGg+MzAwMCl7cmV0dXJuIjxpIGNsYXNzPSdpY29uLW1hcmsgZXJyb3ItbWFyayc+PC9pPiIrTXNnLmdldCgicG9zdC5uby4zMDAwIil9aWYoJHRhcmdldC5odG1sKCkubGVuZ3RoPjUwMDApe3JldHVybiI8aSBjbGFzcz0naWNvbi1tYXJrIGVycm9yLW1hcmsnPjwvaT4iK01zZy5nZXQoInBvc3Qubm8uaHRtbCIpfXJldHVybn1mdW5jdGlvbiBjaGVjazEwMDAoKXt2YXIgJHRhcmdldD1hcmd1bWVudHNbMF07Z00ubG9nKCR0YXJnZXQudGV4dCgpKTtnTS5sb2coJHRhcmdldC5odG1sKCkpO2lmKCQudHJpbSgkdGFyZ2V0LnRleHQoKSkubGVuZ3RoPT0wJiYkdGFyZ2V0Lmh0bWwoKS5pbmRleE9mKCJtYXRocXVpbGwtZW1iZWRkZWQtbGF0ZXgiKTwwKXtyZXR1cm4iPGkgY2xhc3M9J2ljb24tbWFyayBlcnJvci1tYXJrJz48L2k+IitNc2cuZ2V0KCJwb3N0Lm5vLmVtcHR5Iil9aWYoJHRhcmdldC50ZXh0KCkubGVuZ3RoPjEwMDApe3JldHVybiI8aSBjbGFzcz0naWNvbi1tYXJrIGVycm9yLW1hcmsnPjwvaT4iK01zZy5nZXQoInBvc3Qubm8uMTAwMCIpfWlmKCR0YXJnZXQuaHRtbCgpLmxlbmd0aD4zMDAwKXtyZXR1cm4iPGkgY2xhc3M9J2ljb24tbWFyayBlcnJvci1tYXJrJz48L2k+IitNc2cuZ2V0KCJwb3N0Lm5vLmh0bWwiKX1yZXR1cm59ZnVuY3Rpb24gY2hlY2s1MDAoKXt2YXIgJHRhcmdldD1hcmd1bWVudHNbMF07Z00ubG9nKCR0YXJnZXQudGV4dCgpKTtnTS5sb2coJHRhcmdldC5odG1sKCkpO2lmKCR0YXJnZXQudGV4dCgpLmxlbmd0aD4xMDAwKXtyZXR1cm4iPGkgY2xhc3M9J2ljb24tbWFyayBlcnJvci1tYXJrJz48L2k+IitNc2cuZ2V0KCJwb3N0Lm5vLjEwMDAiKX1pZigkdGFyZ2V0Lmh0bWwoKS5sZW5ndGg+MjAwMCl7cmV0dXJuIjxpIGNsYXNzPSdpY29uLW1hcmsgZXJyb3ItbWFyayc+PC9pPiIrTXNnLmdldCgicG9zdC5uby5odG1sIil9cmV0dXJufWZ1bmN0aW9uIGNoZWNrNTAwcmVxKCl7dmFyICR0YXJnZXQ9YXJndW1lbnRzWzBdO2dNLmxvZygkdGFyZ2V0LnRleHQoKSk7Z00ubG9nKCR0YXJnZXQuaHRtbCgpKTtpZigkLnRyaW0oJHRhcmdldC50ZXh0KCkpLmxlbmd0aD09MCYmJHRhcmdldC5odG1sKCkuaW5kZXhPZigibWF0aHF1aWxsLWVtYmVkZGVkLWxhdGV4Iik8MCYmJHRhcmdldC5odG1sKCkuaW5kZXhPZigic3JjIik8MCl7cmV0dXJuIjxpIGNsYXNzPSdpY29uLW1hcmsgZXJyb3ItbWFyayc+PC9pPiIrTXNnLmdldCgicG9zdC5uby5lbXB0eSIpfWlmKCR0YXJnZXQudGV4dCgpLmxlbmd0aD4xMDAwKXtyZXR1cm4iPGkgY2xhc3M9J2ljb24tbWFyayBlcnJvci1tYXJrJz48L2k+IitNc2cuZ2V0KCJwb3N0Lm5vLjEwMDAiKX1pZigkdGFyZ2V0Lmh0bWwoKS5sZW5ndGg+MjAwMCl7cmV0dXJuIjxpIGNsYXNzPSdpY29uLW1hcmsgZXJyb3ItbWFyayc+PC9pPiIrTXNnLmdldCgicG9zdC5uby5odG1sIil9cmV0dXJufWZ1bmN0aW9uIG5vdEVtcHR5KCl7dmFyICR0YXJnZXQ9YXJndW1lbnRzWzBdO2lmKCQudHJpbSgkdGFyZ2V0LnRleHQoKSkubGVuZ3RoPT0wJiYkdGFyZ2V0Lmh0bWwoKS5pbmRleE9mKCJtYXRocXVpbGwtZW1iZWRkZWQtbGF0ZXgiKTwwJiYkdGFyZ2V0Lmh0bWwoKS5pbmRleE9mKCJzcmMiKTwwKXtyZXR1cm4iPGkgY2xhc3M9J2ljb24tbWFyayBlcnJvci1tYXJrJz48L2k+IitNc2cuZ2V0KCJwb3N0Lm5vLmVtcHR5Iil9cmV0dXJufWlmKCF3aW5kb3cuY29uc29sZSl7d2luZG93LmNvbnNvbGU9e2xvZzpmdW5jdGlvbih0ZXh0KXt9LGluZm86ZnVuY3Rpb24odGV4dCl7fX19ZnVuY3Rpb24gQmFzZTY0KCl7dmFyIF9rZXlTdHI9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89Ijt0aGlzLmVuY29kZT1mdW5jdGlvbihpbnB1dCl7dmFyIG91dHB1dD0iIjt2YXIgY2hyMSxjaHIyLGNocjMsZW5jMSxlbmMyLGVuYzMsZW5jNDt2YXIgaT0wO2lucHV0PV91dGY4X2VuY29kZShpbnB1dCk7d2hpbGUoaTxpbnB1dC5sZW5ndGgpe2NocjE9aW5wdXQuY2hhckNvZGVBdChpKyspO2NocjI9aW5wdXQuY2hhckNvZGVBdChpKyspO2NocjM9aW5wdXQuY2hhckNvZGVBdChpKyspO2VuYzE9Y2hyMT4+MjtlbmMyPSgoY2hyMSYzKTw8NCl8KGNocjI+PjQpO2VuYzM9KChjaHIyJjE1KTw8Mil8KGNocjM+PjYpO2VuYzQ9Y2hyMyY2MztpZihpc05hTihjaHIyKSl7ZW5jMz1lbmM0PTY0fWVsc2V7aWYoaXNOYU4oY2hyMykpe2VuYzQ9NjR9fW91dHB1dD1vdXRwdXQrX2tleVN0ci5jaGFyQXQoZW5jMSkrX2tleVN0ci5jaGFyQXQoZW5jMikrX2tleVN0ci5jaGFyQXQoZW5jMykrX2tleVN0ci5jaGFyQXQoZW5jNCl9cmV0dXJuIG91dHB1dH07dGhpcy5kZWNvZGU9ZnVuY3Rpb24oaW5wdXQpe3ZhciBvdXRwdXQ9IiI7dmFyIGNocjEsY2hyMixjaHIzO3ZhciBlbmMxLGVuYzIsZW5jMyxlbmM0O3ZhciBpPTA7aW5wdXQ9aW5wdXQucmVwbGFjZSgvW15BLVphLXowLTlcK1wvXD1dL2csIiIpO3doaWxlKGk8aW5wdXQubGVuZ3RoKXtlbmMxPV9rZXlTdHIuaW5kZXhPZihpbnB1dC5jaGFyQXQoaSsrKSk7ZW5jMj1fa2V5U3RyLmluZGV4T2YoaW5wdXQuY2hhckF0KGkrKykpO2VuYzM9X2tleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKTtlbmM0PV9rZXlTdHIuaW5kZXhPZihpbnB1dC5jaGFyQXQoaSsrKSk7Y2hyMT0oZW5jMTw8Mil8KGVuYzI+PjQpO2NocjI9KChlbmMyJjE1KTw8NCl8KGVuYzM+PjIpO2NocjM9KChlbmMzJjMpPDw2KXxlbmM0O291dHB1dD1vdXRwdXQrU3RyaW5nLmZyb21DaGFyQ29kZShjaHIxKTtpZihlbmMzIT02NCl7b3V0cHV0PW91dHB1dCtTdHJpbmcuZnJvbUNoYXJDb2RlKGNocjIpfWlmKGVuYzQhPTY0KXtvdXRwdXQ9b3V0cHV0K1N0cmluZy5mcm9tQ2hhckNvZGUoY2hyMyl9fW91dHB1dD1fdXRmOF9kZWNvZGUob3V0cHV0KTtyZXR1cm4gb3V0cHV0fTtfdXRmOF9lbmNvZGU9ZnVuY3Rpb24oc3RyaW5nKXtzdHJpbmc9c3RyaW5nLnJlcGxhY2UoL1xyXG4vZywiXG4iKTt2YXIgdXRmdGV4dD0iIjtmb3IodmFyIG49MDtuPHN0cmluZy5sZW5ndGg7bisrKXt2YXIgYz1zdHJpbmcuY2hhckNvZGVBdChuKTtpZihjPDEyOCl7dXRmdGV4dCs9U3RyaW5nLmZyb21DaGFyQ29kZShjKX1lbHNle2lmKChjPjEyNykmJihjPDIwNDgpKXt1dGZ0ZXh0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKChjPj42KXwxOTIpO3V0ZnRleHQrPVN0cmluZy5mcm9tQ2hhckNvZGUoKGMmNjMpfDEyOCl9ZWxzZXt1dGZ0ZXh0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKChjPj4xMil8MjI0KTt1dGZ0ZXh0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKCgoYz4+NikmNjMpfDEyOCk7dXRmdGV4dCs9U3RyaW5nLmZyb21DaGFyQ29kZSgoYyY2Myl8MTI4KX19fXJldHVybiB1dGZ0ZXh0fTtfdXRmOF9kZWNvZGU9ZnVuY3Rpb24odXRmdGV4dCl7dmFyIHN0cmluZz0iIjt2YXIgaT0wO3ZhciBjPWMxPWMyPTA7d2hpbGUoaTx1dGZ0ZXh0Lmxlbmd0aCl7Yz11dGZ0ZXh0LmNoYXJDb2RlQXQoaSk7aWYoYzwxMjgpe3N0cmluZys9U3RyaW5nLmZyb21DaGFyQ29kZShjKTtpKyt9ZWxzZXtpZigoYz4xOTEpJiYoYzwyMjQpKXtjMj11dGZ0ZXh0LmNoYXJDb2RlQXQoaSsxKTtzdHJpbmcrPVN0cmluZy5mcm9tQ2hhckNvZGUoKChjJjMxKTw8Nil8KGMyJjYzKSk7aSs9Mn1lbHNle2MyPXV0ZnRleHQuY2hhckNvZGVBdChpKzEpO2MzPXV0ZnRleHQuY2hhckNvZGVBdChpKzIpO3N0cmluZys9U3RyaW5nLmZyb21DaGFyQ29kZSgoKGMmMTUpPDwxMil8KChjMiY2Myk8PDYpfChjMyY2MykpO2krPTN9fX1yZXR1cm4gc3RyaW5nfX1mdW5jdGlvbiB2aWV3YXR0Y2gocCl7JC5hamF4KHt1cmw6Q09OVEVYVFBBVEgrIi9yaWNoL2dldGRvYy8/cD0iK3AsdHlwZToiZ2V0IixkYXRhVHlwZToiaHRtbCIsc3VjY2VzczpmdW5jdGlvbih4aHRtbCl7dmFyICRpZD0icGxheWVyIjt2YXIgJGRpdj0kKCc8ZGl2IGlkPSInKyRpZCsnIj48L2Rpdj4nKTskZGl2LmNzcyh7d2lkdGg6IjgwMHB4IixoZWlnaHQ6IjQ1MHB4Iixwb3NpdGlvbjoicmVsYXRpdmUifSk7JCgiI2RpYWxvZ19ob21lIikuYXBwZW5kKCRkaXYpOyRkaXYuaHRtbCh4aHRtbCk7JC5kaWFsb2coe3RpdGxlOk1zZy5nZXQoInByZXZpZXciKSx3aWR0aDo4MDAsaGVpZ2h0OjQ1MCxjYW5jZWxWYWx1ZTpNc2cuZ2V0KCJjbG9zZSIpLGxvY2s6dHJ1ZSxjb250ZW50OiRkaXZbMF0sY2FuY2VsOmZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpeyQoIiMiKyRpZCkucmVtb3ZlKCl9LDUwMCl9LG9rOmZhbHNlfSl9fSl9ZnVuY3Rpb24gZm9ybWF0TWlsbHNUb1N0cmluZyhtaWxscyl7aWYobWlsbHM9PW51bGx8fG1pbGxzPT0iIil7cmV0dXJuIjAwOjAwOjAwIn12YXIgc3M9cGFyc2VJbnQobWlsbHMvMTAwMCklNjA7dmFyIG1tPXBhcnNlSW50KG1pbGxzLzYwMDAwKSU2MDt2YXIgaGg9cGFyc2VJbnQobWlsbHMvMzYwMDAwMCk7cmV0dXJuIGdldEZvcm1hdFN0cmluZyhoaCkrIjoiK2dldEZvcm1hdFN0cmluZyhtbSkrIjoiK2dldEZvcm1hdFN0cmluZyhzcyl9ZnVuY3Rpb24gZm9ybWF0TWlsbHNUb1N0cmluZzIobWlsbHMpe2lmKG1pbGxzPT1udWxsfHxtaWxscz09IiIpe3JldHVybiIwMDowMCJ9dmFyIHNzPXBhcnNlSW50KG1pbGxzLzEwMDApJTYwO3ZhciBtbT1wYXJzZUludChtaWxscy82MDAwMCk7cmV0dXJuIGdldEZvcm1hdFN0cmluZyhtbSkrIjoiK2dldEZvcm1hdFN0cmluZyhzcyl9ZnVuY3Rpb24gZ2V0Rm9ybWF0U3RyaW5nKHRpbWUpe2lmKHRpbWU8MTApe3JldHVybiIwIit0aW1lfXJldHVybiB0aW1lfWZ1bmN0aW9uIHNob3dQZWVyUmV2aWV3VGlwcygpeyQuZGlhbG9nKHt0aXRsZTpNc2cuZ2V0KCJleGFtLnBlZXIucmV2aWV3Lm5vdGUiKSxjb250ZW50OiQoIi5kaWFsb2ciKVswXSx3aWR0aDoiNjgwcHgiLGxvY2s6dHJ1ZSxva1ZhbHVlOk1zZy5nZXQoImV4YW0ua25vdyIpLG9rOmZ1bmN0aW9uKCl7c2hha2UoJCgiLmJ0bi1pY29uLWludHJvIiksImhpZ2hsaWdodCIsMiwzMDApfX0pfWZ1bmN0aW9uIHNwZWNpYWxDaGFyYWN0ZXJzKHN0cil7cmV0dXJuL15bXHdcdTRlMDAtXHU5ZmE1XSskL2dpLnRlc3Qoc3RyKX1mdW5jdGlvbiBjaGVja1NwZWNpYWxDaGFyYWN0ZXJzKHN0cil7dmFyICR0YXJnZXQ9YXJndW1lbnRzWzBdO2dNLmxvZygkdGFyZ2V0LnRleHQoKSk7Z00ubG9nKCR0YXJnZXQuaHRtbCgpKTtpZihzcGVjaWFsQ2hhcmFjdGVycygkdGFyZ2V0LnRleHQoKS5yZXBsYWNlKC9ccysvZywiIil8fCR0YXJnZXQuaHRtbCgpLnJlcGxhY2UoL1xzKy9nLCIiKXx8JHRhcmdldC52YWwoKS5yZXBsYWNlKC9ccysvZywiIikpKXtyZXR1cm59cmV0dXJuIjxpIGNsYXNzPSdpY29uLW1hcmsgZXJyb3ItbWFyayc+PC9pPuWPquiDveaYr+aVsOWtl+OAgeWtl+avjeOAgeaxieWtl+OAgVwiX1wi44CB56m65qC855qE57uE5ZCIIn1mdW5jdGlvbiBVVUlEKCl7dGhpcy5pZD10aGlzLmNyZWF0ZVVVSUQoKX1VVUlELnByb3RvdHlwZS52YWx1ZU9mPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR9O1VVSUQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR9O1VVSUQucHJvdG90eXBlLmNyZWF0ZVVVSUQ9ZnVuY3Rpb24oKXt2YXIgZGc9bmV3IERhdGUoMTU4MiwxMCwxNSwwLDAsMCwwKTt2YXIgZGM9bmV3IERhdGUoKTt2YXIgdD1kYy5nZXRUaW1lKCktZGcuZ2V0VGltZSgpO3ZhciB0bD1VVUlELmdldEludGVnZXJCaXRzKHQsMCwzMSk7dmFyIHRtPVVVSUQuZ2V0SW50ZWdlckJpdHModCwzMiw0Nyk7dmFyIHRodj1VVUlELmdldEludGVnZXJCaXRzKHQsNDgsNTkpKyIxIjt2YXIgY3Nhcj1VVUlELmdldEludGVnZXJCaXRzKFVVSUQucmFuZCg0MDk1KSwwLDcpO3ZhciBjc2w9VVVJRC5nZXRJbnRlZ2VyQml0cyhVVUlELnJhbmQoNDA5NSksMCw3KTt2YXIgbj1VVUlELmdldEludGVnZXJCaXRzKFVVSUQucmFuZCg4MTkxKSwwLDcpK1VVSUQuZ2V0SW50ZWdlckJpdHMoVVVJRC5yYW5kKDgxOTEpLDgsMTUpK1VVSUQuZ2V0SW50ZWdlckJpdHMoVVVJRC5yYW5kKDgxOTEpLDAsNykrVVVJRC5nZXRJbnRlZ2VyQml0cyhVVUlELnJhbmQoODE5MSksOCwxNSkrVVVJRC5nZXRJbnRlZ2VyQml0cyhVVUlELnJhbmQoODE5MSksMCwxNSk7cmV0dXJuIHRsK3RtK3Roditjc2FyK2NzbCtufTtVVUlELmdldEludGVnZXJCaXRzPWZ1bmN0aW9uKHZhbCxzdGFydCxlbmQpe3ZhciBiYXNlMTY9VVVJRC5yZXR1cm5CYXNlKHZhbCwxNik7dmFyIHF1YWRBcnJheT1uZXcgQXJyYXkoKTt2YXIgcXVhZFN0cmluZz0iIjt2YXIgaT0wO2ZvcihpPTA7aTxiYXNlMTYubGVuZ3RoO2krKyl7cXVhZEFycmF5LnB1c2goYmFzZTE2LnN1YnN0cmluZyhpLGkrMSkpfWZvcihpPU1hdGguZmxvb3Ioc3RhcnQvNCk7aTw9TWF0aC5mbG9vcihlbmQvNCk7aSsrKXtpZighcXVhZEFycmF5W2ldfHxxdWFkQXJyYXlbaV09PSIiKXtxdWFkU3RyaW5nKz0iMCJ9ZWxzZXtxdWFkU3RyaW5nKz1xdWFkQXJyYXlbaV19fXJldHVybiBxdWFkU3RyaW5nfTtVVUlELnJldHVybkJhc2U9ZnVuY3Rpb24obnVtYmVyLGJhc2Upe3JldHVybihudW1iZXIpLnRvU3RyaW5nKGJhc2UpLnRvVXBwZXJDYXNlKCl9O1VVSUQucmFuZD1mdW5jdGlvbihtYXgpe3JldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKG1heCsxKSl9O3ZhciBkZWZhdWx0SGVhcnQ9ZnVuY3Rpb24oY2FsbGJhY2speyQuYWpheCh7YXN5bmM6ZmFsc2UsdXJsOkNPTlRFWFRQQVRIKyIvaGVhcnQvY2hlY2tIZWFydC5tb29jIixkYXRhVHlwZToidGV4dCIsdHlwZToicG9zdCIsc3VjY2VzczpmdW5jdGlvbihkYXRlKXtnTS5sb2coIjExIik7Y2FsbGJhY2smJmNhbGxiYWNrKGRhdGUpfX0pO3JldHVybiB0cnVlfTtmdW5jdGlvbiB1cGRhdGVTdHVkeUJ5UmVsYXRpdmUocmVsYXRpdmVJZCxpdGVtVHlwZSl7JC5hamF4KHt0eXBlOiJwb3N0Iix1cmw6Q09OVEVYVFBBVEgrIi9zdHVkeS91cGRhdGUvcmVsYXRpdmUubW9vYyIsZGF0YTp7cmVsYXRpdmVJZDpyZWxhdGl2ZUlkLGl0ZW1UeXBlOml0ZW1UeXBlfSxkYXRhVHlwZToianNvbiIsc3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7fSxlcnJvcjpmdW5jdGlvbigpe319KX1mdW5jdGlvbiBjaGVja1ZpZGVvVHlwZSh0eXBlKXt2YXIgdmlkZW9UeXBlcz0ifG1wNHx3bXZ8YXZpfG1vdnxmbHZ8cm12YnxybXxhc2Z8bWt2fG1wZWd8bXBnfCI7aWYodmlkZW9UeXBlcy5pbmRleE9mKHR5cGUpIT0tMSl7cmV0dXJuIHRydWV9ZWxzZXtyZXR1cm4gZmFsc2V9fWZ1bmN0aW9uIGNoZWNrSW1nVHlwZSh0eXBlKXt2YXIgdmlkZW9UeXBlcz0ifC5qcGd8LmpwZWd8LmJtcHwucG5nfCI7aWYodmlkZW9UeXBlcy5pbmRleE9mKHR5cGUpIT0tMSl7cmV0dXJuIHRydWV9ZWxzZXtyZXR1cm4gZmFsc2V9fWZ1bmN0aW9uIGNoZWNrT3RoZXJUeXBlKHR5cGUpe3ZhciB2aWRlb1R5cGVzPSJ8emlwfHJhcnwiO2lmKHZpZGVvVHlwZXMuaW5kZXhPZih0eXBlKSE9LTEpe3JldHVybiB0cnVlfWVsc2V7cmV0dXJuIGZhbHNlfX1mdW5jdGlvbiBjaGVja1ZpZGVvVHlwZUZvckNLKHR5cGUpe3ZhciB2aWRlb1R5cGVzPSJ8bXA0fHdtdnxhdml8Zmx2fG1wZWd8bXBnfHJtdmJ8bW92fCI7aWYodmlkZW9UeXBlcy5pbmRleE9mKHR5cGUpIT0tMSl7cmV0dXJuIHRydWV9ZWxzZXtyZXR1cm4gZmFsc2V9fWZ1bmN0aW9uIGNoZWNrRG9jdW1lbnRUeXBlKHR5cGUpe3ZhciBkb2NUeXBlcz0ifHBkZnxkb2N8ZG9jeHxwcHR8cHB0eHx4bHN8eGxzeHwiO2lmKGRvY1R5cGVzLmluZGV4T2YodHlwZSkhPS0xKXtyZXR1cm4gdHJ1ZX1lbHNle3JldHVybiBmYWxzZX19ZnVuY3Rpb24gY2hlY2tXUFR5cGUodHlwZSl7dmFyIGRvY1R5cGVzPSJ8cG5nfGpwZ3wiO2lmKGRvY1R5cGVzLmluZGV4T2YodHlwZSkhPS0xKXtyZXR1cm4gdHJ1ZX1lbHNle3JldHVybiBmYWxzZX19ZnVuY3Rpb24gY2hlY2tBdWRpb1R5cGUodHlwZSl7dmFyIGF1ZGlvVHlwZXM9InxhYWN8YWMzfGFtcnxhcGV8Y2RhfGR0c3xmbGFjfG0xYXxtMmF8bTRhfG1pZHxtaWRpfG1rYXxtcDJ8bXAzfG1wYXxvZ2d8cmF8dHRhfHdhdnx3bWF8d3Z8cmFtfCI7aWYoYXVkaW9UeXBlcy5pbmRleE9mKHR5cGUpIT0tMSl7cmV0dXJuIHRydWV9ZWxzZXtyZXR1cm4gZmFsc2V9fWZ1bmN0aW9uIG9wZW5FbWFpbFVybChlbWFpbCl7dmFyIGhhc2g9eyJxcS5jb20iOiJodHRwOi8vbWFpbC5xcS5jb20iLCJnbWFpbC5jb20iOiJodHRwOi8vbWFpbC5nb29nbGUuY29tIiwic2luYS5jb20iOiJodHRwOi8vbWFpbC5zaW5hLmNvbS5jbiIsIjE2My5jb20iOiJodHRwOi8vbWFpbC4xNjMuY29tIiwiMTI2LmNvbSI6Imh0dHA6Ly9tYWlsLjEyNi5jb20iLCJ5ZWFoLm5ldCI6Imh0dHA6Ly93d3cueWVhaC5uZXQvIiwic29odS5jb20iOiJodHRwOi8vbWFpbC5zb2h1LmNvbS8iLCJ0b20uY29tIjoiaHR0cDovL21haWwudG9tLmNvbS8iLCJzb2dvdS5jb20iOiJodHRwOi8vbWFpbC5zb2dvdS5jb20vIiwiMTM5LmNvbSI6Imh0dHA6Ly9tYWlsLjEwMDg2LmNuLyIsImhvdG1haWwuY29tIjoiaHR0cDovL3d3dy5ob3RtYWlsLmNvbSIsImxpdmUuY29tIjoiaHR0cDovL2xvZ2luLmxpdmUuY29tLyIsImxpdmUuY24iOiJodHRwOi8vbG9naW4ubGl2ZS5jbi8iLCJsaXZlLmNvbS5jbiI6Imh0dHA6Ly9sb2dpbi5saXZlLmNvbS5jbiIsIjE4OS5jb20iOiJodHRwOi8vd2VibWFpbDE2LjE4OS5jbi93ZWJtYWlsLyIsInlhaG9vLmNvbS5jbiI6Imh0dHA6Ly9tYWlsLmNuLnlhaG9vLmNvbS8iLCJ5YWhvby5jbiI6Imh0dHA6Ly9tYWlsLmNuLnlhaG9vLmNvbS8iLCJleW91LmNvbSI6Imh0dHA6Ly93d3cuZXlvdS5jb20vIiwiMjFjbi5jb20iOiJodHRwOi8vbWFpbC4yMWNuLmNvbS8iLCIxODguY29tIjoiaHR0cDovL3d3dy4xODguY29tLyIsImZveG1haWwuY29tIjoiaHR0cDovL3d3dy5mb3htYWlsLmNvbSIsIm91dGxvb2suY29tIjoiaHR0cDovL3d3dy5vdXRsb29rLmNvbSJ9O3ZhciB3ZWJVcmw7dmFyIGFhPWVtYWlsLnNwbGl0KCJAIik7dmFyIHVybD1hYVsxXTtmb3IodmFyIGogaW4gaGFzaCl7aWYoaj09dXJsKXt3ZWJVcmw9aGFzaFt1cmxdO2JyZWFrfX1pZih3ZWJVcmw9PXVuZGVmaW5lZHx8d2ViVXJsLmxlbmd0aD09MCl7d2ViVXJsPSJodHRwOi8vbWFpbC4iK2FhWzFdfXdpbmRvdy5vcGVuKHdlYlVybCl9ZnVuY3Rpb24gdW5mb3JtYXRBdmF0YXIoZWxlbSl7aWYod2luZG93LlBJRSl7JChlbGVtKS5lYWNoKGZ1bmN0aW9uKCl7UElFLmRldGFjaCh0aGlzKX0pfX1mdW5jdGlvbiBzaG93Tm9EYXRhKG9iakNsYXNzTmFtZSl7dmFyIHRhYmxlT2JqPSQoInRhYmxlLiIrb2JqQ2xhc3NOYW1lKTt2YXIgdHJOdW09dGFibGVPYmouZmluZCgidGJvZHkiKS5maW5kKCJ0ciIpLmxlbmd0aDt2YXIgaGVhclRyTnVtPTE7dmFyIGZpcnN0VHI9dGFibGVPYmouZmluZCgidHIiKS5lcSgwKTt2YXIgY29sTnVtPTA7Zmlyc3RUci5maW5kKCJ0aCIpLmVhY2goZnVuY3Rpb24oKXtpZih0eXBlb2YoJCh0aGlzKS5hdHRyKCJyb3dzcGFuIikpIT0idW5kZWZpbmVkIil7dmFyIHJvd3M9cGFyc2VJbnQoJCh0aGlzKS5hdHRyKCJyb3dzcGFuIikpO2lmKHJvd3M+aGVhclRyTnVtKXtoZWFyVHJOdW09cm93c319aWYodHlwZW9mKCQodGhpcykuYXR0cigiY29sc3BhbiIpKSE9InVuZGVmaW5lZCIpe2NvbE51bT1jb2xOdW0rcGFyc2VJbnQoJCh0aGlzKS5hdHRyKCJjb2xzcGFuIikpfWVsc2V7Y29sTnVtPWNvbE51bSsxfX0pO2lmKDA9PXRyTnVtKXt2YXIgX2h0bWw9W107X2h0bWwucHVzaCgiPHRyPiIpO19odG1sLnB1c2goJyAgICA8dGQgY29sc3Bhbj0iJytjb2xOdW0rJyI+Jyk7X2h0bWwucHVzaCgnICAgICAgICA8ZGl2IGNsYXNzPSJ2aWV3LWVtcHR5LWJveCI+Jyk7X2h0bWwucHVzaCgnICAgICAgICAgICAgPGRpdiBjbGFzcz0idmlldy1lbXB0eSI+Jyk7X2h0bWwucHVzaCgnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InZpZXctc2hvdyI+Jyk7X2h0bWwucHVzaCgnICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iaWNvbi1lLXBvaW50Ij48L2k+Jyk7X2h0bWwucHVzaCgiICAgICAgICAgICAgICAgIDwvZGl2PiIpO19odG1sLnB1c2goJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ2aWV3LWludHJvIj7msqHmnInnrKblkIjmnaHku7bnmoTorrDlvZU8L2Rpdj4nKTtfaHRtbC5wdXNoKCIgICAgICAgICAgICA8L2Rpdj4iKTtfaHRtbC5wdXNoKCIgICAgICAgIDwvZGl2PiIpO19odG1sLnB1c2goIiAgICA8L3RkPiIpO19odG1sLnB1c2goIjwvdHI+Iik7dGFibGVPYmouZmluZCgidGJvZHkiKS5hcHBlbmQoX2h0bWwuam9pbigiIikpfX0oZnVuY3Rpb24oJCl7aWYodHlwZW9mIHdpbmRvdy5KU09OPT0idW5kZWZpbmVkIil7cmV0dXJufWdNLnBhcnNlSlNPTj13aW5kb3cuSlNPTi5wYXJzZTt3aW5kb3cuSlNPTi5wYXJzZT1mdW5jdGlvbihkYXRhKXt2YXIgX3I9e307dHJ5e19yPWdNLnBhcnNlSlNPTihkYXRhKTtyZXR1cm4gX3J9Y2F0Y2goZSl7Z00ubG9nKCJKU09OLnBhcnNlIGVycm9yICIrZGF0YSl9dmFyIHJ2YWxpZGNoYXJzPS9eW1xdLDp7fVxzXSokLyxydmFsaWRicmFjZXM9Lyg/Ol58OnwsKSg/OlxzKlxbKSsvZyxydmFsaWRlc2NhcGU9L1xcKD86WyJcXFwvYmZucnRdfHVbXGRhLWZBLUZdezR9KS9nLHJ2YWxpZHRva2Vucz0vIlteIlxcXHJcbl0qInx0cnVlfGZhbHNlfG51bGx8LT8oPzpcZCtcLnwpXGQrKD86W2VFXVsrLV0/XGQrfCkvZztpZihkYXRhPT09bnVsbCl7cmV0dXJuIGRhdGF9aWYodHlwZW9mIGRhdGE9PT0ic3RyaW5nIil7ZGF0YT1qUXVlcnkudHJpbShkYXRhKTtpZihkYXRhKXtpZihydmFsaWRjaGFycy50ZXN0KGRhdGEucmVwbGFjZShydmFsaWRlc2NhcGUsIkAiKS5yZXBsYWNlKHJ2YWxpZHRva2VucywiXSIpLnJlcGxhY2UocnZhbGlkYnJhY2VzLCIiKSkpe3JldHVybihuZXcgRnVuY3Rpb24oInJldHVybiAiK2RhdGEpKSgpfX19fX0pKCR8fGpRdWVyeSk7</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="161489656" offset="0" length="428" />
        <PacketInfo time="161489671" offset="428" length="408606" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>