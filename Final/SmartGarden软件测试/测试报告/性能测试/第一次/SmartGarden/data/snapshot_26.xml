<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="26">
  <HTTPTask id="2569" hostname="www.cnmooc.org" path="http://www.cnmooc.org/js/jwplayer6/player.js?1" url="http://www.cnmooc.org/js/jwplayer6/player.js?1" ip="180.76.151.202" port="80" connectionId="30" origin="Primary" frame="1" startDateTime="2018-07-24T16:05:49.113+08:00" startTime="161491578" endTime="161491578">
    <QueryString>
      <HTTPDataSet>
        <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
          <ActualData>MQ==</ActualData>
        </HTTPData>
      </HTTPDataSet>
      <IsExternalData>false</IsExternalData>
    </QueryString>
    <HTTPSplittedQueryStrings>
      <HTTPHeaderEntity name="" index="0">
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>MQ==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPHeaderEntity>
    </HTTPSplittedQueryStrings>
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovL3d3dy5jbm1vb2Mub3JnL2hvbWUvaW5kZXgubW9vYw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>emgtSGFucy1DTix6aC1IYW5zO3E9MC44LGVuLVVTO3E9MC41LGVuO3E9MC4z</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzUxLjAuMjcwNC43OSBTYWZhcmkvNTM3LjM2IEVkZ2UvMTQuMTQzOTM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MTEtSnVsLTIwNjggMDg6MDU6NDAgR01UOyBKU0VTU0lPTklEPUY3MzYzQ0FGRDFCNzM5MDVCMDFCNThFQkJGOURERjVGLnRvbWNhdC1ob3N0MS0yOyBCRUM9ZjZjNDJjMjRkMGM3NmU3YWNlYTI0Mjc5MWFiODdlMzR8MTUzMjQxOTUzNnwxNTMyNDE5NTM2</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>d3d3LmNubW9vYy5vcmc=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIGh0dHA6Ly93d3cuY25tb29jLm9yZy9qcy9qd3BsYXllcjYvcGxheWVyLmpzPzEgSFRUUC8xLjENCkFjY2VwdDogYXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44DQpSZWZlcmVyOiBodHRwOi8vd3d3LmNubW9vYy5vcmcvaG9tZS9pbmRleC5tb29jDQpBY2NlcHQtTGFuZ3VhZ2U6IHpoLUhhbnMtQ04semgtSGFucztxPTAuOCxlbi1VUztxPTAuNSxlbjtxPTAuMw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzUxLjAuMjcwNC43OSBTYWZhcmkvNTM3LjM2IEVkZ2UvMTQuMTQzOTMNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZQ0KQ29va2llOiAxMS1KdWwtMjA2OCAwODowNTo0MCBHTVQ7IEpTRVNTSU9OSUQ9RjczNjNDQUZEMUI3MzkwNUIwMUI1OEVCQkY5RERGNUYudG9tY2F0LWhvc3QxLTI7IEJFQz1mNmM0MmMyNGQwYzc2ZTdhY2VhMjQyNzkxYWI4N2UzNHwxNTMyNDE5NTM2fDE1MzI0MTk1MzYNCkhvc3Q6IHd3dy5jbm1vb2Mub3JnDQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="11-Jul-2068 08:05:40 GMT; JSESSIONID" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>RjczNjNDQUZEMUI3MzkwNUIwMUI1OEVCQkY5RERGNUYudG9tY2F0LWhvc3QxLTI=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="BEC" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZjZjNDJjMjRkMGM3NmU3YWNlYTI0Mjc5MWFiODdlMzR8MTUzMjQxOTUzNnwxNTMyNDE5NTM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>26020</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Server" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QkxCLw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAyNCBKdWwgMjAxOCAwODowNTo0MCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MjYwMjA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAwMyBKdWwgMjAxOCAxMToxMjo0NiBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjViM2I1YTJlLTY1YTQi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAyMyBBdWcgMjAxOCAwODowNTo0NCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0yNTkyMDAw</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Frame-Options" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U0FNRU9SSUdJTg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Set-Cookie" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QkVDPWY2YzQyYzI0ZDBjNzZlN2FjZWEyNDI3OTFhYjg3ZTM0fDE1MzI0MTk1NDB8MTUzMjQxOTUzNjtQYXRoPS8=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpTZXJ2ZXI6IEJMQi8NCkRhdGU6IFR1ZSwgMjQgSnVsIDIwMTggMDg6MDU6NDAgR01UDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQNCkNvbnRlbnQtTGVuZ3RoOiAyNjAyMA0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KTGFzdC1Nb2RpZmllZDogVHVlLCAwMyBKdWwgMjAxOCAxMToxMjo0NiBHTVQNCkVUYWc6ICI1YjNiNWEyZS02NWE0Ig0KRXhwaXJlczogVGh1LCAyMyBBdWcgMjAxOCAwODowNTo0NCBHTVQNCkNhY2hlLUNvbnRyb2w6IG1heC1hZ2U9MjU5MjAwMA0KWC1GcmFtZS1PcHRpb25zOiBTQU1FT1JJR0lODQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KU2V0LUNvb2tpZTogQkVDPWY2YzQyYzI0ZDBjNzZlN2FjZWEyNDI3OTFhYjg3ZTM0fDE1MzI0MTk1NDB8MTUzMjQxOTUzNjtQYXRoPS8NCg0K</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>dmFyIGp3T2JqID0gbnVsbDsNCg0KdmFyIGJhcnJhZ2VMaXN0ID0gbmV3IEFycmF5KCk7DQoNCnZhciBpc1Njcm9sbCA9IHRydWU7DQoNCi8qDQogKiDliJ3lp4vljJbop4bpopHmkq3mlL7lmags77yM6buY6K6k5bC65a+45Li6IDY0MHgzNjAoMTY6OSkNCiAqIA0KICogY29udGFpbmVySWQg57uR5a6a55qEZGl2IGlkICwg5LiN5bimICAjDQogKiBwYXJlbnRGb2xkZXIg6KeG6aKR5paH5Lu255qE54i25Lqy55uu5b2V6Lev5b6E77yI55u45a+56Lev5b6E77yJDQogKiBhdXRvc3RhcnQg6Ieq5Yqo5pKt5pS+5qCH5b+XDQogKiBzZWVrVGltZSDot7Povazml7bpl7TngrnvvIzljZXkvY3kuLrvvJrnp5INCiAqIG9uVGltZUNhbGxiYWNrIOinhumikeaSreaUvuaXtuWumuaXtuWbnuiwg+WHveaVsO+8jOWbnuiwg+WPguaVsOS4ukpTT04g77yMIHsicG9zaXRpb24iIDogNX0NCiAqLw0KZnVuY3Rpb24gaW5pdFZpZGVvUGxheWVyKGNvbnRhaW5lcklkLCBvcHRpb25zKSB7DQogICAgdmFyIG5vZGVJZCA9IG9wdGlvbnMubm9kZUlkOy8v6LWE5rqQaWQNCiAgICB2YXIgaXRlbUlkID0gb3B0aW9ucy5pdGVtSWQ7Ly/otYTmupBpZA0KICAgICQuYWpheCh7DQogICAgICAgIHR5cGU6ICJwb3N0IiwNCiAgICAgICAgdXJsOiBDT05URVhUUEFUSCArICIvaXRlbS9kZXRhaWwubW9vYyIsDQogICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAgIG5vZGVJZDogbm9kZUlkLA0KICAgICAgICAgICAgaXRlbUlkOiBpdGVtSWQNCiAgICAgICAgfSwNCiAgICAgICAgZGF0YVR5cGU6ICJqc29uIiwNCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQogICAgICAgICAgICBpZiAob3B0aW9uc1snYXV0b3N0YXJ0J10pIHsNCiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc1snaXNTdHVkeU92ZXInXSAmJiBvcHRpb25zWydpc1N0dWR5T3ZlciddID09IDIpIHsNCiAgICAgICAgICAgICAgICAgICAgLy9vcHRpb25zWydhdXRvc3RhcnQnXT1mYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmJhcnJhZ2VzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmFycmFnZXMgPSByZXNwb25zZS5iYXJyYWdlczsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiYXJyYWdlcy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSBiYXJyYWdlc1swXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGJ0biA9ICQoJzxhIGNsYXNzPSJidG4tcHVibGljIGJ0bi1zdWJtaXQiPui/m+WFpee7g+S5oDwvYT4nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5wcmV2aWV3RXhhbUNhbGxCYWNrICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZpZXdFeGFtQ2FsbEJhY2sgPSBvcHRpb25zLnByZXZpZXdFeGFtQ2FsbEJhY2s7Ly/op4bpopHlvLnlh7ror5Xljbflh73mlbANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGJ0bi5iaW5kKCdjbGljaycsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpZXdFeGFtQ2FsbEJhY2soYi5iYXJyYWdlSWQsIGIudHlwZSwgYi5iZWdpbiwgYi50ZXN0UGFwZXJJZCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRidG4uaW5zZXJ0QWZ0ZXIoJCgnIycgKyBjb250YWluZXJJZCkucGFyZW50KCkucGFyZW50KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGluaXRQbGF5KGNvbnRhaW5lcklkLCBvcHRpb25zLCByZXNwb25zZS5ub2RlLCByZXNwb25zZS5iYXJyYWdlcywgcmVzcG9uc2UucGF0aCwgcmVzcG9uc2VbJ21lZGlhUmVzb3VyY2VzJ10pOw0KICAgICAgICB9LA0KICAgICAgICBlcnJvcjogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgLy8kLmRpYWxvZy5lcnJvciggTXNnLmdldCgic3R1ZHkubm9kZS5lcnJvciIpKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KDQp9DQoNCmZ1bmN0aW9uIGdldFRoaXJkcGFydHlVcmwodXJsKSB7DQogICAgdmFyIHUgPSB1cmwuc3Vic3RyaW5nKDcsIHVybC5sZW5ndGgpOw0KICAgIHdoaWxlICh1LmluZGV4T2YoIi8iKSA9PSAwKSB7DQogICAgICAgIHUgPSB1LnN1YnN0cmluZygxLCB1Lmxlbmd0aCk7DQogICAgfQ0KICAgIHUgPSAiL3RoaXJkcGFydHkvIiArIHU7DQogICAgcmV0dXJuIHU7DQp9DQoNCmZ1bmN0aW9uIGlzSHR0cFVybCh1cmwpIHsNCiAgICByZXR1cm4gdXJsLmluZGV4T2YoImh0dHA6IikgPT0gMCB8fCB1cmwuaW5kZXhPZigiaHR0cHM6IikgPT0gMDsNCn0NCg0KZnVuY3Rpb24gZ2V0RGVmaW5pdGlvbk5hbWUoZGVmaW5pdGlvbikgew0KICAgIHZhciBuYW1lID0gIum7mOiupCI7DQogICAgZGVmaW5pdGlvbiA9IGRlZmluaXRpb24gfHwgIiI7DQogICAgaWYgKGRlZmluaXRpb24ubGVuZ3RoID09MCkgcmV0dXJuIG5hbWU7DQogICAgZGVmaW5pdGlvbiA9IGRlZmluaXRpb24udG9Mb3dlckNhc2UoKTsNCg0KICAgIGlmKGRlZmluaXRpb24gPT0gIjcyMHAiIHx8IGRlZmluaXRpb24gPT0gIjcyMHAubXA0IikgIHsNCiAgICAgICAgbmFtZSA9ICLpq5jmuIUgNzIwUCI7DQogICAgfWVsc2UgaWYgKGRlZmluaXRpb24gPT0gIjM2MHAiIHx8IGRlZmluaXRpb24gPT0gIjM2MHAubXA0IikgIHsNCiAgICAgICAgbmFtZSA9ICLmoIfmuIUgMzYwUCI7DQogICAgfWVsc2UgaWYgKGRlZmluaXRpb24gPT0gIjQ4MHAiIHx8IGRlZmluaXRpb24gPT0gIjQ4MHAubXA0IikgIHsNCiAgICAgICAgbmFtZSA9ICLmoIfmuIUgNDgwUCI7DQogICAgfWVsc2UgaWYgKGRlZmluaXRpb24gPT0gIjI3MHAifHxkZWZpbml0aW9uID09ICIyNzAiIHx8IGRlZmluaXRpb24gPT0gIjI3MHAubXA0IiB8fCBkZWZpbml0aW9uID09ICIyNzAubXA0IikgIHsNCiAgICAgICAgbmFtZSA9ICLmtYHnlYUgMjcwUCI7DQogICAgfSBlbHNlIGlmIChkZWZpbml0aW9uID09ICIxMDgwcCIgfHwgZGVmaW5pdGlvbiA9PSAiMTA4MHAubXA0IikgIHsNCiAgICAgICAgbmFtZSA9ICLotoXmuIUgMTA4MFAiOw0KICAgIH0NCg0KICAgIHJldHVybiBuYW1lOw0KfQ0KDQpmdW5jdGlvbiBnZXRTeXNjb2RlKCl7DQogICAgdmFyIHN5c0NvZGUgPSAnY25tb29jJzsNCiAgICAkLmFqYXgoew0KICAgICAgICB0eXBlOiAicG9zdCIsDQogICAgICAgIGFzeW5jOmZhbHNlLA0KICAgICAgICB1cmw6IENPTlRFWFRQQVRIICsgIi9ob21lL2dldFN5c0NvZGUubW9vYyIsDQogICAgICAgIGRhdGE6IHsNCiAgICAgICAgfSwNCiAgICAgICAgZGF0YVR5cGU6ICJqc29uIiwNCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQogICAgICAgICAgICBzeXNDb2RlID0gcmVzcG9uc2Uuc3lzQ29kZTsNCiAgICAgICAgfSwNCiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIC8vJC5kaWFsb2cuZXJyb3IoIE1zZy5nZXQoInN0dWR5Lm5vZGUuZXJyb3IiKSk7DQogICAgICAgIH0NCiAgICB9KTsNCiAgICByZXR1cm4gc3lzQ29kZTsNCn0NCg0KZnVuY3Rpb24gZ2V0TGFuZ3VhZ2VOYW1lKGxhbmcpIHsNCiAgICBsYW5nID0gbGFuZyB8fCAiIjsNCiAgICBpZiAobGFuZyA9PSAiY24iKSB7DQogICAgICAgIGxhbmcgPSAi5Lit5paHIjsNCiAgICB9IGVsc2UgaWYgKGxhbmcgPT0gImVuIikgew0KICAgICAgICBsYW5nID0gIuiLseaWhyI7DQogICAgfQ0KDQogICAgcmV0dXJuIGxhbmc7DQp9DQoNCmZ1bmN0aW9uIGluaXRQbGF5KGNvbnRhaW5lcklkLCBvcHRpb25zLCBub2RlLCBiYXJyYWdlcywgcmVzb3VyY2VQYXRoLCBtZWRpYVJlc291cmNlcykgew0KICAgIG1lZGlhUmVzb3VyY2VzID0gbWVkaWFSZXNvdXJjZXMgfHwge307DQogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0t5Lyg5YWl5Y+C5pWwc3RhcnQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIHZhciBkZWZhdWx0V2lkdGggPSBvcHRpb25zLmRlZmF1bHRXaWR0aDsvL+aSreaUvuWZqOWuveW6pg0KICAgIHZhciBkZWZhdWx0SGVpZ2h0ID0gb3B0aW9ucy5kZWZhdWx0SGVpZ2h0Oy8v5pKt5pS+5Zmo6auY5bqmDQogICAgdmFyIGFsbG93c2VlayA9IG9wdGlvbnMuYWxsb3dzZWVrOy8v5piv5ZCm5Y+v5ouW5ou9DQogICAgdmFyIHNlZWtUaW1lID0gb3B0aW9ucy5zZWVrVGltZTsvL+WumuS9jeaXtumXtOeCuQ0KICAgIHZhciBvblRpbWVDYWxsYmFjayA9IG9wdGlvbnMub25UaW1lQ2FsbGJhY2s7Ly/mkq3mlL7ov4fnqIvkuK3lm57osIPlh73mlbANCiAgICB2YXIgb25Db21wbGV0ZUNhbGxiYWNrID0gb3B0aW9ucy5vbkNvbXBsZXRlQ2FsbGJhY2s7Ly/mkq3mlL7nu5PmnZ/lm57osIPlh73mlbANCiAgICB2YXIgcHJldmlld0V4YW1DYWxsQmFjayA9IG9wdGlvbnMucHJldmlld0V4YW1DYWxsQmFjazsvL+inhumikeW8ueWHuuivleWNt+WHveaVsA0KICAgIHZhciBhdXRvc3RhcnQgPSBvcHRpb25zLmF1dG9zdGFydDsvL+aYr+WQpuiHquWKqOW8gOWni+aSreaUvg0KICAgIHZhciBkdXJhdGlvbiA9IG9wdGlvbnMuZHVyYXRpb24gfHwgMDsvL+inhumikeaXtumVvw0KICAgIHZhciBzcnRUZXh0U2hvdyA9IG9wdGlvbnMuc3J0VGV4dFNob3cgfHwgZmFsc2U7Ly/mmK/lkKblsIblrZfluZXku6XmlofmnKzmlrnlvI/lsZXnpLoNCiAgICB2YXIgbG9jYWxJbWFnZSA9IG5vZGUudGh1bWJuYWlsc1BhdGg7Ly/op4bpopHnvKnnlaXlm74NCiAgICB2YXIgZmx2X3VybCA9IG5vZGUuZmx2VXJsOy8v6KeG6aKR5paH5Lu25ZCN5LiyDQogICAgdmFyIG5vZGVJZCA9IG5vZGUubm9kZUlkOy8v6LWE5rqQaWQNCiAgICB2YXIgaXRlbUlkID0gb3B0aW9ucy5pdGVtSWQ7DQogICAgdmFyIGl0ZW1UeXBlID0gb3B0aW9ucy5pdGVtVHlwZTsNCiAgICB2YXIgY291cnNlT3BlbklkID0gb3B0aW9ucy5jb3Vyc2VPcGVuSWQ7DQogICAgdmFyIGxvZ3VybCA9IG9wdGlvbnMubG9ndXJsOw0KICAgIHZhciBzdHVkeU1vZGUgPSBmYWxzZSA9PT0gb3B0aW9ucy5zdHVkeU1vZGUgPyBmYWxzZSA6IHRydWU7DQogICAgdmFyIGRlZmluaXRpb24gPSBvcHRpb25zLmRlZmluaXRpb25zIHx8ICIiOw0KICAgIHZhciBkZWZpbml0aW9ucyA9IGRlZmluaXRpb24uc3BsaXQoIiwiKTsNCiAgICBiYXJyYWdlTGlzdCA9IGJhcnJhZ2VzOy8v5omT54K55pWw5o2uDQogICAgdmFyIHNydFRleHRTaG93VGVtcCA9IHRydWU7DQogICAgLy/mkq3mlL7lmajlsLrlr7gNCiAgICB2YXIgd2lkdGggPSA2NDA7DQogICAgdmFyIGhlaWdodCA9IDM2MDsNCiAgICBpZiAoZGVmYXVsdFdpZHRoICE9IG51bGwgJiYgZGVmYXVsdEhlaWdodCAhPSBudWxsKSB7DQogICAgICAgIHdpZHRoID0gZGVmYXVsdFdpZHRoOw0KICAgICAgICBoZWlnaHQgPSBkZWZhdWx0SGVpZ2h0Ow0KICAgIH0NCiAgICAvL+aYr+WQpuWPr+aLluaLvQ0KICAgIHZhciBlbmFibGVkRHJhZ2FibGVTbGlkZXIgPSB0cnVlOw0KICAgIGlmIChhbGxvd3NlZWsgIT0gbnVsbCkgew0KICAgICAgICBlbmFibGVkRHJhZ2FibGVTbGlkZXIgPSBhbGxvd3NlZWs7DQogICAgfQ0KICAgIC8v6KeG6aKR6LWE5rqQDQogICAgdmFyIGlzTW9iaWxlID0gandwbGF5ZXIudXRpbHMuaXNNb2JpbGUoKTsNCiAgICB2YXIgaXNJRTggPSBqd3BsYXllci51dGlscy5pc0lFVHJpZGVudCg4KTsNCiAgICB2YXIgZmlsZXMxID0gW107DQogICAgdmFyIGZpbGVzMiA9IFtdOw0KICAgIHZhciBwbGF5bGlzdCA9IFtdOw0KICAgIHZhciBzb3VyY2UxID0gbnVsbDsNCiAgICB2YXIgc291cmNlMiA9IG51bGw7DQogICAgdmFyIHZpZGVvVGVtcDsNCiAgICB2YXIgbWVkaWFVcmxzID0gbWVkaWFSZXNvdXJjZXNbJ21lZGlhVXJscyddIHx8IFtdOw0KICAgIHZhciBjdXJyZW50VXJsID0gbWVkaWFSZXNvdXJjZXNbJ2N1cnJlbnRVcmwnXSB8fCAiIjsNCiAgICB2YXIgaW5TY2hvb2wgPSBtZWRpYVJlc291cmNlc1snbmV0d29ya0luU2Nob29sJ10gfHwgIjAiOw0KICAgIHZhciBzdG9yZUlkID0gbWVkaWFSZXNvdXJjZXNbJ3N0b3JlSWQnXSB8fCAwOw0KICAgIHZhciBtZWRpYVVybDsNCiAgICB2YXIgZGVmSGQsZGVmSW5kZXg9MDsNCiAgICB2YXIgc2hvdHMgPSAiIjsNCiAgICB2YXIgc3lzQ29kZSA9IGdldFN5c2NvZGUoKTsNCiAgICBpZihzeXNDb2RlID09ICdtb29jX2Nsb3VkJyl7DQogICAgICAgIGlmKGlzSHR0cFVybChmbHZfdXJsKSl7DQogICAgICAgICAgICBpblNjaG9vbCA9IDA7DQogICAgICAgIH0NCiAgICB9DQogICAgaWYgKCEgaXNIdHRwVXJsKGZsdl91cmwpKSB7DQogICAgICAgIHZhciBfbSA9IGZsdl91cmw7DQogICAgICAgIHZhciBfaSA9IF9tLmxhc3RJbmRleE9mKCIvIik7DQogICAgICAgIHZhciBfaiA9IF9tLmxhc3RJbmRleE9mKCIuIik7DQogICAgICAgIHZhciBfcCA9IF9tLnN1YnN0cmluZygwLCBfaSkuY29uY2F0KCIvZmlsZXMiKTsNCiAgICAgICAgdmFyIF9zaG90ID0gX3AgKyAiL3RodW1iLnZ0dCI7DQoNCiAgICAgICAgdmFyIHBhdGggPSBfbS5zdWJzdHJpbmcoMCwgX2krMSk7DQogICAgICAgIHZhciBleHROYW1lID0gX20uc3Vic3RyaW5nKF9qLCBfbS5sZW5ndGgpOw0KDQogICAgICAgIF9wID0gZGVmaW5pdGlvbnNbMF07DQoNCiAgICAgICAgZGVmaW5pdGlvbnMgPSBkZWZpbml0aW9ucy5zb3J0KGZ1bmN0aW9uIChhLGIpIHsNCiAgICAgICAgICAgIHZhciBuMSA9IHBhcnNlSW50KGEpLG4yID0gcGFyc2VJbnQoYik7DQogICAgICAgICAgICByZXR1cm4gbjIgLSBuMTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgaWYgKCIxIiA9PSBpblNjaG9vbCkgew0KICAgICAgICAgICAgaWYgKGN1cnJlbnRVcmwubGVuZ3RoID4gMCAmJiBtZWRpYVVybHMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgIGRlZkluZGV4ID0gMDsNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lZGlhVXJscy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICBtZWRpYVVybCA9IG1lZGlhVXJsc1tpXSB8fCAiIjsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmluaXRpb24ubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkZWZpbml0aW9ucy5sZW5ndGg7IGorKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZkhkID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmluaXRpb25zW2pdID09IF9wKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWZJbmRleCA9PSAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZIZCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmSW5kZXgrKzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9UZW1wID0geydmaWxlJzogbWVkaWFVcmwuY29uY2F0KHBhdGgsZGVmaW5pdGlvbnNbal0sZXh0TmFtZSksICdsYWJlbCc6IGdldERlZmluaXRpb25OYW1lKGRlZmluaXRpb25zW2pdKSwgJ2RlZmF1bHQnOiBkZWZIZH07DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXMxLnB1c2godmlkZW9UZW1wKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvVGVtcCA9IHsnZmlsZSc6IG1lZGlhVXJsLmNvbmNhdChmbHZfdXJsKSwgJ2xhYmVsJzogZ2V0RGVmaW5pdGlvbk5hbWUoKX07DQogICAgICAgICAgICAgICAgICAgICAgICBmaWxlczEucHVzaCh2aWRlb1RlbXApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHNob3RzID0gY3VycmVudFVybCArIF9zaG90Ow0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBzaG90cyA9IHJlc291cmNlUGF0aCArIF9zaG90Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKHN0b3JlSWQgPT0gMCkgew0KICAgICAgICAgICAgaWYgKGRlZmluaXRpb24ubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGVmaW5pdGlvbnMubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICAgICAgICAgICAgZGVmSGQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmluaXRpb25zW2pdID09IF9wKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBkZWZIZCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdmlkZW9UZW1wID0geydmaWxlJzogcmVzb3VyY2VQYXRoLmNvbmNhdChwYXRoLGRlZmluaXRpb25zW2pdLGV4dE5hbWUpLCAnbGFiZWwnOiBnZXREZWZpbml0aW9uTmFtZShkZWZpbml0aW9uc1tqXSksICdkZWZhdWx0JzogZGVmSGR9Ow0KICAgICAgICAgICAgICAgICAgICBmaWxlczIucHVzaCh2aWRlb1RlbXApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICB2aWRlb1RlbXAgPSB7J2ZpbGUnOiByZXNvdXJjZVBhdGguY29uY2F0KGZsdl91cmwpLCAnbGFiZWwnOiBnZXREZWZpbml0aW9uTmFtZSgpfTsNCiAgICAgICAgICAgICAgICBmaWxlczIucHVzaCh2aWRlb1RlbXApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgICAgaWYgKChpc01vYmlsZSB8fCAhIGlzSUU4KSAmJiBmbHZfdXJsLmluZGV4T2YoIi5jaHVhbmtlLmNvbSIpID4gMCAmJiBmbHZfdXJsLmluZGV4T2YoIi5mbHYiKSA+IDApIHsNCiAgICAgICAgICAgIGZsdl91cmwgPSBmbHZfdXJsLnJlcGxhY2UoIi5lbmMuZmx2IiwgIi5mbHYiKTsNCiAgICAgICAgICAgIGZsdl91cmwgPSBmbHZfdXJsLnJlcGxhY2UoIi5mbHYiLCAiLm1wNCIpOw0KICAgICAgICB9DQogICAgICAgIHZhciBoZHMgPSBbXSwgcGF0aD0iIixleHROYW1lPSIiOw0KICAgICAgICBpZiAoZmx2X3VybC5pbmRleE9mKCIqIik+MCB8fCBmbHZfdXJsLmluZGV4T2YoInwiKT4wKSB7DQogICAgICAgICAgICB2YXIgX2wgPSBmbHZfdXJsOw0KICAgICAgICAgICAgdmFyIF9pID0gX2wubGFzdEluZGV4T2YoIi8iKTsNCiAgICAgICAgICAgIHZhciBfaiA9IF9sLmxhc3RJbmRleE9mKCIuIik7DQogICAgICAgICAgICBwYXRoID0gX2wuc3Vic3RyaW5nKDAsIF9pKzEpOw0KICAgICAgICAgICAgZXh0TmFtZSA9IF9sLnN1YnN0cmluZyhfaiwgX2wubGVuZ3RoKTsNCiAgICAgICAgICAgIHZhciB0ZW1wRGVmaW4gPSBfbC5zdWJzdHJpbmcoX2krMSxfaik7DQogICAgICAgICAgICBpZih0ZW1wRGVmaW4gPT0gIioiKXsNCiAgICAgICAgICAgIAloZHMgPSBkZWZpbml0aW9uczsgDQogICAgICAgICAgICB9ZWxzZXsNCgkgICAgICAgICAgICBoZHMgPSB0ZW1wRGVmaW4uc3BsaXQoInwiKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZihoZHMubGVuZ3RoPjApew0KCSAgICAgICAgaWYgKCIxIiA9PSBpblNjaG9vbCkgew0KCSAgICAgICAgICAgIHZhciBfZmx2X3VybDsNCgkgICAgICAgICAgICBkZWZJbmRleCA9IDA7DQoJICAgICAgICAgICAgaWYgKGN1cnJlbnRVcmwubGVuZ3RoID4gMCAmJiBtZWRpYVVybHMubGVuZ3RoID4gMCkgew0KCSAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBoZHMubGVuZ3RoOyBqKyspIHsNCgkgICAgICAgICAgICAgICAgICAgICAgICBfZmx2X3VybCA9IHBhdGgraGRzW2pdK2V4dE5hbWU7DQoJICAgICAgICAgICAgICAgICAgICAgICAgX2Zsdl91cmwgPSBnZXRUaGlyZHBhcnR5VXJsKF9mbHZfdXJsKTsNCgkgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lZGlhVXJscy5sZW5ndGg7IGkrKykgew0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZWRpYVVybCA9IG1lZGlhVXJsc1tpXSB8fCAiIjsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmSGQgPSBmYWxzZTsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRVcmwgPT0gbWVkaWFVcmwpIHsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWZJbmRleCA9PSAwKSB7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmSGQgPSB0cnVlOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmSW5kZXggKys7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9UZW1wID0geydmaWxlJzogbWVkaWFVcmwuY29uY2F0KF9mbHZfdXJsKSwgJ2xhYmVsJzogZ2V0RGVmaW5pdGlvbk5hbWUoaGRzW2pdKSwgJ2RlZmF1bHQnOiBkZWZIZH07DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzMS5wdXNoKHZpZGVvVGVtcCk7DQoJICAgICAgICAgICAgICAgICAgICAgICAgfQ0KCSAgICAgICAgICAgICAgICAgICAgfQ0KCSAgICAgICAgICAgICAgICB9DQoJICAgICAgICAgICAgfQ0KCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaGRzLmxlbmd0aDsgaisrKSB7DQoJICAgICAgICAgICAgICAgIGRlZkhkID0gZmFsc2U7DQoJICAgICAgICAgICAgICAgIGlmKGo9PTApew0KCSAgICAgICAgICAgICAgICAgICAgZGVmSGQgPSB0cnVlOw0KCSAgICAgICAgICAgICAgICB9DQoJICAgICAgICAgICAgICAgIHZpZGVvVGVtcCA9IHsnZmlsZSc6IHBhdGgraGRzW2pdK2V4dE5hbWUsICdsYWJlbCc6IGdldERlZmluaXRpb25OYW1lKGhkc1tqXSksICdkZWZhdWx0JzogZGVmSGR9Ow0KCSAgICAgICAgICAgICAgICBmaWxlczIucHVzaCh2aWRlb1RlbXApOw0KCSAgICAgICAgICAgIH0NCgkgICAgICAgIH0gZWxzZSB7DQoJICAgICAgICAgICAgaWYgKCIxIiA9PSBpblNjaG9vbCkgew0KCSAgICAgICAgICAgICAgICBpZiAoY3VycmVudFVybC5sZW5ndGggPiAwICYmIG1lZGlhVXJscy5sZW5ndGggPiAwKSB7DQoJICAgICAgICAgICAgICAgIHZhciBfZmx2X3VybCA9IGdldFRoaXJkcGFydHlVcmwoZmx2X3VybCk7DQoJICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVkaWFVcmxzLmxlbmd0aDsgaSsrKSB7DQoJICAgICAgICAgICAgICAgICAgICBtZWRpYVVybCA9IG1lZGlhVXJsc1tpXSB8fCAiIjsNCgkgICAgICAgICAgICAgICAgICAgICAgICBkZWZIZCA9IGZhbHNlOw0KCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRVcmwgPT0gbWVkaWFVcmwpIHsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmSGQgPSB0cnVlOw0KCSAgICAgICAgICAgICAgICAgICAgfQ0KCSAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvVGVtcCA9IHsnZmlsZSc6IG1lZGlhVXJsLmNvbmNhdChfZmx2X3VybCksICdsYWJlbCc6IGdldERlZmluaXRpb25OYW1lKCksICdkZWZhdWx0JzogZGVmSGR9Ow0KCSAgICAgICAgICAgICAgICAgICAgZmlsZXMxLnB1c2godmlkZW9UZW1wKTsNCgkgICAgICAgICAgICAgICAgfQ0KCSAgICAgICAgICAgIH0NCgkgICAgICAgIH0NCgkgICAgICAgIHZpZGVvVGVtcCA9IHsnZmlsZSc6IGZsdl91cmwsICdsYWJlbCc6IGdldERlZmluaXRpb25OYW1lKCl9Ow0KCSAgICAgICAgZmlsZXMyLnB1c2godmlkZW9UZW1wKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8v5a2X5bmVDQogICAgdmFyIHBhcmFtVHJhY2tzID0gbmV3IEFycmF5KCk7DQogICAgaWYgKG5vZGUubm9kZUV4dHMpIHsNCiAgICAgICAgdmFyIGZpcnN0ID0gMDsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLm5vZGVFeHRzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgZXh0ID0gbm9kZS5ub2RlRXh0c1tpXTsNCiAgICAgICAgICAgIC8vMuS4uuWtl+W5leaWh+S7tg0KICAgICAgICAgICAgaWYgKDIgPT0gZXh0LmV4dFR5cGUpIHsNCiAgICAgICAgICAgICAgICB2YXIgZXh0VXJsID0gZXh0Lm5vZGUucnNVcmw7DQogICAgICAgICAgICAgICAgaWYgKCEgaXNIdHRwVXJsKGV4dFVybCkpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRVcmwubGVuZ3RoID4gMCAmJiBtZWRpYVVybHMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZXh0VXJsID0gY3VycmVudFVybCArIGV4dFVybDsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGV4dFVybCA9IHJlc291cmNlUGF0aCArIGV4dFVybDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB2YXIgc3J0VGVtcCA9IHtmaWxlOiBleHRVcmwsIGtpbmQ6ICJjYXB0aW9ucyIsIGxhYmVsOiBnZXRMYW5ndWFnZU5hbWUoZXh0Lmxhbmd1YWdlQ29kZSl9Ow0KICAgICAgICAgICAgICAgIGlmIChmaXJzdCA9PSAwKSB7Ly/nrKzkuIDkuKrlrZfluZXkuLrpu5jorqQNCiAgICAgICAgICAgICAgICAgICAgc3J0VGVtcCA9IHtmaWxlOiBleHRVcmwsIGtpbmQ6ICJjYXB0aW9ucyIsIGxhYmVsOiBnZXRMYW5ndWFnZU5hbWUoZXh0Lmxhbmd1YWdlQ29kZSksICJkZWZhdWx0IjogdHJ1ZX07DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHBhcmFtVHJhY2tzLnB1c2goc3J0VGVtcCk7DQogICAgICAgICAgICAgICAgZmlyc3QgPSBmaXJzdCArIDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgaWYgKHNob3RzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgcGFyYW1UcmFja3MucHVzaCh7IGZpbGU6IHNob3RzLCBraW5kOiAndGh1bWJuYWlscyd9KTsNCiAgICB9DQoNCiAgICBpZiAoZmlsZXMxLmxlbmd0aCA+IDApIHsNCiAgICAgICAgaWYgKGlzSHR0cFVybChsb2NhbEltYWdlKSkgew0KICAgICAgICAgICAgaWYgKGN1cnJlbnRVcmwubGVuZ3RoID4gMCAmJiBtZWRpYVVybHMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgIHZhciBfbG9jYWxJbWFnZSA9IGdldFRoaXJkcGFydHlVcmwobG9jYWxJbWFnZSk7DQogICAgICAgICAgICAgICAgbG9jYWxJbWFnZSA9IGN1cnJlbnRVcmwgKyBfbG9jYWxJbWFnZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGlmIChjdXJyZW50VXJsLmxlbmd0aCA+IDAgJiYgbWVkaWFVcmxzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICBsb2NhbEltYWdlID0gY3VycmVudFVybCArIGxvY2FsSW1hZ2UNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgbG9jYWxJbWFnZSA9IHJlc291cmNlUGF0aCArIGxvY2FsSW1hZ2U7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcGxheWxpc3QucHVzaCh7dGl0bGU6J+WGhee9kScsaW1hZ2U6IGxvY2FsSW1hZ2Usc291cmNlczogZmlsZXMxLHRyYWNrczogcGFyYW1UcmFja3N9KQ0KICAgIH0NCiAgICBpZiAoc3RvcmVJZCA9PSAwKXsNCiAgICAJaWYgKGZpbGVzMi5sZW5ndGggPiAwKSB7DQoJICAgICAgICBpZiAoISBpc0h0dHBVcmwobG9jYWxJbWFnZSkpIHsNCgkgICAgICAgICAgICBpZiAoY3VycmVudFVybC5sZW5ndGggPiAwICYmIG1lZGlhVXJscy5sZW5ndGggPiAwKSB7DQoJICAgICAgICAgICAgICAgIGxvY2FsSW1hZ2UgPSBjdXJyZW50VXJsICsgbG9jYWxJbWFnZQ0KCSAgICAgICAgICAgIH0gZWxzZSB7DQoJICAgICAgICAgICAgICAgIGxvY2FsSW1hZ2UgPSByZXNvdXJjZVBhdGggKyBsb2NhbEltYWdlOw0KCSAgICAgICAgICAgIH0NCgkgICAgICAgIH0NCgkgICAgICAgIHBsYXlsaXN0LnB1c2goe3RpdGxlOiflhaznvZEnLGltYWdlOiBsb2NhbEltYWdlLHNvdXJjZXM6IGZpbGVzMix0cmFja3M6IHBhcmFtVHJhY2tzfSkNCgkgICAgfQ0KICAgIH0NCg0KICAgIGp3T2JqID0gandwbGF5ZXIoY29udGFpbmVySWQpLnNldHVwKHsNCiAgICAgICAgICAgIGFsbG93c2VlazogZW5hYmxlZERyYWdhYmxlU2xpZGVyLA0KICAgICAgICAgICAgYWxsb3dzb3VyY2U6IHRydWUsDQogICAgICAgICAgICBjb250cm9sczogdHJ1ZSwNCiAgICAgICAgICAgIHByaW1hcnk6IGlzTW9iaWxlID8gImh0bWw1IiA6ICJodG1sNSxmbGFzaCIsDQogICAgICAgICAgICB3aWR0aDogd2lkdGgsDQogICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCwNCiAgICAgICAgICAgIGF1dG9zdGFydDogYXV0b3N0YXJ0LA0KICAgICAgICAgICAgc3RhcnRwYXJhbTogJ3N0YXJ0JywNCiAgICAgICAgICAgIHBsYXlsaXN0OiBwbGF5bGlzdCwNCiAgICAgICAgICAgIHNob3R1cmw6IENPTlRFWFRQQVRIICsgIi92aWV3L3Nob3QubW9vYyIsDQogICAgICAgICAgICBsb2d1cmw6IGxvZ3VybCA/IExvZ2dlci5nZXRMb2dVcmwoY291cnNlT3BlbklkLCBpdGVtSWQsIGl0ZW1UeXBlKSA6ICIiLA0KICAgICAgICAgICAgY2FwdGlvbnM6IHsNCiAgICAgICAgICAgICAgICBiYWNrOiBmYWxzZSwNCiAgICAgICAgICAgICAgICBjb2xvcjogJ2ZmZmZmZicsDQogICAgICAgICAgICAgICAgZm9udHNpemU6IDE2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgc3RhcnR0aW1lOiAoc2Vla1RpbWUgLyAxMDAwKSB8fCAwDQogICAgICAgIH0pLm9uUmVhZHkoZnVuY3Rpb24gKCkgew0KICAgICAgICAJDQogICAgICAgIH0pLm9uUGxheWxpc3RJdGVtKGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGlmICghc3R1ZHlNb2RlKSByZXR1cm47DQogICAgICAgICAgICBqd09iai5zZXRDdWVzKGJhcnJhZ2VMaXN0KTsvL+iuvue9ruaJk+eCuQ0KICAgICAgICB9KS5vblRpbWUoZnVuY3Rpb24gKGV2dCkgew0KICAgICAgICAgICAgaWYgKCFzdHVkeU1vZGUpIHJldHVybjsNCiAgICAgICAgICAgIGlmIChzcnRUZXh0U2hvdyAmJiBzcnRUZXh0U2hvd1RlbXApIHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICBleHRDdXJyZW50KGV2dC5wb3NpdGlvbik7Ly/lrZfluZXmlofmnKzlrprkvY0NCiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhlKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAob25UaW1lQ2FsbGJhY2sgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIG9uVGltZUNhbGxiYWNrKHsvL+Wbnuiwg++8jOabtOaWsOWtpuS5oOiusOW9lQ0KICAgICAgICAgICAgICAgICAgICAicG9zaXRpb24iOiBldnQucG9zaXRpb24NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChwcmV2aWV3RXhhbUNhbGxCYWNrICE9IG51bGwpIHsvL+WxleekuuivleWNt+Wbnuiwgw0KICAgICAgICAgICAgICAgIHZpZXdQYXBlcihiYXJyYWdlTGlzdCwgZXZ0LnBvc2l0aW9uLCBwcmV2aWV3RXhhbUNhbGxCYWNrKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSkub25Db21wbGV0ZShmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBpZiAoIXN0dWR5TW9kZSkgcmV0dXJuOw0KICAgICAgICAgICAgaWYgKG9uQ29tcGxldGVDYWxsYmFjayAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgb25Db21wbGV0ZUNhbGxiYWNrKCk7Ly/mkq3mlL7nu5PmnZ/lm57osIMNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSkub25TaG90RmluaXNoKGZ1bmN0aW9uIChldmVudCkgey8v5oiq5Zu+DQogICAgICAgICAgICBpZiAoIXN0dWR5TW9kZSkgcmV0dXJuOw0KICAgICAgICAgICAgdmFyIGRhdGEgPSBldmVudDsNCiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PSAic3RyaW5nIikgew0KICAgICAgICAgICAgICAgIGRhdGEgPSAkLnBhcnNlSlNPTihkYXRhKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkgew0KICAgICAgICAgICAgICAgICQoIiNzaG90dXJsIikudmFsKGRhdGEucmVzdWx0LnRodW1ibmFpbCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAvLyQuZGlhbG9nLmVycm9yKGRhdGEubXNnIHx8IE1zZy5nZXQoInN0dWR5LmVycm9yLmFnYWluIikpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KS5vbkNhcHRpb25zQ2hhbmdlKGZ1bmN0aW9uIChlKSB7DQogICAgICAgICAgICBpZiAoIXN0dWR5TW9kZSkgcmV0dXJuOw0KICAgICAgICAgICAgLy/liIfmjaLlrZfluZUNCiAgICAgICAgICAgIGlmIChzcnRUZXh0U2hvdykgew0KICAgICAgICAgICAgICAgIGlmIChlLnRyYWNrc1tlLnRyYWNrXS5kYXRhKSB7Ly9lLnRyYWNr5Li65a2X5bmV57Si5byV77yM5Y2z5b2T5YmN5a2X5bmV5Zyo5a2X5bmV5YiX6KGo5Lit55qE57Si5byVLDDkuLpvZmYNCiAgICAgICAgICAgICAgICAgICAgc3J0VGV4dFNob3dUZW1wID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgJCgiLnZpZGVvLXBsYXkiKS5yZW1vdmVDbGFzcygidmlkZW8tcGxheS10ZW1wIik7DQogICAgICAgICAgICAgICAgICAgICQoIi5wcmV2aWV3LXByYWN0aWNlIikucmVtb3ZlQ2xhc3MoInByZXZpZXctcHJhY3RpY2UtdGVtcCIpOw0KICAgICAgICAgICAgICAgICAgICBqd09iai5yZXNpemUoNjQwLCAzNjApOw0KICAgICAgICAgICAgICAgICAgICAkKCIudmlkZW8tc3VidGl0bGUiKS5zaG93KCk7DQogICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gbG9hZFNydERpdihlLnRyYWNrc1tlLnRyYWNrXS5kYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGpzUGFuZSA9ICQoJy53c2Nyb2xsLXBhbmUnKS5kYXRhKCdqc3AnKTsNCiAgICAgICAgICAgICAgICAgICAganNQYW5lLmdldENvbnRlbnRQYW5lKCkuaHRtbCh0ZXh0KTsNCg0KICAgICAgICAgICAgICAgICAgICBqc1BhbmUucmVpbml0aWFsaXNlKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2Ugey8v5rKh5pyJ5a2X5bmV5oiW5a2X5bmV5Yqg6L295aSx6LSlDQogICAgICAgICAgICAgICAgICAgIHNydFRleHRTaG93VGVtcCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAkKCIudmlkZW8tcGxheSIpLmFkZENsYXNzKCJ2aWRlby1wbGF5LXRlbXAiKTsNCiAgICAgICAgICAgICAgICAgICAgJCgiLnByZXZpZXctcHJhY3RpY2UiKS5hZGRDbGFzcygicHJldmlldy1wcmFjdGljZS10ZW1wIik7DQogICAgICAgICAgICAgICAgICAgICQoIi52aWRlby1zdWJ0aXRsZSIpLmhpZGUoKTsNCiAgICAgICAgICAgICAgICAgICAgandPYmoucmVzaXplKDkwMCwgOTAwICogOSAvIDE2KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pLm9uSGVhcnQoZnVuY3Rpb24gKGV2dCkgew0KICAgICAgICAgICAgaWYgKCFzdHVkeU1vZGUpIHJldHVybjsNCiAgICAgICAgICAgIExvZ2dlci5oZWFydChldnQpOw0KICAgICAgICB9KTsNCn0NCg0KLy/liqDovb3lrZfluZXmlofmnKzljLrln58NCmZ1bmN0aW9uIGxvYWRTcnREaXYoc3J0VGV4dCkgew0KICAgIHZhciBkaXYgPSAiIjsNCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNydFRleHQubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgZGl2ICs9ICc8cCBjbGFzcz0idi10ZXh0IicgKyAnIGJlZ2luPSInICsgc3J0VGV4dFtpXS5iZWdpbiArICciPicgKyBzcnRUZXh0W2ldLnRleHQucmVwbGFjZSgvXD4vZywgIiZndDsiKS5yZXBsYWNlKC9cPC9nLCAiJmx0OyIpLnJlcGxhY2UoL1wiL2csICImcXVvdDsiKS5yZXBsYWNlKC9cJmx0O2JyW1wvXT9cJmd0Oy9naSwgIjxicj4iKSArICc8L3A+JzsNCiAgICB9DQogICAgcmV0dXJuIGRpdjsNCn0NCnZhciBzcnRDdXJyZW50UG9zID0gLTE7DQoNCi8v5a2X5bmV5paH5pys5Yy65Z+f6Ieq5Yqo6Lef6ZqPDQpmdW5jdGlvbiBleHRDdXJyZW50KHBvc2l0aW9uKSB7DQogICAgdmFyIGxpbmVzID0gJCgiI3NydFRleHQiKS5maW5kKCJwIik7DQogICAgdmFyIGxpbmVDb3VudCA9IGxpbmVzLmxlbmd0aDsNCiAgICB2YXIgY3VyckxpbmUsIHBvcywgdG9wLCBsaW5lVG9wLCBtaWQ7DQogICAgdmFyIGxpbmVIZWlnaHQ7DQogICAgdmFyIGNvbnRhaW5lckhlaWdodCA9ICQoIiNzcnRUZXh0IC5qc3BDb250YWluZXIiKS5oZWlnaHQoKTsNCg0KICAgIHZhciBqc1BhbmUgPSAkKCcud3Njcm9sbC1wYW5lJykuZGF0YSgnanNwJyk7DQogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lQ291bnQ7IGkrKykgew0KICAgICAgICBjdXJyTGluZSA9ICQobGluZXNbaV0pOw0KICAgICAgICBwb3MgPSBwYXJzZUZsb2F0KGN1cnJMaW5lLmF0dHIoImJlZ2luIikpOw0KICAgICAgICBpZiAocG9zIDw9IHBvc2l0aW9uICYmIGkgPCBsaW5lQ291bnQgLSAxICYmICQobGluZXNbaSArIDFdKS5hdHRyKCJiZWdpbiIpID4gcG9zaXRpb24gfHwNCiAgICAgICAgICAgIGkgPT0gbGluZUNvdW50IC0gMSAmJiBwb3MgPD0gcG9zaXRpb24pIHsNCiAgICAgICAgICAgIGlmIChwb3MgPT0gc3J0Q3VycmVudFBvcykgcmV0dXJuOw0KICAgICAgICAgICAgc3J0Q3VycmVudFBvcyA9IHBvczsNCiAgICAgICAgICAgIGxpbmVzLnJlbW92ZUNsYXNzKCJjdXJyZW50Iik7DQogICAgICAgICAgICBjdXJyTGluZS5hZGRDbGFzcygiY3VycmVudCIpOw0KICAgICAgICAgICAgbGluZUhlaWdodCA9IGxpbmVzW2ldLm9mZnNldEhlaWdodDsNCiAgICAgICAgICAgIGxpbmVUb3AgPSBsaW5lc1tpXS5vZmZzZXRUb3A7DQogICAgICAgICAgICBtaWQgPSAoY29udGFpbmVySGVpZ2h0IC0gbGluZUhlaWdodCkgLyAyOw0KICAgICAgICAgICAgdG9wID0gcGFyc2VGbG9hdCgkKCIjc3J0VGV4dCAuanNwUGFuZSIpLmNzcygidG9wIikpOw0KICAgICAgICAgICAgdG9wID0gdG9wIHx8IDA7DQoNCiAgICAgICAgICAgIGlmIChpc1Njcm9sbCkgew0KICAgICAgICAgICAgICAgIGlmIChsaW5lVG9wIDwgbWlkKSB7DQogICAgICAgICAgICAgICAgICAgIGpzUGFuZS5zY3JvbGxUbygwLCAwKTsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmVUb3AgPiBsaW5lc1tpXS5vZmZzZXRQYXJlbnQub2Zmc2V0SGVpZ2h0IC0gY29udGFpbmVySGVpZ2h0KSB7DQogICAgICAgICAgICAgICAgICAgIGpzUGFuZS5zY3JvbGxUbygwLCBsaW5lc1tpXS5vZmZzZXRQYXJlbnQub2Zmc2V0SGVpZ2h0IC0gY29udGFpbmVySGVpZ2h0KTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBqc1BhbmUuc2Nyb2xsVG8oMCwgbGluZVRvcCAtIG1pZCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgfQ0KICAgIGxpbmVzLmxhc3QoKS5hZGRDbGFzcygiY3VycmVudCIpOw0KfQ0KDQovL+W8ueWHuuivleWNtw0KZnVuY3Rpb24gdmlld1BhcGVyKGJhcnJhZ2VMaXN0LCBwb3NpdGlvbiwgcHJldmlld0V4YW1DYWxsQmFjaykgew0KICAgIGlmIChiYXJyYWdlTGlzdCAhPSBudWxsKSB7DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmFycmFnZUxpc3QubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIHZhciBiYXJyYWdlID0gYmFycmFnZUxpc3RbaV07DQogICAgICAgICAgICBpZiAocG9zaXRpb24gPCBiYXJyYWdlLmJlZ2luIC0gMSB8fCBwb3NpdGlvbiA+IGJhcnJhZ2UuYmVnaW4gKyAxKSB7DQogICAgICAgICAgICAgICAgYmFycmFnZS5wb3B1cGVkID0gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoYmFycmFnZS50eXBlID09IDIgJiYgYmFycmFnZS50ZXN0UGFwZXJJZCAhPSBudWxsICYmIGJhcnJhZ2UudGVzdFBhcGVySWQgPiAwKSB7DQogICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KGJhcnJhZ2UuYmVnaW4pID09IHBhcnNlSW50KHBvc2l0aW9uKSAmJiAhYmFycmFnZS5wb3B1cGVkKSB7DQogICAgICAgICAgICAgICAgICAgIGJhcnJhZ2UucG9wdXBlZCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIC8v5Zue6LCDDQogICAgICAgICAgICAgICAgICAgIHByZXZpZXdFeGFtQ2FsbEJhY2soYmFycmFnZS5iYXJyYWdlSWQsIGJhcnJhZ2UudHlwZSwgYmFycmFnZS5iZWdpbiwgYmFycmFnZS50ZXN0UGFwZXJJZCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQp9DQoNCi8qZnVuY3Rpb24gaW5pdFZpZGVvUHJldmlldyhjb250YWluZXJJZCwgbm9kZUlkLCB3aWR0aCwgaGVpZ2h0KSB7DQogICAgJC5hamF4KHsNCiAgICAgICAgdHlwZTogInBvc3QiLA0KICAgICAgICB1cmw6IENPTlRFWFRQQVRIICsgIi9pdGVtL2RldGFpbC5tb29jIiwNCiAgICAgICAgZGF0YTogew0KICAgICAgICAgICAgbm9kZUlkOiBub2RlSWQsDQogICAgICAgICAgICBpdGVtSWQ6ICIiDQogICAgICAgIH0sDQogICAgICAgIGRhdGFUeXBlOiAianNvbiIsDQogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgew0KICAgICAgICAgICAgaW5pdFByZXZpZXdQbGF5KGNvbnRhaW5lcklkLCByZXNwb25zZS5ub2RlLnRodW1ibmFpbHNQYXRoLCByZXNwb25zZS5ub2RlLmZsdlVybCwgd2lkdGgsIGhlaWdodCwgcmVzcG9uc2UucGF0aCk7DQogICAgICAgIH0sDQogICAgICAgIGVycm9yOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAvLyQuZGlhbG9nLnRpcHMoIuiOt+WPluinhumikei1hOa6kOW8guW4uO+8gSIpOw0KICAgICAgICB9DQogICAgfSk7DQp9Ki8NCg0KZnVuY3Rpb24gaW5pdFByZXZpZXdQbGF5KGNvbnRhaW5lcklkLCBsb2NhbEltYWdlLCBmbHZfdXJsLCBkZWZhdWx0V2lkdGgsIGRlZmF1bHRIZWlnaHQsIHJlc291cmNlUGF0aCwgYXV0bywgc3BvY01lZGlhSG9zdCwgbmV0d29ya0luU2Nob29sKSB7DQogICAgdmFyIGlzTW9iaWxlID0gandwbGF5ZXIudXRpbHMuaXNNb2JpbGUoKTsNCiAgICB2YXIgaXNJRTggPSBqd3BsYXllci51dGlscy5pc0lFVHJpZGVudCg4KTsNCiAgICBzcG9jTWVkaWFIb3N0ID0gc3BvY01lZGlhSG9zdCB8fCAiIjsNCiAgICB2YXIgaW5TY2hvb2wgPSBuZXR3b3JrSW5TY2hvb2wgfHwgIjAiOw0KDQogICAgaWYgKGZsdl91cmwuaW5kZXhPZigiaHR0cDoiKSA8IDApIHsNCiAgICAgICAgaWYgKCIxIiA9PSBpblNjaG9vbCAmJiBzcG9jTWVkaWFIb3N0Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIGZsdl91cmwgPSBzcG9jTWVkaWFIb3N0ICsgZmx2X3VybDsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGZsdl91cmwgPSByZXNvdXJjZVBhdGggKyBmbHZfdXJsOw0KICAgICAgICB9DQogICAgfSBlbHNlew0KICAgICAgICBpZiAoKGlzTW9iaWxlIHx8ICEgaXNJRTgpICYmIGZsdl91cmwuaW5kZXhPZigiLmNodWFua2UuY29tIikgPiAwICYmIGZsdl91cmwuaW5kZXhPZigiLmZsdiIpID4gMCkgew0KICAgICAgICAgICAgZmx2X3VybCA9IGZsdl91cmwucmVwbGFjZSgiLmVuYy5mbHYiLCAiLmZsdiIpOw0KICAgICAgICAgICAgZmx2X3VybCA9IGZsdl91cmwucmVwbGFjZSgiLmZsdiIsICIubXA0Iik7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoIjEiID09IGluU2Nob29sICYmIHNwb2NNZWRpYUhvc3QubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgZmx2X3VybCA9IHNwb2NNZWRpYUhvc3QgKyBnZXRUaGlyZHBhcnR5VXJsKGZsdl91cmwpOw0KICAgICAgICB9DQogICAgfQ0KICAgIGlmIChsb2NhbEltYWdlLmluZGV4T2YoImh0dHA6IikgPCAwKSB7DQogICAgICAgIGlmICgiMSIgPT0gaW5TY2hvb2wgJiYgc3BvY01lZGlhSG9zdC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICBsb2NhbEltYWdlID0gc3BvY01lZGlhSG9zdCArIGxvY2FsSW1hZ2U7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBsb2NhbEltYWdlID0gcmVzb3VyY2VQYXRoICsgbG9jYWxJbWFnZTsNCiAgICAgICAgfQ0KICAgIH1lbHNlIHsNCiAgICAgICAgaWYgKCIxIiA9PSBpblNjaG9vbCAmJiBzcG9jTWVkaWFIb3N0Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIGxvY2FsSW1hZ2UgPSBzcG9jTWVkaWFIb3N0ICsgZ2V0VGhpcmRwYXJ0eVVybChsb2NhbEltYWdlKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8v5pKt5pS+5Zmo5bC65a+4DQogICAgdmFyIHdpZHRoID0gNjQwOw0KICAgIHZhciBoZWlnaHQgPSAzNjA7DQogICAgLy/mmK/lkKblj6/mi5bmi70NCiAgICB2YXIgZW5hYmxlZERyYWdhYmxlU2xpZGVyID0gdHJ1ZTsNCg0KICAgIHZhciBmaWxlcyA9IG5ldyBBcnJheSgpOw0KICAgIHZhciB0ZW1wID0geydmaWxlJzogZmx2X3VybCwgJ2xhYmVsJzogJ+mihOiniCd9Ow0KICAgIGZpbGVzLnB1c2godGVtcCk7DQoNCiAgICBpZiAoZGVmYXVsdFdpZHRoICE9IG51bGwgJiYgZGVmYXVsdEhlaWdodCAhPSBudWxsKSB7DQogICAgICAgIHdpZHRoID0gZGVmYXVsdFdpZHRoOw0KICAgICAgICBoZWlnaHQgPSBkZWZhdWx0SGVpZ2h0Ow0KICAgIH0NCg0KICAgIGF1dG8gPSB0eXBlb2YoYXV0bykgPT0gInVuZGVmaW5lZCIgPyB0cnVlIDogYXV0bzsNCg0KICAgIGp3T2JqID0gandwbGF5ZXIoY29udGFpbmVySWQpLnNldHVwKHsNCiAgICAgICAgICAgIGNvbnRyb2xzOiB0cnVlLA0KICAgICAgICAgICAgYWxsb3dzZWVrOiB0cnVlLA0KICAgICAgICAgICAgcHJpbWFyeTogaXNNb2JpbGUgPyAiaHRtbDUiIDogImh0bWw1LGZsYXNoIiwNCiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCwNCiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LA0KICAgICAgICAgICAgYXV0b3N0YXJ0OiBhdXRvLA0KICAgICAgICAgICAgc3RhcnRwYXJhbTogJ3N0YXJ0JywNCiAgICAgICAgICAgIGltYWdlOiBsb2NhbEltYWdlLA0KICAgICAgICAgICAgc291cmNlczogZmlsZXMNCiAgICAgICAgfSkub25SZWFkeShmdW5jdGlvbiAoKSB7DQoNCiAgICAgICAgfSkub25UaW1lKGZ1bmN0aW9uICgpIHsNCg0KICAgICAgICB9KS5vbkNvbXBsZXRlKGZ1bmN0aW9uICgpIHsNCg0KICAgICAgICB9KS5vblNob3RGaW5pc2goZnVuY3Rpb24gKGV2ZW50KSB7DQoNCiAgICAgICAgfSk7DQp9DQoNCnZhciBSRUFERVIgPSB7aW5pdDogZnVuY3Rpb24gKGNvbnRhaW5lcklkLCBvcHRpb25zKSB7DQogICAgdmFyIHdpZHRoID0gODAwOw0KICAgIHZhciBoZWlnaHQgPSA2MDA7DQogICAgdmFyIGRvY2lkID0gb3B0aW9ucy5kb2NpZDsNCiAgICB2YXIgcGFnZW5vdyA9IG9wdGlvbnMucGFnZW5vdzsNCg0KICAgIHZhciBjYWxsYmFja3VybCA9IG9wdGlvbnMuY2FsbGJhY2s7DQogICAgaWYgKG9wdGlvbnMud2lkdGgpIHdpZHRoID0gb3B0aW9ucy53aWR0aDsNCiAgICBpZiAob3B0aW9ucy5oZWlnaHQpIGhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0Ow0KICAgIHZhciBpdGVtSWQgPSBvcHRpb25zLml0ZW1JZDsNCiAgICB2YXIgaXRlbVR5cGUgPSBvcHRpb25zLml0ZW1UeXBlOw0KICAgIHZhciBjb3Vyc2VPcGVuSWQgPSBvcHRpb25zLmNvdXJzZU9wZW5JZA0KICAgIHZhciBsb2d1cmwgPSBvcHRpb25zLmxvZ3VybDsNCiAgICB2YXIgZmluaXNoVXJsID0gb3B0aW9ucy5maW5pc2hVcmw7DQogICAgdmFyIGVuZHBhZ2UgPSBvcHRpb25zLmVuZHBhZ2U7DQogICAgdmFyIHN0dWR5TW9kZSA9IG9wdGlvbnMuc3R1ZHlNb2RlIHx8IGZhbHNlOw0KICAgIHZhciBtZWRpYVVybHMgPSBvcHRpb25zWydtZWRpYVVybHMnXSB8fCBbXTsNCiAgICB2YXIgaW5TY2hvb2wgPSBvcHRpb25zWydpblNjaG9vbCddIHx8ICIwIjsNCiAgICB2YXIgZG9jVXJsID0gIi92aWV3L2RvYyI7DQogICAgdmFyIF9kb2NVcmwgPSBDT05URVhUUEFUSCArIGRvY1VybCArICIubW9vYyI7DQogICAgaWYgKCIxIiA9PSBpblNjaG9vbCkgew0KICAgICAgICBpZiAobWVkaWFVcmxzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIF9kb2NVcmwgPSBtZWRpYVVybHNbMF0gKyBkb2NVcmwgKyAiLnNwb2MiOw0KICAgICAgICB9DQogICAgfQ0KICAgIHZhciBzbGlkZVNob3cgPSBvcHRpb25zLnNsaWRlU2hvdyB8fCBmYWxzZTsNCg0KICAgIFJFQURFUi5pbnN0YW5jZSA9ICQoIiMiICsgY29udGFpbmVySWQpLnJlYWRlcih7DQogICAgICAgIHdpZHRoOiB3aWR0aCwNCiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsDQogICAgICAgIGlkOiAncmVhZGVyJywNCiAgICAgICAgZG9jdXJsOiBfZG9jVXJsLA0KICAgICAgICBkb2NpZDogZG9jaWQsDQogICAgICAgIGNhbGxiYWNrdXJsOiBjYWxsYmFja3VybCwNCiAgICAgICAgLy9leHRwYXJhbXM6ICcnLA0KICAgICAgICBwYWdlbm86IHBhZ2Vub3csDQogICAgICAgIGVuZHBhZ2U6IGVuZHBhZ2UsDQogICAgICAgIHNsaWRlc2hvdzpzbGlkZVNob3csDQogICAgICAgIHNob3R1cmw6IENPTlRFWFRQQVRIICsgJy92aWV3L3Nob3QubW9vYycsDQogICAgICAgIGxvZ3VybDogbG9ndXJsID8gTG9nZ2VyLmdldExvZ1VybChjb3Vyc2VPcGVuSWQsIGl0ZW1JZCwgaXRlbVR5cGUpIDogIiIsDQogICAgICAgIHBhZ2VDaGFuZ2U6IHN0dWR5TW9kZSA/IGZ1bmN0aW9uIChwYWdlbm8sIGRvY2lkLCBleHRwYXJhbXMsIHRvdGFscGFnZSkgew0KICAgICAgICAgICAgJCgiI2N1cnJlbnRQYWdlIikudmFsKHBhZ2Vubyk7DQogICAgICAgIH0gOiBudWxsLA0KICAgICAgICBzaG90RmluaXNoOiBmdW5jdGlvbiAoZG9jaWQsIGRhdGEpIHsNCiAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkgew0KICAgICAgICAgICAgICAgICQoIiNzaG90dXJsIikudmFsKGRhdGEucmVzdWx0LnRodW1ibmFpbCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAvLyQuZGlhbG9nLmVycm9yKGRhdGEubXNnIHx8IE1zZy5nZXQoInN0dWR5LmVycm9yLmFnYWluIikpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBmaW5pc2g6IHN0dWR5TW9kZSA/IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGlmICgkKCIjbWVkaWFwbGF5ZXJfd3JhcHBlciIpLmxlbmd0aD09MCl7DQogICAgICAgICAgICAJJCgiI21lZGlhcGxheWVyIikuYWRkQ2xhc3MoInBsYXktb3ZlciIpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIAkkKCIjbWVkaWFwbGF5ZXJfd3JhcHBlciIpLmFkZENsYXNzKCJwbGF5LW92ZXIiKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vJCgiI21lZGlhcGxheWVyX3dyYXBwZXIiKS5oaWRlKCk7DQogICAgICAgICAgICAkKCIjcGxheU92ZXIiKS5zaG93KCk7DQogICAgICAgICAgICBpZiAoZmluaXNoVXJsICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAkLmFqYXgoew0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZ2V0IiwNCiAgICAgICAgICAgICAgICAgICAgdXJsOiBmaW5pc2hVcmwsDQogICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIsDQogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IDogbnVsbCwNCiAgICAgICAgaGVhcnQ6IHN0dWR5TW9kZSA/IGZ1bmN0aW9uIChkb2NJZCwgZGF0YSkgew0KICAgICAgICAgICAgTG9nZ2VyLmhlYXJ0KGRhdGEpOw0KICAgICAgICB9IDogbnVsbA0KICAgIH0pDQp9DQp9DQoNCmZ1bmN0aW9uIGlzU2xpZGVTaG93KGZpbGUpIHsNCiAgICB2YXIgZmlsZVVybCA9IGZpbGU7DQogICAgdmFyIGV4dE5hbWUgPSAiIjsNCiAgICB2YXIgZG90SW5kZXggPSBmaWxlVXJsLmxhc3RJbmRleE9mKCIuIik7DQogICAgaWYgKGRvdEluZGV4ID4gMCkgZXh0TmFtZSA9IGZpbGVVcmwuc3Vic3RyKGRvdEluZGV4KS50b0xvd2VyQ2FzZSgpOw0KDQogICAgcmV0dXJuIGV4dE5hbWUgPT0gIi5wcHR4IiB8fCBleHROYW1lID09ICIucHB0IjsNCn0NCg==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="161491578" offset="0" length="426" />
        <PacketInfo time="161491593" offset="426" length="26020" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>